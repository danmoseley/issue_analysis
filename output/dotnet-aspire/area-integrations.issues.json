[
    {
        "url":  "https://github.com/dotnet/aspire/issues/190",
        "createdAt":  "2023-09-21T21:21:16Z",
        "number":  190,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:04:06Z",
        "body":  "When component packages provide JSON schema, they should ensure they\u0027re providing a meaningful description for every node in the configuration schema, so that a good UX is provided to users in the JSON editor. For example, if all Aspire contribute schema under a root `\"Aspire\"` node, e.g. `\"Aspire\": { \"Caching\": { \"Redis\": ...`, they should all be defining the `\"Aspire\"` node with the same description. The tooling will simply take the last description it found for a node based on all the schema parts contributed by packages, so ensuring they\u0027re all aligned will provide a consistent UX.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOeS-pMw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc51JTeN",
                                           "createdAt":  "2024-02-26T22:00:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@DamianEdwards - do you think this is necessary for 8.0?\n\nWith the generator, the starting path is provided in the assembly level attribute:\n\nhttps://github.com/dotnet/aspire/blob/fc1dd495456cea3c1b0cf583c05fd18e3052a3f2/src/Components/Aspire.StackExchange.Redis/AssemblyInfo.cs#L8-L9\n\nWe can have a set of common descriptions and pass them in here. I\u0027m just not sure how much value this will provide. The only thing missing today is the top few namespaces `Aspire` and `StackExchange` in the case above. The `Redis` section has description:\n\nhttps://github.com/dotnet/aspire/blob/fc1dd495456cea3c1b0cf583c05fd18e3052a3f2/src/Components/Aspire.StackExchange.Redis/ConfigurationSchema.json#L181\n\n![Image](https://github.com/dotnet/aspire/assets/8291187/0a397d15-2209-4579-88e1-9e54f1b1712f)\n\n",
                                           "updatedAt":  "2024-02-26T22:00:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51bi_V",
                                           "createdAt":  "2024-02-29T00:21:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Could we do it by having multiple schema files in the packages, split by \"level\"? So we can have a central schema file defined for the \"Aspire\" node, which is configured into all our packages by our tool/build process, and if desired we can do so for intermediate levels.",
                                           "updatedAt":  "2024-02-29T00:21:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55L6kz",
                                           "createdAt":  "2024-04-02T21:51:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODcybfg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2024-04-03T04:08:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "This doesn\u0027t seem like a ship-stopping issue. Moving to `8.1`.",
                                           "updatedAt":  "2024-04-02T21:51:10Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Ensure JSON schema files in Aspire component packages provide a description for all declared nodes",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/431",
        "createdAt":  "2023-10-20T22:52:27Z",
        "number":  431,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:04:03Z",
        "body":  "Today we expose a ServiceBus API for registering the `ServiceBusClient` in DI. But not one for registering the `ServiceBusAdministrationClient`. We should add an extension method for registering the admin client as well.\r\n\r\n```diff\r\nnamespace Microsoft.Extensions.Hosting;\r\n\r\npublic static class AspireServiceBusExtensions\r\n{\r\n+    public static void AddAzureServiceBusAdministrationClient(\r\n+        this IHostApplicationBuilder builder,\r\n+        string connectionName,\r\n+        Action\u003cAzureMessagingServiceBusSettings\u003e? configureSettings = null,\r\n+        Action\u003cIAzureClientBuilder\u003cServiceBusAdministrationClient, ServiceBusAdministrationClientOptions\u003e\u003e? configureClientBuilder = null)\r\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOgHJY7Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5yCsl2",
                                           "createdAt":  "2024-01-27T19:50:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Do we still want to do this? It\u0027s required for eShop.\r\n\r\ncc @BrennanConroy ",
                                           "updatedAt":  "2024-01-27T19:50:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yJ-Jh",
                                           "createdAt":  "2024-01-29T17:23:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "In my opinion, this isn\u0027t a \"must have\". Users can easily do this themselves, like we do in eshop:\r\n\r\nhttps://github.com/Azure-Samples/eShopOnAzure/blob/75105b61c3145e3752ac402349c5927b62437ee9/src/EventBusServiceBus/ServiceBusDependencyInjectionExtensions.cs#L34-L49",
                                           "updatedAt":  "2024-01-29T17:23:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Abl-y",
                                           "createdAt":  "2024-06-07T12:16:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "NWessel",
                                           "body":  "This didn\u0027t make it into 8.0 i guess?",
                                           "updatedAt":  "2024-06-07T12:16:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Acljt",
                                           "createdAt":  "2024-06-07T14:35:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "No, this was deprioritized.",
                                           "updatedAt":  "2024-06-07T14:35:22Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Add Service Bus Administration Client API",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/562",
        "createdAt":  "2023-10-28T17:36:48Z",
        "number":  562,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:04:02Z",
        "body":  "Once we have a build of RabbitMQ.Client with https://github.com/rabbitmq/rabbitmq-dotnet-client/pull/1261, we will need to enable and document the \"RabbitMQ.Client\" ActivitySource for our component.\r\n\r\nOne thing to note is that we added our own ActivitySource for the connection retries we do:\r\n\r\nhttps://github.com/dotnet/aspire/blob/4032b57cf197184214362a8cc6b829c3b557821c/src/Components/Aspire.RabbitMQ.Client/AspireRabbitMQExtensions.cs#L23-L24\r\n\r\nWe should think about how to rectify the 2 activity sources in the future. One possibility is that once https://github.com/open-telemetry/semantic-conventions/issues/454 is completed, we might not need our own ActivitySource for tracing the connection tries.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOjHFRiQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5yCsRb",
                                           "createdAt":  "2024-01-27T19:45:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Moving into preview milestone @eerhardt ",
                                           "updatedAt":  "2024-01-27T19:45:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51JT2-",
                                           "createdAt":  "2024-02-26T22:01:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Moving to backlog, as RabbitMQ doesn\u0027t have a stable v7 package yet. We can do this when we update for the v7 version.",
                                           "updatedAt":  "2024-02-26T22:01:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRMkr",
                                           "createdAt":  "2024-09-08T04:23:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Is there a new package yet?",
                                           "updatedAt":  "2024-09-08T04:23:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LSQuz",
                                           "createdAt":  "2024-09-08T20:50:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Is there a new package yet?\r\n\r\nhttps://www.nuget.org/packages/RabbitMQ.Client/\r\n\r\nLatest version is 7.0.0-rc.9",
                                           "updatedAt":  "2024-09-08T20:50:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MBAO1",
                                           "createdAt":  "2024-09-13T14:18:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mr-nuno",
                                           "body":  "Trying to get tracing from the `Aspire.RabbitMQ.Client` but without luck. Is this not supported with the `6.8.1` version of the `RabbitMQ.Client` or am I doing something wrong....as usual :-)",
                                           "updatedAt":  "2024-09-13T14:18:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6McVGJ",
                                           "createdAt":  "2024-09-17T15:25:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODyzIhA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "mr-nuno",
                                                                               "createdAt":  "2024-09-19T07:05:31Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Is this not supported with the 6.8.1 version of the RabbitMQ.Client or am I doing something wrong....as usual :-)\r\n\r\nIt is not supported in the v6.x versions of RabbitMQ.Client. It was implemented in https://github.com/rabbitmq/rabbitmq-dotnet-client/pull/1261, which was merged into the v7 branch. v7 hasn\u0027t released stable yet.",
                                           "updatedAt":  "2024-09-17T15:25:39Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Enable Tracing for RabbitMQ Component when we move to their v7",
        "labels":  [
                       "area-integrations",
                       "external",
                       "blocked",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/583",
        "createdAt":  "2023-10-30T20:43:46Z",
        "number":  583,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-30T21:42:53Z",
        "body":  "RabbitMQ\u0027s current version is `6.6.0`, which doesn\u0027t have any meters/event counters.\r\n\r\nHowever, they have an alpha `7.0` version out, which does have event counters - see https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/a0321c6c2203cedeacdd5c1ec5bcdc924e85a842/projects/RabbitMQ.Client/client/logging/RabbitMqClientEventSource.Counters.cs#L51-L58.\r\n\r\nWhen we have a RabbitMQ component that depends on v7, we should enable Metrics via these EventCounters.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnIBdoQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5ruKlC",
                                           "createdAt":  "2023-11-12T22:33:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danmoseley",
                                           "body":  "For future ref their commit was https://github.com/rabbitmq/rabbitmq-dotnet-client/commit/6e6ab3e1398ea33ea9948c5f023e87f85b85d70e and indeed it\u0027s only in v7+.\r\n\r\nLooks like they\u0027re pretty early in their v7 so it will be a question of whether it\u0027s stable in time for us to ship with it.",
                                           "updatedAt":  "2023-11-12T22:33:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yCsY1",
                                           "createdAt":  "2024-01-27T19:47:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@eerhardt backlog or will we get this in preview?",
                                           "updatedAt":  "2024-01-27T19:47:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yJeVd",
                                           "createdAt":  "2024-01-29T16:34:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e @eerhardt backlog or will we get this in preview?\r\n\r\nI don\u0027t expect RabbitMQ v7 to be released before Aspire\u0027s 8.0 release. (But would be pleasantly surprised.)",
                                           "updatedAt":  "2024-01-29T16:34:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ba8GD",
                                           "createdAt":  "2025-01-22T15:19:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "We have support for RabbitMQ v7 now with #6770.\n\nHowever, an issue is that we don\u0027t/can\u0027t use the `OpenTelemetry.Instrumentation.EventCounters` nuget package to pull EventCounters into OTel Metrics. See #2819 - `OpenTelemetry.Instrumentation.EventCounters` does not ship a \"stable\" version, which means our client integration library can\u0027t depend on the package (or else it can\u0027t be \"stable\").\n\nOptions we have to move forward here:\n\n1. Push for RabbitMQ.Client to use `System.Diagnostics.Metrics.Meter` instead of (or in addition to) EventCounters.\n2. \"Vendor\"/copy in the source code for `OpenTelemetry.Instrumentation.EventCounters` like we do for other opentelemetry-dotnet-contrib libraries.\n3. Don\u0027t add the metrics for now and wait for `OpenTelemetry.Instrumentation.EventCounters` to go stable.\n\ncc @samsp-msft @noahfalk ",
                                           "updatedAt":  "2025-01-22T15:19:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bbkvI",
                                           "createdAt":  "2025-01-22T16:24:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "Sounds good. Any of those are fine with me so I\u0027ll leave it up to you / @samsp-msft / @noahfalk to make a call on this one",
                                           "updatedAt":  "2025-01-22T16:24:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bsoB8",
                                           "createdAt":  "2025-01-24T10:17:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "noahfalk",
                                           "body":  "I think the ideal option is moving to Meters (option 1). The Meter API is our default recommendation for anything new as it is more flexible, more powerful, and aligned with OpenTelemetry, a growing industry standard. (https://learn.microsoft.com/en-us/dotnet/core/diagnostics/compare-metric-apis)\n\nIf for whatever reason Meters is off the table then we could weigh the pros and cons of (2), (3), or add option (4) do nothing. I don\u0027t know if OTel is seeing enough demand that their EventCounters instrumentation will ever get promoted to stable. EventCounters are more like a back-compat bridge and demand is probably going down over time rather than up at this point.",
                                           "updatedAt":  "2025-01-24T10:17:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bvEMt",
                                           "createdAt":  "2025-01-24T15:32:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "It looks like there are a few discussions in the RabbitMQ repo regarding using Meters.\n\n* https://github.com/rabbitmq/rabbitmq-dotnet-client/discussions/1733\n* https://github.com/rabbitmq/rabbitmq-dotnet-client/discussions/1459\n\n@stebet - I see you\u0027ve been heavily involved in adding OTel support for the RabbitMQ.Client library. Any thoughts on what should be done here? Do you think it is feasible to get RabbitMQ.Client to start using Meters (either instead of or in addition to) the existing EventCounters?",
                                           "updatedAt":  "2025-01-24T15:32:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cgF2h",
                                           "createdAt":  "2025-01-30T21:42:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEEqrHA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2025-01-30T21:49:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "stebet",
                                           "body":  "\u003e [@stebet](https://github.com/stebet) - I see you\u0027ve been heavily involved in adding OTel support for the RabbitMQ.Client library. Any thoughts on what should be done here? Do you think it is feasible to get RabbitMQ.Client to start using Meters (either instead of or in addition to) the existing EventCounters?\n\nCertainly :) I\u0027ll take a look at it soon.",
                                           "updatedAt":  "2025-01-30T21:42:52Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Enable Metrics for RabbitMQ Component",
        "labels":  [
                       "area-integrations",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/666",
        "createdAt":  "2023-11-02T19:28:53Z",
        "number":  666,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:04:00Z",
        "body":  "CosmosDB doesn\u0027t log to ILogger by default. We need to enable it. See https://learn.microsoft.com/azure/cosmos-db/nosql/sdk-observability?tabs=dotnet for how to use the `AzureEventSourceLogForwarder` to forward its logs to an ILogger.\r\n\r\ncc @Pilchie ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOewhoqA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5yCuQd",
                                           "createdAt":  "2024-01-27T19:58:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This seems important.",
                                           "updatedAt":  "2024-01-27T19:58:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51JUI_",
                                           "createdAt":  "2024-02-26T22:01:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@Pilchie - is this something your team is planning on implementing?",
                                           "updatedAt":  "2024-02-26T22:01:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57CGio",
                                           "createdAt":  "2024-04-18T15:05:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODfdY7g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "kundadebdatta",
                                                                               "createdAt":  "2024-04-24T21:46:29Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@kundadebdatta - can you reply to this issue so I can assign it to you?",
                                           "updatedAt":  "2024-04-18T15:05:49Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Enable Logging for CosmosDB Component",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/667",
        "createdAt":  "2023-11-02T19:37:55Z",
        "number":  667,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-13T22:27:21Z",
        "body":  "With #359, we added CosmosDB Components. ComosDB follows the same pattern as other Azure clients - it has `XXXClient` and `XXXClientOptions` objects.\r\n\r\nThe other Azure components allow for the `XXXClientOptions` object to be bound to IConfiguration, so users can tweak their settings without rebuilding/redeploying the app.\r\n\r\nWe should enable the same behavior in the CosmosDB components.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsSMbyA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5yCuXD",
                                           "createdAt":  "2024-01-27T19:58:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Do we still want to do this?",
                                           "updatedAt":  "2024-01-27T19:58:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yJlKC",
                                           "createdAt":  "2024-01-29T16:41:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Do we still want to do this?\r\n\r\nI think so. It should be consistent with the other Azure components.",
                                           "updatedAt":  "2024-01-29T16:41:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51JUVN",
                                           "createdAt":  "2024-02-26T22:02:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@Pilchie - is this something your team plans on implementing?",
                                           "updatedAt":  "2024-02-26T22:02:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57CG4a",
                                           "createdAt":  "2024-04-18T15:06:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODfHdQQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "kundadebdatta",
                                                                               "createdAt":  "2024-04-22T17:35:52Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@kundadebdatta - can I assign this issue to you?",
                                           "updatedAt":  "2024-04-18T15:06:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57brP-",
                                           "createdAt":  "2024-04-22T20:00:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@kundadebdatta - can you comment on this issue so I can assign it to you?",
                                           "updatedAt":  "2024-04-22T20:00:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sw0wF",
                                           "createdAt":  "2025-05-21T15:59:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWiwbA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2025-05-23T21:33:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "msivers",
                                                                               "createdAt":  "2025-06-13T16:14:56Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "AdamDotNet",
                                           "body":  "@eerhardt \n\nMight I suggest adding an overload/support for passing IServiceProvider when creating CosmosClientOptions as well?\n\nFrom\n```csharp\npublic static void AddAzureCosmosClient(\n    this IHostApplicationBuilder builder,\n    string connectionName,\n    Action\u003cMicrosoftAzureCosmosSettings\u003e configureSettings = null,\n-\u003e    Action\u003cCosmosClientOptions\u003e configureClientOptions = null)\n```\n\nTo\n```csharp\npublic static void AddAzureCosmosClient(\n    this IHostApplicationBuilder builder,\n    string connectionName,\n    Action\u003cMicrosoftAzureCosmosSettings\u003e configureSettings = null,\n-\u003e    Action\u003cIServiceProvider, CosmosClientOptions\u003e configureClientOptions = null)\n```\n\nThe benefit would be using the DI container to resolve `RequestHandler` instances that may require container services to instantiate as part of calling `clientOptions.CustomHanndlers.Add(...);`\n",
                                           "updatedAt":  "2025-05-21T15:59:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tM_uI",
                                           "createdAt":  "2025-05-23T21:33:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWiwcQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "msivers",
                                                                               "createdAt":  "2025-06-13T16:14:58Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Might I suggest adding an overload/support for passing IServiceProvider when creating CosmosClientOptions as well?\n\nYes, that is a good idea. Other Azure integrations get this for free because they integrate with Microsoft.Extensions.Azure, but CosmosDB\u0027s client library doesn\u0027t yet. So we would need an explicit action that takes an `IServiceProvider`.",
                                           "updatedAt":  "2025-05-23T21:33:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xIg3l",
                                           "createdAt":  "2025-06-13T21:48:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "msivers",
                                           "body":  "@eerhardt / @davidfowl / @kundadebdatta is this going to be worked on?... Feels like an important capability that is missing?",
                                           "updatedAt":  "2025-06-13T21:49:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xIxvI",
                                           "createdAt":  "2025-06-13T22:27:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We’re not proactively prioritizing integration specific features, but feel free to submit a PR!\n",
                                           "updatedAt":  "2025-06-13T22:27:21Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "CosmosDB Components should allow for CosmosClientOptions to be configured via IConfiguration",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/668",
        "createdAt":  "2023-11-02T19:43:11Z",
        "number":  668,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T05:52:59Z",
        "body":  "#359 added support for CosmosDB components. We should ensure these components have all the necessary test coverage - for example logging and tracing tests.\r\n\r\nThe other components have 2 modes:\r\n\r\n* Can Connect to server\r\n* Can\u0027t Connect to server (typically this is run in CI)\r\n\r\nI didn\u0027t see any tests that actually connect to a server. We should see what it takes to enable that class of tests.\r\n\r\ncc @Pilchie ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOdnS1GA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5xBOaC",
                                           "createdAt":  "2024-01-17T16:18:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stbau04",
                                           "body":  "@eerhardt By the tests that actually connect to a server you mean the stuff in tests/testproject?\r\nI think i would have some time to add further tests",
                                           "updatedAt":  "2024-01-17T16:18:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xE_rL",
                                           "createdAt":  "2024-01-17T22:24:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODTJ3Lg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "stbau04",
                                                                               "createdAt":  "2024-01-18T16:29:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e By the tests that actually connect to a server you mean the stuff in tests/testproject?\r\n\r\n@mitchdenny added a test in https://github.com/dotnet/aspire/pull/1668 for this.\r\n\r\nMy original intention was to follow the same pattern as we do in the other Azure components - if the test is configured to a service that can be connected to, it runs more tests.\r\n\r\nFor example, for Storage Blobs:\r\n\r\nhttps://github.com/dotnet/aspire/blob/e8288d729880141c062cfea474b59239895732b4/tests/Aspire.Azure.Storage.Blobs.Tests/ConformanceTests.cs#L21\r\n\r\nhttps://github.com/dotnet/aspire/blob/e8288d729880141c062cfea474b59239895732b4/tests/Aspire.Azure.Storage.Blobs.Tests/ConformanceTests.cs#L122-L132",
                                           "updatedAt":  "2024-01-17T22:24:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xSj-v",
                                           "createdAt":  "2024-01-19T16:07:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stbau04",
                                           "body":  "@eerhardt Ok that seems quite logical, but where should the server run?\r\nWhen looking at the Storage blob it seems like it connects to this service: https://aspirestoragetests.blob.core.windows.net/\r\nMongoDb on the other hand is connecting to something local: mongodb://root:password@localhost:27017/test_db\r\n\r\nWhy is one of them running locally while the other uses a remote connection? What should be used for the cosmosdb? As there is an emulator (which is used in TestProject) i would guess it should be running locally?\r\nThis leads to my next question: If it should run locally, where should it be started? I couldn\u0027t figure that out looking at the other tests",
                                           "updatedAt":  "2024-01-19T16:09:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xSt0B",
                                           "createdAt":  "2024-01-19T16:33:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Getting component tests running against a local container / emulator is something that has been on our list. Weare actively working on figuring out how to do more and better testing here.\r\n\r\nFor this, my hope is that we can spin the local emulator up at the beginning of the tests and then run the suite of tests hitting it. However we don\u0027t have the test infrastructure to do this easily, yet.",
                                           "updatedAt":  "2024-01-19T16:33:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xX4oF",
                                           "createdAt":  "2024-01-20T12:51:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stbau04",
                                           "body":  "@eerhardt Isn\u0027t there an issue for that? I think i rember that i\u0027ve read something about resuing parts of the app host logic or something similar for this?\r\n\r\nShould i spend time on tests for the cosmosdb now? Or should we wait until the infrastructure is created?",
                                           "updatedAt":  "2024-01-20T12:54:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xgD1d",
                                           "createdAt":  "2024-01-22T15:20:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "I think the CosmosDB tests can be written now like the rest of the tests are. That part doesn\u0027t need to wait until the infrastructure is created. The tests can follow the existing pattern.",
                                           "updatedAt":  "2024-01-22T15:20:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xgcTH",
                                           "createdAt":  "2024-01-22T16:09:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stbau04",
                                           "body":  "@eerhardt Where should the cosmosdb server be running? Locally as in the mongodb tests or some remote server as in the storage blob tests?",
                                           "updatedAt":  "2024-01-22T16:09:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xgq5u",
                                           "createdAt":  "2024-01-22T16:41:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "For now, I\u0027d do it as a remote server as in the storage blob tests.",
                                           "updatedAt":  "2024-01-22T16:41:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xqRej",
                                           "createdAt":  "2024-01-23T20:57:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stbau04",
                                           "body":  "@eerhardt Ok, but what server should we use?",
                                           "updatedAt":  "2024-01-23T20:58:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51JXkd",
                                           "createdAt":  "2024-02-26T22:11:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e @eerhardt Ok, but what server should we use?\r\n\r\nWe started using \"Test Containers\" - See https://github.com/dotnet/aspire/pull/2345. Can we use the local CosmosDB emulator using test containers?",
                                           "updatedAt":  "2024-02-26T22:11:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52dLUY",
                                           "createdAt":  "2024-03-10T20:58:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stbau04",
                                           "body":  "@eerhardt I tried adding the Testcontainers.CosmosDb to the test project. This breaks all nuget-Dependencies:\r\n- All dependencies were marked in the solution explorer (but no actual warnings were shown)\r\n- The usings in the code were shown as unused and the corresponding classes were not found \r\n\r\nDid this also happen at the RabbitMQ tests?",
                                           "updatedAt":  "2024-03-10T21:01:15Z"
                                       }
                                   ],
                         "totalCount":  11
                     },
        "title":  "Ensure CosmosDB Components have enough testing",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "testing ☑️",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/788",
        "createdAt":  "2023-11-13T20:26:56Z",
        "number":  788,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDNfuw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "christiannagel",
                                            "createdAt":  "2023-12-30T15:59:38Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "gorlandor",
                                            "createdAt":  "2024-03-22T13:17:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Meir017",
                                            "createdAt":  "2025-03-19T21:32:52Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "markti",
                                            "createdAt":  "2025-04-20T20:53:45Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "JakeStanger",
                                            "createdAt":  "2025-06-03T14:55:40Z"
                                        }
                                    ],
                          "totalCount":  5
                      },
        "updatedAt":  "2025-06-04T15:34:43Z",
        "body":  "We should have an Azure Event Grid integration. See \n\n* https://learn.microsoft.com/dotnet/api/overview/azure/messaging.eventgrid-readme\n* https://learn.microsoft.com/azure/event-grid/event-grid-dotnet-get-started-pull-delivery",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOr0RjBQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5809Ph",
                                           "createdAt":  "2024-05-04T15:23:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "Following up here, please also add support not just for the Event Grid namespace capabilities, but also for Event Grid System Topics (which don\u0027t support namespace).",
                                           "updatedAt":  "2024-05-04T15:23:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc580_Y-",
                                           "createdAt":  "2024-05-04T15:40:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danmoseley",
                                           "body":  "Is this something you\u0027re interested in contributing to @WhitWaldo  ?",
                                           "updatedAt":  "2024-05-04T15:40:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc581CLc",
                                           "createdAt":  "2024-05-04T16:01:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "\u003e Is this something you\u0027re interested in contributing to @WhitWaldo ?\r\n\r\n@danmoseley I\u0027d be happy to, except for two factors. \r\n\r\n1) I submitted a PR for adding support for [Front Door/DNS](https://github.com/dotnet/aspire/pull/2526) back in February that hasn\u0027t been accepted nor has it received any feedback about why it might not be compatible with the project design. That gives me pause on taking the time to contribute whole resources if they\u0027ll just linger in the PR queue indefinitely.\r\n2) I don\u0027t see that Azure.Provisioning has any support yet for any of the Event Grid SKUs. Based on the new Event Hub project taking a dependency on that, should I read into that being a necessary dependency for resource projects going forward (this and the other one)?",
                                           "updatedAt":  "2024-05-04T17:04:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5818pC",
                                           "createdAt":  "2024-05-05T00:24:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I submitted a PR for adding support for https://github.com/dotnet/aspire/pull/2526 back in February that hasn\u0027t been accepted nor has it received any feedback about why it might not be compatible with the project design. That gives me pause on taking the time to contribute whole resources if they\u0027ll just linger in the PR queue indefinitely.\r\n\r\nThis is my fault. I\u0027ll leave a comment on the PR as I don\u0027t think we\u0027re ready to merge these types of azure resources into aspire.\r\n\r\n\u003e I don\u0027t see that Azure.Provisioning has any support yet for any of the Event Grid SKUs. Based on the new Event Hub project taking a dependency on that, should I read into that being a necessary dependency for resource projects going forward (this and the other one)?\r\n\r\nYes.",
                                           "updatedAt":  "2024-05-05T00:24:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5819p4",
                                           "createdAt":  "2024-05-05T00:33:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "@davidfowl While I had difficulty building/testing the Azure SDK on my machine (undoubtedly because of all the package reference magic happening in that solution), I submitted a [PR for Azure Batch](https://github.com/Azure/azure-sdk-for-net/pull/43843) this morning as it\u0027s got support in Azure.ResourceManager.Batch, but doesn\u0027t yet have an Azure.Provisioning.Batch package. Should that get accepted without much difficulty, that\u0027ll be the impetus for me to also build out the same for Azure.Provisioning.EventGrid, Azure.Provisioning.Dns and Azure.Provisioning.FrontDoor so I can write/update the appropriate PRs for each of those asks as well.",
                                           "updatedAt":  "2024-05-05T00:33:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc581_3I",
                                           "createdAt":  "2024-05-05T00:54:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODgqPNg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "WhitWaldo",
                                                                               "createdAt":  "2024-05-05T04:05:29Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Like I said in that PR, there were 2 things stopping us from merging. The lack of provisioning library and other compute services that we have no integration for. We\u0027re more interested in event grid than azure front door and dns at the moment. There are other fundamental things we need to flesh out before we merge those types of dependencies.\r\n\r\nThat said, you should be able to use the Azure batch provisioning library with the AddAzureConstruct primitive to unblock integration between those 2 systems. First class support as an aspire resource will be delayed while we figure out the patterns. There\u0027s other important work in flight to better understand that.",
                                           "updatedAt":  "2024-05-05T00:56:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc582K6U",
                                           "createdAt":  "2024-05-05T04:14:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "I would love to get to the point that I can deploy my entire solution via Aspire and utilize all the built-in referencing and secret management so I can entirely avoid their respective SDKs (especially having to double up on them), but as you might have gathered, my own solution touches on a _bunch_ of different Azure services.\r\n\r\nI get that DNS isn\u0027t the most interesting or revolutionary of Azure services out there, but it\u0027s fundamental to certificate verification and issuance without going the LettuceEncrypt route of requiring hosted apps for the same - as soon as you\u0027ve got a better pattern in mind, I\u0027d be happy to put in the time to build out support as again, they\u0027re all pieces I\u0027ve got to use myself and I\u0027d love to be able to provision and use them more easily.",
                                           "updatedAt":  "2024-05-05T04:14:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc582QdZ",
                                           "createdAt":  "2024-05-05T04:44:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We have the same goals, but we are trying to make sure the platform enables scenarios we don\u0027t envision. We use examples to extract required features that will enable many more scenarios than we plan out of the box. It\u0027s early and there are some more fundamental pieces we need to flesh out before the end to end comes together in a way that you can use like this. For new scenarios we don\u0027t have a solution for, the most useful thing you can do to help us is to build examples using the primitives we have. That will help us tease apart what the required features from the \"nice to have\" ones.\r\n\r\nAt this point in the project, we\u0027re less interested in adding extra azure resources (because eventually we plan to generate all of them, well the azure sdk team will 😄) and more interested in the features we would need to build to enable a slew of new scenarios. As an example, if you told me you wanted to add a vnet resource, I would say we need to spend time looking at how to model networking in the app host instead.\r\n\r\n\r\nPS:  That motives projects like this https://www.nuget.org/packages/Achieve.Aspire.AzureProvisioning which help the team out a lot.",
                                           "updatedAt":  "2024-05-05T04:44:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc582TPf",
                                           "createdAt":  "2024-05-05T04:49:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Back on topic:\r\n\r\nThe event grid resource, we got this working in the latest azd https://github.com/Azure/azure-dev/issues/3839 so I\u0027m pretty excited to see an end-to-end working when deployed to azure. \r\n\r\nTo make local dev work, I am hoping we can integrate https://github.com/dotnet/aspire/issues/813 in a pretty seamless way. ",
                                           "updatedAt":  "2024-05-05T04:49:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc583Cm3",
                                           "createdAt":  "2024-05-05T13:05:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "Jumping off topic with you for a moment: It\u0027s something that\u0027s been brought up with the Bicep folks for several years now, but I see a couple of problems with taking an ARM dependency straight off an auto-generated resource with little else in the way of overhead management:\r\n- Some resources (vnets are an excellent example) don\u0027t support patch updates and only allow full-resource replacements\r\n- Several resources (RBAC comes to mind, but there are a great many of them reported on [this thread](https://github.com/Azure/bicep/issues/1013)) will mark as completed in deployments even though they haven\u0027t actually propagated to all the places they\u0027re intended to be used). I reported Azure Data Explorer as another one that reports complete for ARM purposes, but goes into some maintenance mode and isn\u0027t eligible for further ARM updates until that completes.\r\n\r\nIn other words, ARM (and Bicep) doesn\u0027t yet have a retry mechanism and the complete deployment state cannot necessarily be trusted. The ARM management SDKs (Azure.ResourceManager.*) don\u0027t accommodate this as they\u0027re auto-generated and leave it to the consumer to deal with. I\u0027d recommend as part of factoring into longer-term plans either getting the Azure teams to fix ARM completion reporting on their end (ideal), waiting to see if Bicep adds something to [address this](https://github.com/Azure/bicep/issues/4023#issuecomment-1451243315) or add something into Aspire itself to accommodate this. Personally, I have a bunch of delay PowerShell deployment scripts in my own Bicep project that intentionally add waiting periods with a check loop to accommodate this.\r\n\r\nDo you have a list anywhere of known \"unknowns\" in terms of design areas you\u0027d welcome suggestions of handling or are you more looking for external solutions to crop up to identify perceived shortcomings like Achieve.Aspire.AzureProvisioning? I know storing declarative secrets in Key Vault is one I raised before, but I don\u0027t know that I\u0027ve seen it called out in a specific list anywhere.\r\n\r\nOn topic: I\u0027m not super familiar with dev tunnels, but please, please, _please_ avoid the issue that plagued local Service Fabric development - namely that because the local SF cluster ran under a different user account, it wasn\u0027t able to utilize Azure.Identity for anything but certificate-based authentication to Entra SPs which was a real pain. It\u0027s nice to be able to lean on chained token credentials and specify a UAI client ID and a VS credential fallback and have development experience otherwise Just Work without having different authentication in different deployment environments.",
                                           "updatedAt":  "2024-05-05T13:05:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc583QSz",
                                           "createdAt":  "2024-05-05T15:56:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODikdpw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "WhitWaldo",
                                                                               "createdAt":  "2024-05-05T16:07:46Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "IcelandicIngo",
                                                                               "createdAt":  "2024-05-21T10:31:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I\u0027d recommend as part of factoring into longer-term plans either getting the Azure teams to fix ARM completion reporting on their end (ideal), waiting to see if Bicep adds something to https://github.com/Azure/bicep/issues/4023#issuecomment-1451243315 or add something into Aspire itself to accommodate this.\r\n\r\nWe\u0027ve been working with these teams, so we\u0027ll continue to do this and will raise appropriate issues. No promises though, they have a LOT on their plate.\r\n\r\n\u003e Do you have a list anywhere of known \"unknowns\" in terms of design areas you\u0027d welcome suggestions of handling or are you more looking for external solutions to crop up to identify perceived shortcomings like Achieve.Aspire.AzureProvisioning? \r\n\r\nThe latter. There are lots of existing gaps in the deployment experience, so much so that it really only works well for dev/test scenarios unless you infra synth and tweak various things. Our priorities will be around making it so that you never have to change the infra synth-ed content and that you can model things via the apphost project. For this, we want to rely on the Azure.Provisioning libraries.\r\n\r\nWe also expect several rounds of iteration on the design with prototypes before we merge anything into the product. That\u0027s why we have lots of experimental branches and code in samples to flesh out scenarios. That\u0027s how most of these new integrations are built.\r\n\r\nFor deployment specifically, we will be focused on making what we already have modifiable without manually editing bicep and yaml. [This branch](https://github.com/dotnet/aspire/tree/davidfowl/gen-compute-infra) is where we\u0027re looking at moving compute infrastructure generation into **Aspire.Hosting.Azure**. \r\n\r\nOnce we get here then we\u0027ll need to revisit how to handle role assignments and managed identities. I\u0027ll allow us to do a better job a least privilege role assignments.\r\n\r\n\u003e I know storing declarative secrets in Key Vault is one I raised before, but I don\u0027t know that I\u0027ve seen it called out in a specific list anywhere.\r\n\r\nLots of interesting issues are tracked here https://github.com/dotnet/aspire/issues?q=is%3Aopen+label%3Aarea-app-model+label%3Aazure. I\u0027m not sure yet how many we will get to. Right now we\u0027re working on plans for post GA and I can tell you these aren\u0027t the highest thing on the list.\r\n\r\n\u003e On topic: I\u0027m not super familiar with dev tunnels, but please, please, please avoid the issue that plagued local Service Fabric development - namely that because the local SF cluster ran under a different user account, it wasn\u0027t able to utilize Azure.Identity for anything but certificate-based authentication to Entra SPs which was a real pain. It\u0027s nice to be able to lean on chained token credentials and specify a UAI client ID and a VS credential fallback and have development experience otherwise Just Work without having different authentication in different deployment environments.\r\n\r\nOur bias is making sure the developer doesn\u0027t need to make code changes between local and deployed environments.",
                                           "updatedAt":  "2024-05-05T15:56:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iFW3A",
                                           "createdAt":  "2025-03-12T23:03:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheMcCann7",
                                           "body":  "Any updates to Azure Event Grid integration for Aspire?  We\u0027re using Aspire 9.1 and its `azd up` provisioning and deployment support.  Any suggestions on how best to proceed if there\u0027s no Aspire integration?  I\u0027m trying to avoid having to convert the whole Aspire setup to our own provisioning and deployment scripts.  Thanks.",
                                           "updatedAt":  "2025-03-12T23:03:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6vQW24",
                                           "createdAt":  "2025-06-04T14:36:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@TheMcCann7 You can add pure bicep templates with aspire so you don\u0027t need to revert the entire solution if one resource isn\u0027t supported out of the box. See https://learn.microsoft.com/en-us/dotnet/aspire/azure/integrations-overview?tabs=dotnet-cli#reference-bicep-files\n\nHere\u0027s an old example I built https://github.com/davidfowl/EventGridDemo (its old and needs an update, but gives you an idea)",
                                           "updatedAt":  "2025-06-04T14:36:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6vRGMF",
                                           "createdAt":  "2025-06-04T15:34:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEVU4RQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-06-04T15:37:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "TheMcCann7",
                                           "body":  "@davidfowl Thanks.  We ended up using pure bicep templates with Aspire and it worked well.",
                                           "updatedAt":  "2025-06-04T15:34:41Z"
                                       }
                                   ],
                         "totalCount":  14
                     },
        "title":  "Add Azure Event Grid Aspire Integration",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1149",
        "createdAt":  "2023-11-30T17:49:01Z",
        "number":  1149,
        "author":  "lmolkova",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T05:53:13Z",
        "body":  "The bigger question for me is what we think `AspireComponentSettings.Tracing` should control.  Setting `*ClientOptions.Diagnostics.IsDistributedTracingEnabled = false;` means we\u0027ll never do anything, even if you add a listener.  Should the Aspire setting just declare whether to wire up a listener automatically?  Or should it mirror the underlying Azure behavior of disabling all tracing activity?\r\n\r\nI don\u0027t love that two similar looking things behave differently in a subtle way.  Is there any scenario where someone setting `AspireComponentSettings.Tracing = false;` could be upset if other code in their app ended up adding a listener?  Like imagine seeing a span for `GET https://myaccount.table.core.windows.net/diseases(PartitionKey=\u0027T\u0027,RowKey=\u0027Ted\u0027)` return a non-`404` when I explicitly disabled tracing on my `diseases` Aspire component.  :smile:  We\u0027ve been really militant about respecting all `*ClientOptions.Diagnostics` settings so far because it\u0027s not worth risking customer trust.\r\n\r\nSo if `AspireComponentSettings.Tracing = false;` should just mean don\u0027t add a listener, then I\u0027m fine leaving things as-is because the resulting path through our pipeline does indeed look cheap enough.  If instead it means disable tracing for this component, we still might want to push the setting down another layer as well.\r\n\r\n_(I don\u0027t think we need to block the current PR on this question though because these changes are a major improvement for the happy path of the next Beta.)_\r\n\r\n_Originally posted by @tg-msft in https://github.com/dotnet/aspire/pull/1084#discussion_r1409997215_\r\n\r\nAzure clients have additional tracing flag - `ClientOptions.Diagnostics.IsDistributedTracingEnabled` and we need to make it work consistently with `Azure{Component}Settings.Tracing`.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOcKHTWA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5tVMHr",
                                           "createdAt":  "2023-11-30T17:49:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lmolkova",
                                           "body":  "I\u0027ll happily work on it, please assign me.",
                                           "updatedAt":  "2023-11-30T17:49:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tZgQ8",
                                           "createdAt":  "2023-12-01T03:35:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e So if AspireComponentSettings.Tracing = false; should just mean don\u0027t add a listener\r\n\r\nThis is exactly what it means. All our components have a `Settings` object that controls:\r\n\r\n* HealthChecks\r\n* Tracing\r\n* Metrics\r\n\r\nThese booleans are meant to control whether the component adds the necessary DI services for their corresponding feature. Here\u0027s the simplest one that has all 3:\r\n\r\nhttps://github.com/dotnet/aspire/blob/28c2ef056cf92a571741ca0c2f924845117ddb60/src/Components/Aspire.Npgsql/AspirePostgreSqlNpgsqlExtensions.cs#L73-L101\r\n\r\nI don\u0027t think it should control more than that. If the underlying library has lower-level settings, I don\u0027t think we should try to hook them together. If someone disables the lower one, and enables the higher one, it is relatively easy to explain that `AspireComponentSettings.Tracing` adds the listener, but they disabled the underlying source. (Honestly I\u0027m not sure what someone would expect to have happen in this case). Vice versa is the same - if they set `AspireComponentSettings.Tracing = false` and set `ClientOptions.Diagnostics.IsDistributedTracingEnabled = true`, there is no listener so no OTel traces are emitted. But in this case if someone added another listener, that should still work because the Azure SDK library is still creating activities.\r\n\r\nAs an aside, `Activity` already does this checking of \"is anyone listening?\" and if there are no listeners an Activity object isn\u0027t created.\r\n\r\nhttps://learn.microsoft.com/dotnet/api/system.diagnostics.activitysource.createactivity#system-diagnostics-activitysource-createactivity(system-string-system-diagnostics-activitykind)\r\n\r\n\u003e Returns\r\n[Activity](https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.activity?view=net-8.0)\r\nThe created [Activity](https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.activity?view=net-8.0) object or null if there is no any event listener.\r\n\r\n I was a bit surprised to learn that Azure SDK has this same logic higher up.\r\n",
                                           "updatedAt":  "2023-12-01T03:35:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uJ1AV",
                                           "createdAt":  "2023-12-09T01:25:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lmolkova",
                                           "body":  "After playing with it, I agree with @eerhardt that I don\u0027t see the point in making `AspireComponentSettings.Tracing` and Azure `ClientOptions.Diagnostics.IsDistributedTracingEnabled`.\r\n\r\nMoreover, they are different properties (thanks @eerhardt for the explanation).\r\n\r\nWhile `AspireComponentSettings.Tracing` and `ActivitySource.HasListeners()` are global enablement mechanisms, `ClientOptions.Diagnostics.IsDistributedTracingEnabled` provides per-client instance control.\r\n\r\nIf I wanted to trace one client, but not the other (e.g. some requests are particularly noisy or perf-sensitive), I\u0027d create two named configurations:\r\n```csharp\r\nbuilder.AddKeyedAzureBlobService(\"blobsNoTracing\",  \r\n clientBuilder =\u003e clientBuilder.ConfigureOptions(options =\u003e options.Diagnostics.IsDistributedTracingEnabled = false));\r\nbuilder.AddKeyedAzureBlobService(\"blobsWithTracing\",  \r\n clientBuilder =\u003e clientBuilder.ConfigureOptions(options =\u003e options.Diagnostics.IsDistributedTracingEnabled = true));\r\n```\r\n\r\nBut I would not be able to do it with `Tracing` property, the below code results in tracing for both instances of the component.  \r\n\r\n```csharp\r\nbuilder.AddKeyedAzureBlobService(\"blobsNoTracing\",  settings =\u003e settings.Tracing = false);\r\nbuilder.AddKeyedAzureBlobService(\"blobsWithTracing\",  settings =\u003e settings.Tracing = true));\r\n```\r\n\r\nAnd yes, I think the fact that `Tracing` option is a global one needs to be documented, but it really belongs on a global OTel configuration rather than per-component-instance one.\r\n\r\n@tg-msft thoughts?",
                                           "updatedAt":  "2023-12-09T01:28:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5ujv6U",
                                           "createdAt":  "2023-12-13T23:46:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e But I would not be able to do it with Tracing property, the below code results in tracing for both instances of the component.\r\n\r\nHow would you do this with OpenTelemetry\u0027s APIs as they exist today?\r\n\r\n```\r\n            builder.Services.AddOpenTelemetry()\r\n                .WithTracing(traceBuilder =\u003e traceBuilder.AddSource(ActivitySourceNames));\r\n```\r\n\r\nThat adds the ActivitySource to OTel, so any activity logged there will get traced by OTel.\r\n\r\nShould we rethink the `settings.Tracing` name? Or do you think XML docs on this is enough?",
                                           "updatedAt":  "2023-12-13T23:46:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5upiLa",
                                           "createdAt":  "2023-12-14T18:32:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lmolkova",
                                           "body":  "\u003e How would you do this with OpenTelemetry\u0027s APIs as they exist today?\r\n\r\nThere is no way to do it with otel - any non-global config/behavior has to be controlled by the component code.\r\n\r\n\u003e Should we rethink the settings.Tracing name? Or do you think XML docs on this is enough?\r\n\r\nI think this is OTel setting rather than component setting. Other component setting (e.g. on [blob](https://github.com/dotnet/aspire//blob/50fb0475444bb99bca458653f120a113aeeca815/src/Components/Aspire.Azure.Storage.Blobs/AzureStorageBlobsSettings.cs)) are instance-specific, but not the `Tracing`.\r\nIf we had OTel configuration it could be global and every component could enlist it\u0027s sources/meters to be enabled.\r\nThen users could configure it like `OTel__\u003ccomponent_name\u003e__Tracing__Enabled: false`.\r\n\r\nIt seems to be more difficult to use both in code and in the config files, but maybe there is a better proposal on how it can be done?  Static property seems ugly, but it\u0027d be accurate.\r\n\r\nBut this approach is used in [OTel Java agent](https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/#suppressing-specific-agent-instrumentation) when users can disable specific instrumentations with `OTEL_INSTRUMENTATION_[NAME]_ENABLED` env var. Similar approach exist in [OTel python](https://opentelemetry.io/docs/instrumentation/python/automatic/agent-config/#disabling-specific-instrumentations).\r\nI assume OTel at some point will provide a common configuration story for enabling/disabling specific instrumentation.\r\n\r\n----\r\nIf we keep `Tracing` on component settings, I\u0027d update it\u0027s description from \r\n\r\nhttps://github.com/dotnet/aspire/blob/50fb0475444bb99bca458653f120a113aeeca815/src/Components/Aspire.Azure.Storage.Blobs/AzureStorageBlobsSettings.cs#L45-L51\r\n\r\nto something like \r\n\r\n\u003e Gets or sets a boolean value that indicates whether the OpenTelemetry tracing is enabled globally for all instances of this component. If you want to disable tracing, make sure to set it to false on all instances of the component you register.\r\n\r\nWhich I think is not great.\r\n\r\n-----\r\n\r\nTL;DR:\r\nI think it\u0027d be great to get rid or `Tracing` property and populate it from some  env variable in a similar manner as OTLP config happens. In the long run, otel is [likely to standardize](https://github.com/open-telemetry/opentelemetry-configuration) global configuration story and it\u0027ll be much easier to keep legacy env var around than public API.",
                                           "updatedAt":  "2023-12-14T18:39:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5upk3T",
                                           "createdAt":  "2023-12-14T18:41:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lmolkova",
                                           "body":  "Also, I we\u0027ll have a similar problem for `Metrics` and `Logs`, so we should really consider having a global config for telemetry separate from instance config.",
                                           "updatedAt":  "2023-12-14T18:41:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5wodNY",
                                           "createdAt":  "2024-01-12T17:02:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODxYbzA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-09-07T16:35:22Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "I\u0027m not excited about introducing an environment variable for Aspire. If we need an environment variable to control this, I think it should be done at a lower layer (either OTel or Azure SDK).\r\n\r\nI\u0027d be OK with updating the Tracing docs (probably in a `remarks` section) to indicate that this is global and would need to be turned off for all instances of a component if you want to turn it off.\r\n\r\nThoughts?",
                                           "updatedAt":  "2024-01-12T17:02:18Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Relationship between AspireComponentSettings.Tracing and Azure client options config",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1326",
        "createdAt":  "2023-12-11T06:16:15Z",
        "number":  1326,
        "author":  "josephaw1022",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODKjjFA==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "DamianEdwards",
                                            "createdAt":  "2023-12-11T18:14:28Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "B-DLF",
                                            "createdAt":  "2024-01-01T23:15:56Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "raffaeler",
                                            "createdAt":  "2024-01-23T18:59:47Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "CesarD",
                                            "createdAt":  "2024-01-29T17:56:48Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "CesarD",
                                            "createdAt":  "2024-01-29T17:56:50Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "GMouaad",
                                            "createdAt":  "2024-02-12T15:59:46Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "laurentkempe",
                                            "createdAt":  "2024-02-14T05:10:20Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "gsm1be",
                                            "createdAt":  "2024-02-14T11:30:29Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "GMouaad",
                                            "createdAt":  "2024-03-30T14:38:54Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "pdevito3",
                                            "createdAt":  "2024-05-18T15:13:32Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "nyikozoli",
                                            "createdAt":  "2024-06-01T19:35:49Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "MadL1me",
                                            "createdAt":  "2024-06-01T21:39:25Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "YandyZaldivar",
                                            "createdAt":  "2025-02-24T23:00:38Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "benreisinger",
                                            "createdAt":  "2025-04-04T15:24:07Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "MeikelLP",
                                            "createdAt":  "2025-05-08T14:47:00Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "YandyZaldivar",
                                            "createdAt":  "2025-08-09T14:16:14Z"
                                        }
                                    ],
                          "totalCount":  16
                      },
        "updatedAt":  "2025-05-16T00:02:57Z",
        "body":  "## Keycloak MVP\n\nhttps://www.keycloak.org/server/configuration-production\n\n- [ ] Support for configuring Keycloak with external databases (https://www.keycloak.org/server/db)\n    - [ ] Postgres\n    - [ ] SQL Server\n- [ ] Support Keycloak with HTTPS (or behind a reverse proxy with https) (https://www.keycloak.org/server/enabletls)\n- [ ] OTEL support (https://www.keycloak.org/observability/tracing)\n- [ ] Add a new sample to aspire-samples shows how to use keycloak for auth\n\n### Stretch\n- [ ] Support for configuring Keycloak realms via the resource builder API (this should work locally and when deployed)\n- [ ] Integrating Keycloak with Microsoft Entra (https://docs.getvisibility.com/enterprise-setup/authentication/single-sign-on-sso/using-azure-ad-as-keycloak-identity-provider)\n\n### Original Issue\n\n\u003cdetails\u003e\nI propose adding a Keycloak component to our system for managing authentication and login processes. This integration would be incredibly beneficial, particularly for those using Keycloak, as it would:\n\n- Ensure consistency in different environments.\n- Aid in replicating production issues for better troubleshooting.\n- Enhance testing capabilities for authentication-related functionalities.\n\nBelow is a basic example of how this could be implemented in the `program.cs` file:\n\n```cs\n// Example implementation in program.cs\n\n// Adding Keycloak container\nvar authServer = builder.AddKeyCloakContainer();\n\n// Setting up projects with KeyCloak authentication\nvar publicSite = builder.AddProject\u003cProjects.PublicSite\u003e().References(authServer);\nvar postloginSite = builder.AddProject\u003cProjects.PostLoginSite\u003e().References(authServer);\n\n// Additional configurations...\n```\n\u003c/details\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOn7zcxQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5uTkSU",
                                           "createdAt":  "2023-12-11T18:15:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODRY6Xw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jpsullivan",
                                                                               "createdAt":  "2024-01-05T16:22:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@josephaw1022 the APIs your example shows are for hosting, not components. Are you suggesting we add both Aspire.Hosting extensions for Keycloak **and** a Keycloak component?",
                                           "updatedAt":  "2023-12-11T18:15:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5ucnO8",
                                           "createdAt":  "2023-12-12T23:25:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "josephaw1022",
                                           "body":  "@DamianEdwards yes! I am currently working on the prometheus and grafana one right now, but I will have a pr for this eventually soon. ",
                                           "updatedAt":  "2023-12-12T23:25:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xpoXQ",
                                           "createdAt":  "2024-01-23T19:02:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "It\u0027s worth noting that Keycloak:\r\n- May expose the admin UI separately from the IP\r\n- Open Telemetry protocol can be turned on (but it\u0027s off by default)\r\n",
                                           "updatedAt":  "2024-01-23T19:02:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xsG-Y",
                                           "createdAt":  "2024-01-24T05:08:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODT-PIA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "raffaeler",
                                                                               "createdAt":  "2024-01-24T21:12:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Do you have an example or how to configure Keycloak to use OpenTelemetry, and specifically export via OTLP? When I looked into this the examples I found seemed to rely on an external collector and/or were setup for Prometheus and Jaeger.\n\nI\u0027ll look into the option to expose the admin and service endpoints separately too, that\u0027s a good thing to ensure we consider.",
                                           "updatedAt":  "2024-01-24T05:08:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xx9zD",
                                           "createdAt":  "2024-01-24T21:12:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "@DamianEdwards \r\n\r\n\u003e Do you have an example or how to configure Keycloak to use OpenTelemetry, and specifically export via OTLP? When I looked into this the examples I found seemed to rely on an external collector and/or were setup for Prometheus and Jaeger.\r\n\r\nNot detailed, but I looked into it because I need to go there for some of my customers.\r\n\r\nThe latest doc tells that OTEL is supported but must be turned on:\r\nhttps://www.keycloak.org/keycloak-benchmark/kubernetes-guide/latest/util/otel\r\n\r\nThe `KC_OTEL` option is mentioned here: https://www.keycloak.org/keycloak-benchmark/kubernetes-guide/latest/customizing-deployment#KC_OTEL\r\n\r\nIn my own docker file (which does not include OTEL yet) I customize the Keycloak image using other boolean switches:\r\nhttps://github.com/raffaeler/authentication/blob/main/docs/install.md#preparing-a-custom-image\r\n\r\nIn theory, you should just turn on OTEL and instructing Prometheus to get the telemetry from KC.\r\n",
                                           "updatedAt":  "2024-01-24T21:12:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xyGBg",
                                           "createdAt":  "2024-01-24T21:37:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@raffaeler those are the docs I saw too, but they don\u0027t appear to actually support setting an OTLP gRPC endpoint to egress to. The doc explicitly says it\u0027s not using an OpenTelemetry collector:\r\n\r\n\u003cimg width=\"602\" alt=\"image\" src=\"https://github.com/dotnet/aspire/assets/249088/b6e7d6ee-a778-46b1-9ad4-499e1312c938\"\u003e\r\n",
                                           "updatedAt":  "2024-01-24T21:37:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xyHKp",
                                           "createdAt":  "2024-01-24T21:41:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "@DamianEdwards  I read that too, but I assumed the data was accessible using Prometheus, which is one of the options in Aspire.\r\nCan\u0027t you just start with the Prometheus support? This could probably be the most popular option.",
                                           "updatedAt":  "2024-01-24T21:41:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xyH5K",
                                           "createdAt":  "2024-01-24T21:43:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@raffaeler Prometheus is not enabled by default in Aspire and is a bit heavy for local development. The optimal experience the defaults are assuming is to have resources send OpenTelemetry to the OTLP endpoint hosted by the Aspire dashboard. It seems it would be possible to do this with Keycloak but requires manually installing \u0026 configuring the OpenTelemetry Java agent to egress to the OTLP endpoint.",
                                           "updatedAt":  "2024-01-24T21:43:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xyJxq",
                                           "createdAt":  "2024-01-24T21:50:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "@DamianEdwards I always configure KC with a custom image as the default one misses at lot of important features. It is also needed because you have to add the PKI certificates in an enterprise (or dev) environment.\r\nAdding java stuff to the image should not be a big deal.\r\n\r\nIf you already found a java configuration that fits the Aspire scenario, it should not be hard to put it all together.\r\nWhat\u0027s the link to the java agent you mentioned? I saw something on GitHub, but I am not sure the they could fit the requirements.",
                                           "updatedAt":  "2024-01-24T21:50:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xzR-h",
                                           "createdAt":  "2024-01-25T03:05:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "josephaw1022",
                                           "body":  "I was thinking of just using the simple jboss/keycloak image and following the pattern of \"opinionated but configurable\". So you could change the variant and use some custom command argument if you want. I have a really simple example of keycloak running in an aspire project communicating with a postgres db in a repo here\n\nhttps://github.com/josephaw1022/ScaleStore/blob/master/KEDAScalingUI.AppHost/Program.cs",
                                           "updatedAt":  "2024-01-25T03:10:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x4F8x",
                                           "createdAt":  "2024-01-25T16:14:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I have an example running (can share at a later point) that uses the standard Keycloak image customized to import a realm via a binding mount and run using `start-dev` locally, and `start` in the publish manifest. We don\u0027t currently have support in Aspire for running a container via a dockerfile, so any custom image would have to manually built outside of Aspire before running the app. The standard Keycloak image looks pretty extensible via environment variables and bind mounts/volumes though so I\u0027m inclined to stick to it for anything we add in-box in Aspire.\r\n\r\n@raffaeler the only mention of Keycloak with OpenTelemetry I can find is in the Keycloak Benchmark documentation, which is about a helm-chart based configuration. OTel doesn\u0027t appear to be supported out of the box by the standard Keycloak container image. To make it work, we\u0027d have to do some digging into how to customize the container to acquire the [Java OTel agent](https://opentelemetry.io/docs/languages/java/automatic/agent-config/) and configure it to export via OTLP to the dashboard. If nothing else this should be doable by changing the container entry point to use a mounted shell script that does the needful.",
                                           "updatedAt":  "2024-01-25T16:14:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x4m1i",
                                           "createdAt":  "2024-01-25T17:24:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODUH0Dw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "raffaeler",
                                                                               "createdAt":  "2024-01-25T19:06:31Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "josephaw1022",
                                           "body":  "My suggestion is to model our approach after the rabbitmq component. We should clearly state in the documentation which components are and aren\u0027t supported and just go from there. \r\n\r\n![image](https://github.com/dotnet/aspire/assets/47674962/9374dca6-5ce9-4e75-a7a9-e78d28b4ed74)\r\n\r\nThe plan would be to start with the DeFacto existing container image and explicitly mention in the documentation that metrics and telemetry data are not yet available.  Whether that image is the quay or jboss one, doesn\u0027t matter too much I would think. Just as long as we are getting the newest DeFacto version.\r\n\r\nAnd when a custom image with the appropriately configured Java OTel agent is ready and published to a registry which it sounds like Damian is already looking at, we can replace the initial image in Aspire. Following this, we can update the documentation to include open telemetry information and remove the disclaimer about the absence of components missing once the newly published image is in a good spot.\r\n\r\nWould that work? @DamianEdwards @raffaeler",
                                           "updatedAt":  "2024-01-25T17:24:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x40XG",
                                           "createdAt":  "2024-01-25T18:00:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODWq9pg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "raffaeler",
                                                                               "createdAt":  "2024-01-25T19:06:28Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "laurentkempe",
                                                                               "createdAt":  "2024-02-14T05:18:05Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I\u0027m uneasy about using unofficial container images for known services in the official `Aspire.Hosting` package. To be clear, integration of any new service in Aspire has two separate but related areas:\r\n\r\n1. `Aspire.Hosting` integration, i.e. ability to spin up a Keycloak container when launching the AppHost project and have Keycloak details emitted in the publish manifest\r\n2. An Aspire Component, i.e. a NuGet package that integrates a client library with the Aspire defaults\r\n\r\nRegarding Keycloak, I\u0027m mostly interested in the first (hosting integration), as using Keycloak as an IDP from ASP.NET Core apps is already covered via the standard Open ID Connect and JWT Bearer Token support ASP.NET Core comes with.\r\n\r\nAll that said, we could indeed add support for Keycloak to `Aspire.Hosting` just using the official container from quay.io to start with, and folks can customize it using the [various extensibility points it has](https://www.keycloak.org/server/containers) via environment variables and bind mounts/volumes. At any point later we could update that to support having Keycloak emit OTLP to the dashboard too. I don\u0027t think is a high priority for v1 of Aspire though, as such integration can be done by anyone with very little code and shipped in a standalone package. I\u0027m not against it though.\r\n\r\nThe example of this I\u0027ve been experimenting with is [here](https://github.com/dotnet-presentations/eshop-app-workshop/blob/main/src/eShop.AppHost/KeycloakResource.cs).",
                                           "updatedAt":  "2024-01-25T18:00:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x5Lx5",
                                           "createdAt":  "2024-01-25T19:06:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "Thank you both.\r\nI am ok with the approach proposed by @DamianEdwards, it makes sense. I will try to set up the Java OTLP client to see how far I can go. Said that I\u0027ve never been able to use the default KC image for anything. For example in development you have to add the certificates for both oAuth crypto stuff and Java certificate storage. I\u0027ve documented this in my repo and I have a more verbose dockerfile for more complex scenarios.\r\n\r\nAlso, even if KC is interfaced using OIDC to ASP.NET, there are plenty of settings (beyond URLs) that are very different depending on the scenario (development, test and production). \r\nI am still not sure how to model these differences in Aspire so that I can avoid custom variables to switch from a configuration/behavior to another.\r\nWhat\u0027s the best way to do this in absence of the Aspire Component package?",
                                           "updatedAt":  "2024-01-25T19:06:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x5VQc",
                                           "createdAt":  "2024-01-25T19:34:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e For example in development you have to add the certificates for both oAuth crypto stuff and Java certificate storage.\r\n\r\nThis could be achieved with a binding mount and custom entry point shell script without requiring a Dockerfile though, right? Similar to what I do in [this example here](https://github.com/dotnet/aspire-samples/blob/ef6868b0999c6eea3d42a10f2b20433c5ea93720/samples/DatabaseContainers/DatabaseContainers.AppHost/Program.cs#L27-L33). That said, having support in `Aspire.Hosting` to add a resource via a Dockerfile to simplify using custom containers seems like a reasonable suggestion. Feel free to log that issue 😄 \r\n\r\nRE changing configuration between environments, that\u0027s just \"standard\" ASP.NET Core environment aware configuration and doesn\u0027t require an Aspire Component package. As to modeling that in the AppHost project, we\u0027re working on that support right now for preview.4 so that e.g. you\u0027ll be able to easily run against a Keycloak container in development but point to an existing instance in the publish manifest.",
                                           "updatedAt":  "2024-01-25T19:34:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x5eZr",
                                           "createdAt":  "2024-01-25T19:53:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "\u003e This could be achieved with a binding mount and custom entry point shell script without requiring a Dockerfile though, right?\r\n\r\nIt can be done for the crypto/oAuth certs, but unfortunately not for the Java keystore. AFAIK it cannot be moved out to a mount or at least I tried and it didn\u0027t work.\r\n\r\n\u003e That said, having support in Aspire.Hosting to add a resource via a Dockerfile to simplify using custom containers seems like a reasonable suggestion. Feel free to log that issue\r\n\r\nDone https://github.com/dotnet/aspire/issues/1852 :-)\r\n\r\n\u003e RE changing configuration between environments, that\u0027s just \"standard\" ASP.NET Core environment aware configuration and doesn\u0027t require an Aspire Component package. As to modeling that in the AppHost project, we\u0027re working on that support right now for preview.4 so that e.g. you\u0027ll be able to easily run against a Keycloak container in development but point to an existing instance in the publish manifest.\r\n\r\nSure, I know the config environments. I was referring to model that in AppHost. Great to know it\u0027s coming in a future preview.\r\n\r\n",
                                           "updatedAt":  "2024-01-25T19:53:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x5xPd",
                                           "createdAt":  "2024-01-25T20:45:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e It can be done for the crypto/oAuth certs, but unfortunately not for the Java keystore. AFAIK it cannot be moved out to a mount or at least I tried and it didn\u0027t work.\r\n\r\nCan always copy the keystore file from the bind location to the required place in the image on startup before starting Keycloak though right? Or am I misunderstanding the scenario? Looking at [your example](https://github.com/raffaeler/authentication/blob/main/docs/install.md#preparing-a-custom-image) what about that couldn\u0027t be done in a custom container entry point script (for dev time) assuming the certificate files were in a bind mount? I\u0027m thinking we could actually leverage the ASP.NET Core dev certificate to make this fairly seamless for local dev, as it gets installed and trusted as part of setting up the .NET SDK/VS.",
                                           "updatedAt":  "2024-01-25T20:45:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x5yj-",
                                           "createdAt":  "2024-01-25T20:49:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHb1xQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "michaelmcneilnet",
                                                                               "createdAt":  "2024-10-04T20:32:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:50:35Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:50:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "josephaw1022",
                                           "body":  "not to get carried away with what ifs, but I think it would be cool if you could pass in a db resource as a parameter argument and have it set up the db environment variables for you. so \r\n\r\n\r\n```cs\r\nvar pg = builder.AddPostgres(\"pgserver\");\r\nvar sqlserver = builder.AddSqlServer(\"sql-server\");\r\n\r\nvar authServer = builder.AddKeyCloakContainer(\"keycloak\", pg);\r\n// or var authServer = builder.AddKeyCloakContainer(\"keycloak\", sqlserver);\r\n\r\n\r\n```\r\n\r\nI mean we can just stick to using environment variables for full control, but this could be some shorthand syntax to speed up the process of configuring keycloak utilizing a db.  \r\n\r\nI believe we could do mysql, postgres, sql-server, and maybe Oracle? But I know the first 3 for sure. And I am sure there are some other ones as well that I am not thinking of",
                                           "updatedAt":  "2024-01-25T20:53:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x50CN",
                                           "createdAt":  "2024-01-25T20:54:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "\n\u003e Can always copy the keystore file from the bind location to the required place in the image on startup before starting Keycloak though right? Or am I misunderstanding the scenario? Looking at [your example](https://github.com/raffaeler/authentication/blob/main/docs/install.md#preparing-a-custom-image) what about that couldn\u0027t be done in a custom container entry point script (for dev time) assuming the certificate files were in a bind mount? I\u0027m thinking we could actually leverage the ASP.NET Core dev certificate to make this fairly seamless for local dev, as it gets installed and trusted as part of setting up the .NET SDK/VS.\n\nWhen I first tried to move the Java keystore out of the default location, it didn\u0027t work. But I may have missed something.\n\nAfter all, for me it was not a big deal creating a custom image which you have to do to import / export data when migrating from one version to another.\n",
                                           "updatedAt":  "2024-01-25T20:54:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x516Y",
                                           "createdAt":  "2024-01-25T21:01:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "\n\u003e I mean we can just stick to using environment variables for full control, but this could be some shorthand syntax to speed up the process of configuring keycloak utilizing a db.  \n\nIt is hardly applicable, there are so many options... I would stick to the most versatile solution.\nI am afraid this could result in a deno-only solution.",
                                           "updatedAt":  "2024-01-25T21:01:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5_yA3E",
                                           "createdAt":  "2024-06-02T11:51:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHb3fA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "josephaw1022",
                                                                               "createdAt":  "2024-06-02T14:03:25Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:55:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "NikiforovAll",
                                           "body":  "Here is an example of how to run Keycloak and Aspire:\r\n\r\nDocs: https://nikiforovall.github.io/keycloak-authorization-services-dotnet/devex/aspire.html#aspire-support\r\nBlog: https://nikiforovall.github.io/dotnet/keycloak/2024/06/02/aspire-support-for-keycloak.html\r\n\r\nNote: It is not production-ready and favors local development.",
                                           "updatedAt":  "2024-06-02T12:58:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5_yPA0",
                                           "createdAt":  "2024-06-02T14:20:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "josephaw1022",
                                           "body":  "@NikiforovAll \n\nThis is awesome!!! Really really good stuff.",
                                           "updatedAt":  "2024-06-02T14:20:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6AfbPM",
                                           "createdAt":  "2024-06-08T00:25:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHb3Ig==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "NikiforovAll",
                                                                               "createdAt":  "2024-06-08T06:06:05Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:54:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:54:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I think the latest PR out for this (#4289) is enough for an initial version of this resource (assuming the `WithDataVolume` method works well).\r\n\r\nSome ideas for further investigation in the future:\r\n\r\n- I\u0027m keen to explore [@josephaw1022\u0027s comment](https://github.com/dotnet/aspire/issues/1326#issuecomment-1910974718) about adding support for configuring Keycloak database storage, but via `WithReference` rather than an argument to the `AddKeycloak` call (to keep it aligned with the established patterns). Packaging will be interesting for this as these methods would require a dependency on the various database resource hosting packages, e.g. `WithReference(this IResourceBuilder\u003cKeycloakResource\u003e keycloak, IResourceBuilder\u003cPostgresDatabaseResource\u003e postgres)`\r\n- Configuring an ASP.NET Core application to use Keycloak for authentication via OIDC is still kinda involved though so it would be worthwhile investigating what a Keycloak OIDC component might look like\r\n- Ability to add realms, clients, users, etc. to the Keycloak instance as part of the resource configuration. This could be implemented via calling out to the [admin CLI](https://www.keycloak.org/docs/latest/server_admin/#admin-cli) (perhaps we include it in the package?) or by directly making calls to the [Admin REST API](https://www.keycloak.org/docs-api/latest/rest-api/index.html). Both approaches would require coordination with the lifetime of the container of course. We could also consider adding methods to easily import realms from an exported realms JSON file. Note these options really only make sense in dev mode.\r\n- Configuring the Keycloak instance to use HTTPS during local development via the ASP.NET Core developer HTTPS certificate\r\n",
                                           "updatedAt":  "2024-06-08T00:25:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6EYG8K",
                                           "createdAt":  "2024-07-10T16:00:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHb3YA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2024-09-04T23:35:52Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:55:21Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "BladeWise",
                                           "body":  "\u003e * I\u0027m keen to explore [@josephaw1022\u0027s comment](https://github.com/dotnet/aspire/issues/1326#issuecomment-1910974718) about adding support for configuring Keycloak database storage, but via `WithReference` rather than an argument to the `AddKeycloak` call (to keep it aligned with the established patterns). Packaging will be interesting for this as these methods would require a dependency on the various database resource hosting packages, e.g. `WithReference(this IResourceBuilder\u003cKeycloakResource\u003e keycloak, IResourceBuilder\u003cPostgresDatabaseResource\u003e postgres)`\r\n\r\nI experimented with this idea, and was able to implement a simple extension as you suggested:\r\n``` cs\r\n    public static IResourceBuilder\u003cKeycloakResource\u003e WithReference(this IResourceBuilder\u003cKeycloakResource\u003e builder, IResourceBuilder\u003cPostgresServerResource\u003e source)\r\n    {\r\n        var resource = source.Resource;\r\n\r\n        return builder.WithEnvironment(context =\u003e\r\n                                       {\r\n                                           var primaryEndpoint = resource.PrimaryEndpoint;\r\n                                           context.EnvironmentVariables[\"KC_DB\"] = \"postgres\";\r\n                                           context.EnvironmentVariables[\"KC_DB_URL_HOST\"] = primaryEndpoint.ContainerHost;\r\n                                           context.EnvironmentVariables[\"KC_DB_URL_PORT\"] = ReferenceExpression.Create($\"{primaryEndpoint.Property(EndpointProperty.Port)}\");\r\n                                           context.EnvironmentVariables[\"KC_DB_URL_DATABASE\"] = \"postgres\"; // Keycloak does not create the database by itself. Using the default database for the time being.\r\n                                           context.EnvironmentVariables[\"KC_DB_SCHEMA\"] = \"public\"; // Keycloak does not create the schema by itself. Using default schema for the time being.\r\n                                           context.EnvironmentVariables[\"KC_DB_USERNAME\"] = (object?)resource.UserNameParameter ?? \"postgres\";\r\n                                           context.EnvironmentVariables[\"KC_DB_PASSWORD\"] = resource.PasswordParameter;\r\n                                       });\r\n    }\r\n```\r\nThis extension, used together with the linked PR, allows the Keycloak container to startup using the PostgreSQL container.",
                                           "updatedAt":  "2024-07-10T16:00:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6K5fen",
                                           "createdAt":  "2024-09-04T23:38:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e Configuring the Keycloak instance to use HTTPS during local development via the ASP.NET Core developer HTTPS certificate\r\n\r\nThere\u0027s an implementation of this in the sample I\u0027m working on for Keycloak over at https://github.com/dotnet/aspire-samples/blob/b741f5e78a86539bc9ab12cd7f4a5afea7aa54c4/samples/Keycloak/Keycloak.AppHost/KeycloakExtensions.cs#L16",
                                           "updatedAt":  "2024-09-04T23:38:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LOxYO",
                                           "createdAt":  "2024-09-07T16:42:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHb4lw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "raffaeler",
                                                                               "createdAt":  "2024-09-07T17:30:00Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "onizet",
                                                                               "createdAt":  "2024-10-02T21:01:49Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "josephaw1022",
                                                                               "createdAt":  "2024-10-26T01:35:43Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "274188A",
                                                                               "createdAt":  "2025-01-28T03:54:27Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-02-24T22:59:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We have a keycloak integration package now https://learn.microsoft.com/en-us/dotnet/aspire/authentication/keycloak-integration?tabs=dotnet-cli\r\n\r\nIt\u0027s very lightweight at the moment.",
                                           "updatedAt":  "2024-09-07T16:42:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6fvNzF",
                                           "createdAt":  "2025-02-24T23:44:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "YandyZaldivar",
                                           "body":  "I would like to see this Keycloak integration when it is out of preview, including updated Aspire documentation for Azure deployment in production.",
                                           "updatedAt":  "2025-02-24T23:44:18Z"
                                       }
                                   ],
                         "totalCount":  27
                     },
        "title":  "Proposal for Keycloak integration",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1336",
        "createdAt":  "2023-12-11T21:55:52Z",
        "number":  1336,
        "author":  "KSemenenko",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC3pzlA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "3GDXC",
                                            "createdAt":  "2024-05-03T08:57:18Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-03-03T20:14:27Z",
        "body":  "Is there any plans for Keda support?\r\nI think this is important for achieving autoscaling",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOoKklzQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5uU4mm",
                                           "createdAt":  "2023-12-11T22:07:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What would keda support look like? Do you need it for development?",
                                           "updatedAt":  "2023-12-11T22:07:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uVP8t",
                                           "createdAt":  "2023-12-11T23:34:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODgfJIA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "3GDXC",
                                                                               "createdAt":  "2024-05-03T09:06:36Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "Of course I no need it for local developments, at least not for every day. But autoscaling is important part of my projects. \r\nand we use it a lot for tests in azure.\r\n\r\nWe build some for https://github.com/managedcode/Keda orleans and asp.net core,  for scaling base on “active connection per second”\r\n\r\nalso I relay love to use aspire for my production deployment. \r\nI need only way to configure size of container app. \r\nThis is amazing tool, it’s easy, so why not?\r\n\r\nI see it as extensions for apps like this:\r\n\r\n```Cs\r\nbuilder.AddProject\u003cProjects.FrontEnd\u003e(\"frontend\")\r\n       .WithOrleansClient(orleans)\r\n       .WithReplicas(2, 10)\r\n       .WithKedaRule(“cpu”,  80)\r\n       .WithKedaRule(“requests per second”,  1000);\r\n```\r\nIt will be relay easy way to configure keda.",
                                           "updatedAt":  "2023-12-11T23:34:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uc81D",
                                           "createdAt":  "2023-12-13T00:38:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODgfHRQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "3GDXC",
                                                                               "createdAt":  "2024-05-03T09:02:41Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "asimmon",
                                           "body":  "Keda is a Kubernetes-specific component that supports a wide variety of scalers. Also, during development, CPU and memory might might be different from production for various reasons.\r\n\r\nThere\u0027s value in using multiple replicas in local development instead of waiting for an app to crash once deployed to a cloud environment (looking at you, ASP.NET Core Data protection with Azure KV/Storage). But I don\u0027t believe it makes sense to autoscale in local dev. Resource consumption mighr become an issue.\r\n\r\nI would rather have the opportunity to manually scale at runtime from the dashboard. Not sure if DCP supports this.",
                                           "updatedAt":  "2023-12-13T00:38:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uebzh",
                                           "createdAt":  "2023-12-13T08:31:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "Is aspire only for local development?",
                                           "updatedAt":  "2023-12-13T08:31:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uoN-C",
                                           "createdAt":  "2023-12-14T15:15:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODP0wng==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2023-12-16T17:59:42Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e Is aspire only for local development?\r\n\r\nThe orchestration pieces of the AppHost are, yes.",
                                           "updatedAt":  "2023-12-14T15:15:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uzGRx",
                                           "createdAt":  "2023-12-16T18:00:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEImn_g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Trubador",
                                                                               "createdAt":  "2025-03-05T10:57:31Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "But I relay enjoy how it works, and would live to use it for production too, super cool panel, all logos in once place. Also AppHost can do autoscaling, as for me it will be amazing ",
                                           "updatedAt":  "2023-12-16T18:00:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uzJ9y",
                                           "createdAt":  "2023-12-16T18:43:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEImoEA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2023-12-16T19:08:54Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "Trubador",
                                                                               "createdAt":  "2025-03-05T10:57:43Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "En3Tho",
                                           "body":  "Offtopic, but I also find Aspire\u0027s panel really enjoyable to work with. It would be cool to use Aspire traces/logs/metrics panel while targeting Elastic for example. Aspire\u0027s UX is much better than Kibana\u0027s UX for traces/logs in my opinion.",
                                           "updatedAt":  "2023-12-16T18:43:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uzOuJ",
                                           "createdAt":  "2023-12-16T20:24:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEImoKA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2023-12-17T17:22:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "En3Tho",
                                                                               "createdAt":  "2023-12-17T19:47:07Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "philfer",
                                                                               "createdAt":  "2024-04-04T11:33:09Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Misiu",
                                                                               "createdAt":  "2024-04-16T11:38:01Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Trubador",
                                                                               "createdAt":  "2025-03-05T10:57:49Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "The AppHost is never deployed, however we\u0027re working on making the dashboard deployable. \r\n\r\nAs for keda support, I think the answer is maybe, but it\u0027s not a priority at the moment. We\u0027re still working on some of the core ideas of how the app model works and what it can represent.",
                                           "updatedAt":  "2023-12-16T20:24:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5u0ZNk",
                                           "createdAt":  "2023-12-17T17:18:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "I can write some code for it, I alreday did it for my self, so no probem to do this for aspire. lets just sync our vision about it",
                                           "updatedAt":  "2023-12-17T17:22:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5vZvGC",
                                           "createdAt":  "2023-12-25T14:58:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEImoSQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2023-12-26T18:32:39Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Trubador",
                                                                               "createdAt":  "2025-03-05T10:58:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "swimmesberger",
                                           "body":  "@KSemenenko regarding production deployment of the orchestration component this might be related #832 ",
                                           "updatedAt":  "2023-12-25T14:58:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58uoTU",
                                           "createdAt":  "2024-05-03T09:01:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODs7V7g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2024-05-03T20:52:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "abgc195",
                                                                               "createdAt":  "2024-08-06T06:40:44Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "while not directly KEDA related I see this as more about defining the rules about replica scaling and the linkage to triggers; where \u0026 what triggers should be listened to and how these are recorded by the application concerned.\r\n\r\nthe defining of the replica scaling would then be used when deploying to the appropriate environment; or overridden/limited for the local development. ",
                                           "updatedAt":  "2024-05-03T09:06:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Qe49v",
                                           "createdAt":  "2024-10-19T16:00:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD3Lr7A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2024-10-19T19:13:49Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @bradygaster ",
                                           "updatedAt":  "2024-10-19T16:00:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gg1q7",
                                           "createdAt":  "2025-03-02T23:22:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "Also keda is used for container apps l, so still looks good for next streps, ",
                                           "updatedAt":  "2025-03-02T23:22:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gk19p",
                                           "createdAt":  "2025-03-03T11:06:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "@KSemenenko IMHO HealthCheck would be hooked into Keda; a group of health checks would could be tagged with \u0027scaling-up\u0027 and watch for cpu, memory, io etc. and before the service becomes unhealthy trigger keda scaling by posting the event to scale, this could allow any custom healthcheck to control scaling and cover a large number of cases already where healthchecks already exist.\n",
                                           "updatedAt":  "2025-03-03T11:06:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gk3ii",
                                           "createdAt":  "2025-03-03T11:08:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "@KSemenenko Idea this could be achieved via HealthChecks having a Keda Publisher",
                                           "updatedAt":  "2025-03-03T11:08:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gqSXN",
                                           "createdAt":  "2025-03-03T20:14:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "As I know there is options for monitoring recourses like cpu or ram, but also you can send into keda metrics, and then cpkeda can spscale your mods depend on its setup. Like rabbitmq base on numbers input queue, or average http requests ",
                                           "updatedAt":  "2025-03-03T20:14:26Z"
                                       }
                                   ],
                         "totalCount":  16
                     },
        "title":  "Keda",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1339",
        "createdAt":  "2023-12-11T23:08:15Z",
        "number":  1339,
        "author":  "ealsur",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:35Z",
        "body":  "The Azure Cosmos DB team provides an `IDistributedCache` Nuget package that, similar to Redis, can be used by applications.\r\n\r\nThe package\u0027s source code is at https://github.com/Azure/Microsoft.Extensions.Caching.Cosmos and it\u0027s a NETStandard 2.0 component using `Microsoft.Extensions.Caching.Abstractions:6.0.0` (which we could bump to 8.0.0).\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHObm0Xbw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5ubRdv",
                                           "createdAt":  "2023-12-12T19:06:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ealsur",
                                           "body":  "@DamianEdwards let me know if we can contribute or if there is anything we can help with if this component sounds like a valuable addition",
                                           "updatedAt":  "2023-12-12T19:06:09Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Proposal for adding Azure Cosmos DB Distributed Cache component",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1424",
        "createdAt":  "2023-12-15T23:39:29Z",
        "number":  1424,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T05:53:24Z",
        "body":  "With https://github.com/dotnet/aspire/pull/1383, we are using code from https://github.com/dotnet/runtime/tree/main/src/libraries/Microsoft.Extensions.Configuration.Binder/gen. This is currently manually copied from dotnet/runtime. We should enable an automated sync that creates a PR automatically when dotnet/runtime updates.\r\n\r\ncc @joperezr @sebastienros ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOdm9zlw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc52b3OX",
                                           "createdAt":  "2024-03-09T23:59:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Putting in the backlog.",
                                           "updatedAt":  "2024-03-09T23:59:21Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Sync ConfigurationSchemaGenerator code from dotnet/runtime",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1425",
        "createdAt":  "2023-12-16T01:01:26Z",
        "number":  1425,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T08:04:39Z",
        "body":  "With https://github.com/dotnet/aspire/pull/1383, we don\u0027t support all the types that are possible with Configuration.Binder source generator. Specifically we need to support:\r\n\r\n* EnumerableSpec\r\n  - For example `Azure.Core.DiagnosticsOptions` LoggedHeaderNames and LoggedQueryParameters which are `IList\u003cstring\u003e`.\r\n* DictionarySpec\r\n  - For example `RabbitMQ.Client.ConnectionFactory.ClientProperties` which is a `IDictionary\u003cstring, object\u003e`.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support more type specs in ConfigurationSchemaGenerator",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1426",
        "createdAt":  "2023-12-16T01:04:16Z",
        "number":  1426,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T08:04:59Z",
        "body":  "Performance wise, the tool takes ~400-500 ms to run. An option we should try is to load the Roslyn assemblies from the SDK, which are already R2R\u0027d. This may make the tool faster because it won\u0027t need to JIT Roslyn every time it is run. This would be the same logic used in https://github.com/dotnet/sdk/pull/22277.\r\n\r\nWe should try this and see if it makes a measurable difference in how long it takes to run.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Investigate loading ReadyToRun version of Roslyn in ConfigurationSchemaGenerator",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1546",
        "createdAt":  "2024-01-04T13:43:55Z",
        "number":  1546,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC1qgNw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "seesharprun",
                                            "createdAt":  "2024-02-05T21:42:27Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2024-10-16T08:03:31Z",
        "body":  "Some Azure resources locate some operations that you might wish to perform inside the Azure management plane SDKs for .NET. A good example is that you cannot create a database via the data plane Cosmos SDK when using AAD / managed identity tokens. To create a database you need to use the resource manager APIs (and that needs sufficient permission to perform the operations on the Azure subscription.\r\n\r\nWe need a mechanism that allows us to add the host Azure subscription for an Asprie app as a resource for the app model and have an Aspire component that takes that resource connection info to preconfigure a client to perform management plane operations. Some applications need to be able to dynamically create resources (e.g. spinning up ACI instances for background operations).",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOb-xOuw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5v4qaU",
                                           "createdAt":  "2024-01-04T13:49:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "/cc @davidfowl @vhvb1989 @ellismg \r\n\r\nFor discussion only at this point.",
                                           "updatedAt":  "2024-01-04T13:49:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5v7E67",
                                           "createdAt":  "2024-01-04T21:04:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ellismg",
                                           "body":  "Somewhat related - I have been thinking about adding an `azure.deployment.v0` resource where the resource contains a template to be deployed as part of the overall infrastructure deployment.\r\n\r\n\u003e Some applications need to be able to dynamically create resources (e.g. spinning up ACI instances for background operations).\r\n\r\nSuspect this will also be a thing when we support ACA Jobs if that ends up becoming a thing...",
                                           "updatedAt":  "2024-01-04T21:04:04Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "We need an Aspire component for Azure SDK for .NET\u0027s Resource Manager APIs",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1693",
        "createdAt":  "2024-01-18T09:40:44Z",
        "number":  1693,
        "author":  "snovak7",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC9zVqA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "paulomorgado",
                                            "createdAt":  "2024-12-31T12:28:49Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2024-12-31T14:04:42Z",
        "body":  "Like classic RabbitMQ Client, it would be great to support Stream Client as a component",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmPlhKQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5xL5TZ",
                                           "createdAt":  "2024-01-18T17:47:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEAp03Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "paulomorgado",
                                                                               "createdAt":  "2024-12-31T12:28:59Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "This would be to integrate [this client](https://github.com/rabbitmq/rabbitmq-stream-dotnet-client), yes? It seems this package has very light use in the ecosystem currently so likely wouldn\u0027t be something we prioritize for now.",
                                           "updatedAt":  "2024-01-18T17:49:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xL8lo",
                                           "createdAt":  "2024-01-18T17:56:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snovak7",
                                           "body":  "@DamianEdwards yes",
                                           "updatedAt":  "2024-01-18T17:56:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xL-13",
                                           "createdAt":  "2024-01-18T18:03:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snovak7",
                                           "body":  "To some degree I already have the code, needs to be adjusted to Aspire \u0026 maybe some features like Telemetry.\r\n\r\nI\u0027ll provide a PR if I manage to do the code",
                                           "updatedAt":  "2024-01-18T18:03:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xL_94",
                                           "createdAt":  "2024-01-18T18:06:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Thanks, but just to set expectations, this isn\u0027t currently a priority for us to review and accept. We\u0027re focused on getting our initial GA release out the door right now and an \"official\" Aspire component for RabbitMQ streams isn\u0027t part of that.",
                                           "updatedAt":  "2024-01-18T18:06:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5xMEWL",
                                           "createdAt":  "2024-01-18T18:19:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snovak7",
                                           "body":  "Of course!",
                                           "updatedAt":  "2024-01-18T18:19:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-E8q",
                                           "createdAt":  "2024-12-31T12:29:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "@snovak7, have you been able to launch the RabbitMQ container with stream support?",
                                           "updatedAt":  "2024-12-31T12:29:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-F-i",
                                           "createdAt":  "2024-12-31T12:35:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snovak7",
                                           "body":  "@paulomorgado In previous versions yes, lately it\u0027s giving me headaches, if I add stream plugin, finding a better container image might help",
                                           "updatedAt":  "2024-12-31T12:35:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-GqV",
                                           "createdAt":  "2024-12-31T12:40:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "Aspire is lacking orchestration for containers that require interaction post container restart.",
                                           "updatedAt":  "2024-12-31T12:40:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-LBp",
                                           "createdAt":  "2024-12-31T12:57:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snovak7",
                                           "body":  "health check might help here?",
                                           "updatedAt":  "2024-12-31T12:57:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-RMJ",
                                           "createdAt":  "2024-12-31T13:34:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "It\u0027s a bit more complex than that. As I understand it, `rabbitmq-plugins enable rabbitmq_stream rabbitmq_stream_management` needs to be executed on the container after RabbitMQ has started.",
                                           "updatedAt":  "2024-12-31T13:34:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-VEX",
                                           "createdAt":  "2024-12-31T13:58:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "This is where I am now:\n\n```csharp\nvar rabbitMQ = builder.AddRabbitMQ(\"rabbitmq\")\n    .WithManagementPlugin()\n    .WithEndpoint(targetPort: 5552, name: \"streams\")\n    .WithArgs(\"/bin/bash\", \"-c\", \"rabbitmq-plugins enable --offline rabbitmq_stream \u0026\u0026 rabbitmq-server\")\n    .WithEnvironment(\"RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\", \"-rabbitmq_stream advertised_host localhost\")\n    .WithEnvironment(\"RABBITMQ_STREAM_LOG_RETENTION_SIZE\", \"100000000\")\n    .WithEnvironment(\"RABBITMQ_STREAM_MAX_SEGMENT_SIZE_BYTES\", \"10000000\")\n    ;\n```",
                                           "updatedAt":  "2024-12-31T13:58:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Y-WEp",
                                           "createdAt":  "2024-12-31T14:04:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEAqRPQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "paulomorgado",
                                                                               "createdAt":  "2024-12-31T14:17:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "snovak7",
                                           "body":  "From https://hub.docker.com/_/rabbitmq\n\nif you just mount `/etc/rabbitmq/enabled_plugins`\n\nand list plugins you need?\n\nfor example\n\n```\n[rabbitmq_management,rabbitmq_stream]\n```",
                                           "updatedAt":  "2024-12-31T14:04:42Z"
                                       }
                                   ],
                         "totalCount":  12
                     },
        "title":  "RabbitMQ Stream Client component",
        "labels":  [
                       "area-integrations",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1869",
        "createdAt":  "2024-01-26T04:25:52Z",
        "number":  1869,
        "author":  "dersia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC5CSgQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "anuraj",
                                            "createdAt":  "2024-07-01T08:50:36Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2024-10-16T08:03:21Z",
        "body":  "I think an AzureB2C component makes a lot of sense. this can than be handed over to the service with the `WithReference` and can be use with `AddAuthtication`. so basically this would create an b2c tenant on azure, create the appropriate app registraions and set all the needed configuraion like clientId, tenantId, policy names etc.\r\n\r\nsetting up b2c the correct way is often a pain a lot devs struggle with that. we could also add support for custom policies and if someone has a custom ui for b2c on another (react, blazor) project this could also setup the right setup for the identity framework experience files.\r\n\r\nthis could be bigger feature and might need some time planning beforehand.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOcgyRuA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5x7p_e",
                                           "createdAt":  "2024-01-26T04:30:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODUK_pA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "dersia",
                                                                               "createdAt":  "2024-01-26T04:31:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is out of scope for v1.",
                                           "updatedAt":  "2024-01-26T04:30:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5x7q0l",
                                           "createdAt":  "2024-01-26T04:36:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dersia",
                                           "body":  "I\u0027d like to contribute this and I understand, that it is out of scope for v1 and that\u0027s a good thing, it gives me time to get this right.",
                                           "updatedAt":  "2024-01-26T04:36:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yDJG4",
                                           "createdAt":  "2024-01-28T02:59:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODUvBZg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "dersia",
                                                                               "createdAt":  "2024-01-30T22:38:00Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Sure feel free to start tackling it!",
                                           "updatedAt":  "2024-01-28T02:59:43Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Add AzureB2C component",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2060",
        "createdAt":  "2024-02-03T02:33:12Z",
        "number":  2060,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC1nsVQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "davidfowl",
                                            "createdAt":  "2024-02-03T02:58:52Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-05-13T16:38:31Z",
        "body":  "Currently if we use `WithPgAdmin` (for example) on one resource, it opts all postgres resources in. It would be better to opt a particular resource into working with PgAdmin on a resource by resource basis.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOdakp4w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5yva0r",
                                           "createdAt":  "2024-02-03T02:59:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Use an annotation to opt in?",
                                           "updatedAt":  "2024-02-03T02:59:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yz8UZ",
                                           "createdAt":  "2024-02-05T04:38:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I\u0027m actually thinking of creating a base annotation type. Something like this:\r\n\r\n```csharp\r\npublic class RelationshipAnnotation\u003cTSource, TDestination\u003e(TSource source, TDestination) where TSource: IResource where TDestination: IResource\r\n{\r\n    public TSource Source { get; } = source;\r\n    public TDestination Destination { get; } = destination;\r\n}\r\n```\r\n\r\nThe idea is that folks could sub class it - perhaps like this:\r\n\r\n```csharp\r\npublic class PgAdminRegistrationAnnotation\u003cPostgresDatabaseResource, PostgresServerREsource\u003e(...) : RelationshipAnnotation(...)\r\n{\r\n}\r\n```\r\n\r\nThe base class probably doesn\u0027t add much but perhaps we might be able to use this for things like expressing dependencies (its just a relationship after all).\r\n",
                                           "updatedAt":  "2024-02-05T04:38:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5yz83l",
                                           "createdAt":  "2024-02-05T04:41:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Is it usable if it\u0027s generic? Can consuming code fill those type arguments?",
                                           "updatedAt":  "2024-02-05T04:41:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5y2aTI",
                                           "createdAt":  "2024-02-05T12:17:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Yeah that is a good point. Non generic would be better for general purpose usage. The derivation might still be helpful for adding relationship data though.",
                                           "updatedAt":  "2024-02-05T12:17:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51p7hS",
                                           "createdAt":  "2024-03-01T21:13:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "@mitchdenny are we doing this for P5? If so, is it okay if I assign this to you?",
                                           "updatedAt":  "2024-03-01T21:13:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51qSnj",
                                           "createdAt":  "2024-03-01T22:29:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "No, we should try to give this to someone else. @mitchdenny is focused on CDK work",
                                           "updatedAt":  "2024-03-01T22:29:11Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Make PgAdmin, RedisCommander, and incoming MyPhpAdmin opt in per resource.",
        "labels":  [
                       "area-integrations",
                       "postgres",
                       "redis",
                       "📎papercut"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2116",
        "createdAt":  "2024-02-07T15:16:41Z",
        "number":  2116,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC7O4Kw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "timheuer",
                                            "createdAt":  "2024-02-07T16:51:46Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sommmen",
                                            "createdAt":  "2024-04-13T14:55:17Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "faramos",
                                            "createdAt":  "2024-06-27T15:07:07Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "KennethHoff",
                                            "createdAt":  "2024-09-23T11:52:41Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2024-10-30T14:07:39Z",
        "body":  "Today these resources hardcode the endpoint information on the host (assuming host.docker.internal). We need to make these work for azure resources as well.\r\n\r\ncc @mitchdenny @timheuer ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkd6rZA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5zgbGF",
                                           "createdAt":  "2024-02-11T21:39:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "What would you envisage the API being like?\r\n\r\nWe don\u0027t have a resource to hang the WithPgAdmin call off so we\u0027d probably be looking to do what we had discussed previously and promote PgAdmin to its own resource with something like:\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\nvar remotePgDb = builder.AddConnectionString(\"myconnection\");\r\nbuilder.AddPgAdmin(\"pgadmin\")\r\n       .WithReference(remotePgDb);\r\n```\r\n\r\nWe would take advantage of a more specific WithReference implementation. An alternative could be something like this:\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\nvar remotePgDb = builder.AddConnectionString(\"myconnection\")\r\n                        .WithPgAdmin();\r\n```\r\n\r\nBut `remotePgDb` is of type `IResourceBuilder\u003cIResourceWithConnectionString\u003e` so that could be somewhat confusing. Also, in this case we would need to introduce a kind of `LinkAnnotation` so that the lifecycle hook that generates the config for PgAdmin knows which of the possible many IResourceWithConnectionString instances it should treat as a postgres server.",
                                           "updatedAt":  "2024-02-11T21:39:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5zgbIT",
                                           "createdAt":  "2024-02-11T21:40:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Putting on the backlog for now but may bring forward into P4/P5 depending on where this conversation goes.",
                                           "updatedAt":  "2024-02-11T21:40:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52bele",
                                           "createdAt":  "2024-03-09T16:47:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Bringing into preview.5 to fix the hard-coded use of `host.docker.internal`",
                                           "updatedAt":  "2024-03-09T16:47:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52bfIa",
                                           "createdAt":  "2024-03-09T16:57:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "That\u0027s already tracked https://github.com/dotnet/aspire/issues/2639",
                                           "updatedAt":  "2024-03-09T16:57:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52bfX-",
                                           "createdAt":  "2024-03-09T17:01:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "So that tracks updating places in `Aspire.Hosting` and friends that still hardcode it?",
                                           "updatedAt":  "2024-03-09T17:01:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52bgqF",
                                           "createdAt":  "2024-03-09T17:23:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODZ-C6w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2024-03-09T17:45:17Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes. In preview 4 [this change](https://github.com/dotnet/aspire/pull/2685) centralized the hard coding (instead of hardcoding it in n places). In preview 5, the change will be to detect the container runtime so that it\u0027s available in a less hardcoded way. I think given the changes we\u0027ve made to modeling endpoints, we should be able to fix it by expressing the endpoint reference in an expression and have the [runtime replace it with the right value](https://github.com/dotnet/aspire/blob/493f631075a04382bef6d312945ff60a58f30975/src/Aspire.Hosting/Dcp/ApplicationExecutor.cs#L659-L662)",
                                           "updatedAt":  "2024-03-09T17:23:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LLwPE",
                                           "createdAt":  "2024-09-07T08:14:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This will be possible with enhancements @mitchdenny is making to the app model.",
                                           "updatedAt":  "2024-09-07T08:14:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LLzMj",
                                           "createdAt":  "2024-09-07T09:06:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "\u003e This will be possible with enhancements @mitchdenny is making to the app model.\r\n\r\nCould you please mention related PR/PRs?\r\n\r\nI could take this and work around it.\r\n",
                                           "updatedAt":  "2024-09-07T09:06:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRj1A",
                                           "createdAt":  "2024-09-08T10:43:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "In the case of Redis you could probably subscribe to the `ConnectionStringAvailableEvent` (using `builder.Eventing.Subscribe...` and then overwrite the `REDIS_HOSTS` variable. This is something we\u0027ll try to get working in a built in way.\r\n\r\nThere are a few concerns that we need to consider such as do we really want to be persisting a credential to a cloud hosted Postgres server in a config file that is written to a temp directory.\r\n\r\nThat isn\u0027t such an issue for randomly generated passwords that are just used for development purposes but when we are talking about Azure hosted resources we should probably be a bit more circumspect.",
                                           "updatedAt":  "2024-09-08T10:43:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LSAX5",
                                           "createdAt":  "2024-09-08T16:57:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Well in the case when the db is remote, but pgadmin is local it should just work",
                                           "updatedAt":  "2024-09-08T16:57:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6N5OUN",
                                           "createdAt":  "2024-09-28T10:01:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Odonno",
                                           "body":  "PgWeb also stores the password in a toml file. I don\u0027t recall seeing anything that says the admin UI is never published with other resources. AFAIK, connections are opened on the client so connection infos has to be passed via the network which mean passwords are sent via the network.\r\n\r\nIn any case, I don\u0027t see a proper solution for this. Imagining symmetric hashing which imply storing the keys that also need to be sent with the client app...\r\n\r\nI am just curious to know your thoughts on this.",
                                           "updatedAt":  "2024-09-28T10:01:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6R3qtk",
                                           "createdAt":  "2024-10-30T14:07:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Odonno",
                                           "body":  "Any response on this?",
                                           "updatedAt":  "2024-10-30T14:07:38Z"
                                       }
                                   ],
                         "totalCount":  12
                     },
        "title":  "Make PgAdmin, RedisCommander, and MyPhpAdmin usable for remote resources",
        "labels":  [
                       "area-integrations",
                       "postgres",
                       "redis"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2130",
        "createdAt":  "2024-02-08T07:16:50Z",
        "number":  2130,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:18Z",
        "body":  "https://learn.microsoft.com/en-us/azure/mysql/quickstart-create-mysql-server-database-using-bicep\r\n\r\n## AsAzureMySql\r\n\r\nAsAzureMySql will treat this resource like an Azure resource when run locally and in when published to the manifest. \r\n\r\n```C#\r\nvar builder = DistributedApplication.CreateBuilder();\r\nvar db = builder.AddMySql(\"mysql\")\r\n                .AsAzureMySql()\r\n                .AddDatabase(\"db\");\r\n```\r\n\r\n## PublishAsAzureMySql\r\n\r\nPublishAsAzureMySql will only affect the manifest but will run as a container image locally.\r\n\r\n```C#\r\nvar builder = DistributedApplication.CreateBuilder();\r\nvar db = builder.AddMySql(\"mysql\")\r\n                .PublishAsAzureMySql()\r\n                .AddDatabase(\"db\");\r\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOdd1vVg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5033A-",
                                           "createdAt":  "2024-02-23T06:33:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Moving this to preview5 ",
                                           "updatedAt":  "2024-02-23T06:33:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51p82M",
                                           "createdAt":  "2024-03-01T21:17:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "@davidfowl will you be taking care of this, or will it be @mitchdenny ?",
                                           "updatedAt":  "2024-03-01T21:17:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51qSc7",
                                           "createdAt":  "2024-03-01T22:28:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "One of us.",
                                           "updatedAt":  "2024-03-01T22:28:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc513W9W",
                                           "createdAt":  "2024-03-04T21:00:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODZRMgQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "mitchdenny",
                                                                               "createdAt":  "2024-03-04T21:01:26Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "joperezr",
                                           "body":  "Assigning to @mitchdenny but CDK work takes priority.",
                                           "updatedAt":  "2024-03-04T21:00:18Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Support Azure MySQL as a deployment option for mysql in Aspire.Hosting.Azure",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "mysql"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2138",
        "createdAt":  "2024-02-08T17:32:14Z",
        "number":  2138,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODAsWfQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "christiannagel",
                                            "createdAt":  "2024-02-23T07:31:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "snovak7",
                                            "createdAt":  "2024-10-18T20:08:39Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "renanmarcos",
                                            "createdAt":  "2024-10-23T00:26:22Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AdrianoAE",
                                            "createdAt":  "2025-03-31T19:56:08Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-03-22T15:44:47Z",
        "body":  "When components add health checks today, they don\u0027t set tags at all. For example:\r\n\r\nhttps://github.com/dotnet/aspire/blob/f2d158bf2b02e370a6c0714313823e5a612ab962/src/Components/Aspire.StackExchange.Redis/AspireRedisExtensions.cs#L120-L129\r\n\r\nIf someone wanted to segregate their health checks so they could be run in different groupings, they would want to be able to specify the tag values for each health check added by components. This would be similar to how we do the default health check endpoints using tags:\r\n\r\nhttps://github.com/dotnet/aspire/blob/f2d158bf2b02e370a6c0714313823e5a612ab962/src/Aspire.ProjectTemplates/templates/aspire-servicedefaults/Extensions.cs#L104-L111\r\n\r\nShould we support an `IList\u003cstring\u003e HealthCheckTags` property on the `XXXSettings` objects that support HealthChecks? That way people could configure the tag values per component and can design how they want their health checks to be run.\r\n\r\ncc @davidfowl @DamianEdwards @sebastienros @radical ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOo6JciA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc52b3xP",
                                           "createdAt":  "2024-03-10T00:07:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Should we support an IList\u003cstring\u003e HealthCheckTags property on the XXXSettings objects that support HealthChecks? That way people could configure the tag values per component and can design how they want their health checks to be run.\r\n\r\nI think so, it would be part of the settings object and configurable via configuration ?",
                                           "updatedAt":  "2024-03-10T00:07:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52kuNT",
                                           "createdAt":  "2024-03-11T20:06:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e it would be part of the settings object and configurable via configuration ?\r\n\r\nThat was my thinking, yes.",
                                           "updatedAt":  "2024-03-11T20:06:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Q32ba",
                                           "createdAt":  "2024-10-23T00:30:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "renanmarcos",
                                           "body":  "I miss this feature, could be useful if we can configure using Actions too, example:\n\n```csharp\nbuilder.AddMongoDBClient(\"Databasename\", configureSettings =\u003e\n{\n    configureSettings.HealthCheckTags = [\"tag1\", \"tag2\"]\n});\n```",
                                           "updatedAt":  "2024-10-23T00:30:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6jolyI",
                                           "createdAt":  "2025-03-22T15:44:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "AdrianoAE",
                                           "body":  "Would be useful if we could also specify the health check name",
                                           "updatedAt":  "2025-03-22T15:44:45Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Support tags for Health Checks added by Components",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2177",
        "createdAt":  "2024-02-11T07:04:16Z",
        "number":  2177,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:45Z",
        "body":  "We can set `AZURE_COSMOS_EMULATOR_PARTITION_COUNT` to a lower number. Today it seems to default to 11 partitions.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOjURA2w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5zezsq",
                                           "createdAt":  "2024-02-11T07:10:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I experimented with this. It doesn\u0027t seem to have any impact on overall startup performance of the emulator :(",
                                           "updatedAt":  "2024-02-11T07:10:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NREDb",
                                           "createdAt":  "2024-09-24T03:46:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODzUgDw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "radical",
                                                                               "createdAt":  "2024-09-24T04:55:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@radical This isn\u0027t critical for 9.x so I\u0027m moving it out. If we end up figuring out all of the issues with the emulator and merge the change, feel free to put it back in 9",
                                           "updatedAt":  "2024-09-24T03:46:10Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Reduce default partition count in cosmos emulator",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2203",
        "createdAt":  "2024-02-13T12:58:22Z",
        "number":  2203,
        "author":  "BoBiene",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:17Z",
        "body":  "Hi,\r\n\r\ni can see, that you support Azure BlobStorage but not FileShare - is that on your list or can i already use it but only the documentation is missing?",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOc8b24Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5zxvbh",
                                           "createdAt":  "2024-02-13T20:30:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "It\u0027s not currently in the plans, but we\u0027re making it possible to add any azure resource by adding some bicep. So if there\u0027s a resource or feature that we don\u0027t support. You should be able to model it in your own code.",
                                           "updatedAt":  "2024-02-13T20:30:23Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Support for Azure File Share",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-storage"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2348",
        "createdAt":  "2024-02-22T04:07:16Z",
        "number":  2348,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-01T16:03:29Z",
        "body":  "There are multiple ways to support mongo db on Azure\r\n\r\n- https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/vcore/\r\n- https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/introduction\r\n\r\n\r\nBicep example (I think this is the first one).\r\nhttps://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/manage-with-bicep\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrguIWg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5033Db",
                                           "createdAt":  "2024-02-23T06:34:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Moving this to preview 5",
                                           "updatedAt":  "2024-02-23T06:34:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc513XKr",
                                           "createdAt":  "2024-03-04T21:00:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "CDK work takes priority over this.",
                                           "updatedAt":  "2024-03-04T21:00:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uC4ha",
                                           "createdAt":  "2025-05-29T16:50:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Meir017",
                                           "body":  "would this include https://learn.microsoft.com/en-us/azure/cosmos-db/mongodb/vcore/quickstart-dotnet#authenticate-the-client ? would be nice to not have to worry about configuring the MongoDB client to azure\u0027s `TokenCredential` \n\n\nwould this simply be a wrapper on top of https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.MongoDB.Driver/AspireMongoDBDriverExtensions.cs?\n\nwith the code snippet from the above docs?\n\nOr, is this expected to build on top https://github.com/microsoft/documentdb/blob/main/.github/containers/Build-Ubuntu/PrebuildImageList.md ?",
                                           "updatedAt":  "2025-06-01T16:03:28Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Support provisioning MongoDB via CosmosDB on Azure",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb",
                       "mongodb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2405",
        "createdAt":  "2024-02-25T08:48:07Z",
        "number":  2405,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC2MRJg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "vhvb1989",
                                            "createdAt":  "2024-02-25T20:39:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "WhitWaldo",
                                            "createdAt":  "2024-02-28T21:59:33Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2024-10-16T08:03:14Z",
        "body":  "Today we added support for a single bicep file via a string, embedded resource or a file. There are some situations where multiple modules are needed (usually because of ARM or bicep limitations). We should extend the bicep resource to support a single main file (what we have today) and multiple modules that are stored either as resources or files on disk. When the manifest is published, we should copy all of the files to a subfolder and move all modules relative to the main bicep file. We may need to represent the modules as well.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOeO-9ug==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc510l_G",
                                           "createdAt":  "2024-03-04T14:35:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Moving to backlog @mitchdenny, if you think we *have* to do this holler",
                                           "updatedAt":  "2024-03-04T14:35:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc547726",
                                           "createdAt":  "2024-04-01T00:49:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I think it\u0027ll come up at some point, but definitely post GA. We might find that for AddBicepTemplate that it isn\u0027t much of an issue because the bicep modules that you reference are relative to the Bicep file that you reference in AddBicepTemplate. Where I think it\u0027ll require some thought is the CDK callbacks if the CDK callbacks result in multiple outputs (doesn\u0027t happen today but the API is evolving).\r\n\r\nIn that case the `Infrastructure.Build(...)` call from CDK is going to give us some more controls.",
                                           "updatedAt":  "2024-04-01T00:49:03Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Add support for multiple bicep modules",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2408",
        "createdAt":  "2024-02-25T21:24:58Z",
        "number":  2408,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-31T13:37:41Z",
        "body":  "Seems like there are 2 ways of supporting this:\r\n\r\n1. https://learn.microsoft.com/en-us/azure/event-hubs/azure-event-hubs-kafka-overview\r\n2. https://learn.microsoft.com/en-us/azure/hdinsight/kafka/apache-kafka-introduction\r\n\r\n1 seems like the easiest option for now since we also want to support [Azure Event Hubs](https://github.com/dotnet/aspire/issues/1147) as a component.\r\n\r\nHere\u0027s the sample of using the kafka API with event grid:\r\n\r\nhttps://github.com/Azure/azure-event-hubs-for-kafka/tree/master/quickstart/dotnet",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpOHYNQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6k4dg1",
                                           "createdAt":  "2025-03-31T13:37:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vpaulino",
                                           "body":  "Hi there! I\u0027m interested in contributing to this issue and would love a bit of guidance to align with the intended direction.\n\nI see that Aspire already supports Kafka via AddKafka() for local development using containers. Given that .NET also has an official SDK for Azure Event Hubs, I\u0027m wondering:\n\nIs the goal of this issue to support Azure Event Hubs using its Kafka-compatible endpoint, enabling developers to use Kafka clients like Confluent.Kafka but against an Azure resource?\n\nOr is the intended direction to integrate native Event Hubs support via the Azure.Messaging.EventHubs SDK?\n\nIf we follow the Kafka-compatible route, would you envision:\n\nA new Aspire component like AddAzureEventHubKafka(...), or\n\nA configuration extension on top of the existing AddKafka() model?\n\nAre there any observability or inner-loop experience goals we should keep in mind for this integration?\n\nHappy to explore either direction — just want to make sure I’m adding value where it’s needed most.",
                                           "updatedAt":  "2025-03-31T13:37:40Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Support Kafka in Azure",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2427",
        "createdAt":  "2024-02-26T07:35:55Z",
        "number":  2427,
        "author":  "roji",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC3eEwg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "splitt3r",
                                            "createdAt":  "2024-04-25T06:16:08Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-05T22:21:25Z",
        "body":  "SqlClient itself doesn\u0027t emit OpenTelemetry tracing, but an [instrumentation package](https://github.com/open-telemetry/opentelemetry-dotnet/blob/main/src/OpenTelemetry.Instrumentation.SqlClient/README.md) exists for that; this emits traces for each command executed.\r\n\r\nAspire.Microsoft.Data.SqlClient currently wires up [event counter-based metrics](https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.Microsoft.Data.SqlClient/AspireSqlServerSqlClientExtensions.cs#L95), but does not wire up tracing - we should add that to get traces out-of-the-box.\r\n\r\n/cc @AndriySvyryd ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwk5d3w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc52b4rH",
                                           "createdAt":  "2024-03-10T00:19:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@roji is this something you\u0027re planning to contribute?",
                                           "updatedAt":  "2024-03-10T00:19:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc52b54M",
                                           "createdAt":  "2024-03-10T00:44:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "roji",
                                           "body":  "@davidfowl no immediate plans, no... But note that for tracing there\u0027s an [external instrumentation package](https://github.com/open-telemetry/opentelemetry-dotnet/blob/main/src/OpenTelemetry.Instrumentation.SqlClient/README.md), which can be used and makes this less urgent.\r\n\r\nUnfortunately the same isn\u0027t true for metrics, see #2211...",
                                           "updatedAt":  "2024-03-10T00:44:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6V20Oe",
                                           "createdAt":  "2024-12-03T10:38:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD-pZnw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "alefcarlos",
                                                                               "createdAt":  "2024-12-11T22:35:15Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "skolima",
                                           "body":  "Update: current version of Aspire for SqlClient registers open telemetry support. Kinda.\n\n1) The [`Aspire.Microsoft.Data.SqlClient`](https://www.nuget.org/packages/Aspire.Microsoft.Data.SqlClient) package does not depend on [`OpenTelemetry.Instrumentation.SqlClient`](https://www.nuget.org/packages/OpenTelemetry.Instrumentation.SqlClient) so that dependency needs to be added directly into consumer\u0027s `.csproj`\n2) There is currently now plug-in point to set custom options for the tracing configuration.\n\nWe had to set `Aspire:Microsoft:Data:SqlClient:DisableTracing` to `true` because it was disabling the options we wanted, and register the sql client instrumentation explicitly:\n\n```csharp\n.AddSqlClientInstrumentation(\no =\u003e\n{\n    o.SetDbStatementForStoredProcedure = true;\n    o.SetDbStatementForText = true;\n    o.RecordException = true;\n})\n```\n\nIt would be nice if those were exposed from the Aspire\u0027s `.AddSqlServerClient` or from the configuration. Better defaults here would be nice, too.",
                                           "updatedAt":  "2024-12-03T10:38:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6XPN4e",
                                           "createdAt":  "2024-12-11T22:40:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "alefcarlos",
                                           "body":  "@davidfowl,\n\n[SqlClientTraceInstrumentationOptions](https://github.com/dotnet/aspire/blob/main/src/Vendoring/OpenTelemetry.Instrumentation.SqlClient/SqlClientTraceInstrumentationOptions.cs) is internal, so we cant configure the options. Why did you duplicate de sourcecode instead of using the [contrib-package](https://github.com/open-telemetry/opentelemetry-dotnet-contrib/tree/main/src/OpenTelemetry.Instrumentation.SqlClient)  ?",
                                           "updatedAt":  "2024-12-11T22:40:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6XRC0h",
                                           "createdAt":  "2024-12-12T05:09:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD-xb7w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "alefcarlos",
                                                                               "createdAt":  "2024-12-12T16:38:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "IIRC OpenTelemetry.Instrumentation.SqlClient has no non-prerelease version \n\ncc @eerhardt ",
                                           "updatedAt":  "2024-12-12T05:09:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6XXRFM",
                                           "createdAt":  "2024-12-12T16:39:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "alefcarlos",
                                           "body":  "I got it. Thank you!\n\n@davidfowl, @eerhardt \n\nIs there any chance to change the *Options types to public ?",
                                           "updatedAt":  "2024-12-12T16:39:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6XXT4y",
                                           "createdAt":  "2024-12-12T16:44:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD-0Z9Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "alefcarlos",
                                                                               "createdAt":  "2024-12-12T16:47:50Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "roji",
                                                                               "createdAt":  "2024-12-12T22:59:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Until OpenTelemetry.Instrumentation.SqlClient becomes stable (or the tracing is built into SqlClient directly), we wouldn\u0027t expose these APIs from the Aspire client integration package.\n\n\u003e We had to set Aspire:Microsoft:Data:SqlClient:DisableTracing to true because it was disabling the options we wanted, and register the sql client instrumentation explicitly:\n\nThis would be my recommendation until that time.",
                                           "updatedAt":  "2024-12-12T16:44:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CSR_u",
                                           "createdAt":  "2025-09-05T19:51:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhSW-w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "edwardneal",
                                                                               "createdAt":  "2025-09-05T22:22:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "cijothomas",
                                                                               "createdAt":  "2025-09-05T22:23:15Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "0xfeeddeadbeef",
                                                                               "createdAt":  "2025-09-05T23:08:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Frulfump",
                                                                               "createdAt":  "2025-09-06T00:01:45Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "robertcoltheart",
                                                                               "createdAt":  "2025-09-06T00:13:15Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ErikEJ",
                                                                               "createdAt":  "2025-09-06T06:15:36Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "wurtzthomas",
                                                                               "createdAt":  "2025-09-08T10:55:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  7
                                                         },
                                           "author":  "ascott18",
                                           "body":  "This experience is really challenging to navigate. There are essentially four different copies of SqlClient instrumentation being distributed in four different packages:\n\n- Aspire.Microsoft.EntityFrameworkCore.SqlServer: https://github.com/dotnet/aspire/blob/2365bd52f090caa6520edcd0ac50e27e2cabf257/src/Components/Aspire.Microsoft.EntityFrameworkCore.SqlServer/Aspire.Microsoft.EntityFrameworkCore.SqlServer.csproj#L20\n- Aspire.Microsoft.Data.SqlClient: https://github.com/dotnet/aspire/blob/9b4f0eb14f9802bf97843a3fd2a06c0106fc5224/src/Components/Aspire.Microsoft.Data.SqlClient/Aspire.Microsoft.Data.SqlClient.csproj#L19\n- Azure.Monitor.OpenTelemetry.AspNetCore: https://github.com/Azure/azure-sdk-for-net/blob/fb4d2a582c19ce2fd9077a5f86cae701c6fbbd87/sdk/monitor/Azure.Monitor.OpenTelemetry.AspNetCore/src/OpenTelemetryBuilderExtensions.cs#L170-L185\n- OpenTelemetry.Instrumentation.SqlClient (opentelemetry-dotnet-contrib): https://github.com/open-telemetry/opentelemetry-dotnet-contrib/tree/main/src/OpenTelemetry.Instrumentation.SqlClient\n\nFor each one of these that end up enabled in your project, you get duplicate telemetry spans, duplicate places to configure the instrumentation, etc. The `Azure.Monitor` implementation at least tries to deduplicate itself from `opentelemetry-dotnet-contrib`, but it does not deduplicate itself from the Aspire copies, nor do the two Aspire copies deduplicate themselves from eachother, nor from `opentelemetry-dotnet-contrib`. It doesn\u0027t help that all the copies are duplicating the original `OpenTelemetry.*` namespace, which makes debugging this problem really difficult\n\nIs this something that the various teams at Microsoft around Aspire/EF/SqlClient/Azure Monitor can put a concerted effort into getting this consolidated into a single instrumentation provider package, and get that package to a release quality so it isn\u0027t being vendored all over the place?",
                                           "updatedAt":  "2025-09-05T19:51:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CTl3f",
                                           "createdAt":  "2025-09-05T22:21:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhIibQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "cijothomas",
                                                                               "createdAt":  "2025-09-05T22:25:18Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "edwardneal",
                                                                               "createdAt":  "2025-09-05T22:36:58Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ascott18",
                                                                               "createdAt":  "2025-09-05T23:38:21Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Frulfump",
                                                                               "createdAt":  "2025-09-06T00:01:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "roji",
                                           "body":  "Note that the issue tracking implementing OTel tracing inside SqlClient (which seems like the ideal way forward) is https://github.com/dotnet/SqlClient/issues/2210.",
                                           "updatedAt":  "2025-09-05T22:21:25Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "Add OpenTelemetry tracing instrumentation for SqlClient ",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2497",
        "createdAt":  "2024-02-28T03:12:38Z",
        "number":  2497,
        "author":  "WhitWaldo",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC-6utg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2025-02-09T19:07:11Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2024-10-16T08:03:12Z",
        "body":  "This is probably more of a GA-timeframe ask, but I didn\u0027t see an issue for it, so I thought I\u0027d make one so it\u0027s at least in the hopper. I\u0027d like to request support for Azure Front Door be added to the available components for those endpoint that are intended to be public-facing. Especially as this is presently targeting Azure Container Apps, adding Front Door support to the mix would mean getting custom domains with automatic certificate issuance as well as reduced load on the apps themselves as resources can be cached on the edge instead of served directly by the container app instance(s) every time.\r\n\r\nIdeally, this would also pair with support for Azure DNS (especially existing resources) - and while it\u0027s not trivial to do with Bicep today (I vaguely recall using some Powershell deployments), integration with DNS to automatically authenticate for certificate issuance would be amazing.\r\n\r\nI appreciate the consideration!",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOdWxq5A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc51TzE1",
                                           "createdAt":  "2024-02-28T03:19:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Definitely not happening for GA. ",
                                           "updatedAt":  "2024-02-28T03:19:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51ZKZY",
                                           "createdAt":  "2024-02-28T17:52:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "@davidfowl Would you accept a PR that enabled this?",
                                           "updatedAt":  "2024-02-28T17:52:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51Z4KM",
                                           "createdAt":  "2024-02-28T19:41:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Depends on what it looked like I guess. I\u0027m not sure how you\u0027d make it work in aspire today. Maybe the PR would bring some clarity on the integration. No guarantees it\u0027ll get merged, but it\u0027ll bring clarity at least.",
                                           "updatedAt":  "2024-02-28T19:41:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51aoR2",
                                           "createdAt":  "2024-02-28T21:05:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "I\u0027ve already written all this out with my own Bicep template so I\u0027ll adapt from that to give a sense of direction. I\u0027m starting to see some rough edges while working on it though:\r\n- Not clear how to reference child Bicep modules\r\n- Bicep doesn\u0027t have any notion of \"do this if the resource already exists or this other thing if not\" and I don\u0027t see any sort of mechanic in this deployment system either (I solve this myself via PowerShell script deployments)\r\n- PowerShell script deployments don\u0027t _require_ a managed identity unless you\u0027re performing Azure-specific stuff. Unfortunately, to spin up Front Door, one needs some Azure-specific stuff - does Aspire presently just use the authority of whoever submitted the job or does it spin up a deployment UAI as the principal?",
                                           "updatedAt":  "2024-02-28T21:05:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51auPb",
                                           "createdAt":  "2024-02-28T21:19:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I\u0027m not sure any this is possible with aspire, but I\u0027m willing to see what you are attempting to pull off.\r\n\r\n\u003e Not clear how to reference child Bicep modules\r\n\r\nNot possible yet. https://github.com/dotnet/aspire/issues/2405\r\n\r\n\u003e Bicep doesn\u0027t have any notion of \"do this if the resource already exists or this other thing if not\" and I don\u0027t see any sort of mechanic in this deployment system either (I solve this myself via PowerShell script deployments)\r\n\r\nRight, and that\u0027s not something we have designed or plan to for the initial version.\r\n\r\n\u003e does Aspire presently just use the authority of whoever submitted the job or does it spin up a deployment UAI as the principal?\r\n\r\nWhen deploying azd provisions a managed identity and uses it for everything. I expect this will change in the future.",
                                           "updatedAt":  "2024-02-28T21:20:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51a6C9",
                                           "createdAt":  "2024-02-28T21:57:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "I had a pretty hacky Powershell approach for deploying Front Doors with the custom domain DNS verification, but it looks like they\u0027ve cleaned up the Front Door templates a bit since I wrote that, so that actually simplifies this deployment quite a bit.\r\n\r\nOne remaining question and this should just about be done - this somehow deploys Azure Container Apps, but I don\u0027t see a .bicep file for them. I need to get the hostname out of its properties - how can I go about getting the name of both the Container App environment that\u0027s deployed by this tool so I can drop it into the input for this new Bicep template?\r\n\r\nStrike the last - I don\u0027t see a trivial way of getting it, but for purposes of this POC, I\u0027m extracting it from the Log Analytics Workspace ID since that _is_ a known parameter value.",
                                           "updatedAt":  "2024-02-28T22:13:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc51bGrk",
                                           "createdAt":  "2024-02-28T22:38:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODYr3Yw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-02-28T23:57:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "@davidfowl I created a draft PR - nothing is hooked up, but you can see the proposed extensions, resources and bicep template for both Azure DNS and Front Door in #2526 ",
                                           "updatedAt":  "2024-02-28T22:38:59Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Support for Azure Front Door and Azure DNS components",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2516",
        "createdAt":  "2024-02-28T15:11:55Z",
        "number":  2516,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODHFFCg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "IEvangelist",
                                            "createdAt":  "2024-03-01T12:40:53Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "The3G",
                                            "createdAt":  "2025-07-15T16:15:49Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-07-15T16:21:52Z",
        "body":  "See the discussion [here](https://github.com/dotnet/aspire/pull/2070#discussion_r1505375084).\r\n\r\nToday the `Aspire.Azure.Search.Documents` component only adds a `SearchIndexClient` to the application because it doesn\u0027t know the name of the index the application is working with. Similarly, for its health check, it is using `GetServiceStatisticsAsync` to check if the connection is healthy.\r\n\r\nhttps://github.com/dotnet/aspire/blob/1c7e051c0c120d16574f727a1f49c9e57ea4cc38/src/Components/Aspire.Azure.Search.Documents/AzureSearchIndexHealthCheck.cs#L21-L27\r\n\r\n(See also https://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks/issues/2156).\r\n\r\nWe should consider adding a `string? SearchIndexName` in the settings so applications can be configured with a specific index. Setting this would make the health check use the standard `AzureSearchHealthCheck`, which takes an index name.\r\n\r\nWe could also consider adding a `SearchClient` (which needs an index name) to DI, either in the existing `AddAzureSearch` method, or from a new extension method which ensured the `SearchIndexName` property was set.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtz5vwA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc63Pm_A",
                                           "createdAt":  "2025-07-15T16:21:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "It would be good to have all the service clients added to the Dependency Injection **ServiceCollection** so that any **Eventing** **Subscription** **callback**s may access the clients; this would allow post **ResourceReadyEvent** setup/configuration steps from the within the callback.",
                                           "updatedAt":  "2025-07-15T16:21:52Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Configuring an index for Azure AI Search",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2802",
        "createdAt":  "2024-03-12T03:29:40Z",
        "number":  2802,
        "author":  "WhitWaldo",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCP4JQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "andrewlock",
                                            "createdAt":  "2024-03-21T16:55:33Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "adampaquette",
                                            "createdAt":  "2024-11-22T13:58:47Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "garrettlondon1",
                                            "createdAt":  "2024-12-25T08:32:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sharisiri",
                                            "createdAt":  "2025-03-07T14:26:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "gabynevada",
                                            "createdAt":  "2025-04-22T21:46:14Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jkendall327",
                                            "createdAt":  "2025-04-30T19:16:04Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ragingbit",
                                            "createdAt":  "2025-05-11T08:18:32Z"
                                        }
                                    ],
                          "totalCount":  7
                      },
        "updatedAt":  "2024-11-22T13:58:45Z",
        "body":  "Another ask for the roadmap - please support Azure Communications Services including Azure Email Communications Services (and the custom domain verification support).\r\n\r\nAs with my other asks, happy to write a PR for the resource in the same style as #2526 if you\u0027re open to it.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOlKTa4Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6UpNrh",
                                           "createdAt":  "2024-11-22T13:58:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "adampaquette",
                                           "body":  "I would happyly use that feature.",
                                           "updatedAt":  "2024-11-22T13:58:44Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[feature] Add Azure Communications Services",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2926",
        "createdAt":  "2024-03-15T16:40:14Z",
        "number":  2926,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T07:21:51Z",
        "body":  "Related #2907\r\n\r\nAn app using the Aspire Redis Component will not get an error span when a Redis operation fails due to the Redis instance not being responsive. There **are** spans for the Redis operation itself, but they seem to return after ~5 seconds if Redis is unavailable with no indication that there was an error. There are structured logs for the error but they are not associated with the trace/activity.\r\n\r\nhttps://github.com/dotnet/aspire/assets/249088/459b9cee-758f-4b09-a436-47f459b41877\r\n\r\nNot sure if this is an issue with `StackExchange.Redis` itself, or `OpenTelemetry.Instrumentation.StackExchangeRedis`, or the Aspire component.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOiYxgIA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6BJsf4",
                                           "createdAt":  "2024-06-13T21:10:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@mgravell thoughts?",
                                           "updatedAt":  "2024-06-13T21:10:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6E3y3J",
                                           "createdAt":  "2024-07-15T19:21:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kvenkatrajan",
                                           "body":  "@JamesNK  can we file an issue in the Redis Otel Library",
                                           "updatedAt":  "2024-07-15T19:21:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6E6FvX",
                                           "createdAt":  "2024-07-16T01:40:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JamesNK",
                                           "body":  "I don\u0027t know. I don\u0027t think we should push work onto anyone else until we understand what change is required.",
                                           "updatedAt":  "2024-07-16T01:40:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6JjGAg",
                                           "createdAt":  "2024-08-23T19:19:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "This needs investigation to determine what the source of the issue is.",
                                           "updatedAt":  "2024-08-23T19:19:34Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Redis component tracing doesn\u0027t include an error span when operations against Redis fail",
        "labels":  [
                       "area-integrations",
                       "redis"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2967",
        "createdAt":  "2024-03-17T23:49:04Z",
        "number":  2967,
        "author":  "JamesNK",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-11-28T09:00:32Z",
        "body":  "RabbitMQ logging adds `message` metadata to a log entry. That is then used to output the message. However, the result is that information is duplicated in the UI:\r\n\r\n![image](https://github.com/dotnet/aspire/assets/303201/aab8e1ec-f912-4a0c-84bb-e4146135dd7b)\r\n\r\nAlso, RabbitMQ logging sets the log level as an event ID. e.g. an error has a log name of \"Error\" with a log ID of 3. It doesn\u0027t make sense to put the log level in the log name. In structured log UI the log entry has a name of \"Error\" (or info, debug, etc).\r\n\r\n![image](https://github.com/dotnet/aspire/assets/303201/70368116-32f2-41f3-9bcf-a415d7c98751)\r\n\r\nRabbitMQ should leave the log level name unset.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOlVg7rw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc53Xjws",
                                           "createdAt":  "2024-03-17T23:52:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JamesNK",
                                           "body":  "Also, RabbitMQ is outputing a blank `exception.innerexception` value:\r\n\r\n![image](https://github.com/dotnet/aspire/assets/303201/9d7d620b-a783-4a12-9e7c-c57ed8b876ca)\r\n\r\nThis should only be added if there is an inner exception.",
                                           "updatedAt":  "2024-03-17T23:52:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6VWDuv",
                                           "createdAt":  "2024-11-28T09:00:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RafaelJCamara",
                                           "body":  "\u003e Also, RabbitMQ logging sets the log level as an event ID. e.g. an error has a log name of \"Error\" with a log ID of 3. It doesn\u0027t make sense to put the log level in the log name. In structured log UI the log entry has a name of \"Error\" (or info, debug, etc).\n\nCould you please give an example of the expected outcome?",
                                           "updatedAt":  "2024-11-28T09:00:31Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "RabbitMQ logging issues",
        "labels":  [
                       "help wanted",
                       "area-integrations",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2981",
        "createdAt":  "2024-03-18T17:58:31Z",
        "number":  2981,
        "author":  "christiannagel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:27Z",
        "body":  "`DefaultAzureCredential` uses several different accounts to login such as `VisualStudioCredential`, `AzureCliCredential`, `AzureDeveloperCliCredential` which can lead to wrong credentials used with `AddAzureProvisioning`. Not knowing which of these credentials have been used makes it harder to find issues. To see this information, diagnostic can be configured with `DefaultAzureCredential`. \r\n\r\nIt would be great to have a flag with `AddAzureProvisioning` (proabably with the configuration that\u0027s already used with user secrets) to enable diagnostic information with the use of `DefaultAzureCredential`.\r\n\r\nThis is an error I had: #2963 \r\n\r\nhttps://github.com/Azure/azure-sdk-for-net/blob/main/sdk/identity/Azure.Identity/README.md#logging",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOedfTDg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc54xYFy",
                                           "createdAt":  "2024-03-28T22:02:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODdfjRw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-04-09T05:40:47Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "christiannagel",
                                           "body":  "Recently I had this issue again. Now it\u0027s possible to configure the credential source:\r\n\r\n```json\r\n{\r\n  \"Azure\": {\r\n    \"CredentialSource\": \"AzureCli\",\r\n  }\r\n}\r\n```\r\n\r\nWhen I changed the credential source in the configuration to AzureCLI, authentication was working immediately. Changing this in the configuration can be one part for troubleshooting.\r\nTo get more diagnostics information, I think the option to configure this would be great as well.",
                                           "updatedAt":  "2024-03-28T22:02:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5519MO",
                                           "createdAt":  "2024-04-09T05:41:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Yeah I think this is a good idea in terms of diagnosability.",
                                           "updatedAt":  "2024-04-09T05:41:21Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "More DefaultAzureCredential diagnostics information with AddAzureProvisioning",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3010",
        "createdAt":  "2024-03-19T19:12:19Z",
        "number":  3010,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:25Z",
        "body":  "The Redis container image supports setting a custom conf directory so that a custom `redis.conf` file can be used to initialize the Redis server. We should consider adding an extension method to make it easy to configure this, e.g.:\r\n\r\n```csharp\r\n/// \u003csummary\u003e\r\n/// Adds a bind mount for the conf folder to a Redis container resource.\r\n/// \u003c/summary\u003e\r\n/// \u003cparam name=\"builder\"\u003eThe resource builder.\u003c/param\u003e\r\n/// \u003cparam name=\"source\"\u003eThe source directory on the host containing the \u003cc\u003eredis.conf\u003c/c\u003e file to mount into the container.\u003c/param\u003e\r\n/// \u003creturns\u003eThe \u003csee cref=\"IResourceBuilder{T}\"/\u003e.\u003c/returns\u003e\r\npublic static IResourceBuilder\u003cRedisResource\u003e WithConfBindMount(this IResourceBuilder\u003cRedisResource\u003e builder, string source)\r\n    =\u003e builder.WithBindMount(source, \"/usr/local/etc/redis\", isReadOnly: false)\r\n              .WithArgs(\"/usr/local/etc/redis/redis.conf\");\r\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOeqrJhw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5513yh",
                                           "createdAt":  "2024-04-09T05:18:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "How would this interact with deployment scenarios or do you see this more as a debugging thing?",
                                           "updatedAt":  "2024-04-09T05:18:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc56qsmH",
                                           "createdAt":  "2024-04-16T00:08:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "It would result in a bind mount for the resource in all cases (assuming publishing as a container). Folks can use `if` statements to only call it in the context they want, or we can consider expanding the `Publish`/`Run` prefixes to these kinds of methods too (which I\u0027m a fan of), e.g. `RunWithConfBindMount`.",
                                           "updatedAt":  "2024-04-16T00:08:16Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Consinder adding WithConfBindMount method for configured conf directory for Redis resource",
        "labels":  [
                       "area-integrations",
                       "redis"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3052",
        "createdAt":  "2024-03-20T18:30:32Z",
        "number":  3052,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODR_8Kw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Lyddon7522",
                                            "createdAt":  "2025-01-02T01:39:21Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "dluc",
                                            "createdAt":  "2025-03-13T19:34:13Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "manuel-bespokelabs",
                                            "createdAt":  "2025-03-18T05:48:22Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "qkarpowi",
                                            "createdAt":  "2025-06-18T14:54:57Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "dsmiller95",
                                            "createdAt":  "2025-08-03T19:10:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "paulirwin",
                                            "createdAt":  "2025-09-19T18:53:18Z"
                                        }
                                    ],
                          "totalCount":  6
                      },
        "updatedAt":  "2025-05-27T19:22:27Z",
        "body":  "PGVector is a popular extension for exposing vector search capabilities in a postgres database. Today eShop hack around this by using [code like this](https://github.com/dotnet/eShop/blob/d19323582ff0f1fcea869ea1f90bb8bb69d7b780/src/eShop.AppHost/Program.cs#L9-L11)\r\n\r\nWe should build a more first class API for adding/enabling PGVector on the postgres resource.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrawnwQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc54EVjA",
                                           "createdAt":  "2024-03-22T05:47:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "It\u0027s a little more complex than, as you need to add the `vector` extension to the database that you\u0027re going to be storing the vectors in.\r\n\r\nI believe that eShop does it here: https://github.com/dotnet/eShop/blob/72445fd19c85e46420a4ae4c33eb46245c970c9b/src/Catalog.API/Infrastructure/Migrations/20231009153249_Initial.cs#L15\r\n\r\nBut if you\u0027re using a non-ef database connector, say the memory pipeline in Semantic Kernel, you need to add the extension another way. My approach is to bind mount a SQL script into the init path of the Postgres container (see [this code](https://github.com/aaronpowell/HanselminutesBot/blob/main/HanselminutesBot.AppHost/Program.cs#L45)).\r\n\r\nFrom a deployment perspective, we need to then ensure that we\u0027re surfacing up the metadata required for the IaC provider, with Azure and AWS we need to enable the right feature on the DB resource being deployed rather than using the container image.",
                                           "updatedAt":  "2024-03-22T05:47:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54EZHg",
                                           "createdAt":  "2024-03-22T06:03:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Isn\u0027t that automagic when you use https://github.com/dotnet/eShop/blob/72445fd19c85e46420a4ae4c33eb46245c970c9b/src/Catalog.API/Extensions/Extensions.cs#L11?\r\n\r\n\u003e From a deployment perspective, we need to then ensure that we\u0027re surfacing up the metadata required for the IaC provider, with Azure and AWS we need to enable the right feature on the DB resource being deployed rather than using the container image.\r\n\r\nThat should be as simple as representing it in the model is some first class way. The azure/aws postgres extension method should be able to look at the model the glean that it needs the pgvector extension (I\u0027m not sure we need to make this super generic until we have more concrete use cases).\r\n",
                                           "updatedAt":  "2024-03-22T06:03:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54Myj0",
                                           "createdAt":  "2024-03-23T22:26:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "No, that extension method is used to enable the Vector extension in the npgsql driver for .NET - https://github.com/pgvector/pgvector-dotnet/blob/master/src/Pgvector/Npgsql/VectorExtensions.cs#L10\r\n\r\nYou still need to install the extension in the Postgres server - locally we have to use the pgvector Docker image, whereas databases like Azure PostgreSQL have the extension installed, then we have to enable it on the database using the `CREATE EXTENSION vector;` (since you have to opt-in which database(s) on the server have the extension supported).\r\n\r\nI do this in my apps using a SQL script (https://github.com/aaronpowell/HanselminutesBot/blob/main/HanselminutesBot.AppHost/database/init.sql) that is added to the DB container image (https://github.com/aaronpowell/HanselminutesBot/blob/main/HanselminutesBot.AppHost/Program.cs#L45) as part of its startup pipeline.",
                                           "updatedAt":  "2024-03-23T22:26:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58j2dp",
                                           "createdAt":  "2024-05-02T07:13:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "AndrewBabbitt97",
                                           "body":  "So this was the closest issue I could find to it, but it looks like we also need the ability to set `Microsoft.DBforPostgreSQL/flexibleServers/configurations` as a part of the postgres deployment for many extensions (ex. citext) otherwise you can\u0027t use `CREATE EXTENSION` at all.\n\nIs there any way to set this property currently?\n\nEF Core can already do `CREATE EXTENSION` as a part of a migration with ngpsql, but you still have to enable it on the extensions on the DB server in azure.",
                                           "updatedAt":  "2024-05-02T07:13:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58j3bm",
                                           "createdAt":  "2024-05-02T07:16:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "AndrewBabbitt97",
                                           "body":  "More info on the azure postgres docs here: https://learn.microsoft.com/en-us/azure/postgresql/flexible-server/concepts-extensions#how-to-use-postgresql-extensions",
                                           "updatedAt":  "2024-05-02T07:17:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc59Bebw",
                                           "createdAt":  "2024-05-07T06:24:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "Yep, you need to have some additional Bicep run to enable the extension. I\u0027ve got a sample of it, just need to clean it up a touch to contribute in.",
                                           "updatedAt":  "2024-05-07T06:24:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc59BfpM",
                                           "createdAt":  "2024-05-07T06:28:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Not sure we want additonal bicep, I\u0027d rather us expand the [Azure.Provisioning libraries](https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/provisioning/Azure.Provisioning) to support setting this .",
                                           "updatedAt":  "2024-05-07T06:28:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc59BgG4",
                                           "createdAt":  "2024-05-07T06:30:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "\u003e Not sure we want additonal bicep, I\u0027d rather us expand the [Azure.Provisioning libraries](https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/provisioning/Azure.Provisioning) to support setting this .\r\n\r\nYes, that might be a better option, but presently (or at least, 4 weeks ago when I looked before going on leave 🤣) there isn\u0027t support for that in the SDK to do it.",
                                           "updatedAt":  "2024-05-07T06:30:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Fwyw9",
                                           "createdAt":  "2024-07-23T03:03:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "PR open on CDK to add support - https://github.com/Azure/azure-sdk-for-net/pull/44315",
                                           "updatedAt":  "2024-07-23T03:03:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YJq0Z",
                                           "createdAt":  "2024-12-19T02:57:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD_mj1g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "AndrewBabbitt97",
                                                                               "createdAt":  "2024-12-19T06:12:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "AndrewBabbitt97",
                                                                               "createdAt":  "2024-12-19T06:12:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "AndrewBabbitt97",
                                                                               "createdAt":  "2024-12-19T06:12:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "AndrewBabbitt97",
                                                                               "createdAt":  "2024-12-19T06:12:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "With the update to the CDK, and thus Azure Provisioning, it looks like this is now possible, so we can likely close this issue.",
                                           "updatedAt":  "2024-12-19T02:57:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6thptU",
                                           "createdAt":  "2025-05-27T06:35:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Based on investigation it looks like this is the required configuration to add the pgvector extension to Azure postgres.\n\n```C#\nbuilder.AddAzurePostgresFlexibleServer(\"pg\")\n       .ConfigureInfrastructure(infra =\u003e\n       {\n           var pgServer = infra.GetProvisionableResources().OfType\u003cPostgreSqlFlexibleServer\u003e().First();\n\n           var config = new PostgreSqlFlexibleServerConfiguration(\"pgConfig\")\n           {\n               Parent = pgServer,\n               Value = \"vector\",\n               Source = \"user-override\"\n           };\n\n           infra.Add(config);\n       })\n       .AddDatabase(\"db\");\n```\n\nTo run the SQL that creates the extension we *could* use a deployment script that executes the SQL but that might be on the edge.\n\n",
                                           "updatedAt":  "2025-05-27T06:36:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6trCfB",
                                           "createdAt":  "2025-05-27T19:22:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "I wonder if we should add this to the Community Toolkit extensions pack to at least configure the extension - running the SQL is a bit more complicated as it really depends on how the database is being \"provisioned\"",
                                           "updatedAt":  "2025-05-27T19:22:26Z"
                                       }
                                   ],
                         "totalCount":  12
                     },
        "title":  "Add support for PgVector extension to postgres resource",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3063",
        "createdAt":  "2024-03-21T01:41:38Z",
        "number":  3063,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODEC7aw==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "paulomorgado",
                                            "createdAt":  "2024-03-24T13:33:50Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-06-17T03:50:41Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-06-17T03:50:38Z",
        "body":  "- [x] mongodb\n- [x] mysql\n- [x] postgresql\n- [x] Redis\n- [x] Kafka (https://github.com/dotnet/aspire/pull/5765)\n- [x] ~~Seq (no Testcontainers module for Seq)~~\n- [x] SqlServer (https://github.com/dotnet/aspire/pull/3034)\n- [x] Oracle (https://github.com/dotnet/aspire/pull/4078)\n- [ ] Cosmos\n\nAsk:\n- Update tests in `tests/Aspire.Microsoft.Azure.Cosmos.Tests/ConformanceTests.cs` to use `Testcontainers.CosmosDb`\n- Look at `tests/Aspire.StackExchange.Redis.Tests/ConformanceTests.cs`, and `tests/Aspire.StackExchange.Redis.Tests/RedisContainerFixture.cs` for examples of how to do this.\n\ncc @eerhardt ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsY1Hig==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6xKbVW",
                                           "createdAt":  "2025-06-14T05:43:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@eerhardt @radical did we do this?",
                                           "updatedAt":  "2025-06-14T05:43:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xc7A6",
                                           "createdAt":  "2025-06-16T15:46:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Looks like 2 left from the above list. I\u0027m not sure this is worth keeping open.",
                                           "updatedAt":  "2025-06-16T15:46:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xjUeK",
                                           "createdAt":  "2025-06-17T03:45:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "`Seq` doesn\u0027t have testcontainers yet. Maybe we can get copilot to do update for Cosmos.",
                                           "updatedAt":  "2025-06-17T03:45:06Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "[tests] Move component tests to use testcontainers",
        "labels":  [
                       "area-integrations",
                       "testing ☑️"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3089",
        "createdAt":  "2024-03-22T01:11:23Z",
        "number":  3089,
        "author":  "aaronpowell",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODB3mTQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BrennanConroy",
                                            "createdAt":  "2025-04-29T22:29:48Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-05-28T06:29:44Z",
        "body":  "With the AOAI integration we can add a service resource into the AppHost like so:\r\n\r\n```csharp\r\nvar openai = builder.AddAzureOpenAI(\"openai\")\r\n                    .AddDeployment(new(\"gpt-35-turbo\", \"gpt-35-turbo\", \"0613\"));\r\n\r\nbuilder.AddProject\u003cProjects.OpenAIEndToEnd_WebStory\u003e(\"webstory\")\r\n       .WithReference(openai);\r\n```\r\n\r\nBut within our client project we\u0027re going to need to know the name of the deployment to invoke it in the SDK:\r\n\r\n```csharp\r\n    private ChatCompletionsOptions chatCompletionOptions = new ChatCompletionsOptions()\r\n    {\r\n        DeploymentName = \"gpt-35-turbo\",\r\n        Messages =\r\n        {\r\n            new ChatRequestSystemMessage(\"Pick a random topic and write a sentence of a fictional story about it.\")\r\n        }\r\n    };\r\n```\r\n\r\nSince the name of the deployment is any arbitrary string there\u0027s the possibility of it being miskeyed in the client application. My workaround approach to this is to have code like so:\r\n\r\n```csharp\r\n.AddDeployment(new(builder.Configuration[\"Azure:AI:ChatDeploymentName\"] ?? \"gpt-4\", \"gpt-4\", \"1106\"))\r\n```\r\n\r\nWhere I use the config or fallback to a known default, but I then need to ensure that the config value is passed to the client using `WithEnvironment`.\r\n\r\nIt\u0027d be convenient if there was a way that the deployment names were flowed into the client application, either allowing them to be created as parameters with `AddParameter` (and then passing that into the `AzureOpenAIDeployment` constructor`) or when the `AzureOpenAIResource` is passed to the projects as a resource the deployment info is also passed (probably as a different environment variable) - although the discovery of this could be challenging and it\u0027d fall down if you\u0027re using a connection string for local dev like this:\r\n\r\n```csharp\r\nvar ai = builder.ExecutionContext.IsPublishMode ?\r\n    builder.AddAzureOpenAI(ServiceNames.AzureOpenAI)\r\n        .AddDeployment(new(builder.Configuration[\"Azure:AI:ChatDeploymentName\"] ?? \"gpt-4\", \"gpt-4\", \"1106\"))\r\n        .AddDeployment(new(builder.Configuration[\"Azure:AI:EmbeddingDeploymentName\"] ?? \"text-embedding-ada-002\", \"text-embedding-ada-002\", \"2\")) :\r\n    builder.AddConnectionString(ServiceNames.AzureOpenAI);\r\n```\r\n\r\nSince in this scenario the deployment info isn\u0027t available until provisioning happens.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqUzBOA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc54DWYJ",
                                           "createdAt":  "2024-03-22T01:21:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Looping in @tg-msft.\r\n\r\nThis is one of the areas where having \"deep linked connection strings\" are really helpful. When you define a database resource via Aspire like the following:\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\nvar sqldb = builder.AddSqlServer(\"sql\").AddDatabase(\"sqldb\");\r\nbuilder.AddProject\u003cProjects.MyApp\u003e(\"myapp\")\r\n       .WithReference(sqldb);\r\n```\r\n\r\nThe connection string `ConnectionStrings__sqldb` will end up being \"deep\" in that it connects directly to the database, and the `SqlConnection` we inject ends up being pre-wired to the database.\r\n\r\nWith Open AI this isn\u0027t the case. We get a connection to the cog services account, but the deployment name and all other connection information is something that the developer needs to plumb through themselves. Aaron illustrates how this creates extra work because he is trying to come up with a creative way of defining the deployment name once and plumbing it through.\r\n\r\nI\u0027m a big proponent of two things:\r\n\r\n1. Providing a single string that can be used to connect to a resource, and in the case where you need a child resource to actually do anything useful, identifiers for that should be on the connection string.\r\n2. When the connection string is consumed, a resource should be injected into DI that is pre configured to point to that deeply linked location.\r\n\r\nIn the case of Azure Open AI I would like to see a connection string format defined that:\r\n\r\n1. Specifies the endpoint\r\n2. Specifies the deployment name\r\n3. Specifies the authentication method\r\n4. (optional) key if managed identity isn\u0027t used.\r\n\r\nThen I would like to see an OpenAIDeploymentClient which is preconfigured to talk to a particular deployment.\r\n",
                                           "updatedAt":  "2024-03-22T01:21:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54DdL3",
                                           "createdAt":  "2024-03-22T01:53:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Glad you raised this @aaronpowell ... I was writing up an example of how you could plumb through the deployment name and found a bug. Fixing that now and will share a snippet of code with you in a sec.",
                                           "updatedAt":  "2024-03-22T01:53:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54De4A",
                                           "createdAt":  "2024-03-22T02:02:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "OK here is a code sample that I put together as part of this bug fix: #3092\r\n\r\n```csharp\r\nvar openai = builder.AddAzureOpenAI(\"openai\", (_, _, _, deployments) =\u003e {\r\n    var deployment = deployments.Single();\r\n    deployment.AddOutput(\"modelName\", x =\u003e x.Name);\r\n}).AddDeployment(new(\"gpt-35-turbo\", \"gpt-35-turbo\", \"0613\"));\r\n\r\nbuilder.AddProject\u003cProjects.OpenAIEndToEnd_WebStory\u003e(\"webstory\")\r\n       .WithReference(openai)\r\n       .WithEnvironment(\"OpenAI__DeploymentName\", openai.GetOutput(\"modelName\"));\r\n```",
                                           "updatedAt":  "2024-03-22T02:02:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54DiZP",
                                           "createdAt":  "2024-03-22T02:20:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "That\u0027s an interesting idea, using the outputs in that manner. I wonder if there\u0027s a way that we could automatically wire up the outputs across the pipeline",
                                           "updatedAt":  "2024-03-22T02:20:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54EcQI",
                                           "createdAt":  "2024-03-22T06:17:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "My idea was silly and unncessary, just do this:\r\n\r\n```csharp\r\nvar deploymentAndModelName = \"gpt-35-turbo\";\r\nvar openai = builder.AddAzureOpenAI(\"openai\").AddDeployment(\r\n    new(deploymentAndModelName, deploymentAndModelName, \"0613\")\r\n    );\r\n\r\nbuilder.AddProject\u003cProjects.OpenAIEndToEnd_WebStory\u003e(\"webstory\")\r\n       .WithReference(openai)\r\n       .WithEnvironment(\"OpenAI__DeploymentName\", deploymentAndModelName);\r\n```",
                                           "updatedAt":  "2024-03-22T06:17:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54EcV-",
                                           "createdAt":  "2024-03-22T06:17:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "One of the benefits of Aspire is you can use plain old C# :)",
                                           "updatedAt":  "2024-03-22T06:17:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54Ecmm",
                                           "createdAt":  "2024-03-22T06:19:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Proposing we close this if you are happy @aaronpowell ",
                                           "updatedAt":  "2024-03-22T06:19:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54OSLC",
                                           "createdAt":  "2024-03-25T00:24:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "While yes, that approach solves the problem (it\u0027s essentially what I do), I wonder if it can\u0027t be done is a more automatic manner. After all, you know that the deployments are going to be needed, or is there a concern about exposing info that isn\u0027t needed (say providing a deployment that isn\u0027t used by a particular service)?\r\n\r\nI\u0027m trying to think of other resources where you might want to bring in some additional data in this manner but I am struggling a bit to think of any, maybe it\u0027s best to leave AOAI as an outlayer.",
                                           "updatedAt":  "2024-03-25T00:24:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54OzAd",
                                           "createdAt":  "2024-03-25T03:28:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "@mitchdenny could you have a WithReference overload and add them both in there, so that the reference gets the deployment automatically without more code?",
                                           "updatedAt":  "2024-03-25T03:28:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54737u",
                                           "createdAt":  "2024-04-01T00:14:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I think that gets messy pretty quickly. What if you have two OpenAI accounts both with the same deployment name. The variable that you inject for the deployment name now needs to include the OpenAI account resource name to make sure there isn\u0027t a conflict.\r\n\r\nThen you have to consider the consuming side, how do they know what the configuration name is?\r\n\r\nLets imagine that AddDeployment didn\u0027t just flow through AzureOpenAIResource builder, and instead returned a deployment builder:\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\nvar aoai = builder.AddAzureOpenAI(\"openai\").AddDeployment(\"foo\", ...);\r\nvar app = builder.AddProject\u003cProjects.MyApp\u003e(\"app\")\r\n                 .WithReference(aoai);\r\n```\r\n\r\n... the problem you are going to have is on the consumption side. How does the developer know what environment variable to get the deployment name out of. The AzureOpenAIClient doesn\u0027t allow you to create a client based on the deployment name, that is something you pass into chat completion options.\r\n\r\nWe\u0027ve moved from a problem of the developer having to do something themselves to a developer having to guess what environment variable we stashed this key piece of data in.\r\n\r\nThe way to tackle these kinds of issues is go upstream and talk to the AI team about providing a connection string format that includes the deployment name, and having some kind of client that can have a pre-filled deployment name.\r\n\r\nI suspect that horse has bolted though.",
                                           "updatedAt":  "2024-04-01T00:14:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5_ecTs",
                                           "createdAt":  "2024-05-30T05:03:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "\u003e The way to tackle these kinds of issues is go upstream and talk to the AI team about providing a connection string format that includes the deployment name, and having some kind of client that can have a pre-filled deployment name.\r\n\r\nProblem with that is that the client is agnostic of the model, model is specified per-request, since the client is really just a typed `HttpClient`.",
                                           "updatedAt":  "2024-05-30T05:03:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Uldu1",
                                           "createdAt":  "2024-11-22T04:24:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "I thought I\u0027d bring this back up as there\u0027s been a bunch of changes in the space since April when it was last discussed.\n\n## New developments\n\nIn the [Ollama integration for the Community Toolkit](https://learn.microsoft.com/dotnet/aspire/community-toolkit/ollama?tabs=dotnet-cli%2Cdocker#add-ollama-resource) we\u0027ve gone with the approach that the model is a resource, meaning you can provide the model resource rather than the Ollama resource as the reference:\n\n```csharp\nvar ollama = builder.AddOllama(\"ollama\");\n\nvar phi35 = ollama.AddModel(\"phi3.5\");\n\nvar exampleProject = builder.AddProject\u003cProjects.ExampleProject\u003e()\n                            .WithReference(phi35);\n```\n\nThis means that the client can get the right model without having to provide the connection name, `ollama`, and also the model name, `phi3.5`.\n\nGoing back to AOAI, with the new SDK when you request a `ChatClient` you provide the name of the AOAI deployment that you want to have the client for:\n\n```csharp\nAzureOpenAIClient azureClient = new(\n    new Uri(\"https://your-azure-openai-resource.com\"),\n    new DefaultAzureCredential());\nChatClient chatClient = azureClient.GetChatClient(\"my-gpt-4o-mini-deployment\");\n```\n\n[Via our docs](https://learn.microsoft.com/dotnet/api/overview/azure/ai.openai-readme?view=azure-dotnet#create-client-with-a-microsoft-entra-credential). This is also the case with [MEAI](https://devblogs.microsoft.com/dotnet/introducing-microsoft-extensions-ai-preview/):\n\n```csharp\nIChatClient client =\n    new AzureOpenAIClient(\n        new Uri(Environment.GetEnvironmentVariable(\"AZURE_OPENAI_ENDPOINT\")), \n        new DefaultAzureCredential())\n            .AsChatClient(modelId: \"gpt-4o-mini\");\n```\n\n## Aspire + AOAI\n\nPresently, the `AddDeployment` method takes a `AzureOpenAIDeployment` which isn\u0027t a `Resource` type (and thus not returned), but let\u0027s propose a new API like so:\n\n```csharp\nvar aoai = builder.AddAzureOpenAI(\"aoai\");\nIResourceBuilder\u003cAzureOpenAIDeploymentResource\u003e gpt4o = aoai.AddDeploymentResource(\"gpt-4o\");\n\nbuilder.AddProject\u003cProjects.Example\u003e(\"api\").WithReference(gpt4o);\n```\n\nMaybe the `AddDeploymentResource` would take in the `AzureOpenAIDeployment` type so you could get full configuration, maybe there\u0027d be some defaults, that would have to be fleshed out. But the main thing that the `AzureOpenAIDeploymentResource` would do is provide a connection string with the endpoint/auth (from the parent) + `DeploymentName=\u003cdeployment name\u003e`.\n\nThen within our client app we would do:\n\n```csharp\nbuilder.AddAzureOpenAIChatClient(\"gpt-4o\");\n```\n\nThis would register a `ChatClient` rather than (or in addition to) the `OpenAIClient`, and since it\u0027s using the connection name `gpt-4o` it would know to set that as the `deploymentName` by looking at the connection string of the `AzureOpenAIDeploymentResource`.\n\nWe could even adapt this same pattern to support MEAI and GitHub models.\n\nFor deployments, this wouldn\u0027t have any impact (from what I can gather) since the underlying types we have to create the AOAI resouce + deployments would still be leveraged, it really just comes down to the DX of working with deployments in AOAI.\n\nAnd with development, the pattern of using a connection string could still be applied:\n\n```csharp\nvar gpt4o = builder.ExecutionContext.IsPublishMode\n    ? builder.AddAzureOpenAI(\"aoai\").AddDeployment(\"gpt-4o\");\n    : builder.AddConnectionString(\"gpt-4o\");\n\nbuilder.AddProject\u003cProjects.ExampleProject\u003e()\n       .WithReference(gpt4o);\n```\n\nWorking with multiple deployments on the same AOAI resource would look a little more verbose though:\n\n```csharp\nIResourceBuilder\u003cIResourceWithConnectionString\u003e? chat;\nIResourceBuilder\u003cIResourceWithConnectionString\u003e? embedding;\n\nif (builder.ExecutionContext.IsPublishMode) {\n    var aoai = builder.AddAzureOpenAI(\"aoai\");\n    chat = aoai.AddDeploymentResource(\"gpt-4o\");\n    embedding = aoai.AddDeploymentResource(\"ada-002\");\n} else {\n    chat = builder.AddConnectionString(\"chat\");\n    embedding = builder.AddConnectionString(\"embedding\");\n}\n\nbuilder.AddProject\u003cProjects.ExampleProject\u003e()\n       .WithReference(chat)\n       .WithReference(embedding);\n```",
                                           "updatedAt":  "2024-11-22T04:24:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6dd_Lh",
                                           "createdAt":  "2025-02-07T03:50:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEFuLRA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "chadqueen",
                                                                               "createdAt":  "2025-02-08T19:57:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "Bumping this along - is there any thoughts on this (particularly the last comment)? I\u0027m happy to go ahead and prototype out a PR for it if there\u0027s appetite.\n",
                                           "updatedAt":  "2025-02-07T03:50:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pTME4",
                                           "createdAt":  "2025-04-29T22:29:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOETPzvg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ReubenBond",
                                                                               "createdAt":  "2025-04-30T00:05:53Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "victorfrye",
                                                                               "createdAt":  "2025-05-22T19:11:06Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "BrennanConroy",
                                           "body":  "Please fix this, it\u0027s really annoying to use an Azure OpenAI resource right now.",
                                           "updatedAt":  "2025-04-29T22:29:50Z"
                                       }
                                   ],
                         "totalCount":  14
                     },
        "title":  "Treating Azure OpenAI Deployments as resources",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3105",
        "createdAt":  "2024-03-22T18:39:08Z",
        "number":  3105,
        "author":  "eddumelendez",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPpncQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "bsideup",
                                            "createdAt":  "2024-03-24T02:19:00Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "paulomorgado",
                                            "createdAt":  "2024-03-24T13:35:12Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cimnine",
                                            "createdAt":  "2024-05-30T13:59:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MadL1me",
                                            "createdAt":  "2024-06-01T21:41:28Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "thangchung",
                                            "createdAt":  "2024-07-14T17:03:24Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rufer7",
                                            "createdAt":  "2024-08-24T07:59:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "willnationsdev",
                                            "createdAt":  "2024-08-30T17:01:49Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "iqmeta",
                                            "createdAt":  "2024-10-22T02:54:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ChrisDusyk",
                                            "createdAt":  "2025-01-17T17:05:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "navferty",
                                            "createdAt":  "2025-06-26T13:26:00Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "navferty",
                                            "createdAt":  "2025-06-26T13:26:01Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "egbakou",
                                            "createdAt":  "2025-07-18T05:56:10Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "egbakou",
                                            "createdAt":  "2025-07-18T05:56:12Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "aetos382",
                                            "createdAt":  "2025-09-10T16:02:17Z"
                                        }
                                    ],
                          "totalCount":  14
                      },
        "updatedAt":  "2024-10-16T08:03:05Z",
        "body":  "Hi, I landed in the project by looking at [this issue](https://github.com/dotnet/aspire/issues/3063) to support Testcontainers for component tests.\r\n\r\nI currently see this is how resources are provisioned:\r\n\r\nFor Redis container:\r\n\r\n```csharp\r\nbuilder.AddRedis(\"basketcache\")\r\n    .WithDataVolume()\r\n    .WithRedisCommander();\r\n```\r\n\r\nFor Azure Redis:\r\n\r\n```csharp\r\nbuilder.AddRedis(\"cache\").AsAzureRedis()\r\n```\r\n\r\n# Proposal\r\n\r\nProvide an API to provide specific Resource definitions, let\u0027s say `AspireResource`. For the Redis example, it can use [AzureRedisExtensions](https://github.com/dotnet/aspire/blob/166eb52605e1a5190fa63d00142bee57cb79c52f/src/Aspire.Hosting.Azure.Redis/AzureRedisExtensions.cs) or [Testcontainers Redis](https://testcontainers.com/modules/redis/) module. The API can be also used in case there are other ways to provision a Redis instance, so, developers can write their own implementation.\r\n\r\nFor Testcontainers Redis:\r\n\r\n```csharp\r\nvar redisContainer = new RedisBuilder()\r\n  .WithImage(\"redis:7.0\")\r\n  .Build();\r\n\r\nbuilder.AddRedis(\"cache\", new TestcontainersAspireResource().WithContainer(redisContainer).Build()))\r\n```\r\n\r\nwhere `TestcontainersAspireResource` will start the container.\r\n\r\nFor Azure Redis:\r\n\r\n```csharp\r\nbuilder.AddRedis(\"cache\", new AzureAspireResource().WithExtension(new AzureRedisExtension()).Build())\r\n```\r\n\r\n# Benefits\r\n\r\n* Unify the experience for dev and test by using the same API to provide resources\r\n* Generic API to define and start a container\r\n* Support Docker network\r\n* Integrates with [Testcontainers Desktop](https://testcontainers.com/desktop/docs/)\r\n* Docker socket auto-detection\r\n* Automatic resource cleanup\r\n* Recently, [reuse containers](https://dotnet.testcontainers.org/api/resource_reuse/) feature was added. So, the same instance can be shared cross-services\r\n\r\nAlso, by looking at the issues, some of them are already handled by Testcontainers. For example:\r\n* #3052 \r\nPGvector is compatible with current Testcontainers PostgreSQL implementation. For more info can look at the module https://testcontainers.com/modules/pgvector/\r\n* #2899\r\nRyuk is Testcontainers resource reaper, which is in charge of cleanup resources when the process is done.\r\n* #1326 \r\nKeycloack also has a Testcontainers implementation https://testcontainers.com/modules/keycloak/\r\n* #2247\r\nUse RabbitMQ module with reuse functionality could help https://testcontainers.com/modules/rabbitmq/\r\n* #2116\r\nBy using the Generic API users can enable it without waiting for this feature\r\n\r\nAll Testcontainers .NET are listed in the [module catalog](https://testcontainers.com/modules/?language=dotnet).\r\n\r\nIf there is no specific module the Testcontainers API is very fluent and allow the user to write their own definition.\r\n\r\n```csharp\r\nvar container = new ContainerBuilder()\r\n  .WithImage(\"testcontainers/helloworld:1.1.0\")\r\n  .WithPortBinding(8080, true)\r\n  .WithWaitStrategy(Wait.ForUnixContainer().UntilHttpRequestIsSucceeded(r =\u003e r.ForPort(8080)))\r\n  .Build();\r\n\r\nawait container.StartAsync()\r\n  .ConfigureAwait(false);\r\n```\r\n\r\n# References\r\n\r\nIn the Java world, this integration has been done in the three major frameworks (Quarkus devservices, Micronaut test-resources, Spring Boot service connection). I would be very happy to chat and share more about it in order to find a similar experience in .NET ecosystem with Aspire.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOf8TWFQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc54KB9G",
                                           "createdAt":  "2024-03-22T20:56:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEY6oSg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "eddumelendez",
                                                                               "createdAt":  "2024-03-22T23:22:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "bsideup",
                                                                               "createdAt":  "2024-03-24T02:19:02Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "bsideup",
                                                                               "createdAt":  "2024-03-24T02:19:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "kiview",
                                                                               "createdAt":  "2024-03-25T14:54:57Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "kiview",
                                                                               "createdAt":  "2024-03-25T14:54:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "cecilphillip",
                                                                               "createdAt":  "2024-05-23T22:40:52Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "rufer7",
                                                                               "createdAt":  "2024-08-24T07:59:11Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "willnationsdev",
                                                                               "createdAt":  "2024-08-30T17:01:50Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "fossbrandon",
                                                                               "createdAt":  "2025-07-02T16:53:43Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  9
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I like the idea of bridging test containers as a custom resource type but I don\u0027t think we should aim to unify the API. Something like:\r\n\r\n```C#\r\nbuilder.AddTestContainerResource(\"name\", () =\u003e\r\n{\r\n    return new RedisBuilder().WithImage(\"redis:7.0\").Build();\r\n});\r\n```\r\n\r\nWould need to give some more thought to how connection strings etc work in this mode. \r\n\r\n\u003e Also, by looking at the issues, some of them are already handled by Testcontainers. For example:\r\n\r\nThat\u0027s great but I\u0027m not sure we need to lean on test containers here, the resource model is pretty capable 😄. I\u0027m looking forward to an experiment in this space to see what comes out!\r\n\r\nThanks for the issue!",
                                           "updatedAt":  "2024-03-22T20:56:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58E5bW",
                                           "createdAt":  "2024-04-28T21:14:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ElanHasson",
                                           "body":  "fyi, I\u0027m using test containers here not as a test, but for dev only : https://github.com/InfinityFlowApp/aspire-temporal/blob/main/src/InfinityFlow.Aspire.Temporal/TemporalServerContainerBuilderExtensions.cs#L31-L70\r\n\r\n(yes, i later learned you can use `temporal-admin` image which has `temporal-cli` and many other things)\r\n\r\nI do agree having a resource that can \"speak test container\" natively would be awesome.",
                                           "updatedAt":  "2024-04-28T21:24:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58Fn-O",
                                           "createdAt":  "2024-04-29T03:56:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODweb6g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ElanHasson",
                                                                               "createdAt":  "2024-05-15T17:26:57Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "willnationsdev",
                                                                               "createdAt":  "2024-08-30T17:02:56Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Unrelated: @ElanHasson if you want to make your resource plug in a little more cleanly, you can write an [IDistributedApplicationLifecycleHook ](https://learn.microsoft.com/en-us/dotnet/api/aspire.hosting.lifecycle.idistributedapplicationlifecyclehook?view=dotnet-aspire-8.0) that uses test containers to build container image. \r\n\r\nhttps://github.com/InfinityFlowApp/aspire-temporal/blob/19ed3f9cc63b65951206d9cffccb0232dc89b371/src/InfinityFlow.Aspire.Temporal/TemporalServerContainerBuilderExtensions.cs#L101\r\n\r\nThis might be a very nice integration point between aspire and test containers. ",
                                           "updatedAt":  "2024-04-29T03:56:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5_xNYV",
                                           "createdAt":  "2024-06-01T22:02:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MadL1me",
                                           "body":  "I\u0027m in big support for this issue, because it solves the problem of any custom integration (I was thinking about support for https://zitadel.com/ as IDP)",
                                           "updatedAt":  "2024-06-01T22:03:17Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Support Testcontainers for resource definition",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3298",
        "createdAt":  "2024-03-30T07:17:03Z",
        "number":  3298,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-27T10:05:53Z",
        "body":  "This is what happens when you use an azure resource and do nothing else:\r\n\r\n```\r\nBuilding...\r\ninfo: Aspire.Hosting.Azure.AzureProvisioner[0]\r\n      Using DefaultAzureCredential for provisioning. This may not work in all environments. See https://aka.ms/azsdk/net/identity/default-azure-credential for more information.\r\ninfo: Aspire.Hosting.Azure.AzureProvisioner[0]\r\n      Azure resource connection strings saved to user secrets.\r\n```\r\n\r\nThe first log should only show up if we are going to provision.\r\nThe second log should only show up if we have indeed saved connection string to user secrets.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOk3ePjw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6TcH8z",
                                           "createdAt":  "2024-11-13T13:27:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "scabana",
                                           "body":  "I don\u0027t want to open another issue about `AzureProvisioner` and user secrets. I have a feeling a provisioner api would help with those issues.\n\nThe way it\u0027s coded, anyone taking the `AzureProvisioner` as an example to have a custom provisioner could encounter a concurrency issue updating the user secrets. As the provisioner loads the user secrets once and then saves it at the end of the work (which is launched in `Task.Run`). Another provisioner that would do the same could end up losing / overriding modified user secrets from another provisioner.",
                                           "updatedAt":  "2024-11-13T13:27:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Tdhq6",
                                           "createdAt":  "2024-11-13T15:43:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yep, it\u0027s problematic. We\u0027d need to expose a first class API. That wouldn\u0027t help if modifications were made outside of the app host though. Maybe we should just do file locking ",
                                           "updatedAt":  "2024-11-13T15:43:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Td4-P",
                                           "createdAt":  "2024-11-13T16:17:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "scabana",
                                           "body":  "As a workaround for now, I derived a user secrets id from the one that was available. It\u0027s not the best thing in the world and I\u0027m pretty sure there will be a negative side effect around cleanup, but for now, it\u0027s the workaround I got.",
                                           "updatedAt":  "2024-11-13T16:17:29Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "AzureProvisioner output saves connection strings to user secrets even if it did nothing",
        "labels":  [
                       "good first issue",
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3309",
        "createdAt":  "2024-03-31T23:37:04Z",
        "number":  3309,
        "author":  "pedropaulovc",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODBIt-w==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "IEvangelist",
                                            "createdAt":  "2024-07-10T14:23:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Alirexaa",
                                            "createdAt":  "2024-10-21T10:15:04Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Meir017",
                                            "createdAt":  "2025-03-28T10:34:20Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "dtc-frederickn",
                                            "createdAt":  "2025-04-12T08:38:35Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-04-16T22:16:10Z",
        "body":  "Autocomplete of Aspire configs in appsettings.json is fantastic as my project is growing. I would love to have this capability in my projects as well. Also, I\u0027m using keyed component resolution and the default Aspire schema doesn\u0027t know what\u0027s the key I\u0027m using in my code. Looks like this capability is handled by the configuration schema generator introduced in #1383 . The team should consider spinning off this capability as an extension package for 3P usage.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp4uFvQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc55pdZ-",
                                           "createdAt":  "2024-04-06T03:06:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is the plan right @eerhardt?",
                                           "updatedAt":  "2024-04-06T03:06:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc550b2r",
                                           "createdAt":  "2024-04-08T23:08:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e This is the plan right @eerhardt?\r\n\r\nYes, we will need to do something here if we want to build Aspire Components outside of the dotnet/aspire repo.",
                                           "updatedAt":  "2024-04-08T23:08:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Uzyt7",
                                           "createdAt":  "2024-11-25T03:31:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "We\u0027re wanting to use this in the Community Toolkit (tracking https://github.com/CommunityToolkit/Aspire/issues/112), what would be required to ship this as a .NET CLI tool that we could use, even if it was on a package feed other than nuget.org.",
                                           "updatedAt":  "2024-11-25T03:31:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ni4W9",
                                           "createdAt":  "2025-04-16T22:16:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "@davidfowl @eerhardt\nIs there any plan for this in the near future?\nMaybe an aspire cli command?\n\nI would like to resolve this issue if you can provide some information about how this should be designed. ",
                                           "updatedAt":  "2025-04-16T22:16:09Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Spin off configuration schema generator as a standalone package",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3544",
        "createdAt":  "2024-04-09T23:11:22Z",
        "number":  3544,
        "author":  "pedershk",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:41:05Z",
        "body":  "When trying to start a project with an Azure SignalR resource defined, provisioning fails. I\u0027m able to use the Connected Services-\u003e Azure Resource Provisioning settings to set Subscription Name, Location and Resource group, and all three are correctly defined in my user secrets after. \r\n\r\nWhen starting projects, resource provisioning fails with:\r\n\r\n```\r\nError provisioning signalr.\r\nAzure.RequestFailedException: The client \u0027REDACTED@microsoft.com\u0027 with object id \u0027REDACTED\u0027 does not have authorization to perform action \u0027Microsoft.Resources/subscriptions/read\u0027 over scope \u0027/subscriptions/REDACTED\u0027 or the scope is invalid. If access was recently granted, please refresh your credentials.\r\nStatus: 403 (Forbidden)\r\nErrorCode: AuthorizationFailed\r\n\r\nContent:\r\n{\"error\":{\"code\":\"AuthorizationFailed\",\"message\":\"The client \u0027REDACTED@microsoft.com\u0027 with object id \u0027REDACTED\u0027 does not have authorization to perform action \u0027Microsoft.Resources/subscriptions/read\u0027 over scope \u0027/subscriptions/REDACTED\u0027 or the scope is invalid. If access was recently granted, please refresh your credentials.\"}}\r\n\r\nHeaders:\r\nCache-Control: no-cache\r\nPragma: no-cache\r\nx-ms-failure-cause: REDACTED\r\nx-ms-request-id: 78621442-aabe-4b16-9184-abe111313da2\r\nx-ms-correlation-request-id: REDACTED\r\nx-ms-routing-request-id: REDACTED\r\nStrict-Transport-Security: REDACTED\r\nX-Content-Type-Options: REDACTED\r\nDate: Tue, 09 Apr 2024 23:07:50 GMT\r\nConnection: close\r\nContent-Type: application/json; charset=utf-8\r\nExpires: -1\r\nContent-Length: 384\r\n\r\n   at Azure.ResourceManager.Resources.SubscriptionsRestOperations.GetAsync(String subscriptionId, CancellationToken cancellationToken)\r\n   at Azure.ResourceManager.Resources.SubscriptionResource.GetAsync(CancellationToken cancellationToken)\r\n   at Azure.ResourceManager.ArmClient.GetDefaultSubscriptionAsync(CancellationToken cancellationToken)\r\n   at Aspire.Hosting.Azure.AzureProvisioner.GetProvisioningContextAsync(Lazy`1 userSecretsLazy, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Azure/Provisioning/Provisioners/AzureProvisioner.cs:line 337\r\n   at Aspire.Hosting.Azure.AzureProvisioner.ProcessResourceAsync(IConfiguration configuration, Lazy`1 provisioningContextLazy, IAzureResource resource, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Azure/Provisioning/Provisioners/AzureProvisioner.cs:line 265\r\n```\r\n\r\nThis subscription is in a tenant where my Entra ID is a Member guest account.\r\n\r\naz cli, azd, portal, all other ways to access it works, and I do in fact have the neccessary permissions. The Azure Resource provisioning setup mentioned above is also able to create a new resource group on the subscription.\r\n\r\nI\u0027ve tried setting an Azure:Tenant secret to both tenant id and tenant fqdn as well, to no avail.\r\n\r\nWhen deploying to my primary tenant, everything works.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOef9zAQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc559kTo",
                                           "createdAt":  "2024-04-09T23:12:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "@pedershk Can you share the VS version you have? And in VS do you have multiple identities logged in?",
                                           "updatedAt":  "2024-04-09T23:12:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559lNy",
                                           "createdAt":  "2024-04-09T23:16:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pedershk",
                                           "body":  "\u003e @pedershk Can you share the VS version you have? And in VS do you have multiple identities logged in?\r\n\r\n17.10.0 Preview 3.\r\n\r\nOnly one Entra Identity - Microsoft.com AAD account, as well as my GitHub account:\r\n![image](https://github.com/dotnet/aspire/assets/667361/cb5cf0de-8328-4525-8e9f-507228879142)\r\n\r\nThe account is a member of four tenants in total, the default tenant and three additional tenants.\r\n\r\nDeploying to primary/default tenant works.\r\n",
                                           "updatedAt":  "2024-04-09T23:17:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559l8m",
                                           "createdAt":  "2024-04-09T23:20:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "Thank you for this @pedershk -- @anvillan could we be using the wrong auth token?\r\n\r\n@pedershk when you use `azd account show` is it showing the right tenant as the default, etc.?",
                                           "updatedAt":  "2024-04-09T23:20:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559mnQ",
                                           "createdAt":  "2024-04-09T23:24:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pedershk",
                                           "body":  "\u003e Thank you for this @pedershk -- @anvillan could we be using the wrong auth token?\r\n\u003e \r\n\u003e @pedershk when you use `azd account show` is it showing the right tenant as the default, etc.?\r\n\r\nI assume you mean `azd config show` since there is no `azd account show`(at least in azd 1.8.0). The output doesn\u0027t show a tenant at all:\r\n\r\n```\r\n{\r\n  \"alpha\": {\r\n    \"infraSynth\": \"on\",\r\n    \"resourceGroupDeployments\": \"on\"\r\n  },\r\n  \"defaults\": {\r\n    \"location\": \"norwayeast\",\r\n    \"subscription\": \"REDACTED\"\r\n  }\r\n}\r\n```",
                                           "updatedAt":  "2024-04-09T23:24:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559nA3",
                                           "createdAt":  "2024-04-09T23:26:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "Sorry yeah I meant `az account show`\r\n\r\nAnd also in VS, is this matching your \u0027default tenant\u0027:\r\n![image](https://github.com/dotnet/aspire/assets/4821/b35f400a-7d05-4b60-9ba9-9744a4cdb14b)\r\n",
                                           "updatedAt":  "2024-04-09T23:26:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559oPM",
                                           "createdAt":  "2024-04-09T23:33:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODdnYnQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "timheuer",
                                                                               "createdAt":  "2024-04-09T23:33:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "pedershk",
                                           "body":  "`az account show` shows the guest tenant that I\u0027m trying to deploy to as my homeTenantId, and my default tenant under \"managedByTenants\". The subscription I\u0027m trying to deploy to is the selected subscription.\r\n\r\nYes, the Default Tenant is correct (the MS home tenant).\r\n",
                                           "updatedAt":  "2024-04-09T23:33:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55-Zc7",
                                           "createdAt":  "2024-04-10T02:41:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "@pedershk Wondering if you can try something for us.  In the AppHost appsettings.json (or in user secrets), change the credential source:\r\n\r\n```json\r\n\"Azure\": {\r\n  \"CredentialSource\": \"VisualStudio\"\r\n}\r\n```\r\n\r\nNote: Other options: AzureCli, AzurePowerShell, VisualStudioCode, AzureDeveloperCli, InteractiveBrowser",
                                           "updatedAt":  "2024-04-10T02:41:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55_PJP",
                                           "createdAt":  "2024-04-10T06:25:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pedershk",
                                           "body":  "\u003e @pedershk Wondering if you can try something for us. In the AppHost appsettings.json (or in user secrets), change the credential source:\r\n\u003e \r\n\u003e ```json\r\n\u003e \"Azure\": {\r\n\u003e   \"CredentialSource\": \"VisualStudio\"\r\n\u003e }\r\n\u003e ```\r\n\u003e \r\n\u003e Note: Other options: AzureCli, AzurePowerShell, VisualStudioCode, AzureDeveloperCli, InteractiveBrowser\r\n\r\nSetting it to `AzureCli` worked for deploying the resources. The resources are fully deployed. The az cli has the tenant/subscription I\u0027m using here currently set as its defaults. But its still strange - as the Visual Studio UI seems to be able to interact with the tenant/subscription combo in question just fine. Setting the credential source to `VisualStudio`, however, does not work.\r\n\r\nUpdate : _deployment_ now works, but when attempting to _use_ the resource (which I\u0027m able to do with deployment to my primary tenant), the Azure SignalR resource errors out due to access errors:\r\n```\r\n2024-04-10T08:30:40.9737046 info: Microsoft.Azure.SignalR.ServiceConnection[2]\r\n      Failed to connect to \u0027(Primary)https://signalrq6a2wo5bjbuou.service.signalr.net/(hub=ComponentHub)\u0027, will retry after the back off period. Error detail: The server returned status code \u0027403\u0027 when status code \u0027101\u0027 was expected.. The server returned status code \u0027403\u0027 when status code \u0027101\u0027 was expected.. Id: b0df0686-cd08-4428-9df6-14eabccf4237\r\n2024-04-10T08:30:41.0280853 info: Microsoft.Azure.SignalR.Connections.Client.Internal.WebSocketsTransport[6]\r\n      Transport is stopping.\r\n2024-04-10T08:30:41.0281775 info: Microsoft.Azure.SignalR.Connections.Client.Internal.WebSocketsTransport[6]\r\n      Transport is stopping.\r\n```\r\n\r\nWhen deploying to my primary/home tenant, without setting the `Azure:CredentialSource`, the deployed resources work correctly.\r\n\r\n```\r\n2024-04-10T08:34:45.8359984 info: Microsoft.Azure.SignalR.AadAccessKey[3]\r\n      Succeed in authorizing AccessKey for \u0027https://signalrid5nwhvxc3tw2.service.signalr.net/api/v1/auth/accessKey\u0027;\r\n2024-04-10T08:34:46.3058120 info: Microsoft.Azure.SignalR.Connections.Client.Internal.WebSocketsTransport[1]\r\n      Starting transport. Transfer mode: Binary. Url: \u0027wss://signalrid5nwhvxc3tw2.service.signalr.net/server/?hub=componenthub\u0026cid=76e45d4c-b759-49fd-b569-44e39e5841c2\u0027.\r\n```\r\n\r\nLet me know if you\u0027d like to me to test further on this for any fixes to how the feature behaves prior to P6/GA.\r\n",
                                           "updatedAt":  "2024-04-10T06:54:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55_3MB",
                                           "createdAt":  "2024-04-10T07:50:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODds3Yw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "oising",
                                                                               "createdAt":  "2024-04-10T14:30:06Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "When you run with the az cli credentials, it\u0027s likely that your runtime code also needs to change to do the same thing (the aspire component needs to set the right TokenCredential).\r\n\r\ncc @tg-msft ",
                                           "updatedAt":  "2024-04-10T07:50:05Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "Azure Provisioning fails on secondary tenant",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3608",
        "createdAt":  "2024-04-11T16:34:34Z",
        "number":  3608,
        "author":  "AClerbois",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODRNVGg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "paule96",
                                            "createdAt":  "2024-04-12T09:09:50Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sayedihashimi",
                                            "createdAt":  "2024-04-12T17:44:53Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BramMusters",
                                            "createdAt":  "2024-07-04T11:48:04Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "serdarkaracay",
                                            "createdAt":  "2024-07-29T08:52:48Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Hana-fubuki",
                                            "createdAt":  "2024-09-20T00:40:17Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TheBrambleShark",
                                            "createdAt":  "2024-10-08T19:19:38Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sidneyxvr",
                                            "createdAt":  "2024-10-14T00:36:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "OskarNS",
                                            "createdAt":  "2024-10-15T19:24:13Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MermaidIsla",
                                            "createdAt":  "2024-11-02T21:39:22Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "enchart",
                                            "createdAt":  "2025-01-06T09:03:13Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MichalGrzywacz",
                                            "createdAt":  "2025-01-28T08:23:22Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "hannesbischof",
                                            "createdAt":  "2025-03-09T06:59:45Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "GMouaad",
                                            "createdAt":  "2025-03-21T10:31:11Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "WhatzGames",
                                            "createdAt":  "2025-03-21T18:52:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AdrianoAE",
                                            "createdAt":  "2025-03-31T19:55:49Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "awaters-frontact",
                                            "createdAt":  "2025-04-14T04:12:26Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "WeihanLi",
                                            "createdAt":  "2025-05-19T06:04:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "KennethHoff",
                                            "createdAt":  "2025-06-19T18:38:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "hanspagel",
                                            "createdAt":  "2025-06-23T13:18:07Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ndavidb",
                                            "createdAt":  "2025-08-14T00:59:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "fdonnet",
                                            "createdAt":  "2025-09-17T09:24:48Z"
                                        }
                                    ],
                          "totalCount":  21
                      },
        "updatedAt":  "2025-06-23T13:14:16Z",
        "body":  "## Feature Proposal\r\n\r\n### Summary\r\nIn the context of the .NET Aspire project, I propose to add a new feature aimed at consolidating all OpenAPI specification files across the project into a unified Swagger UI interface. This would greatly enhance the developer experience by providing a single, centralized location to view and interact with the API documentation generated from OpenAPI specifications.\r\n\r\n### Problem Statement\r\nCurrently, OpenAPI specification files are scattered throughout various parts of our project, making it challenging to locate, view, and test different APIs efficiently. Developers and API consumers have to navigate through multiple Swagger UI instances or look into different directories to find the relevant API documentation. This fragmentation hinders productivity and can lead to inconsistencies in how APIs are understood and used.\r\n\r\n### Proposed Solution\r\nImplement a mechanism within the .NET Aspire project that automatically scans the project directories for OpenAPI specification files (*.json or *.yaml). Once identified, these files will be aggregated into a single Swagger UI instance. This unified Swagger UI will be automatically updated to reflect changes in the OpenAPI specifications, ensuring that the documentation is always current.\r\n\r\n### Benefits\r\n- **Centralization**: Provides a one-stop-shop for all API documentation, making it easier for developers to find and use the APIs they need.\r\n- **Improved Developer Experience**: Facilitates a smoother development process by reducing the time spent searching for API documentation.\r\n- **Consistency**: Ensures that all API documentation is presented in a consistent manner, aiding in understanding and integration efforts.\r\n- **Automation**: Reduces manual effort required to maintain API documentation visibility as the project evolves.\r\n\r\n### Implementation Considerations\r\n- The scanning mechanism should be configurable to allow for inclusion or exclusion of specific directories or files.\r\n- Consideration should be given to how the unified Swagger UI is hosted within the project (e.g., as part of the build process, within a container, etc.).\r\n- Security implications of aggregating and exposing API documentation in a single location should be assessed and mitigated.\r\n\r\n### Request for Comments\r\nI invite the community to provide feedback on this proposal. Any insights on potential challenges, additional benefits, or alternative approaches to achieving this goal would be greatly appreciated.\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsppcBQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc56T6jf",
                                           "createdAt":  "2024-04-12T16:01:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOETKVeA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "sayedihashimi",
                                                                               "createdAt":  "2024-04-12T17:45:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jonmikeli",
                                                                               "createdAt":  "2025-05-22T09:58:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Cool idea, related to https://github.com/dotnet/aspire/issues/2980",
                                           "updatedAt":  "2024-04-12T16:01:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc56Uiio",
                                           "createdAt":  "2024-04-12T17:45:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOETKVbw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-04-12T17:46:25Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "samsp-msft",
                                                                               "createdAt":  "2024-10-28T23:06:05Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jonmikeli",
                                                                               "createdAt":  "2025-05-22T09:58:43Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "sayedihashimi",
                                           "body":  "If we do this we should also support it in Visual Studio. ",
                                           "updatedAt":  "2024-04-12T17:45:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PF4sH",
                                           "createdAt":  "2024-10-08T19:43:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "Just some (half-baked) general thoughts to help spur discussion\r\n\r\n- Dedicated Swagger service container\r\n```cs\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\nvar swagger = builder.AddSwaggerHost(\"swagger\");\r\n\r\nbuilder.AddProject\u003cProjects.MyCoolProject\u003e(\"web\")\r\n       .WithReference(swagger);\r\n```\r\n\r\n- A few discovery mechanism ideas\r\n```cs\r\nvar swagger = builder.AddSwaggerHost(\"swagger\")\r\n    .WithSwaggerFile(\"**/*.swagger.json\"); // With glob to point to swagger files\r\n\r\nvar someService = builder.AddNonDotNetService(\"foo\")\r\n    .WithSwagger(); // Search output path for swagger file. Possibly accept glob pattern again. Intended scenario is including a swagger file from a docker image or something similar.\r\n\r\nvar web = builder.AddProject\u003cProjects.MyCoolProject\u003e(\"web\")\r\n    .WithReference(swagger);\r\n\r\n// In MyCoolProject.Project.cs\r\nvar builder = WebApplication.CreateBuilder(args);\r\nbuilder.AddSwagger(\"swagger\"); // Wraps standard swagger packages to produce the swagger json file, then provides that back to the swagger host.\r\n```\r\n## My Questions\r\n\r\n- What kind of ergonomics do we want here?\r\n- Should supporting DotNet projects (a la `AddProject\u003cTProject\u003e(string)`) feel different than supporting non-DotNet projects (e.g. a PHP web service)?\r\n   - If so, how? Why?\r\n- How should we handle IDP support, e.g. if Keycloak is used as an auth source for the application overall, how do we secure Swagger with it?\r\n   - This likely falls under the umbrella of IDP integration with Aspire overall and might be a little out of scope. ",
                                           "updatedAt":  "2024-10-08T19:43:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RWM7t",
                                           "createdAt":  "2024-10-25T18:10:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOECxaPg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2024-10-25T18:14:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "cameronrohani",
                                                                               "createdAt":  "2024-10-25T20:00:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "xC0dex",
                                                                               "createdAt":  "2024-10-26T08:27:00Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "slang25",
                                                                               "createdAt":  "2024-11-12T23:29:11Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "enchart",
                                                                               "createdAt":  "2025-01-06T09:03:40Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "PejmanNik",
                                                                               "createdAt":  "2025-01-16T14:00:49Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  6
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@Foxtrek64 I like the way that you\u0027ve modeled this implementation as an integration in your proposal, with both a client and hosting component.\n\nIn .NET 9, we added  built-in support for OpenAPI document generation via the `Microsoft.AspNetCore.OpenApi` package. We could consider what it would look like to add a client integration for this, that could help solve issues like [this one](https://github.com/dotnet/aspnetcore/issues/57332).\n\nWith regard to the hosting side of this, I saw it being inverted a bit:\n\n```csharp\nvar apiService1 = builder.AddProject\u003c\u003e();\nvar apiService2 = builder.AddProject\u003c\u003e();\n\nvar swagger = builder.AddSwaggerUi()\n  .WithReference(apiService1)\n  .WithReference(apiService2);\n```\n\nThis way a user could navigate to a certain gateway that incorporated the OpenAPI documentation for _all_ the API services in their application. You could potentially use the document switcher UI to keep things truly centralized.\n\nSide note: although Swagger UI is popular, I\u0027ve become quite partial to [Scalar](https://github.com/scalar/scalar) over the past few months. It would be interesting to explore adding an Aspire hosting integration for Scalar that provided this functionality. @xC0dex -- what are your thoughts on prototyping an Aspire hosting integration around Scalar and seeing what it would look like?\n\n\u003e Should supporting DotNet projects (a la AddProject\u003cTProject\u003e(string)) feel different than supporting non-DotNet projects (e.g. a PHP web service)?\n\u003e If so, how? Why?\n\nI\u0027m inclined to say the ergonomics should be the same across all project types, especially if the API reference document is an independent resource in-and-off itself instead of something that gets added via a `WithReference` on the API service....or do we support both models?\n\nOne more thing, I was originally gonna close this issue in favor of centralizing all the discussion in #2980 but I think we should keep these two as independent and separate ideas.\n\n- This issue is about adding hosting/client integrations for OpenAPI document + Swagger UI/Scalar UI/etc.\n- The other issue is about providing an _in-dashboard_ experience for ad-hoc testing and would require spinning up a new UI altogether.\n\nI think the first issue (this one) is a lot more tractable given the APIs that we currently support and the prototyping that has already been done in [this project](https://github.com/davidfowl/AspireSwaggerUI).\n\n",
                                           "updatedAt":  "2024-10-25T18:10:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RWSXb",
                                           "createdAt":  "2024-10-25T18:19:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "@captainsafia I like the inverted model. By providing the service reference to the service with the open api spec, it makes it really easy to keep the ergonomics consistent regardless of whether the service generating the open api doc is .NET or not.\n\nAlso, I think the best way to handle the question of swagger vs scalar or other potential implementations could be something like\n\n```cs\nvar openApi = builder.AddOpenApi();\nvar swagger = openApi.WithSwaggerUi();\nvar scalar = openApi.WithScalarUi();\n// others\n```\n\nEssentially, the `AddOpenApi()` piece would produce an `OpenApiBuilder` which is responsible for aggregating all of the input documents. Vendors, be it Swagger or Scalar or someone else, can then come in and extend OpenApiBuilder to provide output to their web interface.\n\nThis also means a really nice tie-in to #2980 - the in-dashboard experience would simply be another output source, just like Swagger and Scalar.\n```cs\nbuilder.AddOpenApi().WithDashboardUi();\n```\n\nEdit: component registration example\nI imagine that the order in which things are added to the builder do not matter, and you should in theory be able to add multiple front ends here - each would just register a container hosting Swagger or Scalar or whatever at its own endpoint. I can\u0027t think of a scenario for *when* you\u0027d want that, but I don\u0027t see why it wouldn\u0027t be possible.\n```cs\nvar openApi = builder.AddOpenApi()\n    .WithScalarUi()\n    .WithReference(apiService1)\n    .WithReference(apiService2);\n```",
                                           "updatedAt":  "2024-10-25T18:29:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RWpCr",
                                           "createdAt":  "2024-10-25T19:20:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e Also, I think the best way to handle the question of swagger vs scalar or other potential implementations could be something like\n\u003e \n\u003e var openApi = builder.AddOpenApi();\n\u003e var swagger = openApi.WithSwaggerUi();\n\u003e var scalar = openApi.WithScalarUi();\n\u003e // others\n\nI assume this is code that someone would write in their app host. If so, what purpose does the `AddOpenApi` call and `OpenApiBuilder` serve? Is it mostly so you can chain different front-end to the same resource instance?\n\nI think it is a comparison between:\n\n```csharp\nvar openApi = builder.AddOpenApi()\n    .WithScalarUi()\n    .WithSwaggerUi()\n    .WithReference(apiService1)\n    .WithReference(apiService2);\n```\n\nOR\n\n```csharp\nvar scalar = builder.AddScalarUi();\nvar swagger = builder.AddSwaggerUi();\n\nscalar\n  .WithReference(apiService1)\n  .WithReference(apiService2);\n\nswagger\n  .WithReference(apiService1)\n  .WithReference(apiService2);\n```\n\nWith the first option being DRYer but requiring more new API. I don\u0027t think there\u0027s a technical need for an `OpenApiBuilder` (for example, some requirement to share state between the two that isn\u0027t available on `IResourceBuilder`) but not sure...\n",
                                           "updatedAt":  "2024-10-25T19:20:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RWqPL",
                                           "createdAt":  "2024-10-25T19:23:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "xC0dex",
                                           "body":  "Hey @captainsafia, \nthis sounds like a great idea! I\u0027m a fan of Scalar too, so I would be happy to work on an integration for Aspire. I haven’t worked with Aspire before, so I might need a little support 👀. ",
                                           "updatedAt":  "2024-10-25T19:23:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RW6RQ",
                                           "createdAt":  "2024-10-25T20:06:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD4Ihlw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "xC0dex",
                                                                               "createdAt":  "2024-10-25T20:30:44Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@xC0dex Nice! I\u0027d recommend checking out https://github.com/davidfowl/AspireSwaggerUI as an example to start with. You\u0027ll notice if you look at [this file](https://github.com/davidfowl/AspireSwaggerUI/blob/146163aec403305770861098d3c16578a0d5dd99/SwaggerUi.Aspire.Hosting/OpenApiRouteBuilderExtensions.cs) that it uses an approach for serving the Swagger UI that is very familiar to what the `Scalar.AspNetCore` package currently does so you can use that as a building block for this.\n\nMost of the Aspire-specific logic is [in this file](https://github.com/davidfowl/AspireSwaggerUI/blob/main/SwaggerUi.Aspire.Hosting/SwaggerUiExtensions.cs) and deals with wiring up the endpoints directly to what the API service is actually listening on.\n\nNote: the repo above doesn\u0027t use the inverted model that I proposed in https://github.com/dotnet/aspire/issues/3608#issuecomment-2438516461 but it\u0027s a good start nonetheless.\n",
                                           "updatedAt":  "2024-10-25T20:06:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RcdJz",
                                           "createdAt":  "2024-10-27T19:59:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e I assume this is code that someone would write in their app host. If so, what purpose does the `AddOpenApi` call and `OpenApiBuilder` serve? Is it mostly so you can chain different front-end to the same resource instance?\n\nEssentially, yes. I think the primary concern here is the input logic - how we aggregate the various sources into a single resource instance that can be given to the chosen front-end. In my opinion, as someone implementing Swagger or Scalar or whatever else, I don\u0027t necessarily care where my input comes from or how it\u0027s created, I just care that I get input that is in the correct format. I also don\u0027t feel it\u0027s necessarily my responsibility to need to implement that logic myself. This would lead to a situation where there is inconsistency between builders.\n\n\n\u003e I don\u0027t think there\u0027s a technical need for an `OpenApiBuilder` (for example, some requirement to share state between the two that isn\u0027t available on `IResourceBuilder`) but not sure...\n\nI agree. Having looked at some other examples already in the ecosystem, it seems implementing our own builder type would be somewhat unusual. Take this example with Postgres, for example:\n\n```cs\nvar database = builder.AddPostgres(\"database\") // IResourceBuilder\u003cPostgresServerResource\u003e\n    .WithPgAdmin();\n```\n\nHere, they\u0027re doing what we\u0027re trying to accomplish - some back-end service with a bolt-on GUI. I think it may be good to follow the example here - forego the `OpenApiBuilder` type for `IResourceBuilder\u003cOpenApiResource\u003e` or something of the like.\n\nWith this in mind, I think the first option makes the most sense, both from a consumer standpoint and from a vendor standpoint.\n\n```cs\nvar openApi = builder.AddOpenApi() // IResourceBuilder\u003cOpenApiResource\u003e\n    .WithDashboardUi()\n    .WithResource(apiResource1)\n    .WithResource(apiResource2);\n```",
                                           "updatedAt":  "2024-10-27T19:59:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RiWXq",
                                           "createdAt":  "2024-10-28T14:09:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD4Ycnw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2024-10-28T16:31:24Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "I was bored over the weekend so I decided to throw together a quick partial prototype of this feature, in the current context that would be the `builder.AddOpenApi().WithDashboardUi();`.\n\nI haven\u0027t worked with the aspire repo before so this is my first attempt at making something functional.\n\nForked repo [here](https://github.com/MermaidIsla/aspire)\n\nPrototype showcase:\nhttps://github.com/user-attachments/assets/ccfeccdb-0d41-4121-a478-b8c1c977441f",
                                           "updatedAt":  "2024-10-28T14:09:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Rmoxv",
                                           "createdAt":  "2024-10-28T22:55:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "samsp-msft",
                                           "body":  "@mikekistler  FYI\n",
                                           "updatedAt":  "2024-10-28T22:55:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RmtdU",
                                           "createdAt":  "2024-10-28T23:11:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD4kdlg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2024-10-29T15:51:54Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "samsp-msft",
                                           "body":  "\u003e If we do this we should also support it in Visual Studio.\n\n+1 - personally, I think that the .http file support is a much better experience than the web based explorers. What is (or was the last time I looked) a good experience to go from a list of APIs on an endpoint to generating a block in the http file for calling that API.\n\nFor scenarios like this, I would like to improve the integration between VS and the Aspire dashboard. If an Aspire AppHost has the swagger annotations, what if that resulted in a \"API Test\" command in the resource view in the dashboard. Clicking it would take you to the .http file for that service, and enumerate the endpoints/APIs available.",
                                           "updatedAt":  "2024-10-28T23:11:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Rtt93",
                                           "createdAt":  "2024-10-29T15:51:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e For scenarios like this, I would like to improve the integration between VS and the Aspire dashboard. If an Aspire AppHost has the swagger annotations, what if that resulted in a \"API Test\" command in the resource view in the dashboard. Clicking it would take you to the .http file for that service, and enumerate the endpoints/APIs available.\n\nTo make sure I\u0027m understanding your idea - if we take my example above, you\u0027re proposing that we take the `AddOpenApi()` and bake it in to the Aspire AppHost. And if it detects an OpenAPI file for any members, it automatically renders it on a built-in page in the dashboard - no `WithDashboardUi()` required.\n\nI\u0027d be on board with that approach, provided that we get a way to extract that OpenAPI information in case someone wants to expose Swagger or Scalar or some alternative UI, which could be good for production purposes where the Aspire Dashboard may be less appropriate.",
                                           "updatedAt":  "2024-10-29T15:55:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6SE2sF",
                                           "createdAt":  "2024-10-31T20:21:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "\u003e With this in mind, I think the first option makes the most sense, both from a consumer standpoint and from a vendor standpoint.\n\u003e\n\u003e ```csharp\n\u003e var openApi = builder.AddOpenApi() // IResourceBuilder\u003cOpenApiResource\u003e\n\u003e     .WithDashboardUi()\n\u003e     .WithResource(apiResource1)\n\u003e     .WithResource(apiResource2);\n\u003e ```\n\nI\u0027ve been thinking about this and I probably like this design the most because it leaves a room for easy configuration.\n\nLet\u0027s say I would want to configure the path to the OpenApi document. I think something like `builder.AddOpenApi([\"/path/to/document.json\"])` would be nice. It being an array, it would also allow to specify multiple paths.\n\nFurther more I think it would be nice to also have the ability to define specific paths for selected resources, so something like `.WithResource(apiResource, [\"/path/to/extra/document.json\"])`.\n\nSo putting it all together it would look something like this:\n```csharp\nvar openApi = builder.AddOpenApi([\"/path/to/document.json\"]) // IResourceBuilder\u003cOpenApiResource\u003e\n    .WithDashboardUi()\n    .WithResource(apiResource1)                                    // This has one document path.\n    .WithResource(apiResource2, [\"/path/to/extra/document.json\"]); // This has two document paths.\n```",
                                           "updatedAt":  "2024-10-31T20:21:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6SJwqY",
                                           "createdAt":  "2024-11-01T15:06:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD671ow==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "thangchung",
                                                                               "createdAt":  "2024-11-11T09:53:41Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "slang25",
                                                                               "createdAt":  "2024-11-12T23:31:04Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2024-11-14T19:38:04Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "xC0dex",
                                           "body":  "Hey @captainsafia,\n\nI’ve put together an [MVP](https://github.com/xC0dex/AspireScalar) for the Scalar integration, based on the [AspireSwaggerUI](https://github.com/davidfowl/AspireSwaggerUI) project. Currently, it uses the CDN version of the Scalar API Reference and isn’t configurable yet. From my understanding, the plan for how the UI will be added isn’t fully settled yet, so I didn\u0027t spend much time there.\n\nEven though it’s still in a very early stage, I was wondering: should the UI/integration be fully configurable? And would it make sense to use the `Scalar.AspNetCore` package here, or should everything be shipped through Aspire or an Aspire integration package? I think it would also be possible to update the package or introduce a new one.\n\nDuring the development, I thought it would enhance the developer experience if the OpenAPI documents from all services could be fetched automagically. ~I’m considering an endpoint that could provide all the necessary information needed for the integration.~",
                                           "updatedAt":  "2024-12-10T18:28:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6TqD5B",
                                           "createdAt":  "2024-11-14T19:46:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e I\u0027ve been thinking about this and I probably like this design the most because it leaves a room for easy configuration.\n\u003e \n\u003e Let\u0027s say I would want to configure the path to the OpenApi document. I think something like `builder.AddOpenApi([\"/path/to/document.json\"])` would be nice. It being an array, it would also allow to specify multiple paths.\n\u003e \n\u003e Further more I think it would be nice to also have the ability to define specific paths for selected resources, so something like `.WithResource(apiResource, [\"/path/to/extra/document.json\"])`.\n\nI really like this configuration approach. A `params string[]` would work very nicely here. That said, I would really like to push for globbing via [Microsoft.Extensions.FileSystemGlobbing](https://learn.microsoft.com/en-us/dotnet/core/extensions/file-globbing). I think it\u0027d be nice to have  something like this:\n\n```cs\n// Just include paths\nbuilder.AddOpenApi([\"**/*.document.json\", \"**/*.swagger.json\"]);\n\n// More complicated example. This is NOT intended to be equivalent to the\n// preceding example.\n\nMatcher matcher = new();\nmatcher.AddInclude(\"**/*.document.json\");\nmatcher.AddExclude(\"**/*.swagger.json\");\nbuilder.AddOpenApi(matcher);\n```\n\nThis would of course also apply to `IResourceBuilder\u003cOpenApiResource\u003e#WithResource()` as well, accepting either params string or a matcher instance.",
                                           "updatedAt":  "2024-11-14T19:46:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6TqfoJ",
                                           "createdAt":  "2024-11-14T20:54:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "Ooh, I wasn\u0027t aware of that class. I like it. This then gives me an idea of having two `string[]` in `builder.AddOpenApi()` method allowing to specify both include paths and exclude paths:\n```csharp\n// First parameter are include paths, second parameter are exclude paths.\nbuilder.AddOpenApi([\"**/*.document.json\"], [\"**/*.swagger.json\"]);\n\n// This complicated example below now matches the preceding example.\nMatcher matcher = new();\nmatcher.AddInclude(\"**/*.document.json\");\nmatcher.AddExclude(\"**/*.swagger.json\");\nbuilder.AddOpenApi(matcher);\n\n// Writing just exclude paths would be like this\nbuilder.AddOpenApi([], [\"**/*.swagger.json\"]);\n```",
                                           "updatedAt":  "2024-11-14T20:54:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UOIhK",
                                           "createdAt":  "2024-11-19T20:54:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "I just thought of a question \"Would you be able to use multiple UIs at the same time?\" I think I can explain it best with the following scenario.\n\n### The Scenario\n\nI have some public API services and some internal API services along with possibly more services described in one AppHost.\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\n// ... some other services possibly\n\n/* My projects */\n\nvar publicApiService1 = builder.AddProject\u003c\u003e();\nvar publicApiService2 = builder.AddProject\u003c\u003e();\n\nvar internalApiService1 = builder.AddProject\u003c\u003e();\nvar internalApiService2 = builder.AddProject\u003c\u003e();\n\n/* OpenAPI */\n\nbuilder.AddOpenApi()\n    .WithSwaggerUi()\n    .WithReference(publicApiService1)\n    .WithReference(publicApiService2);\n\nbuilder.AddOpenApi()\n    .WithScalarUi()\n    .WithReference(internalApiService1)\n    .WithReference(internalApiService2);\n\nbuilder.Build().Run();\n```\n\n### The Question\n\n**Would I be able to use multiple UIs, in this case Swagger and Scalar, at the same time or would it throw an exception?**\n\nMy initial thought is no as it would go against this feature proposal for a centralized UI. In other words it would no longer be compliant with:\n\n\u003e Provides a one-stop-shop for all API documentation, making it easier for developers to find and use the APIs they need.\n\n### Why would you need two UIs?\n\nLet\u0027s assume there are two companies A and B. \"Company A\" provides public API services. \"Company B\" would like to use \"Company A\u0027s\" public API services for their app development, for example. It would therefore be nice to give \"Company B\" a UI to be able to easily develop their app, while still keeping a UI for all \"Company A\u0027s\" internal API services.\n\nThere could also be a situation where \"Company B\" prefers to work with Swagger while \"Company A\" prefers to work with Scalar.",
                                           "updatedAt":  "2024-11-19T20:54:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UXIX4",
                                           "createdAt":  "2024-11-20T16:47:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD7y-1A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "MermaidIsla",
                                                                               "createdAt":  "2024-11-20T19:05:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e I just thought of a question \"Would you be able to use multiple UIs at the same time?\"\n\nI believe there are valid use cases for wanting multiple UIs. Preventing its use would just be an artificial limitation anyways, and we can\u0027t assume to know all uses cases. So making it as open as possible is the best course of action, in my opinion.\n\nA simple example of this is one that applies to me - I\u0027ve only ever used Swagger, but now I\u0027ve heard of this new Scalar tool and I want to try it out. So my code diff could look like this:\n\n```diff\n  builder.AddOpenApi()\n      .WithSwaggerUi()\n+     .WithScalarUi()\n      WithReference(...);\n```\n\nNow I have the ability to try out both.\n\nAlso on a semi-related note, if #2980 is merged with it being enabled should any openapi specs be found rather than with an explicit `WithDashboardUi()`, I think running multiple front-ends will probably be standard practice. As much as I think the Dashboard UI will be helpful, programmers tend to be opinionated and as such will have a preference for their front end.\n\n\u003e It would go against the feature proposal for a centralized UI\n\nI think the discussion has lead us in a direction where we don\u0027t want that.\nInstead, I think the discussion points us towards a system from which any UI can retrieve OpenAPI specifications.\nIn other words, it\u0027s up to Scalar or Swagger to provide the \"one stop shop for all API documentation\". The Aspire component would just provide the glue between the API testing interface and Aspire.",
                                           "updatedAt":  "2024-11-20T16:56:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UrWjx",
                                           "createdAt":  "2024-11-22T17:37:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "Just a thought - I wonder if a parameter to limit the environments the OpenApi engine is loaded in would be good, just because I feel like it would be a common option.\n\n```cs\nbuilder.AddOpenApi(); // Always add OpenApi\nbuilder.AddOpenApi(builder.Environment.IsDevelopment() || builder.Environment.IsStaging());\n```\nAmendment: This accepts a boolean value just because it makes it easy to work with the existing `IHostEnvironment` provided by the builder. This also makes it easy to accept other conditions as well, which may be a strong argument in favor of accepting a boolean here rather than specifically limiting it to environments (e.g. via an enum).\n\nAmendment 2: This could also be done by wrapping `builder.AddOpenApi()` in an if statement, but I feel like conditionally enabling/disabling OpenApi support will be such a common operation that it makes sense to have support for that built in.",
                                           "updatedAt":  "2024-11-22T17:43:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Urz8e",
                                           "createdAt":  "2024-11-22T18:40:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD8JRVw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2024-11-22T19:45:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "\u003e Amendment 2: This could also be done by wrapping `builder.AddOpenApi()` in an if statement, but I feel like conditionally enabling/disabling OpenApi support will be such a common operation that it makes sense to have support for that built in.\n\nIsn\u0027t this exactly how it\u0027s been done when Swagger was still part of ASP.NET template? Like you would do I believe this:\n\n```csharp\nvar builder = WebApplication.CreateBuilder(args);\n\nif (builder.Environment.IsDevelopment())\n{\n    builder.Services.AddOpenApi();\n}\n\nvar app = builder.Build();\n\nif (app.Environment.IsDevelopment())\n{\n    app.UseSwagger();\n}\n\napp.Run();\n```\nI believe this is still a common practice amongst many developers and even in .NET 9 I don\u0027t think it has changed much.",
                                           "updatedAt":  "2024-11-22T18:40:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YaJxP",
                                           "createdAt":  "2024-12-20T13:18:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "\u003e I really like this configuration approach. A `params string[]` would work very nicely here. That said, I would really like to push for globbing via [Microsoft.Extensions.FileSystemGlobbing](https://learn.microsoft.com/en-us/dotnet/core/extensions/file-globbing). I think it\u0027d be nice to have something like this:\n\u003e \n\u003e ```csharp\n\u003e // Just include paths\n\u003e builder.AddOpenApi([\"**/*.document.json\", \"**/*.swagger.json\"]);\n\u003e \n\u003e // More complicated example. This is NOT intended to be equivalent to the\n\u003e // preceding example.\n\u003e \n\u003e Matcher matcher = new();\n\u003e matcher.AddInclude(\"**/*.document.json\");\n\u003e matcher.AddExclude(\"**/*.swagger.json\");\n\u003e builder.AddOpenApi(matcher);\n\u003e ```\n\u003e This would of course also apply to `IResourceBuilder\u003cOpenApiResource\u003e#WithResource()` as well, accepting either params string or a matcher instance.\n\nI re-read this feature proposal again and I feel like I\u0027m missing something here. Correct me if I\u0027m wrong, but globbing would require to know all valid url paths to each individual API services ahead of time at the `AppHost` level.\n\n\u003e Let\u0027s say I would want to configure the path to the OpenApi document. I think something like `builder.AddOpenApi([\"/path/to/document.json\"])` would be nice. It being an array, it would also allow to specify multiple paths.\n\nWhereas what I was proposing was that you tell the `AppHost` exactly where to look for OpenApi documents because it knows addresses to each individual API services so it would do a simple HTTP request for all of them.\n\nFor example `http://localhost:1234/path/to/document.json`. This would either return `Status200Ok` meaning the data returned is likely an OpenApi document or it would return `Status404NotFound` meaning no OpenApi document exists.\n\nSo my question then is: **How does the `AppHost` know where to look for OpenApi documents?**",
                                           "updatedAt":  "2024-12-20T13:18:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YlS-6",
                                           "createdAt":  "2024-12-23T15:34:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e I re-read this feature proposal again and I feel like I\u0027m missing something here. Correct me if I\u0027m wrong, but globbing would require to know all valid url paths to each individual API services ahead of time at the `AppHost` level.\n\nPerhaps I\u0027m misunderstanding your concern, but perhaps something like this could resolve it? I see two primary scenarios:\n\n1. The OpenApi document is being accessed from a location on disk. As an example, if my Aspire service is made up of three ASP.NET Core apps, and each of them create a Swagger definition file at `$(MSBuildThisProjectDirectory)swagger.json`, then I can set up a glob to look for `**/swagger.json` and it would return an enumerable of all of the swagger files in child directories of the working directory.\n2. For web-based services, we already have a discovery model for this. When adding a database, service, you provide a connection name and consumers can reference it by name. I think we could do something similar with OpenAPI:\n```cs\nvar builder = DistributedApplication.CreateBuilder(args);\n\nMatcher serviceMatcher = new();\nserviceMatcher.AddInclude(\"**/*.swagger.json\");\n\nvar service1 = builder.AddProject\u003cProjects.DiskService\u003e(); // Dumps \"{version}.swagger.json\" to the project directory.\nvar service2 = builder.AddProject\u003cProjects.WebService\u003e(\"service2\"); // Available at https+http://service2/path/to/swagger.json\n\nvar openApi = builder.AddOpenApi()\n    .AddScalarUi()\n    .WithLocalOpenApiDocument(service1, serviceMatcher) // Relies on copying the generated openapi document to the output location.\n    .WithOpenApiUri(service2, \"path/to/swagger.json\");\n```\n\nIn both cases, both would get an enumerable of paths on disk. The `WithOpenApiUri()` would send a GET request and download the document to a well known working location, then return the path to that document.\n\nThere could be some cleanup/simplification here I\u0027m sure, but I think this would at least cover our bases. Do let me know what you think or if I was able to answer your question.",
                                           "updatedAt":  "2024-12-23T15:51:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YlXkz",
                                           "createdAt":  "2024-12-23T15:47:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "I wasn\u0027t aware that you can generate OpenApi documents as a file. I\u0027m only used to having them being served through HTTP GET method. This does explain the use of matcher nicely now.\n\nThough, if I\u0027m reading it correctly:\n\u003e The `WithOpenApiUri()` would send a GET request and download the document to a well known working location, then return the path to that document.\n\nThis would mean saving it to a file, right? Is it necessary to do that? Not exactly sure about pros or cons of this solution.\n\nIn fact probably a better question: Is it better to have all OpenApi documents saved locally on a disk or have them all be available through HTTP GET method?",
                                           "updatedAt":  "2024-12-23T15:59:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Ylecz",
                                           "createdAt":  "2024-12-23T16:07:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e I wasn\u0027t aware you can generate OpenApi documents as a file.\n\nI believe ASP.NET\u0027s OpenApi generator can spit out local files, but I wanted to provide this functionality to allow additional flexibility. There may be some services out there that provide the file on disk and you want to access it directly.\n\n\u003e That would mean saving it to a file, right? Is it necessary to do that?\n\nGood question. Technically speaking, you could save it in memory or just download it on the fly, but some sort of temporary local caching may be good if only for performance reasons. Some documents can be quite large depending on how they break up their APIs, which could lead to a large amount of bloat in memory.\n\nI imagine mechanically, it would be simplest to provide a list of file paths to the front-end service and let it determine how to handle them.\n\n\u003e Is it better to have all OpenApi documents saved locally on a disk or have them all be available through HTTP GET method?\n\nI think even if we were to specify a preference, not all vendors will be able to comply with that preference. So the flexibility is important. As for providing them to our chosen front-end, I think the flat file method is probably the best just due to its simplicity.\n\nAs an aside, it could be interesting to parse all of the documents and merge them into some sort of in-memory database such as Redis, then have the database be consumed by whatever front-end. That would require vendor buy-in, but it could be a compact solution.",
                                           "updatedAt":  "2024-12-23T16:07:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Ylu1B",
                                           "createdAt":  "2024-12-23T16:57:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "\u003e Technically speaking, you could save it in memory or just download it on the fly, but some sort of temporary local caching may be good if only for performance reasons.\n\nI feel like there would probably have to be some kind of option to enable caching and disable caching. For example if I\u0027m developing an ASP.NET web api service, I might not want caching on my local machine as I may be in very early stages of the development where things are changing constantly. However another example can be once an ASP.NET web api service is done and is put let\u0027s say on a staging environment on a remote server together with more web api services where I would want caching enabled.\n\nThe question then becomes: Would there also be different caching methods available? Would there just be one predefined?\n\nI know the answer is probably: \"It\u0027s better to let the developer have a choice.\" but sometimes I feel like too many choices may lead to a very complicated system. I guess I\u0027m struggling to answer whether the pros outweigh the cost to build such system.\n\n\u003e As an aside, it could be interesting to parse all of the documents and merge them into some sort of in-memory database such as Redis, then have the database be consumed by whatever front-end. That would require vendor buy-in, but it could be a compact solution.\n\nThis brings up a really good question as I have no idea who\u0027s job it would to be to parse all these documents. Considering there are both local and remote environments, I think local has an easy answer while remote environment currently doesn\u0027t really have an answer.\n\nAs far as I\u0027m aware currently there is no such Aspire service that would act as a middle man between all the apis/services/databases and all the consumers like ones that collect OpenTelemetry or OpenApi documents.\n\nI\u0027m probably already going out of scope of this feature proposal but it almost feels like it would be great to have something like for the lack of a better word now: Aspire Proxy - a service that just acts like a middle man between all services and consumers, making it easier to hook up multiple consumers for the same purpose such as Swagger and Scalar for OpenApi documents or Aspire Dashboard and Seq for OpenTelemetry data.",
                                           "updatedAt":  "2024-12-23T16:57:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Ymrux",
                                           "createdAt":  "2024-12-23T20:45:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "For simplicity, the intial release may benefit from a lack of caching intitially. We could prvide an extension later to provide caching via MemoryCache/Redis/etc. That also provides a nice mechanism for enabling/disabling caching.\n```cs\nvar openApi = builder.AddOpenApi().WithScalarUi();\n\nif (Environment.IsStaging() || Environment.IsProduction())\n{\n    openApi.AddRedisCache(); // Overloads for accepting a redis service and config options.\n}\n```\n\nEdit: I still think it should be the responsibility of the Ui implementations to parse and process these documents. Our open api components (via `builder.AddOpenApi()`) should only aggregate the documents for presentation.\n\nIf we later add a caching option, this caching instance would behave like the UI implementation and parse out the documents. We\u0027d probably need some changes internally to support retrieving information from the cache, but we can look at that later.",
                                           "updatedAt":  "2024-12-23T20:50:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YnB9n",
                                           "createdAt":  "2024-12-23T22:11:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "\u003e For simplicity, the intial release may benefit from a lack of caching intitially.\n\nYes, I agree with this 100%.\n\n\u003e Edit: I still think it should be the responsibility of the Ui implementations to parse and process these documents. Our open api components (via `builder.AddOpenApi()`) should only aggregate the documents for presentation.\n\nI must be missing something extremely obvious. Where are the OpenApi documents going to be aggregated exactly if we\u0027re talking about a non local environment? I completely understand how it\u0027s gonna work on a local machine. I\u0027m just really confused as to how it should work on other environments, if it\u0027s even supposed to work (I hope it does, otherwise I feel like it may be losing a full potential).\n\nI created a `.NET Aspire Starter App` which has an API service and a Web service, along with AppHost and ServiceDefaults projects. When I do a manifest publish, I only get the two services:\n```json\n{\n  \"resources\": {\n    \"apiservice\": {\n      ...\n    },\n    \"webfrontend\": {\n      ...\n    }\n  }\n}\n```\n(I\u0027m actually surprised the dashboard isn\u0027t included, but that\u0027s likely because I need to enable some kind of configuration)\n\nAnyway what I mean by that there is no AppHost or any other service that would be able to do the job of \"aggregating\" all the OpenApi documents. Parsing the documents can be done by individual consumers, whether that\u0027s Swagger, Scalar or Dashboard, that\u0027s absolutely fine.\n\nIf this feature proposal means to create a new internal service, shouldn\u0027t such service be much more generic and have more purpose? Additionally shouldn\u0027t it also work the same on the local machine so there aren\u0027t two completely different ways of achieving the same thing?\n\n(If it has been said before, I apologize but it seems like I\u0027m starting to get a little bit lost in where exactly does this feature proposal aims to go)",
                                           "updatedAt":  "2024-12-23T22:11:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kL2xF",
                                           "createdAt":  "2025-03-26T14:10:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOENjJbA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "martincostello",
                                                                               "createdAt":  "2025-03-26T14:14:03Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-03-26T14:36:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-03-26T14:36:08Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-03-26T14:36:10Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-03-26T18:25:57Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2025-03-26T19:57:52Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2025-03-26T20:04:00Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-03-28T05:06:52Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "AdrianoAE",
                                                                               "createdAt":  "2025-03-28T18:43:05Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "inyourtime",
                                                                               "createdAt":  "2025-04-09T13:54:07Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  10
                                                         },
                                           "author":  "xC0dex",
                                           "body":  "Hey folks,\n\nIt\u0027s been a while! Just wanted to let you know that we’re considering an official Scalar Integration package for Aspire. It _might_ look something like this:\n```c#\nvar bookService = builder.AddProject\u003cProjects.BookService\u003e(\"book-service\");\nvar userService = builder.AddProject\u003cProjects.UserService\u003e(\"user-service\");\n\nvar scalar = builder.AddScalarApiReference(options =\u003e options.WithTheme(ScalarTheme.Mars));\n\nscalar.WithReference(bookService, options =\u003e\n{\n    options\n        .WithOpenApiRoutePattern(\"/openapi/{documentName}.json\")\n        .AddDocuments(\"v1\", \"v2\");\n});\n\nscalar.WithReference(userService, options =\u003e\n{\n    options\n        .WithOpenApiRoutePattern(\"/swagger/{documentName}/swagger.json\")\n        .AddDocument(\"internal\", \"My InternalApi\")\n        .AddDocument(\"external\", \"My ExternalApi\", routePattern: \"/openapi/{documentName}/swagger.json\");\n});\n```\n\nThe options can be customized for each API Service individually.\n\nAnd the API Reference _might_ look something like this:\n\n![Image](https://github.com/user-attachments/assets/abfe7032-9319-43b6-93fd-e7c445a5f00f)\n\nPlease let me know if you have any thoughts or suggestions!",
                                           "updatedAt":  "2025-03-26T14:14:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6keaWD",
                                           "createdAt":  "2025-03-27T20:45:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e Please let me know if you have any thoughts or suggestions!\n\nI assume this is intended to interop with `WebApplication.Services.AddOpenApi()`? If so, is there a way that we could calculate a route pattern for the swagger.json document or whatever we might be using based off of the url of `bookService`?\n\nThis could prevent potential configuration issues when someone adds OpenApi generation to their ASP.NET Core app but don\u0027t know exactly where the resulting json file might end up.",
                                           "updatedAt":  "2025-03-27T20:45:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ko1A4",
                                           "createdAt":  "2025-03-28T18:46:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "AdrianoAE",
                                           "body":  "@xC0dex The OpenApi info, documents names, versions etc. should be in the actual APIs not in Aspire AppHost in my opinion. I would imagine the AppHost to simply be like\n\n```csharp\nvar bookService = builder.AddProject\u003cProjects.BookService\u003e(\"book-service\");\nvar userService = builder.AddProject\u003cProjects.UserService\u003e(\"user-service\");\n\nvar scalar = builder.AddScalarApiReference(options =\u003e options.WithTheme(ScalarTheme.Mars))\n    .WithReference(bookService)\n    .WithReference(userService);\n```",
                                           "updatedAt":  "2025-03-28T18:46:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kpi3b",
                                           "createdAt":  "2025-03-28T20:14:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEL8mPQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "martincostello",
                                                                               "createdAt":  "2025-03-28T20:23:39Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "xC0dex",
                                                                               "createdAt":  "2025-03-28T20:23:46Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "TheBrambleShark",
                                                                               "createdAt":  "2025-03-28T20:24:35Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "AdrianoAE",
                                                                               "createdAt":  "2025-03-28T20:46:43Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e @xC0dex The OpenApi info, documents names, versions etc. should be in the actual APIs not in Aspire AppHost in my opinion. I would imagine the AppHost to simply be like\n\n\u003e I assume this is intended to interop with WebApplication.Services.AddOpenApi()? If so, is there a way that we could calculate a route pattern for the swagger.json document or whatever we might be using based off of the url of bookService?\n\nI think this is a feasbile pattern. We can assume everyone is using the default pattern provided by `Microsoft.AspNetCore.OpenApi` as an out of the box default. The API that @xC0dex demonstrates gives you the flexibility to filter out what documents get surfaced. Also, there\u0027s no standard for OpenAPI document URLs and users can customize them. \n\nAnother idea I\u0027ve considered is exposing a `well-known/openapi` endpoint from the ASP.NET Core service that would allow you to discover all document URLs externally.",
                                           "updatedAt":  "2025-03-28T20:14:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kpp5w",
                                           "createdAt":  "2025-03-28T20:25:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TheBrambleShark",
                                           "body":  "\u003e Another idea I\u0027ve considered is exposing a `well-known/openapi` endpoint from the ASP.NET Core service that would allow you to discover all document URLs externally.\n\nI\u0027m surprised this isn\u0027t a thing already. Service discovery is a crucial component to the modern internet.",
                                           "updatedAt":  "2025-03-28T20:25:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kqNIc",
                                           "createdAt":  "2025-03-28T21:11:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEL_Kuw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "xC0dex",
                                                                               "createdAt":  "2025-03-29T06:31:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e \u003e Another idea I\u0027ve considered is exposing a `well-known/openapi` endpoint from the ASP.NET Core service that would allow you to discover all document URLs externally.\n\u003e \n\u003e I\u0027m surprised this isn\u0027t a thing already. Service discovery is a crucial component to the modern internet.\n\nThere is a draft proposal for this in https://www.ietf.org/archive/id/draft-ietf-httpapi-api-catalog-08.html but, yes, there hasn\u0027t been an official standard for this.\n\nThat\u0027s why there\u0027s often an additional layer of ceremony in OpenAPI UI tools around configuring multiple documents in the same UI. There\u0027s no well-defined specification for a route that UIs can query to get all the documents at the moment. :/",
                                           "updatedAt":  "2025-03-28T21:11:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kxgir",
                                           "createdAt":  "2025-03-30T08:08:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "I might be nitpicking here but I was wondering why the method is called `AddScalarApiReference()` and not `AddScalar()`? I\u0027m looking at this from the POV of other `Aspire.Hosting` packages like `AddRedis()`, `AddSqlServer()`, `AddPostgres()`, etc.\n\nI could potentially see it for when and if dashboard configuration would come, where you would have `AddDashboardReference()` since you don\u0027t really add a dashboard, it\u0027s already there, but otherwise I don\u0027t really see why it should be different from most other `Aspire.Hosting` package.",
                                           "updatedAt":  "2025-03-30T08:08:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kx8-P",
                                           "createdAt":  "2025-03-30T13:12:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "xC0dex",
                                           "body":  "Hey @MermaidIsla,\n\nThe primary reason for this name is consistency across all .NET Scalar integrations. Currently, the `Scalar.AspNetCore` package provides the `MapScalarApiReference()` method, which I believe accurately describes its purpose.\n\nScalar itself is a company offering multiple products/packages, one of which is the API Reference. This is likely why the extension method is named `MapScalarApiReference` rather than just `MapScalar`.\n\nTo keep this naming philosophy, I\u0027d prefer to go with `AddScalarApiReference`.\n\nHowever, I see your point that it may be inconsistent with other extension methods.",
                                           "updatedAt":  "2025-03-30T13:12:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kyFmg",
                                           "createdAt":  "2025-03-30T14:41:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MermaidIsla",
                                           "body":  "I see. I guess it makes sense now that I\u0027m looking at docs for ScalarApi (I don\u0027t use Scalar on daily basis), thought I\u0027m a bit worried about the `Reference` word in the method name.\n\nNow I can\u0027t seem to find it right now, but I wanna believe that I saw somewhere an issue/feature proposal for a way to add container references. In a nutshell it was about having the ability to point your Aspire application to an already existing container instead of creating a local container in Docker Desktop because you have an X, Y, Z reason why you cannot run it locally for example.\nAnd I believe there was the use of the word `Reference` in methods like `AddRedisReference()`, `AddSqlServerReference()`, `AddPostgresReference()`, or something similar.\n\nSo yeah I\u0027m worried about the inconsistency if something like this is going to be added in the future where packages use the word `Reference` with different meanings.",
                                           "updatedAt":  "2025-03-30T14:41:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mR0Gc",
                                           "createdAt":  "2025-04-09T13:22:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEQhJcw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-04-10T20:57:08Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-04-10T20:57:11Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "AdrianoAE",
                                                                               "createdAt":  "2025-04-12T19:44:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "awaters-frontact",
                                                                               "createdAt":  "2025-04-14T04:12:18Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "AldeRoberge",
                                                                               "createdAt":  "2025-04-15T17:47:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "MermaidIsla",
                                                                               "createdAt":  "2025-04-19T10:20:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "gabynevada",
                                                                               "createdAt":  "2025-05-02T00:17:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  7
                                                         },
                                           "author":  "xC0dex",
                                           "body":  "Hey folks,\n\nQuick update on the Scalar Integration for Aspire: It\u0027s actively in development! 🎉\n\nYou can check out the current progress here:\n👉 https://github.com/xC0dex/scalar/tree/aspire/integrations/aspnetcore\n\nFeel free to try it out and share any feedback. I’d love to hear your thoughts. The setup is pretty straightforward. Just run the `./playground/Scalar.Aspire.AppHost/Scalar.Aspire.AppHost.csproj` project.\n\nCurrent features:\n- Same feature set as the `Scalar.AspNetCore` integration (`Scalar.Aspire` is based on `Scalar.AspNetCore`)\n- Build in proxy that is used for fetching documents or making API requests\n\nOpen challenge we\u0027re still figuring out: Endpoint management.\n\n- How to reliably determine the correct protocol of the referenced projects (http or https)\n- Where exactly the Scalar integration should be exposed (correct ports and protocols)\n\nIf you’ve got ideas or suggestions on that front, please let me know.\n\nI created an issue in the Scalar Repo https://github.com/scalar/scalar/issues/5365",
                                           "updatedAt":  "2025-04-09T13:27:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ymlwF",
                                           "createdAt":  "2025-06-23T13:14:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEXxNKQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-06-23T13:18:13Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-06-23T13:18:15Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-06-23T13:18:17Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-06-23T13:18:22Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-06-23T13:18:23Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "hanspagel",
                                                                               "createdAt":  "2025-06-23T13:18:25Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-06-23T14:50:25Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-06-23T14:50:25Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-06-23T14:50:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-06-23T14:50:27Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-06-23T14:50:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2025-06-23T18:08:27Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "marclave",
                                                                               "createdAt":  "2025-06-24T18:02:01Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "marclave",
                                                                               "createdAt":  "2025-06-24T18:02:01Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "marclave",
                                                                               "createdAt":  "2025-06-24T18:02:02Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "marclave",
                                                                               "createdAt":  "2025-06-24T18:02:02Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "marclave",
                                                                               "createdAt":  "2025-06-24T18:02:03Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "marclave",
                                                                               "createdAt":  "2025-06-24T18:02:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  18
                                                         },
                                           "author":  "xC0dex",
                                           "body":  "Hi everyone,\n\nWe’ve just published a new NuGet package: [`Scalar.Aspire`](https://www.nuget.org/packages/Scalar.Aspire)! 🚀\n\nYou can find the documentation here: [Scalar.Aspire docs](https://guides.scalar.com/scalar/scalar-api-references/integrations/net-aspire)\n\nThe Aspire integration brings a unified API Reference for all your services.\n\n```c#\nvar builder = DistributedApplication.CreateBuilder(args);\n\n// Add your services\nvar userService = builder\n    .AddNpmApp(\"user-service\", \"../MyUserService\")\n    .WithHttpEndpoint(env: \"PORT\");\n\nvar bookService = builder.AddProject\u003cProjects.BookService\u003e(\"book-service\");\n\n// Add Scalar API Reference\nvar scalar = builder.AddScalarApiReference(options =\u003e\n{\n    // Configure global options. They will apply to all services\n    options.WithTheme(ScalarTheme.Purple);\n});\n\n// Configure API References for specific services\nscalar\n    .WithApiReference(userService, options =\u003e options.AddDocument(\"internal\", routePattern: \"/documentation/{documentName}.json\"))\n    .WithApiReference(bookService, options =\u003e options.WithOpenApiRoutePattern(\"/swagger/{documentName}/swagger.json\"));\n\nbuilder.Build().Run();\n```\n\nWe’d love to get your feedback! Please don\u0027t hesitate to [open an issue or start a discussion](https://github.com/scalar/scalar).\n\n",
                                           "updatedAt":  "2025-06-23T13:14:16Z"
                                       }
                                   ],
                         "totalCount":  39
                     },
        "title":  "Feature Proposal: Centralized Swagger UI for OpenAPI Specification Files",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3706",
        "createdAt":  "2024-04-15T16:38:59Z",
        "number":  3706,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T05:54:40Z",
        "body":  "In order to fully test our \"EndToEnd\" experience, the test project we are using in the EndToEnd tests should have a ServiceDefaults project that is in sync with our ServiceDefaults project template. That will ensure changes made to the ServiceDefaults template don\u0027t break the experiences we are testing in the EndToEnd tests.\r\n\r\ncc @radical ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "EndToEnd testproject doesn\u0027t have ServiceDefaults",
        "labels":  [
                       "area-integrations",
                       "testing ☑️"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3809",
        "createdAt":  "2024-04-18T09:50:20Z",
        "number":  3809,
        "author":  "miceiken",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T05:37:09Z",
        "body":  "```\r\n➜  ContainerParameterReference dotnet workload --info\r\n Workload version: 8.0.200-manifests.c4df6daf\r\n [aspire]\r\n   Installation Source: SDK 8.0.200\r\n   Manifest Version:    8.0.0-preview.5.24201.12/8.0.100\r\n```\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\n\r\nbuilder.AddContainer(\"dummy\", \"docker\")\r\n    .WithEnvironment(\"SOME_ENV\", \"\"\"\r\n                                 This is a\r\n                                 multi\r\n                                 line\r\n                                 string\r\n                                 \"\"\");\r\n\r\nbuilder.Build().Run();\r\n```\r\n\r\nGenerates this bicep:\r\n```bicep\r\nresource dummy \u0027Microsoft.App/containerApps@2023-05-02-preview\u0027 = {\r\n  name: \u0027dummy\u0027\r\n  location: location\r\n  properties: {\r\n    environmentId: containerAppEnvironment.id\r\n    configuration: {\r\n      activeRevisionsMode: \u0027Single\u0027\r\n    }\r\n    template: {\r\n      containers: [\r\n        {\r\n          image: \u0027docker:latest\u0027\r\n          name: \u0027dummy\u0027\r\n          env: [\r\n            {\r\n              name: \u0027SOME_ENV\u0027\r\n              value: \u0027This is a\r\nmulti\r\nline\r\nstring\u0027\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n      scale: {\r\n        minReplicas: 1\r\n      }\r\n    }\r\n  }\r\n  tags: union(tags, {\u0027aspire-resource-name\u0027: \u0027dummy\u0027})\r\n}\r\n```\r\n\r\nWhich is malformed. ([Bicep multi-line strings](https://learn.microsoft.com/en-us/azure/azure-resource-manager/bicep/data-types#multi-line-strings))\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOewBjEg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc57AGMS",
                                           "createdAt":  "2024-04-18T11:16:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "miceiken",
                                           "body":  "Cross-posted to https://github.com/Azure/azure-dev/issues/3737",
                                           "updatedAt":  "2024-04-18T11:16:31Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Incorrect synthesizing of multi-line strings with Bicep",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3853",
        "createdAt":  "2024-04-20T04:00:05Z",
        "number":  3853,
        "author":  "timheuer",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-11T07:33:29Z",
        "body":  "When using Azure resources and provisioning for the first time, some emit warnings:\r\n\r\n```bash\r\nWARNING: C:\\Users\\timheuer\\AppData\\Local\\Temp\\aspireyk1xvdlh.fxw\\aoai.module.bicep(21,39) : Warning prefer-interpolation: Use string interpolation instead of the concat function. [https://aka.ms/bicep/linter/prefer-interpolation]\r\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Provisioner emitting bicep that uses functions that generate warnings",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3877",
        "createdAt":  "2024-04-23T05:18:08Z",
        "number":  3877,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODMiZGQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "gabriel-systems",
                                            "createdAt":  "2025-08-25T16:24:04Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2024-10-16T08:02:58Z",
        "body":  "I think we need to model an AppModel resource and component library around Azure Resource Manager. Some applications need to dynamically create resources in the cloud (this is especially true if you are building a hosting platform on Azure - such as internal Azure teams).\r\n\r\nWe would need an API that looks something like this:\r\n\r\n```csharp\r\nvar arm = builder.AddAzureResourceManager(\"arm\", subscriptionParameter);\r\nbuilder.AddProject\u003cProjects.ResourceProvider\u003e(\"rp\")\r\n       .WithReference(arm);\r\n```\r\n\r\nOn the service side it might be something like this:\r\n\r\n```csharp\r\nbuilder.AddAzureArmClient(\"arm\");\r\nvar app = builder.Build();\r\napp.MapGet(\"/\", (ArmClient armClient) =\u003e {\r\n ... do stuff with ARM.\r\n});\r\n```\r\n\r\nWe might want to do this in conjunction with support for managed identities.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOgxBCZQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6DCgP9",
                                           "createdAt":  "2024-06-30T07:57:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "xinlifoobar",
                                           "body":  "Hey @mitchdenny. I want this feature to be added to the Aspire. If you could help outline the requirement for the feature, I can add the code.",
                                           "updatedAt":  "2024-06-30T07:57:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6DEEG-",
                                           "createdAt":  "2024-07-01T01:39:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Even though we don\u0027t have an `Aspire.Azure.ResourceManager.*` component library, and we don\u0027t have an `Aspire.Hosting.Azure.ResourceManager` hosting package, you can still use `Azure.ResourceManager.*`.\r\n\r\nIf you are deploying to Azure Container Apps via AZD, the container app has a managed identity which you can grant rights to.\r\n\r\nReally this is about adding the niceties around things like DI and OTEL support to the component library (I\u0027m not even certain if a hosting package is required).",
                                           "updatedAt":  "2024-07-01T01:39:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6DEEJl",
                                           "createdAt":  "2024-07-01T01:39:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "/cc @tg-msft as he might have some thoughts on this.",
                                           "updatedAt":  "2024-07-01T01:39:22Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Add component for Azure Resource Manager",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3889",
        "createdAt":  "2024-04-23T20:22:38Z",
        "number":  3889,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T08:14:40Z",
        "body":  "See\r\n* https://github.com/dotnet/aspire/issues/3789\r\n* https://github.com/dotnet/aspire/pull/3876\r\n\r\nWhere an \"Aspire\" prefix was added to the `ClientOptions.ApplicationName` for CosmosDB. Should we be doing the same for the other Azure components?\r\n\r\ncc @tg-msft @Petermarcu ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add User Agent for Azure Components",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3890",
        "createdAt":  "2024-04-23T21:42:12Z",
        "number":  3890,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC5h0Ow==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "radical",
                                            "createdAt":  "2024-04-23T23:19:47Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "kolchakn",
                                            "createdAt":  "2024-07-19T13:44:22Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2024-10-16T08:03:08Z",
        "body":  "When adding both a keyed and an unkeyed client for the same Azure client type, it is throwing an exception:\r\n\r\n### Repro:\r\n\r\nRunning the following test:\r\n\r\n```C#\r\n        var builder = Host.CreateEmptyApplicationBuilder(null);\r\n        builder.Configuration.AddInMemoryCollection([\r\n            new KeyValuePair\u003cstring, string?\u003e(\"ConnectionStrings:blob1\", \"https://aspirestoragetests.blob.core.windows.net/\"),\r\n            new KeyValuePair\u003cstring, string?\u003e(\"ConnectionStrings:blob2\", \"https://aspirestoragetests2.blob.core.windows.net/\"),\r\n        ]);\r\n\r\n        builder.AddAzureBlobClient(\"blob1\");\r\n        builder.AddKeyedAzureBlobClient(\"blob2\");\r\n\r\n        using var host = builder.Build();\r\n\r\n        var client1 = host.Services.GetRequiredService\u003cBlobServiceClient\u003e();\r\n        var client2 = host.Services.GetRequiredKeyedService\u003cBlobServiceClient\u003e(\"blob2\");\r\n\r\n        Assert.NotSame(client1, client2);\r\n\r\n        Assert.Equal(\"aspirestoragetests\", client1.AccountName);\r\n        Assert.Equal(\"aspirestoragetests2\", client2.AccountName);\r\n```\r\n\r\nResults in:\r\n\r\n```\r\nMessage: \r\nSystem.InvalidOperationException : No service for type \u0027Azure.Storage.Blobs.BlobServiceClient\u0027 has been registered.\r\n\r\n  Stack Trace: \r\nServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\nServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\nAspireBlobStorageExtensionsTests.CanAddMultipleKeyedServices() line 144\r\n```\r\n\r\nIt looks like the issue is here:\r\n\r\nhttps://github.com/dotnet/aspire/blob/6f5cfb36883e767c55e9d2d33ce67cf3b4c99b2b/src/Components/Common/AzureComponent.cs#L67-L77\r\n\r\nThere is an explict test for this scenario that fails when I try removing the above line:\r\n\r\nhttps://github.com/dotnet/aspire/blob/6f5cfb36883e767c55e9d2d33ce67cf3b4c99b2b/tests/Aspire.Components.Common.Tests/ConformanceTests.cs#L229-L247\r\n\r\n@tg-msft - is this something that can be addressed in Microsoft.Extensions.Azure? Maybe it could officially support keyed DI services? Then we wouldn\u0027t have to try to work around it using `.WithName` on the Aspire side.\r\n\r\ncc @DamianEdwards @davidfowl @sebastienros @radical @adamsitnik ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Azure Components don\u0027t support keyed and unkeyed services",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3910",
        "createdAt":  "2024-04-24T11:29:56Z",
        "number":  3910,
        "author":  "ErikBIMobject",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC9YUKw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mihaimyh",
                                            "createdAt":  "2024-05-30T08:04:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "petrkoutnycz",
                                            "createdAt":  "2024-12-11T13:58:42Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-01-14T20:05:28Z",
        "body":  "Visual studio enterprise: Version 17.10.0 Preview 4.0\r\nRunning Aspire version: 8.0.0-preview.6.24178.5 \r\n\r\nTrying to add a schema registry using a new resource according to this docker compose: \r\n\r\n```yaml\r\n`version: \u00273.8\u0027\r\nservices:\r\n\r\n  broker:\r\n    image: confluentinc/confluent-local:7.6.0\r\n    hostname: broker\r\n    container_name: broker\r\n    ports:\r\n      - \"9092:9092\"\r\n      - \"9101:9101\"\r\n    environment:\r\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://broker:29092,PLAINTEXT_HOST://broker:9092\r\n      KAFKA_DEBUG: \"true\"\r\n      KAFKA_SCHEMA_REGISTRY_URL: http://schema-registry:1223\r\n\r\n  schema-registry:\r\n    image: confluentinc/cp-schema-registry:7.6.1\r\n    hostname: schema-registry\r\n    container_name: schema-registry\r\n    depends_on:\r\n      - broker\r\n    ports:\r\n      - \"8081:8081\"\r\n    environment:\r\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: \u0027broker:9092\u0027\r\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\r\n```\r\n\r\nThe only way I can get the schema registry to find the kafka server (also created a stackoverflow ticket about this) is to use the hostname of the broker in the schema registry variable \"SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS\" along with the variable \r\n\"KAFKA_ADVERTISED_LISTENERS\" = \"PLAINTEXT://broker:29092,PLAINTEXT_HOST://broker:9092\" (in the kafka component this is set to localhost not broker). \r\nPlease advice. Getting the schema registry up and running would be a major piece in our puzzle. ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmm4w3A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc57r4tS",
                                           "createdAt":  "2024-04-24T14:35:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@g7ed6e can you take a look?",
                                           "updatedAt":  "2024-04-24T14:35:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57u80X",
                                           "createdAt":  "2024-04-24T21:49:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "The broker container needs to know which name clients use to reach it in order to add this name to its KAFKA_ADVERTISED_LISTENERS env var. I\u0027m currently having the same issue trying to integrate a KafkaUI container to the Aspire.Hosting.Kafka project. \nI need to try something similar to what Aspire.Hosting.Mongo is doing to get MongoExpress connect to MongoDb. MongoExpress solves this by using PrimaryEndpoint.ContainerHost and PrimaryEndpoint.Port to build the connection string https://github.com/dotnet/aspire/blob/bade408eecae2cb080b6de111c97bc290bd2c776/src/Aspire.Hosting.MongoDB/MongoDBBuilderExtensions.cs#L125. ",
                                           "updatedAt":  "2024-04-24T21:49:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57xAKU",
                                           "createdAt":  "2024-04-25T06:12:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This completely nerd sniped me. I went down the kafka rabbit hole https://www.confluent.io/blog/kafka-listeners-explained/.\r\n\r\nI recommend reading https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/networking-overview to get a baseline for understanding networking in aspire.\r\n\r\nWhat we haven\u0027t documented is how endpoint references work between aspire resources using C# object references. e.g.:\r\n\r\n```C#\r\n// Add the kafka broker\r\nvar broker = builder.AddContainer(\"broker\", \"confluent-local\", \"7.6.0\")\r\n                    .WithImageRegistry(\"confluentinc\")\r\n                    .WithEndpoint(name: \"primary\", targetPort: 9092)\r\n                    .WithEndpoint(targetPort: 9101);\r\n\r\n// Add the schema registry\r\nvar schemaRegistry = builder.AddContainer(\"schema-registry\", \"cp-schema-registry\", \"7.6.1\")\r\n                            .WithImageRegistry(\"confluentinc\")\r\n                            .WithHttpEndpoint(name: \"primary\", targetPort: 8081);\r\n\r\nbroker.WithEnvironment(context =\u003e\r\n{\r\n    var selfEndpoint = broker.GetEndpoint(\"primary\");\r\n\r\n    // Set the advertised listeners to the public port\r\n    var advertisedListeners = builder.ExecutionContext.IsRunMode\r\n        // This is a workaround for https://github.com/dotnet/aspire/issues/3735\r\n        ? ReferenceExpression.Create($\"PLAINTEXT://localhost:29092,PLAINTEXT_HOST://{selfEndpoint.ContainerHost}:{selfEndpoint.Property(EndpointProperty.Port)}\")\r\n        : ReferenceExpression.Create($\"PLAINTEXT://{selfEndpoint.Property(EndpointProperty.Host)}:29092,PLAINTEXT_HOST://{selfEndpoint.Property(EndpointProperty.Host)}:{selfEndpoint.Property(EndpointProperty.Port)}\");\r\n\r\n    context.EnvironmentVariables[\"KAFKA_ADVERTISED_LISTENERS\"] = advertisedListeners;\r\n\r\n    // Set the URL to the schema registry\r\n    context.EnvironmentVariables[\"KAFKA_SCHEMA_REGISTRY_URL\"] = schemaRegistry.GetEndpoint(\"primary\");\r\n});\r\n\r\nschemaRegistry.WithEnvironment(context =\u003e\r\n{\r\n    // Get the broker endpoint\r\n    var brokerEndpoint = broker.GetEndpoint(\"primary\");\r\n\r\n    // Create a reference to the broker endpoint, doing it this way will ensure that it works in both run and publish mode\r\n    var brokerConnectionReference = builder.ExecutionContext.IsRunMode\r\n        // This is a workaround for https://github.com/dotnet/aspire/issues/3735\r\n        ? ReferenceExpression.Create($\"{brokerEndpoint.ContainerHost}:{brokerEndpoint.Property(EndpointProperty.Port)}\")\r\n        : ReferenceExpression.Create($\"{brokerEndpoint.Property(EndpointProperty.Host)}:{brokerEndpoint.Property(EndpointProperty.Port)}\");\r\n\r\n    context.EnvironmentVariables[\"SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS\"] = brokerConnectionReference;\r\n    context.EnvironmentVariables[\"SCHEMA_REGISTRY_HOST_NAME\"] = \"schema-registry\";\r\n});\r\n```\r\n\r\n@g7ed6e We should update the advertised listeners setting in our Kafka resource to support multiple host names so that containers and host processes can access the broker server. I am hoping that will just work 😄 .\r\n",
                                           "updatedAt":  "2024-04-25T06:42:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57yfE0",
                                           "createdAt":  "2024-04-25T10:09:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "@davidfowl Yes. Ideally I think we should use the container name as this should enable cluster with multiple broker nodes scenario too. \nI did not find in the resource properties the generated docker container name yet maybe I missed an api. An alternative to pull the generated container name would be to set it to a stable fixed value.. but cluster with multiple broker nodes scenario would probably rely on naming conventions.",
                                           "updatedAt":  "2024-04-25T10:09:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc570Wqi",
                                           "createdAt":  "2024-04-25T14:18:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e @davidfowl Yes. Ideally I think we should use the container name as this should enable cluster with multiple broker nodes scenario too.\r\n\r\ndocker networks aren\u0027t supported https://github.com/dotnet/aspire/issues/850.\r\n\r\n",
                                           "updatedAt":  "2024-04-25T14:18:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc570mi7",
                                           "createdAt":  "2024-04-25T14:42:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ErikBIMobject",
                                           "body":  "Thank you for your answers! Im glad it sparked an interest :) \r\nI checked your solution @davidfowl and indeed it works, the schema registry can connect to the broker. \r\nBut the api can no longer connect to the broker 🤷‍♂️\r\nI need to have 2 different setting for the PLAINTEXT_HOST part of the KAFKA_ADVERTISED_LISTENERS variable: this is needed for the schema registry: `PLAINTEXT_HOST://{selfEndpoint.ContainerHost}:{selfEndpoint.Property(EndpointProperty.Port)}`\r\nand this is needed for the api: `PLAINTEXT_HOST://localhost:{selfEndpoint.Property(EndpointProperty.Port)}`\r\n\r\nI have looked at the networking guide for Aspire previously, and I graced through the kafka-listeners link and I could not come up with a working solution. \r\nI\u0027ll try to dig a little more into the listerners documentation and see if I come up with something\r\n",
                                           "updatedAt":  "2024-04-25T14:53:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc571XpO",
                                           "createdAt":  "2024-04-25T15:33:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODfnASA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-04-26T04:24:11Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "I updated #3882 with support for both project connection (one producer and one consumer) and container connection (a KafkaUI container) using two different endpoints declared in KafkaServerResource.\r\n",
                                           "updatedAt":  "2024-04-25T15:33:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc584qXP",
                                           "createdAt":  "2024-05-06T05:36:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I\u0027m just catching up on this. Does this mean we are going to need a custom `WithReference` for Kafka to make sure that it wires up correctly?",
                                           "updatedAt":  "2024-05-06T05:36:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5846UV",
                                           "createdAt":  "2024-05-06T06:42:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "For the time being yes. Both Kafka and Schema registry containers need to know each other. \nClient side schema registry has a dedicated client from which we can pull serializer and deserializer. Those serializer / deserializer are then passed to the kafka client.",
                                           "updatedAt":  "2024-05-06T06:42:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6F_ACE",
                                           "createdAt":  "2024-07-24T13:10:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD2w34w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "ErikBIMobject",
                                                                               "createdAt":  "2024-10-17T15:30:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "Compufreak345",
                                           "body":  "\u003e Thank you for your answers! Im glad it sparked an interest :) I checked your solution @davidfowl and indeed it works, the schema registry can connect to the broker. But the api can no longer connect to the broker 🤷‍♂️ I need to have 2 different setting for the PLAINTEXT_HOST part of the KAFKA_ADVERTISED_LISTENERS variable: this is needed for the schema registry: `PLAINTEXT_HOST://{selfEndpoint.ContainerHost}:{selfEndpoint.Property(EndpointProperty.Port)}` and this is needed for the api: `PLAINTEXT_HOST://localhost:{selfEndpoint.Property(EndpointProperty.Port)}`\r\n\u003e \r\n\u003e I have looked at the networking guide for Aspire previously, and I graced through the kafka-listeners link and I could not come up with a working solution. I\u0027ll try to dig a little more into the listerners documentation and see if I come up with something\r\n\r\nHey, I found a solution which works (some configuration enhancement to what @davidfowl did already provide) :) Give this a shot:\r\n\r\n```c#\r\n// Add the kafka broker\r\nIResourceBuilder\u003cContainerResource\u003e broker = builder.AddContainer(\"broker\", \"confluent-local\")\r\n    .WithImageRegistry(\"confluentinc\")\r\n    .WithEndpoint(name: \"internal\", targetPort: 9092) // Endpoint for docker-internal communication (schemaregistry)\r\n    .WithEndpoint(name: \"primary\", targetPort: 9093) // Endpoint for docker-external communication (applications running on localhost)\r\n    .WithHttpEndpoint(name: \"rest-api\", targetPort: 8082) // Confluent REST-API \r\n    .WithEndpoint(targetPort: 9101);\r\n\r\n// Add the schema registry\r\nIResourceBuilder\u003cContainerResource\u003e schemaRegistry = builder.AddContainer(\"schema-registry\", \"cp-schema-registry\")\r\n    .WithImageRegistry(\"confluentinc\")\r\n    .WithEndpoint(name: \"primary\", targetPort: 8081);\r\n\r\nbroker.WithEnvironment(context =\u003e\r\n{\r\n    var internalEndpoint = broker.GetEndpoint(\"internal\");\r\n    var primaryEndpoint = broker.GetEndpoint(\"primary\");\r\n    \r\n    // Set the advertised listeners to the public port\r\n    var advertisedListeners = builder.ExecutionContext.IsRunMode\r\n        // This is a workaround for https://github.com/dotnet/aspire/issues/3735\r\n        ? ReferenceExpression.Create(\r\n            $\"PLAINTEXT://localhost:29092,PLAINTEXT_HOST://{internalEndpoint.ContainerHost}:{internalEndpoint.Property(EndpointProperty.Port)},PLAINTEXT_LOCALHOST://localhost:{primaryEndpoint.Property(EndpointProperty.Port)}\")\r\n        : ReferenceExpression.Create(\r\n            $\"PLAINTEXT://{internalEndpoint.Property(EndpointProperty.Host)}:29092,PLAINTEXT_HOST://{internalEndpoint.Property(EndpointProperty.Host)}:{internalEndpoint.Property(EndpointProperty.Port)},PLAINTEXT_LOCALHOST://localhost:{primaryEndpoint.Property(EndpointProperty.Port)}\");\r\n    \r\n    context.EnvironmentVariables[\"KAFKA_ADVERTISED_LISTENERS\"] = advertisedListeners;\r\n    context.EnvironmentVariables[\"KAFKA_LISTENERS\"] =\r\n       \"PLAINTEXT://localhost:29092,CONTROLLER://localhost:29093,PLAINTEXT_HOST://0.0.0.0:9092,PLAINTEXT_LOCALHOST://0.0.0.0:9093\";\r\n    context.EnvironmentVariables[\"KAFKA_LISTENER_SECURITY_PROTOCOL_MAP\"] =\r\n        \"CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT,PLAINTEXT_LOCALHOST:PLAINTEXT\";\r\n    \r\n    // Set the URL to the schema registry\r\n    context.EnvironmentVariables[\"KAFKA_SCHEMA_REGISTRY_URL\"] = schemaRegistry.GetEndpoint(\"primary\");\r\n    \r\n});\r\n\r\nschemaRegistry.WithEnvironment(context =\u003e\r\n{\r\n    // Get the broker endpoint\r\n    var brokerEndpoint = broker.GetEndpoint(\"internal\");\r\n\r\n    // Create a reference to the broker endpoint, doing it this way will ensure that it works in both run and publish mode\r\n    var brokerConnectionReference = builder.ExecutionContext.IsRunMode\r\n        // This is a workaround for https://github.com/dotnet/aspire/issues/3735\r\n        ? ReferenceExpression.Create($\"{brokerEndpoint.ContainerHost}:{brokerEndpoint.Property(EndpointProperty.Port)}\")\r\n        : ReferenceExpression.Create(\r\n            $\"{brokerEndpoint.Property(EndpointProperty.Host)}:{brokerEndpoint.Property(EndpointProperty.Port)}\");\r\n\r\n    context.EnvironmentVariables[\"SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS\"] = brokerConnectionReference;\r\n    context.EnvironmentVariables[\"SCHEMA_REGISTRY_HOST_NAME\"] = \"schema-registry\";\r\n});\r\n```\r\n\r\n[This article](https://www.confluent.io/de-de/blog/kafka-listeners-explained/) helped me a lot to understand what\u0027s going on :)",
                                           "updatedAt":  "2024-07-24T13:12:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LmVT-",
                                           "createdAt":  "2024-09-10T22:00:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We\u0027re making a change to enable a default docker network so container to container communications work. I\u0027m not 100% sure if it solves this problem with the schema registry, but once the change is in, it will be worth trying again at this issue.",
                                           "updatedAt":  "2024-09-10T22:00:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PNsp9",
                                           "createdAt":  "2024-10-09T16:02:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@g7ed6e When you get a chance, can you see if you can make this work with the new changes in 9.0 to support a default container network?",
                                           "updatedAt":  "2024-10-11T13:48:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PP-Vb",
                                           "createdAt":  "2024-10-09T20:02:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD2w3LQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "g7ed6e",
                                                                               "createdAt":  "2024-10-10T12:31:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "ErikBIMobject",
                                                                               "createdAt":  "2024-10-17T15:29:17Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "t03apt",
                                           "body":  "Tbh I don\u0027t fully understand the conditional ReferenceExpression statements so I simplified it and defined ports upfront.\nIn case anyone interested I share it here:\n\n```csharp\nvar publicPlainTextHostPort = FindFreePort();\nvar publicPlainTextInternalPort = FindFreePort();\nvar publicSchemaRegistryPort = FindFreePort();\nvar publicRestApiPort = FindFreePort();\nvar publicKafkaUIPort = FindFreePort();\nvar publicAKHQPort = FindFreePort();\n\nvar kafka = builder.AddContainer(\"kafka\", \"confluent-local\", \"7.7.1\")\n    .WithImageRegistry(\"confluentinc\")\n    .WithEndpoint(name: \"primary\", targetPort: 9092, port: publicPlainTextHostPort)\n    .WithEndpoint(name: \"internal\", targetPort: 9093, port: publicPlainTextInternalPort)\n    .WithHttpEndpoint(name: \"restapi\", targetPort: 8082, port: publicRestApiPort)\n    .WithEnvironment(\"KAFKA_ADVERTISED_LISTENERS\", $\"PLAINTEXT://localhost:29092,PLAINTEXT_HOST://localhost:{publicPlainTextHostPort},PLAINTEXT_INTERNAL://host.docker.internal:{publicPlainTextInternalPort}\".ToString())\n    .WithEnvironment(\"KAFKA_LISTENER_SECURITY_PROTOCOL_MAP\", \"CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT,PLAINTEXT_INTERNAL:PLAINTEXT\")\n    .WithEnvironment(\"KAFKA_LISTENERS\", \"PLAINTEXT://localhost:29092,CONTROLLER://localhost:29093,PLAINTEXT_HOST://0.0.0.0:9092,PLAINTEXT_INTERNAL://0.0.0.0:9093\");\n\nbuilder.AddContainer(\"schema-registry\", \"cp-schema-registry\", \"7.7.1\")\n    .WithImageRegistry(\"confluentinc\")\n    .WithHttpEndpoint(targetPort: 8081, port: publicSchemaRegistryPort)\n    .WithEnvironment(\"SCHEMA_REGISTRY_HOST_NAME\", \"localhost\")\n    .WithEnvironment(\"SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS\", $\"host.docker.internal:{publicPlainTextInternalPort}\".ToString())\n    .WithEnvironment(\"SCHEMA_REGISTRY_LISTENERS\", $\"http://0.0.0.0:8081\");\n\nbuilder.AddContainer(\"kafka-ui\", \"kafka-ui\", \"v0.7.2\")\n    .WithImageRegistry(\"provectuslabs\")\n    .WithHttpEndpoint(targetPort: 8080, port: publicKafkaUIPort)\n    .WithEnvironment(\"KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS\", $\"host.docker.internal:{publicPlainTextInternalPort}\".ToString())\n    .WithEnvironment(\"KAFKA_CLUSTERS_0_NAME\", \"kafka\")\n    .WithEnvironment(\"LOGGING_LEVEL_ROOT\", \"debug\");\n\nvar akhqConfiguration = $@\"akhq:\n  connections:\n    docker-kafka-server:\n      properties:\n        bootstrap.servers: \"\"host.docker.internal:{publicPlainTextInternalPort}\"\"\n      schema-registry:\n        url: \"\"http://host.docker.internal:{publicSchemaRegistryPort}\"\"\";\n\nbuilder.AddContainer(\"akhq\", \"akhq\", \"dev\")\n    .WithImageRegistry(\"tchiotludo\")\n    .WithHttpEndpoint(targetPort: 8080, port: publicAKHQPort)\n    .WithEnvironment(\"AKHQ_CONFIGURATION\", akhqConfiguration);\n\nstatic int FindFreePort()\n{\n    TcpListener? l = null;\n    try\n    {\n        l = new TcpListener(IPAddress.Loopback, 0);\n        l.Start();\n        return ((IPEndPoint)l.LocalEndpoint).Port;\n    }\n    catch (Exception)\n    {\n        // ignore\n    }\n    finally\n    {\n        l?.Stop();\n        l?.Dispose();\n    }\n\n    throw new InvalidOperationException(\"Unable to find free port\");\n}\n\n```\nI use a very similar setup for integration tests with `Testcontainers`.\n\n \u003cdetails\u003e\n \u003csummary\u003eSee: Testcontainers sample\u003c/summary\u003e\n\n```csharp\n    public async Task StartAsync(string sessionName, CancellationToken cancellationToken, bool withAKHQ = false, bool withKafkaUI = false)\n    {\n        var publicPlainTextHostPort = FindFreePort();\n        var publicPlainTextInternalPort = FindFreePort();\n        var kafkaContainer = new ContainerBuilder()\n                .WithImage(\"confluentinc/confluent-local:7.7.1\")\n                .WithName($\"confluent-local-{sessionName}\")\n                .WithPortBinding(publicPlainTextHostPort, 9092)\n                .WithPortBinding(publicPlainTextInternalPort, 9093)\n                .WithEnvironment(\"KAFKA_ADVERTISED_LISTENERS\", $\"PLAINTEXT://localhost:29092,PLAINTEXT_HOST://localhost:{publicPlainTextHostPort},PLAINTEXT_INTERNAL://host.docker.internal:{publicPlainTextInternalPort}\")\n                .WithEnvironment(\"KAFKA_LISTENER_SECURITY_PROTOCOL_MAP\", \"CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT,PLAINTEXT_INTERNAL:PLAINTEXT\")\n                .WithEnvironment(\"KAFKA_LISTENERS\", \"PLAINTEXT://localhost:29092,CONTROLLER://localhost:29093,PLAINTEXT_HOST://0.0.0.0:9092,PLAINTEXT_INTERNAL://0.0.0.0:9093\")\n                .Build();\n\n        _containers.Add(kafkaContainer);\n        await kafkaContainer.StartAsync(cancellationToken);\n\n        KafkaConnectionString = new UriBuilder(\"PLAINTEXT\", kafkaContainer.Hostname, kafkaContainer.GetMappedPublicPort(9092)).ToString();\n\n        var schemaRegistryContainer = new ContainerBuilder()\n            .WithImage(\"confluentinc/cp-schema-registry:7.7.1\")\n            .WithName($\"cp-schema-registry-{sessionName}\")\n            .DependsOn(kafkaContainer)\n            .WithPortBinding(8081, true)\n            .WithEnvironment(\"SCHEMA_REGISTRY_HOST_NAME\", \"localhost\")\n            .WithEnvironment(\"SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS\", $\"host.docker.internal:{kafkaContainer.GetMappedPublicPort(9093)}\")\n            .WithEnvironment(\"SCHEMA_REGISTRY_LISTENERS\", $\"http://0.0.0.0:8081\")\n            .Build();\n\n        _containers.Add(schemaRegistryContainer);\n        await schemaRegistryContainer.StartAsync(cancellationToken);\n\n        if (withAKHQ)\n        {\n            var akhqConfiguration = $@\"akhq:\n  connections:\n    docker-kafka-server:\n      properties:\n        bootstrap.servers: \"\"host.docker.internal:{kafkaContainer.GetMappedPublicPort(9093)}\"\"\n      schema-registry:\n        url: \"\"http://host.docker.internal:{schemaRegistryContainer.GetMappedPublicPort(8081)}\"\"\";\n\n            var akhqContainer = new ContainerBuilder()\n                .WithImage(\"tchiotludo/akhq:dev\")\n                .WithName($\"akhq-{sessionName}\")\n                .WithEnvironment(\"AKHQ_CONFIGURATION\", akhqConfiguration)\n                .WithPortBinding(8080, true)\n                .Build();\n\n            _containers.Add(akhqContainer);\n            await akhqContainer.StartAsync(cancellationToken);\n        }\n\n        if (withKafkaUI)\n        {\n            var kafkaUiContainer = new ContainerBuilder()\n                .WithImage(\"provectuslabs/kafka-ui:v0.7.2\")\n                .WithName($\"kafka-ui-{sessionName}\")\n                .WithPortBinding(8080, true)\n                .WithEnvironment(\"KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS\", $\"host.docker.internal:{kafkaContainer.GetMappedPublicPort(9093)}\")\n                .WithEnvironment(\"KAFKA_CLUSTERS_0_NAME\", \"kafka\")\n                .WithEnvironment(\"LOGGING_LEVEL_ROOT\", \"debug\")\n                .Build();\n\n            _containers.Add(kafkaUiContainer);\n            await kafkaUiContainer.StartAsync(cancellationToken);\n        }\n    }\n```\n\n \u003c/details\u003e\n\n",
                                           "updatedAt":  "2024-10-09T20:25:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Pft6u",
                                           "createdAt":  "2024-10-11T13:48:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1xeuA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "t03apt",
                                                                               "createdAt":  "2024-10-11T16:18:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "A couple of thoughts:\n\n1. The reference expression exists to support capturing the expression information without using real values (it\u0027s a string with placeholders). This is important if you want it to work outside of local development because we can replace the host and port with the appropriate values in the right environment. \n2. Dynamic port allocation is done by the infrastructure if you don\u0027t specify a port, so that code isn\u0027t needed.\n3. Ideally, we wouldn\u0027t need to hardcode host.docker.internal, that\u0027s what the ContainerHost property is for.\n4. With Aspire 9, we have a default container network, so it should be possible to use container host names and the target port to do container to container communication.",
                                           "updatedAt":  "2024-10-11T13:48:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6VY9LK",
                                           "createdAt":  "2024-11-28T15:17:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD9BBRg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "t03apt",
                                                                               "createdAt":  "2024-11-29T20:28:22Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "ErikBIMobject",
                                           "body":  "The version from @t03apt worked fine until I was running on our gated checkins in our azure pipelines. \nThe windows OS machine didnt work and the linux one did not have the notion of host.docker.internal. \nAfter some digging I found a working solution and I wanted to share it here. \nSince we have the new container network in aspire 9 we can call the the respective containers inside the network using their internal ports (in contrast to the previous solutions that called host.docker.internal (which is the host)). \nHere is a code snippet of how I initialize the kafka part of our orchestration. Its working great! \n\n```\nvar internalEndpointName = \"internal\";\nvar primaryEndpointName = \"primary\";\n\nvar schemaRegistry = builder.AddContainer(\"schema-registry\", \"cp-schema-registry\", \"7.7.1\")\n    .WithImageRegistry(\"confluentinc\")\n    .WithContainerName(\"schema-registry\")\n    .WithHttpEndpoint(targetPort: 8081, name: primaryEndpointName);\n\nvar kafka = builder.AddContainer(\"kafka\", \"confluent-local\", \"7.7.1\")\n    .WithImageRegistry(\"confluentinc\")\n    .WithContainerName(\"kafka\")\n    .WithEndpoint(name: primaryEndpointName, targetPort: 9092)\n    .WithEndpoint(name: internalEndpointName, targetPort: 9093)\n    .WithHttpEndpoint(name: \"restapi\", targetPort: 8082);\n\nvar kafkaBrokerEndpoint = kafka.GetEndpoint(internalEndpointName);\n\nschemaRegistry\n    .WaitFor(kafka)\n    .WithEnvironment(context =\u003e\n    {\n        context.EnvironmentVariables[\"SCHEMA_REGISTRY_HOST_NAME\"] = \"localhost\";\n        context.EnvironmentVariables[\"SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS\"] = ReferenceExpression.Create($\"kafka:9093\");\n        context.EnvironmentVariables[\"SCHEMA_REGISTRY_LISTENERS\"] = \"http://0.0.0.0:8081\";\n    })\n    .WithLifetime(ContainerLifetime.Persistent);\n\nkafka.WithEnvironment(context =\u003e\n{\n    var primaryEndpoint = kafka.GetEndpoint(primaryEndpointName);\n    var internalEndpoint = kafka.GetEndpoint(internalEndpointName);\n    var advertisedListenersExpression =\n        ReferenceExpression.Create($\"PLAINTEXT://localhost:29092,PLAINTEXT_HOST://localhost:{kafka.GetEndpoint(primaryEndpointName).Property(EndpointProperty.Port)},PLAINTEXT_INTERNAL://kafka:9093\");\n\n    context.EnvironmentVariables[\"KAFKA_ADVERTISED_LISTENERS\"] = advertisedListenersExpression;\n    context.EnvironmentVariables[\"KAFKA_LISTENER_SECURITY_PROTOCOL_MAP\"] = \"CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT,PLAINTEXT_INTERNAL:PLAINTEXT\";\n    context.EnvironmentVariables[\"KAFKA_LISTENERS\"] = \"PLAINTEXT://localhost:29092,CONTROLLER://localhost:29093,PLAINTEXT_HOST://0.0.0.0:9092,PLAINTEXT_INTERNAL://0.0.0.0:9093\";\n    context.EnvironmentVariables[\"KAFKA_SCHEMA_REGISTRY_URL\"] = schemaRegistry.GetEndpoint(primaryEndpointName);\n});\n\nbuilder.AddContainer(\"kafka-ui\", \"kafka-ui\", \"v0.7.2\")\n    .WithImageRegistry(\"provectuslabs\")\n    .WithHttpEndpoint(targetPort: 8080, name: \"publicPort\")\n    .WithEnvironment(context =\u003e\n    {\n        context.EnvironmentVariables[\"KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS\"] = \"kafka:9093\";\n        context.EnvironmentVariables[\"KAFKA_CLUSTERS_0_NAME\"] = \"kafka\";\n        context.EnvironmentVariables[\"LOGGING_LEVEL_ROOT\"] = \"debug\";\n    });\n```",
                                           "updatedAt":  "2024-11-28T15:17:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6abjDc",
                                           "createdAt":  "2025-01-14T19:14:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOECcvAw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "g7ed6e",
                                                                               "createdAt":  "2025-01-14T20:09:36Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@g7ed6e - can you verify if this is still an issue? Or can this be closed?",
                                           "updatedAt":  "2025-01-14T19:14:56Z"
                                       }
                                   ],
                         "totalCount":  16
                     },
        "title":  "Using custom schema registry for Kafka component requires custom hostname",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3985",
        "createdAt":  "2024-04-27T12:21:16Z",
        "number":  3985,
        "author":  "thompson-tomo",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:02:56Z",
        "body":  "Similar to spring boot, Aspire should be able to operate as a centralised configuration server for all micro services.\n\nTo achieve this a few milestones will need to be delivered mainly:\n- Definition of config sets schema which is obtained from the configuration layer. Needs to define for keys aspects such as min/max length, data type, validation rules etc\n- Configuration Provider API (Rest \u0026/or gRPC). Allows for fetching of config with atleast 2 param\u0027s (App, environment) required \u0026 an optional Filter. The filter limits the settings which are returned and is applied starting from the start of the key.\n- implementation of a Microsoft.Extensions.Configuration.Aspire package which consumes the api and loads config into the micrpservices\n- internal API implemented to provide the ability to set values of properties and needed for UI\n- Dashboard is extended to facilitate setting of configuration values via UI\n- API provided to push configuration sets into the server so they can be configured",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOfA3Jow==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc58DVJw",
                                           "createdAt":  "2024-04-27T23:35:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODfyjhA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "thompson-tomo",
                                                                               "createdAt":  "2024-04-28T01:16:00Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "The idea is great but the team isn\u0027t equipped to build a configuration server. I think we\u0027d much rather integrate with an existing system (consul, eureka, redis, etcd etc.), or maybe the config server is a small rest/grpc API over an existing storage system.\r\n\r\n\u003e Definition of config sets schema which is obtained from the configuration layer. Needs to define for keys aspects such as min/max length, data type, validation rules etc\r\n\r\nWe think this would be built into `Microsoft.Extensions.Configuration` and `Microsoft.Extensions.Options`, not into aspire.\r\n\r\n\u003e Configuration Provider API (Rest \u0026/or gRPC). Allows for fetching of config with atleast 2 param\u0027s (App, environment) required \u0026 an optional Filter. The filter limits the settings which are returned and is applied starting from the start of the key.\r\n\r\nThis is a reasonable idea if we had a configuration server protocol, it would support read and writes to configuration (push changes).\r\n\r\nAnyways, good idea, I\u0027m putting it in the backlog for future consideration, this isn\u0027t something we\u0027re going to be tackling in the short term.\r\n\r\n\r\n",
                                           "updatedAt":  "2024-04-27T23:35:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58Dcmj",
                                           "createdAt":  "2024-04-28T01:22:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "thompson-tomo",
                                           "body":  "Agree, it is not the highest priority items but could be useful. Also Agree discussion would be needed about storage platform and this shouldn\u0027t be an aspire as the lead data storage layer and would be better suited in a separate package ie Microsoft.Extension.ConfigStore with a reference implementation provided which stores content as a JSON file and the community integrates alternatives like we do with ConfigurationProviders.",
                                           "updatedAt":  "2024-04-28T01:22:15Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Operate as a config server",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4010",
        "createdAt":  "2024-04-29T12:30:46Z",
        "number":  4010,
        "author":  "vyliniem",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDI0YQ==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Costo",
                                            "createdAt":  "2024-06-23T01:15:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2024-07-19T19:54:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "pkudrel",
                                            "createdAt":  "2024-11-07T15:47:19Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "terryjbutler",
                                            "createdAt":  "2025-06-02T11:32:07Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-01-14T20:05:28Z",
        "body":  "Not sure if this is Aspire, Orleans or user issue, but I am unable to use Azure table-storage with reminders. This happens when running locally (preview 5 \u0026 6) using either Aspire provisioned storage-account or storage-emulator. Orleans setup with development-clustering and memory-storages works fine.\r\n\r\n```\r\n// AppHost:\r\nvar tables = builder.AddAzureStorage(\"storage\").AddTables(\"tables\");\r\n-- OR --\r\nvar tables = builder.AddAzureStorage(\"storage-emulator\").RunAsEmulator().AddTables(\"tables\");\r\n\r\nvar orleans = builder.AddOrleans(\"myapp-cluster\")\r\n  .WithClustering(tables)\r\n  .WithGrainStorage(\"myapp-grains\", tables)\r\n  .WithReminders(tables);\r\n\r\n// Orleans-resource:\r\nbuilder.AddKeyedAzureTableClient(\"tables\");\r\nbuilder.UseOrleans();\r\n```\r\nAbove setup causes orleans-resources to exit with error:\r\n`System.InvalidOperationException: Could not find Reminders provider named \u0027AzureTableStorage\u0027. This can indicate that either the \u0027Microsoft.Orleans.Sdk\u0027 or the provider\u0027s package are not referenced by your application.`\r\n\r\nIf I switch reminders to use Redis then everything works as expected.\r\n\r\nTrying to use table-storage resource with connection-string (builder.AddConnectionString(...)) causes an error with clustering:\r\n`System.InvalidOperationException: Could not find Clustering provider named \u0027ResourceWithConnectionStringSurrogate\u0027. This can indicate that either the \u0027Microsoft.Orleans.Sdk\u0027 or the provider\u0027s package are not referenced by your application.`\r\n\r\nAdding Orleans.SDK makes no difference and since Orleans.Server package is present it shouldn\u0027t be needed anyways:\r\n```\r\n\u003cPackageReference Include=\"Aspire.Azure.Data.Tables\" Version=\"8.0.0-preview.6.24214.1\" /\u003e\r\n\u003cPackageReference Include=\"Microsoft.Orleans.Server\" Version=\"8.1.0\" /\u003e\r\n\u003cPackageReference Include=\"Microsoft.Orleans.Clustering.AzureStorage\" Version=\"8.1.0\" /\u003e\r\n\u003cPackageReference Include=\"Microsoft.Orleans.Persistence.AzureStorage\" Version=\"8.1.0\" /\u003e\r\n\u003cPackageReference Include=\"Microsoft.Orleans.Reminders.AzureStorage\" Version=\"8.1.0\" /\u003e\r\n```\r\n\r\nAm I missing some packages or Aspire-setup here?",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOktR-Rg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6FhCG6",
                                           "createdAt":  "2024-07-19T20:00:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "abbottdev",
                                           "body":  "I\u0027m also having the same issue! I\u0027m using the latest packages and I\u0027m getting this exception:\r\n```\r\nException thrown: \u0027System.InvalidOperationException\u0027 in Orleans.Runtime.dll: \u0027Could not find Clustering provider named \u0027AzureTableStorage\u0027. This can indicate that either the \u0027Microsoft.Orleans.Sdk\u0027 or the provider\u0027s package are not referenced by your application.\u0027\r\n   at Orleans.Hosting.DefaultSiloServices.\u003cApplyConfiguration\u003eg__GetRequiredProvider|2_3(Dictionary`2 knownProviderTypes, String kind, String name)\r\n   at Orleans.Hosting.DefaultSiloServices.\u003cApplyConfiguration\u003eg__ConfigureProvider|2_2(ISiloBuilder builder, Dictionary`2 knownProviderTypes, String kind, String name, IConfigurationSection configurationSection)\r\n   at Orleans.Hosting.DefaultSiloServices.\u003cApplyConfiguration\u003eg__ApplySubsection|2_5(ISiloBuilder builder, IConfigurationSection cfg, Dictionary`2 knownProviderTypes, String sectionName)\r\n   at Orleans.Hosting.DefaultSiloServices.ApplyConfiguration(ISiloBuilder builder)\r\n   at Orleans.Hosting.DefaultSiloServices.AddDefaultServices(ISiloBuilder builder)\r\n   at Orleans.Hosting.SiloBuilder..ctor(IServiceCollection services, IConfiguration configuration)\r\n   at Microsoft.Extensions.Hosting.OrleansSiloGenericHostExtensions.AddOrleansCore(IServiceCollection services, IConfiguration configuration)\r\n   at Microsoft.Extensions.Hosting.OrleansSiloGenericHostExtensions.UseOrleans(IHostApplicationBuilder hostAppBuilder, Action`1 configureDelegate)\r\n   at Program.\u003c\u003cMain\u003e$\u003ed__0.MoveNext() in c:\\Repos\\Gymotion\\Gymotion.Service\\Program.cs:line 8\r\n```\r\n\r\nIt looks like DefaultSiloServices:\r\n`ApplySubsection(builder, cfg, knownProviderTypes, \"Clustering\");` \r\nhttps://github.com/dotnet/orleans/blob/92e0bf37048cd8e6c728fba008fd4cfbbd647435/src/Orleans.Runtime/Hosting/DefaultSiloServices.cs#L436\r\n\r\nIs failing, which suggests the above change needs to remain named \"Clustering\"?\r\n\r\nThis would suggest the code in the linked PR above may have altered service registration @Costo ? (cc @ReubenBond )\r\n\r\n",
                                           "updatedAt":  "2024-07-20T09:59:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Flecn",
                                           "createdAt":  "2024-07-20T16:06:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ReubenBond",
                                           "body":  "Which packages do you have installed on the silo project, @abbottdev ?",
                                           "updatedAt":  "2024-07-20T16:06:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Fq-SV",
                                           "createdAt":  "2024-07-22T10:34:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "abbottdev",
                                           "body":  "Hey @ReubenBond \r\n\r\nSilo project:\r\n```\r\n    \u003cPackageReference Include=\"Microsoft.Extensions.Hosting\" Version=\"8.0.0\" /\u003e\r\n    \u003cPackageReference Include=\"Aspire.Azure.Data.Tables\" Version=\"8.0.1\" /\u003e\r\n    \u003cPackageReference Include=\"Aspire.Azure.Storage.Blobs\" Version=\"8.0.1\" /\u003e\r\n    \u003cPackageReference Include=\"Aspire.Azure.Storage.Queues\" Version=\"8.0.1\" /\u003e\r\n    \u003cPackageReference Include=\"Microsoft.Orleans.Server\" Version=\"8.2.0\" /\u003e\r\n    \u003cPackageReference Include=\"Microsoft.Orleans.Sdk\" Version=\"8.2.0\" /\u003e\r\n    \u003cPackageReference Include=\"Microsoft.Orleans.Persistence.AzureStorage\" Version=\"8.2.0\" /\u003e\r\n    \u003cPackageReference Include=\"Microsoft.Orleans.Clustering.AzureStorage\" Version=\"8.2.0\" /\u003e\r\n    \u003cPackageReference Include=\"Microsoft.Orleans.Reminders.AzureStorage\" Version=\"8.2.0\" /\u003e\r\n    \u003cPackageReference Include=\"Microsoft.Orleans.Streaming.AzureStorage\" Version=\"8.2.0\" /\u003e\r\n```\r\n\r\nAppHost:\r\n```\r\n    \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"8.0.1\" /\u003e\r\n    \u003cPackageReference Include=\"Aspire.Hosting.Azure.Storage\" Version=\"8.0.1\" /\u003e\r\n    \u003cPackageReference Include=\"Aspire.Hosting.Orleans\" Version=\"8.0.1\" /\u003e\r\n```\r\nEDIT: Realise the version numbers were slightly outdated but is still an issue with the `8.0.2` aspire packages.",
                                           "updatedAt":  "2024-07-22T20:21:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6FvZpF",
                                           "createdAt":  "2024-07-22T20:52:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "abbottdev",
                                           "body":  "@ReubenBond  I can\u0027t repro this issue using the latest packages for table backed storage. I can however reproduce an issue with streaming which I\u0027ve raised in the Orleans repo and linked above.",
                                           "updatedAt":  "2024-07-22T20:52:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6IWzH3",
                                           "createdAt":  "2024-08-14T01:49:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "t13ka",
                                           "body":  "in my case a have got this error: \"Could not find Clustering provider named MongoDBDatabase\"",
                                           "updatedAt":  "2024-08-14T01:49:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6K1Xtg",
                                           "createdAt":  "2024-09-04T14:36:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "yoDon",
                                           "body":  "This issue happens in the official Microsoft [Use Orleans with .NET Aspire](https://learn.microsoft.com/en-us/dotnet/aspire/frameworks/orleans?tabs=dotnet-cli) docs. \r\n\r\nThe docs say to call builder.AddAzureStorage(\"storage\"), but the method is undefined and there is no indication what NuGet package might contain  that method.",
                                           "updatedAt":  "2024-09-04T14:36:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRUUb",
                                           "createdAt":  "2024-09-08T06:59:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @ReubenBond ",
                                           "updatedAt":  "2024-09-08T06:59:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6S1H5G",
                                           "createdAt":  "2024-11-07T23:06:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pkudrel",
                                           "body":  "I found a similar issue to the one described here\n\n```\n/// HOST\n// Aspire.Hosting.AppHost 8.2.2\n// Aspire.Hosting.Azure.Storage 8.2.2\n// Aspire.Hosting.Orleans 8.2.2\n\n// main difference - connection string from configuration\nvar clusteringTable = builder.AddConnectionString(\"clustering\");\n\nvar orleans = builder.AddOrleans(\"default\")\n    .WithClustering(clusteringTable)\nbuilder.AddProject\u003cProjects.Server\u003e(\"silo\")\n    .WithReference(orleans)\n    .WithReplicas(3);\n\n/// SERVER\n// Aspire.Azure.Data.Tables 8.2.2\n// Microsoft.Orleans.Clustering.AzureStorage 8.2.0\n// Microsoft.Orleans.Server 8.2.0\n\nvar builder = WebApplication.CreateBuilder(args);\n\n// Invalid value: v1 == \"ResourceWithConnectionStringSurrogate\"  \nvar v1 = builder.Configuration.GetSection(\"Orleans:Clustering:ProviderType\").Value;\n```",
                                           "updatedAt":  "2024-11-07T23:09:15Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Unable to use Azure table-storage with Orleans reminders",
        "labels":  [
                       "area-integrations",
                       "orleans"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4021",
        "createdAt":  "2024-04-29T20:13:28Z",
        "number":  4021,
        "author":  "ReubenBond",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODJ41SA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "martincostello",
                                            "createdAt":  "2024-04-30T13:08:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TomboothmanIceland",
                                            "createdAt":  "2025-08-05T09:45:36Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-06-08T15:21:30Z",
        "body":  "I ran into this when running our Aspire tests locally:\r\n\r\n![image](https://github.com/dotnet/aspire/assets/203839/b9192236-7129-4f4c-a4c9-66a3c1c224c2)\r\n\r\nThis results in the test hanging for 10 minutes, presumably waiting for the container to start (it will never start). This issue occurs because machine already has an older version of the Cosmos DB container image and [we are specifying the tag `\"latest\"`](https://github.com/dotnet/aspire/blob/044f7690c2223d0e95fc0d70efb3494fb94b45fd/src/Aspire.Hosting.Azure.CosmosDB/AzureCosmosDBExtensions.cs#L100) and not periodically forcing a re-pull.\r\n\r\nPerhaps we should check image age and re-pull images older than a certain period.\r\nEither way, assuming Cosmos DB does not change its behavior, this will result in broken dev inner-loops and CI pipelines down the line.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsBSB9A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc58UZ38",
                                           "createdAt":  "2024-04-30T15:44:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@karolz-ms - where did we ever land with DCP deciding to pull a new version for a tag, even if it is cached locally? See https://github.com/dotnet/aspire/issues/1997#issuecomment-1918263447:\r\n\r\n\u003e As for stale image checks, we have prior art for that in our VS/VS Code container extensions. We could have the AppHost or DCP could do a similar staleness check in the background and emit warnings during the application run if stale images are detected.",
                                           "updatedAt":  "2024-04-30T15:44:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc58VLBO",
                                           "createdAt":  "2024-04-30T16:38:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "karolz-ms",
                                           "body":  "\u003e @karolz-ms - where did we ever land with DCP deciding to pull a new version for a tag, even if it is cached locally? See [#1997 (comment)](https://github.com/dotnet/aspire/issues/1997#issuecomment-1918263447):\r\n\u003e \r\n\u003e \u003e As for stale image checks, we have prior art for that in our VS/VS Code container extensions. We could have the AppHost or DCP could do a similar staleness check in the background and emit warnings during the application run if stale images are detected.\r\n\r\n@eerhardt AFAIK the comment above was just a feature idea. We don\u0027t even have a backlog item to think about it yet. The improvement we DO have in plans (for shortly-post-GA release) is to expose container startup logs in the dashboard. So for the problem like above, it would hopefully make it clearer what went wrong.",
                                           "updatedAt":  "2024-04-30T16:38:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Qd6tv",
                                           "createdAt":  "2024-10-19T11:01:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kieronlanning",
                                           "body":  "Is there a workaround for this that anyone knows about?",
                                           "updatedAt":  "2024-10-19T11:01:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QehpI",
                                           "createdAt":  "2024-10-19T14:27:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Delete the container image from docker and it\u0027ll re-pull the latest image.",
                                           "updatedAt":  "2024-10-19T14:27:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wFIH0",
                                           "createdAt":  "2025-06-08T15:21:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We have an image pull policy feature now, but not sure we should do anything by default though.",
                                           "updatedAt":  "2025-06-08T15:21:29Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Cosmos DB resource `RunAsEmulator()`: \"The evaluation period has expired\"",
        "labels":  [
                       "area-integrations",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4084",
        "createdAt":  "2024-05-04T15:27:50Z",
        "number":  4084,
        "author":  "WhitWaldo",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCkZDA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "parched",
                                            "createdAt":  "2025-05-20T06:39:53Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-14T20:05:30Z",
        "body":  "I would like to leave this as a standing request to add support for [Azure Batch](https://learn.microsoft.com/en-us/azure/batch/) and the [Azure Batch Pools](https://learn.microsoft.com/en-us/azure/templates/microsoft.batch/2023-11-01/batchaccounts/pools?pivots=deployment-language-bicep) (while pools can be created with the non-ARM SDK, not all features are supported, so I\u0027d like to request explicit pool support via ARM).\r\n\r\nBecause there\u0027s not presently direct Aspire support, it means I have to maintain a storage account, service bus, event grid (system topics) and user-assigned managed identity in addition to a standing Batch resource that can\u0027t be represented and shared in the Aspire deployment which in turn means that I\u0027m using the various Aspire SDKs for some resources and the direct Azure.* SDKs for these making some projects DI registration more complex.\r\n\r\nI appreciate the consideration!",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOfNSKAw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc581IoD",
                                           "createdAt":  "2024-05-04T17:04:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "@danmoseley Happy to contribute this component once the linked bits are accepted and available as Azure.Provisioning.Batch.",
                                           "updatedAt":  "2024-05-04T17:04:03Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Request: Add support for Azure Batch (and pools)",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4087",
        "createdAt":  "2024-05-06T05:29:55Z",
        "number":  4087,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:01Z",
        "body":  "In Postgres we create a single pgadmin instance that connects to all servers/databases in the app model. We should do the same for PhpMyAdmin if possible. It seems that a PHP file needs to be written to capture the configuration:\r\n\r\nhttps://docs.phpmyadmin.net/en/latest/setup.html?highlight=PMA_USER_CONFIG_BASE64#customizing-configuration",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Change PhpMyAdmin support in MySql resource to use a single container.",
        "labels":  [
                       "area-integrations",
                       "mysql"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4099",
        "createdAt":  "2024-05-07T06:21:57Z",
        "number":  4099,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T14:04:00Z",
        "body":  "... and possibly other resources, I haven\u0027t checked.\r\n\r\nAt the moment when I do this:\r\n\r\n```csharp\r\nvar postgres = builder.AddPostgres(\"pgsql\");\r\n```\r\n\r\nThe value of `postgres.Resource.UserNameParameter` is `null` but the value of `postgres.Resource.PasswordParameter` is populated. We should treat the username and password the same way as it makes writing expressions which reference the parameters easier ... example:\r\n\r\nhttps://github.com/mitchdenny/nocodb-aspire/blob/90ddebde4362508c7c4c8358b110d778baa80446/src/NocoDB/NocoDB.Hosting/NocoDBExtensions.cs#L28\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkA-sZA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc59BeSD",
                                           "createdAt":  "2024-05-07T06:24:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "/cc @eerhardt just wanted to check on whether there is a reason you didn\u0027t populate the username parameter as well (I think you worked on this).",
                                           "updatedAt":  "2024-05-07T06:24:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc59E9tO",
                                           "createdAt":  "2024-05-07T13:47:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "See my feedback on https://github.com/dotnet/aspire/pull/4102. One concern I have is that users shouldn\u0027t be prompted for a username when they deploy via `azd`.",
                                           "updatedAt":  "2024-05-07T13:47:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc59Rw_c",
                                           "createdAt":  "2024-05-09T02:19:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "\u003e See my feedback on #4102. One concern I have is that users shouldn\u0027t be prompted for a username when they deploy via `azd`.\r\n\r\nLooks like @vhvb1989 has a solution for that. When we provide a default value, they don\u0027t prompt but it can be overridden.",
                                           "updatedAt":  "2024-05-09T02:19:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6JJ8ms",
                                           "createdAt":  "2024-08-21T05:01:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "related #4100 ",
                                           "updatedAt":  "2024-08-21T05:01:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QD6xk",
                                           "createdAt":  "2024-10-16T14:03:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Do we still want to do this?",
                                           "updatedAt":  "2024-10-16T14:03:58Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "`UserNameParameter` should be populated like `PasswordParameter` on Postgres resource",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4108",
        "createdAt":  "2024-05-07T16:45:49Z",
        "number":  4108,
        "author":  "WhitWaldo",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-01T07:19:18Z",
        "body":  "Rather than simply deploying resources and relying on RBAC for richer security, I\u0027d like to see Aspire include also include support for the creation and configuration of private links between connected (and supporting) services (e.g. between a Container App and Container Registry, or between a Container App and an Azure Cache instance).",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOfTPfTg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc59KZZ0",
                                           "createdAt":  "2024-05-08T06:59:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODhx8Xg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Kellybnd",
                                                                               "createdAt":  "2024-05-14T16:19:41Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is in the same category as adding support for vnets. Hopefully once we figure out what compute customization looks like, we’ll be able to let’s users model networking topologies by providing the dependency information to code that wants to generate these additional resources.\r\n\r\nLots of design work to do here before we commit to anything.",
                                           "updatedAt":  "2024-05-08T06:59:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc59M99O",
                                           "createdAt":  "2024-05-08T13:14:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhitWaldo",
                                           "body":  "Absolutely - just wanted to put it on the issues so that it\u0027s clear there\u0027s an ask for it, even though it\u0027s dropped in the backlog.",
                                           "updatedAt":  "2024-05-08T13:14:52Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Support private links between supported resources",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4116",
        "createdAt":  "2024-05-08T04:13:53Z",
        "number":  4116,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:02:59Z",
        "body":  "With this PR #4071 we are adding a constraint to `WithEndpoint(...)` that it only works with resources that implement `IResourceWithEndpoints`. This has some flow-on impacts to `WithReference(OrleansService)` where if you want to add orleans client configuration to a resource it must be one that implements `IResourceWithEndpoints`.\r\n\r\nFor the most part this is OK because people will generally want to add client configuration to a `ProjectResource` (which does implement `IResourceWithEndpoints`) but its conceivable that someone could create a resource which does not allow for endpoint customization but still wants orleans client configuration - in this case they would run into an issue (its not a common scenario though).\r\n\r\nTo make this work we are going to need to look at introducing two variants of `WithReference`/`WithOrleansReference` that is constrained only to `IResourceWithEnvironment` and takes an `OrleansServiceClient`.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Split up WithOrleansReference to differentiate between client and server scenarios.",
        "labels":  [
                       "area-integrations",
                       "orleans"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4357",
        "createdAt":  "2024-06-01T21:53:28Z",
        "number":  4357,
        "author":  "MadL1me",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:26Z",
        "body":  "## Overview\r\n\r\nOne of the biggest challanges in distributed systems is nodes failover and restarts. In my own experience, it is not very trivial and can be hard for begginers to setup replicated Postgres locally to test failover scenarios (for example, if Master node is down). Being able to debug those scenarious locally can be extremely helpful in many situations\r\n\r\nThis issue is related to https://github.com/dotnet/aspire/issues/992, but I think replicas should be defined granulary for each unique resource type (for Postgres or Kafka for example)\r\n\r\n## API\r\n\r\nFor Postgres specifically, I we should provide two distinct methods for configuring `async` and `sync` replicas. This will look something like this:\r\n\r\n```cs\r\nbuilder.AddPostgres(\"database\")\r\n    .WithImage(\"postgres:14.3\")\r\n    .WithAsyncReplicas(2)\r\n    .WithSyncReplicas(1)\r\n    .WithPgAdmin();\r\n```\r\n\r\n## Risks\r\n\r\nI\u0027m new to Aspire, so I\u0027m unaware if this proposal will somehow interfere with cloud/k8s support",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOf8WqjA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5_xaqM",
                                           "createdAt":  "2024-06-02T01:45:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Fine idea, but not something that is a priority in the short term.",
                                           "updatedAt":  "2024-06-02T01:45:08Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Replica support for PostgreSQL",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4405",
        "createdAt":  "2024-06-06T10:51:34Z",
        "number":  4405,
        "author":  "hjrb",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:41:28Z",
        "body":  "Hi,\r\n\r\nusing \r\n```c#\r\nvar sqlServer = builder\r\n\t.AddSqlServer(\"somesqlservername\")\r\n\t.PublishAsAzureSqlDatabase()\r\n;\r\nvar sqlDb = sqlServer\r\n\t.AddDatabase(\"somedbresourcename\", \"**DB_NAME_WITH_UNDERSCORE**\")\r\n\r\n``` \r\nwill cause an issue.\r\nDB_NAME_WITH_UNDERSCORE will be converted into DBNAMEWITHUNDERSCORE at deployment.\r\nBut the generated Db connection string will still reference the original name \"DB_NAME_WITH_UNDERSCORE\"\r\nThis will cause the connection to fail.\r\nI\u0027m sure there are more restrictions regarding names of Azure resources. Length, case, valid characters, uniqness...\r\n\r\nI would suggest introducing more non primitive types that validate names according to Azure rules.\r\nsee attachment for a proposal\r\n[AspireNames.txt](https://github.com/user-attachments/files/15613872/AspireNames.txt)\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOi1C3vA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ARO_s",
                                           "createdAt":  "2024-06-06T10:53:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hjrb",
                                           "body":  "why can I not upload file with extension *.cs. That is crappy.",
                                           "updatedAt":  "2024-06-06T10:53:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRLDQ",
                                           "createdAt":  "2024-09-08T03:53:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We don\u0027t want to bake azure specific restrictions into the model until we know you are going to azure. Are these characters generally restricted in SQL server.",
                                           "updatedAt":  "2024-09-08T03:53:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LULe8",
                                           "createdAt":  "2024-09-09T07:20:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hjrb",
                                           "body":  "\u003e\u003e Are these characters generally restricted in SQL server.\r\nNo. SQL on premise allows _ as part of the DB name. IDK why this is restricted on Azure",
                                           "updatedAt":  "2024-09-09T07:20:34Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Validate Sql database names that will get converted at deployment",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "sqlserver",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4486",
        "createdAt":  "2024-06-12T19:53:31Z",
        "number":  4486,
        "author":  "efonsecab",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T08:03:22Z",
        "body":  "For the platform I\u0027m building I currently use Azure Video Indexer.\r\nI\u0027d be ideal to be able to set it up directly in the AppHost and automatically published when running \"azd up\".\r\n\r\nI\u0027m considering building the required Aspire Resource myself, though I do not know where to start, since I probably need to create the bicep script manually when building the custom resource.\r\nIs there any documentation I could use to try building it myself?\r\n\r\nThis is the bicep documentation for Azure Video Indexer\r\nI saw it can be published through bicep: https://learn.microsoft.com/en-us/azure/azure-video-indexer/deploy-with-bicep\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOgSL5Aw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6BARzP",
                                           "createdAt":  "2024-06-13T04:17:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Is there any documentation I could use to try building it myself?\r\n\r\nSee https://learn.microsoft.com/en-us/dotnet/aspire/deployment/azure/custom-bicep-templates",
                                           "updatedAt":  "2024-06-13T07:48:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6BIvkD",
                                           "createdAt":  "2024-06-13T18:52:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "efonsecab",
                                           "body":  "\u003e \u003e Is there any documentation I could use to try building it myself?\r\n\u003e \r\n\u003e See https://learn.microsoft.com/en-us/dotnet/aspire/deployment/azure/custom-bicep-templates\r\n\r\nThanks, that helped a lot, I created this demo project for it.\r\nhttps://github.com/pticostaricags/aspire-research",
                                           "updatedAt":  "2024-06-13T18:52:22Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Create an Azure Video Indexer Resource",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4497",
        "createdAt":  "2024-06-13T14:12:14Z",
        "number":  4497,
        "author":  "kjartanium",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-04T21:50:29Z",
        "body":  "Using GA version. \r\n\r\n1. Create a .NET Aspire Starter project in VS\r\n\r\n2. Add packages in Api service project:\r\n- Aspire.Npgsql.EntityFrameworkCore.PostgreSQL\r\n- Microsoft.EntityFrameworkCore.Design\r\n- Microsoft.EntityFrameworkCore.Tools\r\n\r\n3. Create a DbContext in the api service\r\n\r\n```\r\npublic class ApplicationDbContext(DbContextOptions options) : DbContext(options)\r\n{\r\n    public DbSet\u003cUser\u003e Users { get; set; }\r\n}\r\n\r\npublic class User\r\n{\r\n    public int UserId { get; set; }\r\n    public required string Name { get; set; }\r\n}\r\n```\r\n\r\n4. Create a postgres container and database in the apphost (Add Aspire.Hosting.PostgreSQL package)\r\n\r\n```\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\n\r\nvar postgresdb = builder.AddPostgres(\"postgres\").AddDatabase(\"postgresdb\");\r\n\r\nvar apiService = builder.AddProject\u003cProjects.startertest_ApiService\u003e(\"apiservice\").WithReference(postgresdb);\r\n\r\nbuilder.AddProject\u003cProjects.startertest_Web\u003e(\"webfrontend\")\r\n    .WithExternalHttpEndpoints()\r\n    .WithReference(apiService);\r\n\r\nbuilder.Build().Run();\r\n\r\n```\r\n5. Add a the following in the api service program.cs:\r\n\r\n```\r\nbuilder.AddNpgsqlDbContext\u003cApplicationDbContext\u003e(\"postgresdb\");\r\n```\r\n\r\n6. Create a migration in the Api service using \"dotnet ef migrations add initial\"\r\n\r\n7. Update the migration in the database fails with the following:\r\n\r\n Build started...\r\nBuild succeeded.\r\nSystem.ArgumentException: Host can\u0027t be null\r\n   at Npgsql.NpgsqlConnectionStringBuilder.PostProcessAndValidate()\r\n   at Npgsql.NpgsqlConnection.SetupDataSource()\r\n   at Npgsql.NpgsqlConnection.set_ConnectionString(String value)\r\n   at Npgsql.NpgsqlConnection..ctor(String connectionString)\r\n   at Npgsql.NpgsqlConnection.CloneWith(String connectionString)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlRelationalConnection.CloneWith(String connectionString)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists(Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlDatabaseCreator.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.Exists()\r\n   at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrations()\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.Migrate(String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Design.Internal.MigrationsOperations.UpdateDatabase(String targetMigration, String connectionString, String contextType)\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.UpdateDatabaseImpl(String targetMigration, String connectionString, String contextType)\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.UpdateDatabase.\u003c\u003ec__DisplayClass0_0.\u003c.ctor\u003eb__0()\r\n   at Microsoft.EntityFrameworkCore.Design.OperationExecutor.OperationBase.Execute(Action action)\r\nHost can\u0027t be null\r\n\r\nI\u0027ve tried with all possible locations of the migration assembly and so forth, same error.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOoN_DrA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6BF8h5",
                                           "createdAt":  "2024-06-13T14:21:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kjartanium",
                                           "body":  "Hmm, I\u0027m assuming this happens because the connection string isn\u0027t really created at that point since the services isn\u0027t fired up. I guess i need to do it runtime, or are there any other workarounds?",
                                           "updatedAt":  "2024-06-13T14:21:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRTkN",
                                           "createdAt":  "2024-09-08T06:46:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is because the connection string isn\u0027t available when you run from the command line. It\u0027s possible to run some dotnet ef commands without a valid connection string (a dummy one is still required), but `dotnet ef database update` isn\u0027t possible to run without the database running *and* the connection string being available in the application.\r\n\r\nPossible workarounds;\r\n\r\nRun the apphost, get the connection string from the dashboard (look at the environment variables of the application), and use it to run `dotnet ef database update` (passing in the connection string)\r\n",
                                           "updatedAt":  "2024-09-08T06:46:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Pdqpc",
                                           "createdAt":  "2024-10-11T08:39:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KurtP20",
                                           "body":  "Nice workaround, thanks for the tip! For me it worked only after adding `--no-build` option, because running the app locks some files that need to be updated during build. ",
                                           "updatedAt":  "2024-10-11T08:39:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6P3j1c",
                                           "createdAt":  "2024-10-15T11:54:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KurtP20",
                                           "body":  "In my understanding, adding `--startup-project \u003cAppHost\u003e` should spin up the AppHost so that the container is running and the connection string is available, but there is an error as I have described on [SO](https://stackoverflow.com/questions/79077499/why-cant-i-specify-a-startup-project-when-manually-updating-a-database-in-net). Could you please comment on the SO question?",
                                           "updatedAt":  "2024-10-31T12:47:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6axOMC",
                                           "createdAt":  "2025-01-16T19:14:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "megashrieks",
                                           "body":  "@KurtP20 have you considered adding `.WaitFor(postgresdb)` I was running into a similar issue and that fixed it",
                                           "updatedAt":  "2025-01-16T19:14:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6a7lj9",
                                           "createdAt":  "2025-01-17T22:25:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEDD_5w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "megashrieks",
                                                                               "createdAt":  "2025-01-18T02:48:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "KurtP20",
                                           "body":  "@megashrieks I don\u0027t think it would help. You could also change the lifetime of the containers to persistent, but you would still need to get the connection string. The work around works, but a nicer solution would still be desirable in my opinion.",
                                           "updatedAt":  "2025-01-17T22:25:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6g38Os",
                                           "createdAt":  "2025-03-04T21:50:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "omidkrad",
                                           "body":  "There is a related blog post here, but I think what it is proposing is not correct as the Aspire app, and the containers are never run, unlike what it suggests:\n\nhttps://khalidabuhakmeh.com/add-ef-core-migrations-to-dotnet-aspire-solutions",
                                           "updatedAt":  "2025-03-04T21:50:28Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Error updating database using dotnet ef database update when using postgresql",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4502",
        "createdAt":  "2024-06-13T20:39:18Z",
        "number":  4502,
        "author":  "rebeccapowell",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T20:05:33Z",
        "body":  "## Background and Motivation\r\n\r\nAdding support for Azure Cosmos DB for Postgres Cluster (Citus extension)\r\n\r\nsee https://learn.microsoft.com/en-us/azure/cosmos-db/postgresql/concepts-cluster\r\n\r\n\u003c!--\r\nWe welcome API proposals! We have a process to evaluate the value and shape of new API. There is an overview of our process [here](https://github.com/dotnet/aspnetcore/blob/main/docs/APIReviewProcess.md). This template will help us gather the information we need to start the review process.\r\nFirst, please describe the purpose and value of the new API here.\r\n--\u003e\r\n\r\n## Proposed API\r\n\r\n```diff\r\nnamespace Aspire.Hosting;\r\n\r\npublic static class AzurePostgresExtensions\r\n{\r\n+    public static IResourceBuilder\u003cT\u003e PublishAsAzurePostgresClusterServer\u003cT\u003e(this IResourceBuilder\u003cPostgresServerResource\u003e builder, Action\u003cIResourceBuilder\u003cAzurePostgresReaource\u003e, ReaourceModuleConstruct, PostgresSqlClusterServer\u003e? configurrReaource)\r\n}\r\n```\r\n\r\n## Usage Examples\r\n\r\n\u003c!--\r\nPlease provide code examples that highlight how the proposed API additions are meant to be consumed.\r\nThis will help suggest whether the API has the right shape to be functional, performant and useable.\r\nYou can use code blocks like this:\r\n```csharp\r\n// some lines of code here\r\n```\r\n--\u003e\r\n\r\n## Alternative Designs\r\n\r\n\u003c!--\r\nWere there other options you considered, such as alternative API shapes?\r\nHow does this compare to analogous APIs in other ecosystems and libraries?\r\n--\u003e\r\n\r\n## Risks\r\n\r\n\u003c!--\r\nPlease mention any risks that to your knowledge the API proposal might entail, such as breaking changes, performance regressions, etc.\r\n--\u003e\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOgVX1nw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6BVfWf",
                                           "createdAt":  "2024-06-15T15:24:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I\u0027d love to see the API request fully filled out with examples of how this API would work and how it would change the existing API. Would this be a method on CosmosDB or on PostgresServerResource? Also why is it generic?",
                                           "updatedAt":  "2024-06-15T15:24:34Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Support for Azure Postgres Cluster",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4553",
        "createdAt":  "2024-06-17T19:47:22Z",
        "number":  4553,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-12-02T19:12:22Z",
        "body":  "Currently, the Azure component tests don\u0027t run on CI as they need test resources in Azure to run. This issue is to decide whether to move these tests to the Azure sdk repo, and utilize the test framework there. And if so, what needs to be done to make it happen.\r\n\r\ncontext: https://github.com/dotnet/aspire/issues/2689#issuecomment-2045664700\r\n\r\n@eerhardt:\r\n`What is the medium-to-long-term vision for where the Azure Hosting code lives? If we intend to move it to [Azure/azure-sdk-for-net](https://github.com/Azure/azure-sdk-for-net/), it may make sense to wait until then to hook it up to automated tests.`\r\n\r\n`On the Components side, my goal is to eventually move them to the Azure repo, so they can ship and service along with the Azure SDK packages.`\r\n\r\ncc @joperezr @mitchdenny ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOgZ4kFQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6BniQV",
                                           "createdAt":  "2024-06-17T23:35:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@tg-msft @weshaggard (and any other Azure SDK devs) - thoughts on this?",
                                           "updatedAt":  "2024-06-17T23:35:28Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[tests] Consider moving Azure specific component tests to Azure sdk repo",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "testing ☑️"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4596",
        "createdAt":  "2024-06-19T17:01:23Z",
        "number":  4596,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T20:05:34Z",
        "body":  "We\u0027re adding `SecretsStore` as part of #4507 so we should look at updating the Azure provisioning user secrets logic to use it.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Update Azure provisioning to use SecretsStore",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4748",
        "createdAt":  "2024-07-02T13:48:43Z",
        "number":  4748,
        "author":  "attilah",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCZTzQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "dluc",
                                            "createdAt":  "2025-05-15T01:41:50Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-14T20:05:35Z",
        "body":  "I have to have support for schemas in Postgres resources in my Aspire application.\r\n\r\nI have tried to implement a `PostgresDatabaseWithSchemaResource` resource which is an exact copy of `PostgresDatabaseResource` with an optional `SchemaName` property, but ran into an issue with the extension method implementation as it calls `AddDatabase` which is internal on the server resource.\r\n\r\nI don\u0027t know if the exposed `Databases` property is used down the line or not, but this is a blocker for custom PostgresDatabaseResource implementations.\r\n\r\nNeeding schema name is just one example that I currently need, but I can imagine a lot other usecases which involves configuration at the database level (like requiring a postgres extension) and such that would need a custom resource.\r\n\r\nSince schemas as widely used is it possible to include it as optional property for the `PostgresDatabaseResource` beside making `AddDatabase` public ?",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmm8toQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6aby2h",
                                           "createdAt":  "2025-01-14T19:51:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@attilah - can you share your code / scenario a little bit more? We haven\u0027t designed this as an extensiblity point yet. So we\u0027d like to learn more about the scenarios here.",
                                           "updatedAt":  "2025-01-14T19:51:00Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "make PostgresServerResource.AddDatabase public for extensibility",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4856",
        "createdAt":  "2024-07-11T12:41:59Z",
        "number":  4856,
        "author":  "julioct",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T20:05:36Z",
        "body":  "The Keycloak authentication component needs an icon/logo. \r\n\r\nWe can\u0027t just add it without permission from Keycloak team, so we are asking for that [here](https://github.com/keycloak/keycloak/issues/31215).",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add Keycloak icon/logo",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4872",
        "createdAt":  "2024-07-12T12:53:50Z",
        "number":  4872,
        "author":  "KenBrannigan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T20:05:36Z",
        "body":  "I have my personal account logged into Visual Studio (i.e. personal@outlook.com). I have my work account as an additional account in Visual Studio (i.e. work@company.com). When I right-click \"Connected Services\" in the AppHost project and select \"Azure Resource Provisioning Settings\" I select my work account and set the proper subscription name, location, and resource group.\r\n\r\nWhen I run the project the provision of any Azure resource fails:\r\n\r\n```\r\nThe access token is from the wrong issuer \u0027https://sts.windows.net/xxxxx/\u0027;. It must match the tenant \u0027https://sts.windows.net/yyyyy/\u0027; associated with this subscription. Please use the authority (URL) \u0027https://login.windows.net/zzzzz\u0027; to get the token. Note, if the subscription is transferred to another tenant there is no impact to the services, but information about new tenant could take time to propagate (up to an hour). If you just transferred your subscription and see this error message, please try back later.\r\nStatus: 401 (Unauthorized)\r\nErrorCode: InvalidAuthenticationTokenTenant\r\n```\r\n\r\nTo be safe, I replaced the guid\u0027s on purpose in the message above. I am not sure if showing them is a security issue.\r\n\r\nIf I log my personal account out of Visual Studio and log in with my work account and run again it provisions everything with no issues.\r\n\r\nShouldn\u0027t Aspire use the account I selected in \"Azure Resource Provisioning Settings\" to handle the provisioning?\r\n\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Azure provisioning using visual studio account not configured account",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5044",
        "createdAt":  "2024-07-24T07:38:23Z",
        "number":  5044,
        "author":  "sebastienros",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-10T09:58:38Z",
        "body":  "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Describe the bug\r\n\r\nThere are multiple issues when using `WithXXXMount`:\r\n- When using `WithDataBindMount` and a password such as `p@ssw0rd1` the container enters an infinite log loop the following message : `Password cannot be null. Enter password:`. The password is valid in other standard usages of the container (like using WithDataVolumeMount, or without any data mount).\r\n- When using `WithDbSetupBindMount`, scripts in the /setup folder are not executed as expected.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsFaT6Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6I8dHv",
                                           "createdAt":  "2024-08-19T22:10:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "We will remove the non-working APIs in a major release if confirmed not to work.",
                                           "updatedAt":  "2024-08-19T22:10:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6dt1s2",
                                           "createdAt":  "2025-02-09T02:49:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Should we obsolete the method?",
                                           "updatedAt":  "2025-02-09T02:49:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wVpPp",
                                           "createdAt":  "2025-06-10T09:58:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "artm",
                                           "body":  "This is probably a bug in oracle container image: we had the same probleem with the free oracle database container while not using dotnet/aspire. I have noticed \u0027@\u0027 that in both your example password and in mine, so I have tried to restart the container with a new password without this character. The problem was gone then, the container is starting normally.",
                                           "updatedAt":  "2025-06-10T09:58:38Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "OracleDatabaseServerResource data mounts issues",
        "labels":  [
                       "area-integrations",
                       "oracle"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5055",
        "createdAt":  "2024-07-24T18:42:35Z",
        "number":  5055,
        "author":  "Alirexaa",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC6o8WA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "RobertWeaver",
                                            "createdAt":  "2024-08-30T09:00:38Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-14T23:51:58Z",
        "body":  "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Describe the bug\r\n\r\nAdding SqlServer using `WithDataBindMount` failed to start.\r\nI use Windows 10 and think SqlServer has some issues with mount volume to the Windows host (see: https://stackoverflow.com/a/66238175).\r\n\r\n### Expected Behavior\r\n\r\nThe container starts without any errors.\r\n\r\n### Steps To Reproduce\r\n\r\nJust add `SqlServerServerResource` using `WithDataBindMount`\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\n\r\nvar sqlserver = builder.AddSqlServer(\"sqlserver\")\r\n.WithDataBindMount(\"C:\\\\sqldata\");\r\n\r\nbuilder.Build().Run();\r\n```\r\n\r\n### Exceptions (if any)\r\n\r\n_No response_\r\n\r\n\u003cdetails\u003e\r\n\u003csummary\u003e### .NET Version info\u003c/summary\u003e\r\n\r\n.NET SDK:\r\n Version:           8.0.303\r\n Commit:            29ab8e3268\r\n Workload version:  8.0.300-manifests.280f8661\r\n MSBuild version:   17.10.4+10fbfbf2e\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.19045\r\n OS Platform: Windows\r\n RID:         win-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\8.0.303\\\r\n\r\n.NET workloads installed:\r\n [android]\r\n   Installation Source: SDK 8.0.300, VS 17.10.34916.146\r\n   Manifest Version:    34.0.95/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.android\\34.0.95\\WorkloadManifest.json\r\n   Install Type:        FileBased\r\n\r\n [aspire]\r\n   Installation Source: SDK 8.0.300, VS 17.10.34916.146\r\n   Manifest Version:    8.0.1/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.0.1\\WorkloadManifest.json\r\n   Install Type:        FileBased\r\n\r\n [ios]\r\n   Installation Source: SDK 8.0.300, VS 17.10.34916.146\r\n   Manifest Version:    17.2.8053/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.ios\\17.2.8053\\WorkloadManifest.json\r\n   Install Type:        FileBased\r\n\r\n [maccatalyst]\r\n   Installation Source: SDK 8.0.300, VS 17.10.34916.146\r\n   Manifest Version:    17.2.8053/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.maccatalyst\\17.2.8053\\WorkloadManifest.json\r\n   Install Type:        FileBased\r\n\r\n [maui-windows]\r\n   Installation Source: SDK 8.0.300, VS 17.10.34916.146\r\n   Manifest Version:    8.0.21/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.maui\\8.0.21\\WorkloadManifest.json\r\n   Install Type:        FileBased\r\n\r\n\r\nHost:\r\n  Version:      8.0.7\r\n  Architecture: x64\r\n  Commit:       2aade6beb0\r\n\r\n.NET SDKs installed:\r\n  8.0.300 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.303 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 6.0.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 7.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 8.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 8.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 6.0.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 7.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 8.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 8.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 6.0.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 7.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 8.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 8.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nOther architectures found:\r\n  x86   [C:\\Program Files (x86)\\dotnet]\r\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\r\n\r\nEnvironment variables:\r\n  Not set\r\n\r\nglobal.json file:\r\n  Not found\r\n\r\nLearn more:\r\n  https://aka.ms/dotnet/info\r\n\r\nDownload .NET:\r\n  https://aka.ms/dotnet/download\r\n\u003c/details\u003e\r\n\r\n### Anything else?\r\n\r\n# Container Logs:\r\n\r\n```\r\nSQL Server 2022 will run as non-root by default.\r\nThis container is running as user mssql.\r\nTo learn more visit https://go.microsoft.com/fwlink/?linkid=2099216.\r\n** ERROR: [AppLoader] Failed to load LSA: 0xc0070102\r\nAppLoader: Exiting with status=0xc0070102\r\nThis program has encountered a fatal error and cannot continue running at Wed Jul 24 18:28:29 2024\r\nThe following diagnostic information is available:\r\nReason: 0x00000006\r\nMessage: Termination of \\SystemRoot\\system32\\AppLoader.exe was due to fatal error 0xC0000001\r\nAddress: 0x3fff99a6a868\r\nStack Trace:\r\nfile://package6/windows/system32/sqlpal.dll+0x0000000000209C12\r\nfile://package6/windows/system32/sqlpal.dll+0x0000000000208156\r\nfile://package6/windows/system32/sqlpal.dll+0x000000000026A9D0\r\nfile://package6/windows/system32/sqlpal.dll+0x000000000026A868\r\nfile://package6/windows/system32/sqlpal.dll+0x0000000000269296\r\nfile://package6/windows/system32/sqlpal.dll+0x0000000000201F6E\r\nfile://package6/windows/system32/sqlpal.dll+0x00000000003A02FB\r\nfile:///windows/system32/ntdll.dll+0x00000000000F64AF\r\nfile:///windows/system32/AppLoader.exe+0x0000000000002ED7\r\nfile:///windows/system32/AppLoader.exe+0x000000000000301D\r\nfile:///windows/system32/AppLoader.exe+0x000000000000303D\r\nfile:///windows/system32/AppLoader.exe+0x000000000000A378\r\nfile:///Windows/SYSTEM32/KERNEL32.DLL+0x0000000000017AF4\r\nfile:///windows/system32/ntdll.dll+0x00000000000244A1\r\nProcess: 10 - sqlservr\r\nThread: 52 (application thread 0xa4)\r\nInstance Id: 9f17bc3e-874d-455e-b7a0-1a24219be74a\r\nCrash Id: 486aeaae-86b9-4d81-b764-71c32ea25e64\r\nBuild stamp: d986b523c576d701c33a57ed10ecb573fee0027b11dee759032623389580414d\r\nDistribution: Ubuntu 22.04.4 LTS\r\nProcessors: 4\r\nTotal Memory: 13303603200 bytes\r\nTimestamp: Wed Jul 24 18:28:29 2024\r\nCapturing a dump of 10\r\nSuccessfully captured dump: /var/opt/mssql/log/core.sqlservr.7_24_2024_18_28_29.10\r\nExecuting: /opt/mssql/bin/handle-crash.sh with parameters\r\nhandle-crash.sh\r\n/opt/mssql/bin/sqlservr\r\n10\r\n/opt/mssql/bin\r\n/var/opt/mssql/log/\r\n9f17bc3e-874d-455e-b7a0-1a24219be74a\r\n486aeaae-86b9-4d81-b764-71c32ea25e64\r\n/var/opt/mssql/log/core.sqlservr.7_24_2024_18_28_29.10\r\nUbuntu 22.04.4 LTS\r\nCapturing core dump and information to /var/opt/mssql/log...\r\n/bin/cat: /proc/10/maps: Permission denied\r\ncat: /proc/10/environ: Permission denied\r\nfind: \u0027/proc/10/map_files\u0027: Permission denied\r\nfind: \u0027/proc/10/map_files\u0027: Permission denied\r\nfind: \u0027/proc/10/map_files\u0027: Permission denied\r\nfind: \u0027/proc/10/map_files\u0027: Permission denied\r\ndmesg: read kernel buffer failed: Operation not permitted\r\ntimeout: failed to run command \u0027journalctl\u0027: No such file or directory\r\ntimeout: failed to run command \u0027journalctl\u0027: No such file or directory\r\nWed Jul 24 18:28:40 UTC 2024 Capturing program information\r\nDump already generated: /var/opt/mssql/log/core.sqlservr.7_24_2024_18_28_29.10, moving to /var/opt/mssql/log/core.sqlservr.10.temp/core.sqlservr.10.gdmp\r\nMoving logs to /var/opt/mssql/log/core.sqlservr.10.temp/log/paldumper-debug.log\r\nWed Jul 24 18:28:40 UTC 2024 Capturing program binaries\r\nWed Jul 24 18:28:41 UTC 2024 Not compressing the dump files, moving instead to: /var/opt/mssql/log/core.sqlservr.07_24_2024_18_28_38.10.d\r\n```\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmKMAjg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6GXcP5",
                                           "createdAt":  "2024-07-28T00:20:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "andrewzolotukhin",
                                           "body":  "I got the same issue here. I think the problem is that files under the data volume are mounted under the wrong permissions (wrong owner). But not sure how I can fix that using Windows (my files are not inside of WSL2).",
                                           "updatedAt":  "2024-07-28T00:20:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YowCO",
                                           "createdAt":  "2024-12-24T08:17:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHeaTg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "michaellwest",
                                                                               "createdAt":  "2025-02-25T05:19:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "cnzhangw",
                                           "body":  "you can map subdirectory /var/opt/mssql/data , which holds the db files, it is working.\n\n`docker run -d --name mssql --hostname my-mssql -e \"ACCEPT_EULA=Y\" -e \"MSSQL_SA_PASSWORD=Abcd1234\" -p 1433:1433 -v D:/docker/mssql/data:/var/opt/mssql/data mcr.microsoft.com/mssql/server:2019-latest`\n\n[https://stackoverflow.com/questions/65307784/mssql-container-fails-to-start-when-mapping-volumes-after-upgrading-to-wsl2/66238175#66238175](https://stackoverflow.com/questions/65307784/mssql-container-fails-to-start-when-mapping-volumes-after-upgrading-to-wsl2/66238175#66238175)",
                                           "updatedAt":  "2024-12-24T08:19:15Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Sql Server `WithDataBindMount` Failed To Start",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5062",
        "createdAt":  "2024-07-24T22:20:35Z",
        "number":  5062,
        "author":  "samsp-msft",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODA5EQQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tlunsfordCXP",
                                            "createdAt":  "2025-04-05T17:59:43Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-14T23:51:59Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nIn watching the session yesterday on DataDog and how you need to configure Aspire to be able to tweak the OTLP settings, I am thinking that we should probably have an OTLP app model component.\r\nToday if you want to send data elsewhere than the dashboard, you need to go add new environment variables to each application. Its kind of ugly.\n\n### Describe the solution you\u0027d like\n\nWe emit a whole bunch of OTLP vars today, but you don\u0027t get any control over them. I wonder if we should have an explicit component that you can add to the app model that is something like:\r\n\r\n```\r\nbuilder.AddTelemetrySettings(\"otel\")\r\n    .UseDefaults(false)\r\n    .Endpoint(\"http://localhost:4317\")\r\n    .ServiceName(\"AspireApp17\")\r\n    .ResourceProperty(\"MyName\", \"MyValue\");\r\n```\r\n\r\nThat you can then reference from each project/ app/ container that you want to reference. \r\nIt would have the logic for all the attributes that we spit today, together with API endpoints over them, and other common settings. If you disable the defaults then it will no longer spit those.\r\n\r\nIt would make it easier if you were going to have an OTel collector component, as you can now point one of these at that.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOh3YSPw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6GDOvn",
                                           "createdAt":  "2024-07-24T22:20:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "samsp-msft",
                                           "body":  "@JamesNK, @mitchdenny ",
                                           "updatedAt":  "2024-07-24T22:20:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6HdhI_",
                                           "createdAt":  "2024-08-07T05:43:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOENCvqg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "tlunsfordCXP",
                                                                               "createdAt":  "2025-04-05T18:01:05Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Whilst subbing out the otel endpoint is painful (you\u0027ve got to do it on each resource) it seems like the dashboard is what we want to optimize for right?\r\n\r\nI\u0027m thinking if APM provides what to provide an optimal experience here they can ship an `AddDataDog(...)` API and a custom `WithReference(...)` overload which splats the environment variables.\r\n\r\nThe proposal above makes it easy to substitute in a generic Otel endpoint but I think we want to encourage a rich API experience and just use the dashboard by default?\r\n\r\nMy loosely held opinion ;)",
                                           "updatedAt":  "2024-08-07T05:43:01Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "OTLP appmodel component",
        "labels":  [
                       "area-integrations",
                       "area-telemetry"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5092",
        "createdAt":  "2024-07-26T17:47:36Z",
        "number":  5092,
        "author":  "paulomorgado",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC8nYMw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "christiannagel",
                                            "createdAt":  "2024-11-13T11:54:41Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-15T18:26:31Z",
        "body":  "## Background and Motivation\r\n\r\nA Keycloak server may have several realms and the realms are what\u0027s important for applications.\r\n\r\nBut, at the moment, `JwtBearerOptions` does not support service discovery for authority and Keycloak has its own way of constructing the base address of the realm.\r\n\r\nIt would be helpful, if \"creating\" a realm would create connection string for the realm.\r\n\r\n## Proposed API\r\n\r\nOn the Aspire host, there would be a `AddReal` method that would create a connections string to the realm.\r\n\r\n```csharp\r\nvar keycloak = builder.AddKeycloak(...);\r\nvar realm = keycloak.AddRealm(...);\r\n\r\nvar service = builder.AddProject\u003c...\u003e(...)\r\n    .WithEnvironment(\"Security__Authentication__JwtBearerOptions__Authority\", realm)\r\n    :\r\n```\r\n\r\n## Usage Examples\r\n\r\nOn the service side, the service would only have to register the configuration:\r\n\r\n```csharp\r\nbuilder.Services\r\n    .AddOptions\u003cJwtBearerOptions\u003e(\"Bearer\")\r\n    .BindConfiguration(\"VisionBox:Security:Authentication:JwtBearerOptions\")\r\n    .ValidateOnStart();\r\n--\u003e\r\n\r\n## Complementary Designs\r\n\r\nImport realm could return a connection string for the realm.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmpgdOg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6acPCN",
                                           "createdAt":  "2025-01-14T21:00:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@julioct @DamianEdwards - any thoughts on this?",
                                           "updatedAt":  "2025-01-14T21:00:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6acSj2",
                                           "createdAt":  "2025-01-14T21:09:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "I have an implementation that I can submit.",
                                           "updatedAt":  "2025-01-14T21:09:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6adPlT",
                                           "createdAt":  "2025-01-15T00:11:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Yeah I ran into this while building out the sample too and did some [things](https://github.com/dotnet/aspire-samples/blob/e20ba38263dbcc23a69899b4f797c0bf25895e40/samples/Keycloak/Keycloak.AppHost/KeycloakExtensions.cs#L64-L96) [over](https://github.com/dotnet/aspire-samples/blob/e20ba38263dbcc23a69899b4f797c0bf25895e40/samples/Keycloak/Keycloak.ServiceDefaults/KeycloakUrls.cs#L11-L69) there. Modeling realms in a first-class way (e.g. as child resources) seems like a reasonable approach to explore but I think it will take some iteration to land on something.",
                                           "updatedAt":  "2025-01-15T00:11:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6af7Ly",
                                           "createdAt":  "2025-01-15T09:14:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "This is what I have now:\n\n```csharp\n/// \u003csummary\u003e\n/// Adds a Keycloak Realm to the application model from a \u003csee cref=\"IResourceBuilder{KeycloakRealmResource}\"/\u003e.\n/// \u003c/summary\u003e\n/// \u003cparam name=\"builder\"\u003eThe Keycloak server resource builder.\u003c/param\u003e\n/// \u003cparam name=\"name\"\u003eThe name of the realm.\u003c/param\u003e\n/// \u003cparam name=\"realmName\"\u003eThe name of the realm. If not provided, the resource name will be used.\u003c/param\u003e\n/// \u003creturns\u003eA reference to the \u003csee cref=\"IResourceBuilder{KeycloakRealmResource}\"/\u003e.\u003c/returns\u003e\npublic static IResourceBuilder\u003cKeycloakRealmResource\u003e AddRealm(\n    this IResourceBuilder\u003cKeycloakResource\u003e builder,\n    string name,\n    string? realmName = null)\n{\n    ArgumentNullException.ThrowIfNull(builder);\n\n    // Use the resource name as the realm name if it\u0027s not provided\n    realmName ??= name;\n\n    var keycloakRealm = new KeycloakRealmResource(name, realmName, builder.Resource);\n\n    return builder.ApplicationBuilder.AddResource(keycloakRealm);\n}\n\n/// \u003csummary\u003e\n/// Represents a Keycloak Realm resource.\n/// \u003c/summary\u003e\n/// \u003cparam name=\"name\"\u003eThe name of the realm resource.\u003c/param\u003e\n/// \u003cparam name=\"realmName\"\u003eThe name of the realm.\u003c/param\u003e\n/// \u003cparam name=\"parent\"\u003eThe Keycloak server resource associated with this database.\u003c/param\u003e\npublic sealed class KeycloakRealmResource(string name, string realmName, KeycloakResource parent) : Resource(name), IResourceWithParent\u003cKeycloakResource\u003e, IResourceWithConnectionString\n{\n    private EndpointReference? _parentEndpoint;\n    private EndpointReference ParentEndpoint =\u003e _parentEndpoint ??= new(Parent, \"http\");\n\n    /// \u003cinheritdoc/\u003e\n    public ReferenceExpression ConnectionStringExpression =\u003e ReferenceExpression.Create(\n        $\"{ParentEndpoint.Property(EndpointProperty.Url)}/realms/{RealmName}\");\n\n    /// \u003cinheritdoc/\u003e\n    public KeycloakResource Parent { get; } = parent;\n\n    /// \u003csummary\u003e\n    /// Gets the name of the realm.\n    /// \u003c/summary\u003e\n    public string RealmName { get; } = realmName;\n}\n```\n\nI don\u0027t use any Keycloak Aspire components in my applications.\n\nUsually, it\u0027s just used like this:\n\n```csharp\nresourcebuild.WithEnvironment(\"JwtBearerOptions__Authority\", realm);\n```\n\nBut, sometimes the application already has configuration for providers without `.well-known/openid-configuration` endpoint and I need to configure everything:\n\n```csharp\nresourcebuild\n    .WithEnvironment(ctx =\u003e\n    {\n        var baseAddress = idp.Resource.ConnectionStringExpression;\n        ctx.EnvironmentVariables[\"JwtBearerOptions__Authority\"] = baseAddress;\n        ctx.EnvironmentVariables[\"JwtBearerOptions__MetadataAddress\"] = ReferenceExpression.Create($\"{baseAddress}/.well-known/openid-configuration\");\n        ctx.EnvironmentVariables[\"JwtBearerOptions__Configuration__Issuer\"] = baseAddress;\n        ctx.EnvironmentVariables[\"JwtBearerOptions__Configuration__AuthorizationEndpoint\"] = ReferenceExpression.Create($\"{baseAddress}/protocol/openid-connect/auth\");\n        ctx.EnvironmentVariables[\"JwtBearerOptions__Configuration__TokenEndpoint\"] = ReferenceExpression.Create($\"{baseAddress}/protocol/openid-connect/token\");\n        ctx.EnvironmentVariables[\"JwtBearerOptions__Configuration__UserInfoEndpoint\"] = ReferenceExpression.Create($\"{baseAddress}/protocol/openid-connect/userinfo\");\n        ctx.EnvironmentVariables[\"JwtBearerOptions__RequireHttpsMetadata\"] = \"false\";\n        ctx.EnvironmentVariables[\"JwtBearerOptions__TokenValidationParameters__RequireSignedTokens\"] = \"false\";\n        ctx.EnvironmentVariables[\"JwtBearerOptions__TokenValidationParameters__ValidateAudience\"] = \"false\";\n        ctx.EnvironmentVariables[\"JwtBearerOptions__TokenValidationParameters__ValidateActor\"] = \"false\";\n        ctx.EnvironmentVariables[\"JwtBearerOptions__TokenValidationParameters__ValidateIssuer\"] = \"false\";\n        ctx.EnvironmentVariables[\"JwtBearerOptions__TokenValidationParameters__ValidateIssuerSigningKey\"] = \"false\";\n        ctx.EnvironmentVariables[\"JwtBearerOptions__TokenValidationParameters__ValidateLifetime\"] = \"false\";\n    })\n    ;\n```\n\nOne improvement would be to create properties and expressions for all these paths.\n\nIf it\u0027s OK with you, I can submit a PR with this, and we\u0027ll go from there.",
                                           "updatedAt":  "2025-01-15T09:14:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6algxA",
                                           "createdAt":  "2025-01-15T17:21:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e If it\u0027s OK with you, I can submit a PR with this, and we\u0027ll go from there.\n\nI don\u0027t think we\u0027re ready to work on a PR for this right now to be honest. This is an important area that we want to return to but Keycloak improvements aren\u0027t in scope for the next minor release or two so a PR at this point might not get much attention. That said, a draft PR from a fork where we can explore ideas together isn\u0027t at all a bad thing, just setting expectations.",
                                           "updatedAt":  "2025-01-15T17:21:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6amB06",
                                           "createdAt":  "2025-01-15T18:26:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "paulomorgado",
                                           "body":  "I\u0027ve created a draft PR for this: https://github.com/dotnet/aspire/pull/7120 for discussion and for those that need it to pick it up.\n\nKeycloak integration is still in preview. We can iterate on it.",
                                           "updatedAt":  "2025-01-15T18:26:30Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Create KeycloakRealmResource to represent the address of a realm",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5190",
        "createdAt":  "2024-08-06T00:05:07Z",
        "number":  5190,
        "author":  "sebastienros",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:52:01Z",
        "body":  "The container doesn\u0027t take the files into account. `WithInitBindMount` works fine though so this could be a problem only with assumptions about how it is supposed to work.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "OracleDatabaseServerResource.WithDbSetupBindMount has no effect",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "oracle"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5191",
        "createdAt":  "2024-08-06T00:23:37Z",
        "number":  5191,
        "author":  "sebastienros",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:52:02Z",
        "body":  "Container fails to load the mounted files even with extra permissions.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOh281mw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6HVX_0",
                                           "createdAt":  "2024-08-06T06:59:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "How does it fail?",
                                           "updatedAt":  "2024-08-06T06:59:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6HbzWb",
                                           "createdAt":  "2024-08-06T21:50:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "```\r\nORA-00205: error in identifying control file, check alert log for more info\r\nHelp: https://docs.oracle.com/error-help/db/ora-00205/\r\n```",
                                           "updatedAt":  "2024-08-06T21:50:45Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "`OracleDatabaseServerResource.WithDataBindMount(useVolume: false)` not working",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "oracle"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5203",
        "createdAt":  "2024-08-06T21:27:18Z",
        "number":  5203,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:55:54Z",
        "body":  "Once https://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks/issues/2279 is fixed we can revert #5202",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Reenable Azure Key Vault Health check tests",
        "labels":  [
                       "area-integrations",
                       "blocked",
                       "testing ☑️",
                       "disabled-tests"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5238",
        "createdAt":  "2024-08-09T09:41:12Z",
        "number":  5238,
        "author":  "feritzcan2",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDeSLg==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "scabana",
                                            "createdAt":  "2024-10-23T15:30:19Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "paulomorgado",
                                            "createdAt":  "2025-01-15T09:52:35Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "AldeRoberge",
                                            "createdAt":  "2025-05-27T14:45:29Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AldeRoberge",
                                            "createdAt":  "2025-05-27T14:45:30Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "camp-007",
                                            "createdAt":  "2025-06-04T04:28:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "aradalvand",
                                            "createdAt":  "2025-06-09T15:21:39Z"
                                        }
                                    ],
                          "totalCount":  6
                      },
        "updatedAt":  "2025-07-16T19:20:12Z",
        "body":  "Hello,  we are using MongoDB and recently we have integrated with aspire.  \r\nHowever, running MongoDB transactions requires replicas.  As I checked I couldn\u0027t find any solution right now.\r\n\r\nCan you assist me if its possible please?",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOt5TE0A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Lq9t_",
                                           "createdAt":  "2024-09-11T10:47:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jakoss",
                                           "body":  "We are also interested in that. It became more important after MongoDB EF Provider 8.1 enabled transactions by default and for now we have to explicitly disable those for local work",
                                           "updatedAt":  "2024-09-11T10:47:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MHf4V",
                                           "createdAt":  "2024-09-14T01:51:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEV6NMw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "jakoss",
                                                                               "createdAt":  "2024-09-14T20:01:01Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "creyke",
                                                                               "createdAt":  "2024-10-28T16:38:47Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "aradalvand",
                                                                               "createdAt":  "2025-06-09T14:58:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "twsouthwick",
                                           "body":  "I opened a PR that enables with the extension method:\r\n\r\n```diff\r\nnamespace Aspire.Hosting;\r\n\r\npublic static class MongoDBBuilderExtensions\r\n{\r\n+  public static IResourceBuilder\u003cMongoDBServerResource\u003e WithReplicaSet(this IResourceBuilder\u003cMongoDBServerResource\u003e builder, string? replicaSet = null);\r\n}\r\n```",
                                           "updatedAt":  "2024-09-14T01:51:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MIMjc",
                                           "createdAt":  "2024-09-14T11:27:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "feritzcan2",
                                           "body":  "\u003e I opened a PR that enables with the extension method:\n\u003e \n\u003e \n\u003e \n\u003e ```diff\n\u003e \n\u003e namespace Aspire.Hosting;\n\u003e \n\u003e \n\u003e \n\u003e public static class MongoDBBuilderExtensions\n\u003e \n\u003e {\n\u003e \n\u003e +  public static IResourceBuilder\u003cMongoDBServerResource\u003e WithReplicaSet(this IResourceBuilder\u003cMongoDBServerResource\u003e builder, string? replicaSet = null);\n\u003e \n\u003e }\n\u003e \n\u003e ```\n\nHow can i track status?",
                                           "updatedAt":  "2024-09-14T11:27:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MI2h-",
                                           "createdAt":  "2024-09-14T20:02:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jakoss",
                                           "body":  "\u003e How can i track status?\r\n\r\nHere: https://github.com/dotnet/aspire/pull/5712\r\n\r\nIt\u0027s also linked in the right menu of this issue",
                                           "updatedAt":  "2024-09-14T20:02:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6adJSG",
                                           "createdAt":  "2025-01-14T23:47:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "feritzcan2",
                                           "body":  "@jakoss  is it gonna be published any soon? Pr was open since september :(",
                                           "updatedAt":  "2025-01-14T23:47:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aeSG9",
                                           "createdAt":  "2025-01-15T04:33:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "No, this PR needs to be replat on top of a new capability that isn\u0027t yet implemented. Being able to run commands in the container, on   start. Either that or we change the entrypoint of the build in container to be a shell script that does this.",
                                           "updatedAt":  "2025-01-15T04:33:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aeSv_",
                                           "createdAt":  "2025-01-15T04:36:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEa0aAQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jakoss",
                                                                               "createdAt":  "2025-01-15T06:03:46Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ddizh",
                                                                               "createdAt":  "2025-02-25T01:10:04Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "alexjamesbrown",
                                                                               "createdAt":  "2025-02-28T12:07:43Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "scabana",
                                                                               "createdAt":  "2025-07-16T16:57:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Actually, I\u0027ll follow up with @twsouthwick to see if we can pull something off for 9.x, there may be options here.",
                                           "updatedAt":  "2025-01-15T04:36:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gpsA8",
                                           "createdAt":  "2025-03-03T18:57:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "alexjamesbrown",
                                           "body":  "The previous workaround from @vzam here (https://github.com/dotnet/aspire/issues/6811) no longer works with Aspire 9.1.0\n\nI\u0027ve got a demo of it working in Aspire 9.0.0\nhttps://github.com/alexjamesbrown/aspire-mongodb-replicaset\n\nUpgrading to 9.1.0  - and it no longer works\nhttps://github.com/alexjamesbrown/aspire-mongodb-replicaset/tree/9.1.0\nMainly because `builder.Eventing.Subscribe\u003cConnectionStringAvailableEvent\u003e` no longer fires\n\nhttps://github.com/alexjamesbrown/aspire-mongodb-replicaset/blob/9.1.0/AspireMongo.AppHost/MongoReplicaSetBuilderExtensions.cs#L40",
                                           "updatedAt":  "2025-03-03T18:57:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6h3o1v",
                                           "createdAt":  "2025-03-11T21:11:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vzam",
                                           "body":  "@alexjamesbrown I don\u0027t know how the health check worked before, but we are using the database there, while the health check is only specified on the server. To fix this, go to `MongoDbReplicaSetBuilderExtensions.AddMongoReplicaSet`, rename `mongoDbServerResource` to just `mongoDbResource` and introduce this variable\n```csharp\nvar mongoDbServerResource = mongoDbResource switch\n        {\n            MongoDBDatabaseResource dbResource =\u003e dbResource.Parent,\n            _ =\u003e mongoDbResource\n        };\n```\nreplace the two occurrences of `mongoDbResource` with `mongoDbServerResource` where the health checks are being removed.\n\nInstead of doing that pattern matching, you could match for `IResourceWithParent` and remove all health checks up the chain, but this will do.\n\nUnfortunately, we still cannot drop the keyfile. We could start the mongodb server with `--noauth` instead, but this wouldn\u0027t work together with the generated connection string, and the mongodb integration does not support specifying no auth as far as I am aware.",
                                           "updatedAt":  "2025-03-11T22:27:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6suzLT",
                                           "createdAt":  "2025-05-21T13:20:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "max2020204",
                                           "body":  "How soon will be method for configure replicas? ",
                                           "updatedAt":  "2025-05-21T13:20:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sxOuG",
                                           "createdAt":  "2025-05-21T16:38:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "twsouthwick",
                                           "body":  "I started looking at this again yesterday to revamp the PR I had submitted with some input from @davidfowl and @eerhardt. It\u0027s still kinda tricky with the available tooling but hope to have an updated approach later today or tomorrow.",
                                           "updatedAt":  "2025-05-21T16:38:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tUB2D",
                                           "createdAt":  "2025-05-25T09:11:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "max2020204",
                                           "body":  "I saw you make pull request to main branch, when it will be approved?",
                                           "updatedAt":  "2025-05-25T09:11:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63lMTQ",
                                           "createdAt":  "2025-07-16T19:20:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bkershaw",
                                           "body":  "If anyone runs into trouble getting a MongoDB replica set running inside Aspire, I found this repo super helpful:\n👉 [AspireMongoReplicaSet](https://github.com/joewashington75/AspireMongoReplicaSet)\n\nIt really saved me some time while we’re all waiting for official support.\n\nHope it helps someone else too! 😊",
                                           "updatedAt":  "2025-07-16T19:20:12Z"
                                       }
                                   ],
                         "totalCount":  13
                     },
        "title":  "MongoDB  Transactions  requires replicas",
        "labels":  [
                       "area-integrations",
                       "mongodb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5362",
        "createdAt":  "2024-08-20T15:14:41Z",
        "number":  5362,
        "author":  "sebastienros",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-12T03:48:00Z",
        "body":  "The tests work fine on Windows and Linux but not on Helix CI. Verified on test Helix images too with the same error:\r\n\r\n```\r\n      2024-08-17 15:44:40.787441 ThreadID:61  (ERROR)   OracleDatabaseCreator.ExistsAsync() :  OracleException.Number: 50201\r\n[xUnit.net 00:07:12.82]     Aspire.Hosting.Oracle.Tests.OracleFunctionalTests.WithDataShouldPersistStateBetweenUsages(useVolume: True) [FAIL]\r\n[xUnit.net 00:07:12.82]       Oracle.ManagedDataAccess.Client.OracleException : ORA-50201: Oracle Communication: Failed to connect to server or failed to parse connect string\r\n[xUnit.net 00:07:12.82]       ---- OracleInternal.Network.NetworkException : ORA-50201: Oracle Communication: Failed to connect to server or failed to parse connect string\r\n[xUnit.net 00:07:12.82]       -------- OracleInternal.Network.NetworkException : ORA-12514: Cannot connect to database. Service freepdb1 is not registered with the listener at host localhost/127.0.0.1 port 40341. (CONNECTION_ID=zGrcjnIzPESmQxsiJU3NdQ==)\r\n[xUnit.net 00:07:12.82]       https://docs.oracle.com/error-help/db/ora-12514/\r\n[xUnit.net 00:07:12.82]       Stack Trace:\r\n[xUnit.net 00:07:12.82]            at OracleInternal.ConnectionPool.PoolManager`3.GetAsync(ConnectionString csWithDiffOrNewPassw, Boolean bGetForApp, OracleConnection connRefForCriteria, String affinityInstanceName, Boolean bForceMatch, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at OracleInternal.ConnectionPool.OraclePoolManager.GetAsync(ConnectionString csWithNewPassw, Boolean bGetForApp, OracleConnection connRefForCriteria, String affinityInstanceName, Boolean bForceMatch, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at OracleInternal.ConnectionPool.OracleConnectionDispenser`3.GetAsync(ConnectionString cs, PM conPM, ConnectionString pmCS, OracleOpaqueString securedPassw, OracleOpaqueString securedProxyPassw, OracleConnection connRefForCriteria, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at Oracle.ManagedDataAccess.Client.OracleConnectionInternal.OpenInternalAsync(Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at Oracle.ManagedDataAccess.Client.OracleConnectionInternal.OpenAsyncHelper(CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Oracle.ManagedDataAccess.Client.OracleConnectionInternal.OpenAsyncHelper(CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Oracle.ManagedDataAccess.Client.OracleConnectionInternal.OpenAsync(CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n[xUnit.net 00:07:12.82]            at Oracle.EntityFrameworkCore.Storage.Internal.OracleDatabaseCreator.ExistsAsync(CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]            at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreatedAsync(CancellationToken cancellationToken)\r\n[xUnit.net 00:07:12.82]         /_/tests/Aspire.Hosting.Oracle.Tests/OracleFunctionalTests.cs(144,0): at Aspire.Hosting.Oracle.Tests.OracleFunctionalTests.WithDataShouldPersistStateBetweenUsages(Boolean useVolume)\r\n[xUnit.net 00:07:12.82]         /_/tests/Aspire.Hosting.Oracle.Tests/OracleFunctionalTests.cs(160,0): at Aspire.Hosting.Oracle.Tests.OracleFunctionalTests.WithDataShouldPersistStateBetweenUsages(Boolean useVolume)\r\n[xUnit.net 00:07:12.82]         --- End of stack trace from previous location ---\r\n[xUnit.net 00:07:12.82]         ----- Inner Stack Trace -----\r\n[xUnit.net 00:07:12.82]            at OracleInternal.Network.OracleCommunication.DoConnect(String tnsDescriptor, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at OracleInternal.Network.OracleCommunication.Connect(String tnsDescriptor, Boolean doNAHandshake, String IName, ConnectionOption CO, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at OracleInternal.ServiceObjects.OracleConnectionImpl.Connect(ConnectionString cs, Boolean bOpenEndUserSession, OracleConnection connRefForCriteria, String instanceName, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]         ----- Inner Stack Trace -----\r\n[xUnit.net 00:07:12.82]            at OracleInternal.Network.OracleCommunication.SendConnectPacketAndProcessResponse(AddressResolution addrRes, Boolean bAsync)\r\n[xUnit.net 00:07:12.82]            at OracleInternal.Network.OracleCommunication.ConnectViaCO(ConnectionOption connOption, AddressResolution addrRes, Boolean bAsync)\r\n```\r\n\r\nTested without the DCP proxy too (app connecting directly to 1521 port on Docker).\r\nVerified that the DCP proxy and the Oracle service were reachable using a TELNET connection.\r\nVerified the password in the connection string matches the one passed in `ORACLE_PWD`.\r\n\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpleBCw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6mV3i7",
                                           "createdAt":  "2025-04-09T19:11:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Closing as a state issue.",
                                           "updatedAt":  "2025-04-09T19:11:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mV4EL",
                                           "createdAt":  "2025-04-09T19:12:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "This is Skipped in the tests right now. Instead we can quarantine it.",
                                           "updatedAt":  "2025-04-09T19:12:47Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Oracle function tests don\u0027t work on CI",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "oracle"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5364",
        "createdAt":  "2024-08-20T17:37:46Z",
        "number":  5364,
        "author":  "sami-sharma",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-23T16:24:11Z",
        "body":  "### Is there an existing issue for this?\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Describe the bug\r\n\r\n**Description:**\r\nI have been using Aspire to locally test a service with Azure CosmosDB. Following the tutorial [here](https://learn.microsoft.com/en-us/dotnet/aspire/database/azure-cosmos-db-component?tabs=dotnet-cli) and using `RunAsEmulator()`.\r\n\r\n**Issue:**\r\nMy service uses IHostBuilder which is incompatible with the `AddAzureCosmosClient` method from `Aspire.Microsoft.Azure.Client`. Therefore, I use a callback to pass the connection string to the CosmosDB Emulator as an environment variable to my service. This is the same connection string that Aspire generates and uses in \u0027AddAzureCosmosClient\u0027. \r\n\r\nI have been able to successfully connect to the Storage Emulators and EventHub Emulator the same way.\r\n\r\n**Symptoms:**\r\n- I can connect to the instance and perform some functions, such as reading account properties.\r\n- **When attempting to create a database (`CreateDatabaseAsync()`, `CreateDatabaseIfNotExistsAsync()`, etc.), the application hangs (no exception thrown, no timeout).**\r\n\r\n**Attempts to Resolve:**\r\n- Tried using these methods synchronously with `GetAwaiter().GetResult()`.\r\n- Tried using these methods asynchronously with `await`.\r\n- Attempted to use the Azure CosmosDB Emulator directly (without Aspire) which works with the same code.\r\n\r\nThis is the relevant part of my AppHost Program.cs file: \r\n\r\n![image](https://github.com/user-attachments/assets/72b53efa-b8f4-4854-a1d9-8b7700c57d2a)\r\n\r\nThis is the relevant part of my Service Program.cs file: \r\n\r\n![image](https://github.com/user-attachments/assets/5b9a61e9-5639-43a4-bd64-2fd043597b50)\r\n\r\n### Expected Behavior\r\n\r\nThe application should create the database without hanging.\r\n\r\n### Steps To Reproduce\r\n\r\nI have used the \u0027CosmosEndToEnd\u0027 example from the Aspire repository and modified the \u0027Program.cs\u0027 file of the API project. The only change I made was to create the Cosmos Client manually with the connection string within an endpoint mapping, instead of adding it in the builder configuration with builder.AddAzureCosmosClient(\"cosmos\"). However, the application hangs when attempting to create a database this way.\r\n\r\nHere are the relevant files of code: \r\n\r\n[CosmosEndToEnd.ApiService](https://github.com/sami-sharma/CosmosDbEmulatorTest/blob/main/playground/CosmosEndToEnd/CosmosEndToEnd.ApiService/Program.cs)\r\n\r\n[CosmosEndToEnd.AppHost](https://github.com/sami-sharma/CosmosDbEmulatorTest/blob/main/playground/CosmosEndToEnd/CosmosEndToEnd.AppHost/Program.cs)\r\n\r\nThis is where I have forked the Aspire code: https://github.com/sami-sharma/CosmosDbEmulatorTest. Please view the CosmosEndToEnd folder within playground.\r\n\r\n### Exceptions (if any)\r\n\r\n_No response_\r\n\r\n### .NET Version info\r\n\r\nAspire: 8.1.1-preview.1.24373\r\n\r\n.NET SDK : 8.0.400\r\n\r\n### Anything else?\r\n\r\nI have used the EventHub Emulator and Storage emulators connecting via connection strings manually and have not faced issues connecting.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkQFlAQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Kue-h",
                                           "createdAt":  "2024-09-03T21:08:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEGPFAA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-09-05T08:57:41Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "stojancho-jefremov",
                                                                               "createdAt":  "2024-11-14T19:25:46Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "sangdongvan",
                                                                               "createdAt":  "2024-12-26T08:21:18Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jacobilsoe",
                                                                               "createdAt":  "2025-02-13T09:44:23Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "sami-sharma",
                                           "body":  "\r\n### UPDATE: \r\nI was able to identify that the hanging of the emulator is caused by the lack of CosmosClient configurations (LimitEndpoint = True and GatewayMode = Connection). Unfortunately, in my service the CosmosClient is being used by a transitive dependency and I cannot change how the client is initialized. I urge the Aspire team to configure the emulator/the corresponding connection string to not require these additional CosmosClient properties when connecting to the emulator via the connection string.",
                                           "updatedAt":  "2024-09-03T21:08:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NRAIP",
                                           "createdAt":  "2024-09-24T03:35:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEbfJ8w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CSharpFiasco",
                                                                               "createdAt":  "2025-07-22T16:06:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@mitchdenny @eerhardt We make assumptions in the aspire client integration based on that we set options like gateway mode and limit to endpoint right? I\u0027m not sure we can do anything here to change how arbitrary clients get wired up.\n\nThis might be feedback for @Pilchie ",
                                           "updatedAt":  "2024-09-24T03:35:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NW8Um",
                                           "createdAt":  "2024-09-24T15:15:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Pilchie",
                                           "body":  "@sami-sharma - can you report this over at the emulator repo to see why it might be hanging: https://github.com/Azure/azure-cosmos-db-emulator-docker/issues/ ?",
                                           "updatedAt":  "2024-09-24T15:15:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OrdqJ",
                                           "createdAt":  "2024-10-04T13:50:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1VtsQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "rorozcov",
                                                                               "createdAt":  "2024-10-09T02:22:34Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "ggirard07",
                                           "body":  "There is this issue about emulator startup that has been a pain for quite some time now, even without Aspire stuff. Not sure if it could be linked to OP issue...\r\nhttps://github.com/Azure/azure-cosmos-db-emulator-docker/issues/87",
                                           "updatedAt":  "2024-10-04T13:50:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PHoHz",
                                           "createdAt":  "2024-10-09T02:22:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "rorozcov",
                                           "body":  "I will say that I have been working with the CosmosDB emulator just as .NET Aspire\u0027s documentation described and it is quite unreliable. I suspect it is because of the issue @ggirard07 mentioned.\r\n\r\n@davidfowl Since the CosmosDB emulator takes so long to start, I am wondering if there is a conversation with the team in charge of the emulator, since Aspire will report the emulator as running where it clearly isn\u0027t available for use.\r\n\r\nThis makes it hard to use in the AppHost or via integration testing since we have to wait for minutes before we can trust that it is usable.\r\n\r\nI haven\u0027t looked at the code but I do wonder if for Azurite, Aspire also checks for a heartbeat before reporting as running. \r\n\r\nMy experience using Azurite with Aspire has been nothing but fantastic!",
                                           "updatedAt":  "2024-10-09T02:22:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PIkSR",
                                           "createdAt":  "2024-10-09T06:04:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1cFlw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "Pilchie",
                                                                               "createdAt":  "2024-10-09T16:09:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We have 2 features that help with this in Aspire 9:\r\n1. The ability to wait for resources to start and be healthy. So you can avoid starting your application (after the 2 or so minutes cosmos takes to be healthy) before cosmos is ready to work.\r\n2. The ability to mark a container as persistent. This helps amortize the cost of slow starting containers (as it keeps them alive).",
                                           "updatedAt":  "2024-10-09T06:04:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6POGD2",
                                           "createdAt":  "2024-10-09T16:54:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ggirard07",
                                           "body":  "@davidfowl is Aspire 9 going to be dotnet 8 compatible? This is not obvious as it seems Aspire follows the dotnet version.\nThe 2 points you are mentioning are kind of deal breaker for us right now as we heavily leverage those features in current Docker Desktop integration.",
                                           "updatedAt":  "2024-10-09T16:54:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6POoch",
                                           "createdAt":  "2024-10-09T18:14:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1v_Mg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "ggirard07",
                                                                               "createdAt":  "2024-10-11T13:19:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e @davidfowl is Aspire 9 going to be dotnet 8 compatible?\n\nYes.\n\n\n\u003e The 2 points you are mentioning are kind of deal breaker for us right now as we heavily leverage those features in current Docker Desktop integration.\n\nThen you\u0027re going to love using 9.x 😄. ",
                                           "updatedAt":  "2024-10-09T18:14:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Q3oW0",
                                           "createdAt":  "2024-10-22T23:30:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "@Pilchie can you please take a look on this one?",
                                           "updatedAt":  "2024-10-22T23:30:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RAWUB",
                                           "createdAt":  "2024-10-23T16:24:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Pilchie",
                                           "body":  "As I said [above](https://github.com/dotnet/aspire/issues/5364#issuecomment-2371601702) - please report at https://github.com/Azure/azure-cosmos-db-emulator-docker/issues",
                                           "updatedAt":  "2024-10-23T16:24:10Z"
                                       }
                                   ],
                         "totalCount":  10
                     },
        "title":  "CosmosDB Emulator Hangs When Connecting via Connection String",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5459",
        "createdAt":  "2024-08-27T13:50:58Z",
        "number":  5459,
        "author":  "onionhammer",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODEqiRA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "WhatzGames",
                                            "createdAt":  "2025-06-24T20:01:13Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-14T23:53:18Z",
        "body":  "This property is internal, so if you need to create a different connection string format for your aspire resources (say psql format), it becomes more difficult\r\n\r\nhttps://github.com/dotnet/aspire/blob/f5d9f80c3c667f5c84debfd427e7b0ae83493f7d/src/Aspire.Hosting.PostgreSQL/PostgresServerResource.cs#L42",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmfOy6w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6KRndL",
                                           "createdAt":  "2024-08-30T03:20:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We can just expose this property ",
                                           "updatedAt":  "2024-08-30T03:20:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z29OV",
                                           "createdAt":  "2025-01-09T21:57:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@onionhammer - can you explain the scenario a bit more? The UserNameParameter is exposed, so if you were making your own ReferenceExpression for a connection string, you should be able to use it.",
                                           "updatedAt":  "2025-01-09T21:57:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z3BWb",
                                           "createdAt":  "2025-01-09T22:10:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "onionhammer",
                                           "body":  "@eerhardt Yes, but only if the username parameter is specified; what if it\u0027s not specified? I don\u0027t see much purpose for it being internal, other than leaving open the possibility for refactors without breaking dependent code, but I think there will always be a need to have a default username calculated somehow. Making this public enables extensions to be written to create connection strings with alternative formats.",
                                           "updatedAt":  "2025-01-09T22:12:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z3Zg5",
                                           "createdAt":  "2025-01-09T23:23:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e what if it\u0027s not specified?\n\nThen use the default `postgres`.\n\n\u003e I don\u0027t see much purpose for it being internal, other than leaving open the possibility for refactors without breaking dependent code\n\nThe thinking is to only make things public if there are user scenarios for using them. That way we don\u0027t have to go through breaking changes, or leave old APIs in.\n\nCan you explain your scenario more? That would help prioritize this.",
                                           "updatedAt":  "2025-01-09T23:23:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z87Lr",
                                           "createdAt":  "2025-01-10T14:50:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "onionhammer",
                                           "body":  "This was back in August, so I think back then I was trying to figure out how to hook up a map tiling server ( https://maplibre.org/martin/env-vars.html ) , and worked with @ReubenBond who said I ought to open an issue for it\n\n![Image](https://github.com/user-attachments/assets/2284c4ce-bd57-4c74-9006-d681dba8d5d0)\n\nEventually I came up with this\n\n![Image](https://github.com/user-attachments/assets/bcbd6686-77a7-49da-a28b-33723a65063d)\n\nI think the goal is to make it simpler to build connection strings without duplicating the username / magic string default username logic in multiple places",
                                           "updatedAt":  "2025-01-10T14:50:55Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Make UserNameReference public to allow for alternate format database connection strings",
        "labels":  [
                       "area-integrations",
                       "postgres",
                       "sqlserver",
                       "mysql",
                       "oracle"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5467",
        "createdAt":  "2024-08-28T09:47:38Z",
        "number":  5467,
        "author":  "foxminchan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T00:22:47Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nYes, the current setup for Node.js and Python projects in `aspire` lacks support for alternative package managers and tooling systems that many developers prefer. For instance, developers who use `pnpm`, `bun`, or `yarn` for Node.js, or `poetry`, `uv`, and `pdm` for Python, are currently unable to integrate these tools directly into the `aspire` workflow. This limits flexibility and can be inconvenient for teams or projects that rely on these tools for better performance, dependency management, or other features.\n\n### Describe the solution you\u0027d like\n\n- **For Node.js:**\r\n  - Add command options for package managers like `pnpm`, `bun`, `yarn`...\r\n  - These options should allow users to configure which tool they want to use through a setting or command-line argument.\r\n\r\n- **For Python:**\r\n  - Introduce command options for tools like `poetry`, `uv`,  `pdm`...\r\n  - Similar to the Node.js tools, these should be configurable to allow developers to use their preferred environment setup.\r\n  \r\nThis would provide developers with the flexibility to choose the tools that best fit their workflow, improving overall developer experience and project consistency.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOk2buCQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6KEFFF",
                                           "createdAt":  "2024-08-28T22:04:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think these should be added based on customer demand, not because these things exist. There was a PR for PNPM (https://github.com/dotnet/aspire/pull/1448) a while ago but it was never merged. If there\u0027s interest here, we should pick the important ones and see if there\u0027s a design that would accommodate this extensibility without making it complete for the 90% of users.",
                                           "updatedAt":  "2024-08-28T22:04:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6KG2Dn",
                                           "createdAt":  "2024-08-29T08:47:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "foxminchan",
                                           "body":  "\u003e I think these should be added based on customer demand, not because these things exist. There was a PR for PNPM (#1448) a while ago but it was never merged. If there\u0027s interest here, we should pick the important ones and see if there\u0027s a design that would accommodate this extensibility without making it complete for the 90% of users.\r\n\r\nThanks for bringing this up. I agree that we should prioritize features based on customer demand rather than just because the technology exists.",
                                           "updatedAt":  "2024-08-29T08:47:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6KL7nW",
                                           "createdAt":  "2024-08-29T17:00:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODwXTEg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "foxminchan",
                                                                               "createdAt":  "2024-08-30T03:22:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "No need to close this issue, we can leave it open for others to chime in with their needs.",
                                           "updatedAt":  "2024-08-29T17:00:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QJsMc",
                                           "createdAt":  "2024-10-17T04:12:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD2-OwQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "foxminchan",
                                                                               "createdAt":  "2024-10-18T08:53:45Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "The .NET Aspire Community Toolkit has some extensions to support [using `yarn` and `pnpm`](https://learn.microsoft.com/dotnet/aspire/community-toolkit/hosting-nodejs-extensions?tabs=dotnet-cli%2Cyarn#run-specific-package-managers) with APIs like `builder.AddYarnApp`.\n\nI\u0027ve also created tracking issues on the Community Toolkit to support [Bun](https://github.com/CommunityToolkit/Aspire/issues/108) and [Deno 2](https://github.com/CommunityToolkit/Aspire/issues/109).",
                                           "updatedAt":  "2024-10-17T04:12:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QJsjN",
                                           "createdAt":  "2024-10-17T04:13:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD2-OyQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "foxminchan",
                                                                               "createdAt":  "2024-10-18T08:53:47Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "I\u0027m not familiar enough with the Python ecosystem to know the relevance of commonality package managers, but we could add a similar package for Python extensions to support alternative Python package managers.",
                                           "updatedAt":  "2024-10-17T04:13:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6TZrHa",
                                           "createdAt":  "2024-11-13T09:33:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "newmancodes",
                                           "body":  "+1 for poetry support for Python",
                                           "updatedAt":  "2024-11-13T09:33:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6TZu4J",
                                           "createdAt":  "2024-11-13T09:40:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "We have that proposed here: https://github.com/CommunityToolkit/Aspire/issues/221\n\nIf you\u0027re keen to jump in and help out, that\u0027d be awesome!",
                                           "updatedAt":  "2024-11-13T09:40:06Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Add Node.js and Python Command Options",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5555",
        "createdAt":  "2024-09-05T18:07:42Z",
        "number":  5555,
        "author":  "afscrome",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T15:30:28Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n`Project`, `Container` and `Executable` resoruces have nice concice names in the `Type` column of the Resources page (and in the `Resource Types` filter).\r\n\u003cimg width=\"897\" alt=\"image\" src=\"https://github.com/user-attachments/assets/f55e0776-7b3a-40c8-9b6c-1295f7eeed02\"\u003e\r\n\n\n### Describe the solution you\u0027d like\n\nIt would be nice if `SqlServerDatabaseResource` (and possibly other resources) could have a similarly concise name.  (e.g. `SqlDatabase` or `SqlServerDatabase`)\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmpFXzg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6LDNH8",
                                           "createdAt":  "2024-09-05T23:24:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "Gonna close this as a dupe of #2595  since we\u0027d ideally address this as part of that work. Great call though - completely agree 💯 ",
                                           "updatedAt":  "2024-09-05T23:24:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LDNla",
                                           "createdAt":  "2024-09-05T23:24:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODxPkDA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "afscrome",
                                                                               "createdAt":  "2024-09-06T07:49:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "Another option is to just make custom resources look nicer with a lil change so we could do that in the meantime",
                                           "updatedAt":  "2024-09-05T23:24:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NQsf4",
                                           "createdAt":  "2024-09-24T02:06:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JamesNK",
                                           "body":  "@mitchdenny @davidfowl Where does this name come from? Is it the type name? If so, could a fix be a simple as removing \"Resource\" suffix from the type name?",
                                           "updatedAt":  "2024-09-24T02:06:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NQ55x",
                                           "createdAt":  "2024-09-24T03:05:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We can do that, but it seemed a little aggressive to assume 😄:\r\n\r\nhttps://github.com/dotnet/aspire/blob/47e3e25e51c60627aa5fa9a4bf4aaeaf26402ce2/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs#L348",
                                           "updatedAt":  "2024-09-24T03:05:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NRbBL",
                                           "createdAt":  "2024-09-24T04:55:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JamesNK",
                                           "body":  "What is the alternative? Add a ResourceTypeNameAnnotation?",
                                           "updatedAt":  "2024-09-24T04:55:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NRdGG",
                                           "createdAt":  "2024-09-24T05:02:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Resources can already set it using `WithInitialState`",
                                           "updatedAt":  "2024-09-24T05:02:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6adNz5",
                                           "createdAt":  "2025-01-15T00:05:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "What about a declarative model where we add a normal .NET attribute to the class? If the attribute is present, use it. If it isn\u0027t, fallback to the TypeName.\n\nThat seems easier than littering all the code with calls to `WithInitialState` just to set the `string ResourceType` property.\n\nAnother thing to consider here is that if we call `WithInitialState` on all the resources, we are going to miss out on this Relationship building code:\n\nhttps://github.com/dotnet/aspire/blob/fd1853aa19602df86a0a4ee7d077356187c6bbdf/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs#L491-L497\n\nIf there is already a snapshot, that code won\u0027t be run.",
                                           "updatedAt":  "2025-01-15T00:05:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6afSY0",
                                           "createdAt":  "2025-01-15T08:10:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JamesNK",
                                           "body":  "I like using an attribute. Use .NET\u0027s existing `DescriptionAttribute`?",
                                           "updatedAt":  "2025-01-15T08:10:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6akD3Z",
                                           "createdAt":  "2025-01-15T15:14:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Good idea using an existing attribute. I think [DisplayNameAttribute](https://learn.microsoft.com/en-us/dotnet/api/system.componentmodel.displaynameattribute) should work good for this.",
                                           "updatedAt":  "2025-01-15T15:14:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6akVfO",
                                           "createdAt":  "2025-01-15T15:30:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "DisplayName is better. I would prefer something that could be changed dynamically without requiring inheritance but that doesn\u0027t seem like a bad idea to allow this. Plus you can always explicitly set it 😄 ",
                                           "updatedAt":  "2025-01-15T15:30:26Z"
                                       }
                                   ],
                         "totalCount":  10
                     },
        "title":  "Give custom resources friendly names [Prev: Simplify SqlServerDatabase Resource Type]",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5680",
        "createdAt":  "2024-09-11T12:27:46Z",
        "number":  5680,
        "author":  "fkamp",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC_I91Q==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "vxkc",
                                            "createdAt":  "2024-09-16T22:55:12Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cvalerio",
                                            "createdAt":  "2024-11-08T15:51:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "L968",
                                            "createdAt":  "2025-02-16T18:36:32Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-05-03T19:53:33Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Describe the bug\n\nThere are some discussion (e.g., https://github.com/dotnet/aspire/issues/398) about how to run migrations. However, I ran into the issue in creating migrations. It\u0027s working as long as I use something like this `builder.AddNpgsqlDbContext\u003cApplicationDbContext\u003e(ServiceNames.DATABASE_EMPLS.NAME)`. When I add `builder.AddNpgsqlDataSource(ServiceNames.DATABASE_EMPLS.NAME)` I get the following error with the command\r\n`dotnet ef migrations add update -p ..\\AspireApp.Data.Postgres\\`\r\n\r\n```\r\nUnable to create a \u0027DbContext\u0027 of type \u0027\u0027. The exception \u0027ConnectionString is missing. It should be provided in \u0027ConnectionStrings:employee-db\u0027 or under the \u0027ConnectionString\u0027 key in \u0027Aspire:Npgsql\u0027 configuration section.\u0027 was thrown while attempting to create an instance. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\r\n```\r\n\r\nFull example: https://github.com/fkamp/aspire-ef-migration-issue\r\nCan someone give me a pointer if that\u0027s my incompetency or if it\u0027s a bug.\r\n\r\nThanks!\n\n### Expected Behavior\n\nAfter issuing `dotnet ef migrations add update -p ..\\AspireApp.Data.Postgres\\` migrations are added to the project without any error.\n\n### Steps To Reproduce\n\nClone and run  https://github.com/fkamp/aspire-ef-migration-issue\n\n### Exceptions (if any)\n\nUnable to create a \u0027DbContext\u0027 of type \u0027\u0027. The exception \u0027ConnectionString is missing. It should be provided in \u0027ConnectionStrings:employee-db\u0027 or under the \u0027ConnectionString\u0027 key in \u0027Aspire:Npgsql\u0027 configuration section.\u0027 was thrown while attempting to create an instance. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\n\n### .NET Version info\n\n.NET SDK:\r\n Version:           8.0.400\r\n Commit:            36fe6dda56\r\n Workload version:  8.0.400-manifests.f51a3a6b\r\n MSBuild version:   17.11.3+0c8610977\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.26100\r\n OS Platform: Windows\r\n RID:         win-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\8.0.400\\\r\n\r\n.NET workloads installed:\r\nConfigured to use loose manifests when installing new manifests.\r\n [aspire]\r\n   Installation Source: SDK 8.0.400, VS 17.11.35303.130\r\n   Manifest Version:    8.2.0/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.0\\WorkloadManifest.json\r\n   Install Type:        FileBased\r\n\r\n\r\nHost:\r\n  Version:      8.0.8\r\n  Architecture: x64\r\n  Commit:       08338fcaa5\r\n\r\n.NET SDKs installed:\r\n  8.0.400 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nOther architectures found:\r\n  x86   [C:\\Program Files (x86)\\dotnet]\r\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\r\n\r\nEnvironment variables:\r\n  Not set\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqcz3Lg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6S7yqG",
                                           "createdAt":  "2024-11-08T16:12:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "cvalerio",
                                           "body":  "I too am running in similar issue, using Aspire.Pomelo.EntityFrameworkCore.MySql package.\nIf I use the code in documentation (https://learn.microsoft.com/it-it/dotnet/aspire/database/mysql-entity-framework-integration?tabs=dotnet-cli) to add the db context:\n```\nbuilder.AddMySqlDbContext\u003cMyDbContext\u003e(\"mysqldb\", config =\u003e config.ServerVersion = \"8.0\");\n```\nwhen I try to add a migration I get a very similar error message:\n```\nThe exception \u0027The string argument \u0027connectionString\u0027 cannot be empty.\u0027 was thrown while attempting to find \u0027DbContext\u0027 types. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\n```\n\nAt the moment, the only workaround I found is this:\n```\n      if (EF.IsDesignTime) // workaround for EF migrations\n      {\n        var connectionString = builder.Configuration.GetConnectionString(\"mysqldb\");\n        builder.Services.AddDbContext\u003cMyDbContext\u003e(options =\u003e options.UseMySql(connectionString, ServerVersion.Parse(\"8.0\")));\n      }\n      else\n      {\n        builder.AddMySqlDbContext\u003cMyDbContext\u003e(\"mysqldb\", config =\u003e config.ServerVersion = \"8.0\");\n      }\n```\n",
                                           "updatedAt":  "2024-11-08T16:20:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6g2PjX",
                                           "createdAt":  "2025-03-04T18:43:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "omidkrad",
                                           "body":  "There is a related blog post here, but I think what it is proposing is not correct as the Aspire app, and the containers are never run, unlike what it suggests:\n\nhttps://khalidabuhakmeh.com/add-ef-core-migrations-to-dotnet-aspire-solutions",
                                           "updatedAt":  "2025-03-04T18:43:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pzPcu",
                                           "createdAt":  "2025-05-03T19:53:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zortracks",
                                           "body":  "Solution here: https://github.com/dotnet/aspire/issues/8678",
                                           "updatedAt":  "2025-05-03T19:53:32Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Issue when creating EF Core Migration",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5683",
        "createdAt":  "2024-09-11T20:24:16Z",
        "number":  5683,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-03T05:59:13Z",
        "body":  "For some scenarios, specifically Azure Functions, we want to implement Functions-specific behavior in Aspire APIs like Azure Functions. We currently achieve this by defining a custom `AzureFunctionsResource` resource type that is a wrapper around the default `ProjectResource` type. This pattern allows us to model specific behavior to target `AzureFunctionsResource`. However, it requires that users call the `AddAzureFunctionsProject` extension method in order to be able to invoke Functions-specific code.\r\n\r\nAn additional approach is to support attaching additional metadata into pre-existing `ProjectResources` and support targeting our Functions-specific methods onto that interface:\r\n\r\n```\r\npublic class AzureFunctionsTest_Functions : global::Aspire.Hosting.IProjectMetadata, IFunctionsMetadata\r\n```\r\n\r\nIn order to support this scenario, we need to be able to customize the interfaces that are applied to the `AzureFunctionsTest_Functions` type via MSBuild and the cogeneration step. To achieve this, we need to support an `@(ExtraInterfaces)` property that hosting packages can populate with additional interfaces that need to be applied on projects they target.\r\n\r\nThe flow of this would look as follows:\r\n\r\n- An Azure Functions project referencing the worker SDK would set an `IsAzureFunctionsProject=true` property\r\n- During build-time the Aspire app host will generate project metadata for all project references in a project, at this point in time we\u0027ll query the projects to see if they implement the Azure Functions interface\r\n- ExtraInterfaces will be populated with this metadta\r\n\r\n```\r\n// package: Aspire.Hosting\r\n\r\nnamespace Aspire.Hosting;\r\n\r\npublic interface IFunctionsProjectMetadata { }\r\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOjhh-Nw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6OGH43",
                                           "createdAt":  "2024-09-30T19:15:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "I\u0027m gonna move this out of 9.0 since I don\u0027t think we\u0027ll be able to deliver something before 9.0 for this.\r\n\r\nI think this is a good candidate for post-9.0 work though.\r\n\r\nWe\u0027ll have to reason through how some of the changes we applied for Functions, I\u0027m thinking specifically about the endpoint/port related changes for publishing, will mesh with fully modeling Functions as projects.",
                                           "updatedAt":  "2024-09-30T19:15:34Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Support injecting `ExtraInterfaces` on generated project metadata during build",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5727",
        "createdAt":  "2024-09-16T03:45:13Z",
        "number":  5727,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC87b3Q==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "nblumhardt",
                                            "createdAt":  "2024-09-24T23:50:34Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cecilphillip",
                                            "createdAt":  "2024-11-25T04:01:56Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2024-10-29T21:14:44Z",
        "body":  "Some containers have a EULA acceptance process where you add an environment variable. Rather than adding these environment variables automatically we should provide a mechanism for developers to explicitly opt into this. This means that their first run of a particular resource will likely fail, they\u0027ll get an error and then apply another method. Here is an example of how it could work:\n\n# Container resource example\n\n```csharp\nbuilder.AddSqlServer(\"sql\")\n       .WithAcceptEula(true);\n```\n\n# Related resource example\n\n```csharp\nbuilder.AddRedis(\"redis\")\n       .WithRedisInsights(c =\u003e c.WithAcceptEula());\n```\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOj8VjGw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6MMETJ",
                                           "createdAt":  "2024-09-16T03:46:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "related: #5227 ",
                                           "updatedAt":  "2024-09-16T03:46:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MMFAI",
                                           "createdAt":  "2024-09-16T03:51:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Do we know that it\u0027s the first run that fails?  Today we auto accept the eula for Seq and SqlServer. These need to be undone and it has to be opted into by customers.",
                                           "updatedAt":  "2024-09-16T03:51:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MMFMb",
                                           "createdAt":  "2024-09-16T03:53:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I think in the case on SQL it means every run where that environment variable isn\u0027t present.",
                                           "updatedAt":  "2024-09-16T03:53:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MRIC1",
                                           "createdAt":  "2024-09-16T15:51:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "\u003e related: #5227\r\n\r\nDo you think we should apply this one in related PR? or can be a follow up?",
                                           "updatedAt":  "2024-09-16T15:51:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MRJsD",
                                           "createdAt":  "2024-09-16T15:54:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODyZV7Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Alirexaa",
                                                                               "createdAt":  "2024-09-16T16:00:15Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think we should not auto accept the Eula in the redis insight PR",
                                           "updatedAt":  "2024-09-16T15:54:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NRFN9",
                                           "createdAt":  "2024-09-24T03:50:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@Alirexaa do you want to do this for SQL and Seq?",
                                           "updatedAt":  "2024-09-24T03:50:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NRWqH",
                                           "createdAt":  "2024-09-24T04:38:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "\u003e @Alirexaa do you want to do this for SQL and Seq?\n\nYes, I do. ",
                                           "updatedAt":  "2024-09-24T04:38:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NYJdl",
                                           "createdAt":  "2024-09-24T17:40:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "Hmmmmmmmmmm I\u0027m thinking. Adding a new line for every single integration that needs this in your app host file is going to add up (in terms of file length/readability/repetitiveness) real quick.\r\n\r\nThe way .NET android (same issue with the android sdk) works is - \r\nVS: First run with android bits we give you a popup that shows the EULA and says \"do you accept the Android EULA\" and then persist that for the user (Android SDK actually has a fiile called like `eula.txt` and you literally change the string in it to \"TRUE\" so not an env var)\r\nVS Code: First run we fail with \"Android licenses aren\u0027t accepted, run this command as admin to accept them\" which is the command android ships to do the exact same thing but on the cli\r\n\r\nCould we model that somehow? ie, when you first build, the failure is like \"Accept EULA for this integration by running `this cli command`\" (and in VS of course just do a popup)\r\nAnother thought - could we make it a build prop? `\u003cAspireAcceptIntegrationEULAs\u003eTRUE\u003c/\u003e`?",
                                           "updatedAt":  "2024-09-24T17:41:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NYfhh",
                                           "createdAt":  "2024-09-24T18:27:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEFfzQA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "maddymontaquila",
                                                                               "createdAt":  "2024-09-30T16:00:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "stevedunn-marex",
                                                                               "createdAt":  "2025-02-06T12:50:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "The NuGet experience in VS already includes prompting for EULA acceptance during install today. Can we tie into that existing experience?",
                                           "updatedAt":  "2024-09-24T18:27:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NYieq",
                                           "createdAt":  "2024-09-24T18:33:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD0JXpQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "maddymontaquila",
                                                                               "createdAt":  "2024-09-30T16:00:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "nblumhardt",
                                                                               "createdAt":  "2024-09-30T20:22:21Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I think all we need to do is update the licenses of the relevant packages to not be MIT but rather something that reflects the EULA of the underlying container image. All our packages are already marked as \"Requires License Acceptance: Yes\" so doing that should be enough to cover the bases here (of course IANAL).\r\n\r\nTBC here is the UI that VS shows today when installing a package with this flag set (all our packages have this flag set):\r\n![image](https://github.com/user-attachments/assets/37a4d241-41e7-4eee-92ea-04bc3b59eede)\r\n\r\nI\u0027m proposing we update the package license terms to cover the EULA of the container image being integrated.",
                                           "updatedAt":  "2024-09-24T18:38:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6N7MOH",
                                           "createdAt":  "2024-09-29T04:35:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD0HZoQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "maddymontaquila",
                                                                               "createdAt":  "2024-09-30T16:01:05Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@maddymontaquila assigning this one to you in case we can revert these methods completely.",
                                           "updatedAt":  "2024-09-29T04:35:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OEtUy",
                                           "createdAt":  "2024-09-30T16:00:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "+1 to @DamianEdwards I think that\u0027s the move!",
                                           "updatedAt":  "2024-09-30T16:00:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6O6myN",
                                           "createdAt":  "2024-10-07T19:33:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "@davidfowl will take care of removing this API for RC1.",
                                           "updatedAt":  "2024-10-07T19:33:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PCPtD",
                                           "createdAt":  "2024-10-08T12:37:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "The AcceptEula API was removed for RedisInsights. So each time the container is launched it will prompt the user the first time they hit the website. Using persistence (either lifetime or data volume) will preserve the settings.\r\n\r\nLeaving this issue open to address the remaining cases, which automatically add the accept EULA environment variable, without the user explicitly accepting.\r\n\r\n* Sql Server\r\n* Seq\r\n\r\nI\u0027m not sure we need to address that for 9.0. @joperezr @DamianEdwards - thoughts on putting this issue on the Backlog for now?",
                                           "updatedAt":  "2024-10-08T12:37:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PEqPp",
                                           "createdAt":  "2024-10-08T16:46:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e Using persistence (either lifetime or data volume) will preserve the settings.\r\n\r\n@eerhardt did we add the `WithDataVolume` method for Redis Insights yet?",
                                           "updatedAt":  "2024-10-08T16:46:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PxWMb",
                                           "createdAt":  "2024-10-14T19:44:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e [@eerhardt](https://github.com/eerhardt) did we add the `WithDataVolume` method for Redis Insights yet?\n\nOpened [Add WithDataVolume to Redis Insights (dotnet/aspire#6299)](https://github.com/dotnet/aspire/issues/6299)\n\nMoving this issue to the backlog to track if there is anything we need to do with:\n\n* [Sql Server](https://github.com/dotnet/aspire/blob/e516d8250ab4a507f03148b894e4ae0c5c398751/src/Aspire.Hosting.SqlServer/SqlServerBuilderExtensions.cs#L55)\n* [Seq](https://github.com/dotnet/aspire/blob/e516d8250ab4a507f03148b894e4ae0c5c398751/src/Aspire.Hosting.Seq/SeqBuilderExtensions.cs#L38)\n* [EventHubs](https://github.com/dotnet/aspire/blob/e516d8250ab4a507f03148b894e4ae0c5c398751/src/Aspire.Hosting.Azure.EventHubs/AzureEventHubsExtensions.cs#L156) ",
                                           "updatedAt":  "2024-10-29T21:14:44Z"
                                       }
                                   ],
                         "totalCount":  16
                     },
        "title":  "Add an \"AcceptEula\" API to containers that use environment variables to signal EULA acceptance.",
        "labels":  [
                       "area-integrations",
                       "breaking-change",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5833",
        "createdAt":  "2024-09-22T17:09:39Z",
        "number":  5833,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-28T20:29:43Z",
        "body":  "This would make it possible to launch resources that fail to be provisioned (especially because of missing configuration) to apply the configuration and then re-run the action.\r\n\r\nDeprovision would allow users to delete azure resources when they are done using them.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add a provision/deprovision command for azure resources",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5890",
        "createdAt":  "2024-09-24T13:36:09Z",
        "number":  5890,
        "author":  "julioct",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-11T16:35:30Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI\u0027m using the Kafka integration with Azure Event Hubs, which is working properly. However, I get a lot of connection errors as part of the default health checks enabled by the Kafka integration:\r\n\r\n```\r\n%3|1727184480.461|ERROR|rdkafka#producer-159| [thrd:sasl_ssl://eventstreamersfa5ktnjiw4.servicebus.windows.net:9093]: 1/1 brokers are down\r\n%5|1727184481.949|REQTMOUT|rdkafka#producer-274| [thrd:sasl_ssl://eventstreamersfa5ktnjiw4.servicebus.windows.net:9093]: sasl_ssl://eventstreamersfa5ktnjiw4.servicebus.windows.net:9093/0: Timed out MetadataRequest in flight (after 1000ms, timeout #0)\r\n%3|1727184481.949|FAIL|rdkafka#producer-274| [thrd:sasl_ssl://eventstreamersfa5ktnjiw4.servicebus.windows.net:9093]: sasl_ssl://eventstreamersfa5ktnjiw4.servicebus.windows.net:9093/0: 1 request(s) timed out: disconnect (average rtt 5.565ms) (after 300970ms in state UP)\r\n%3|1727184481.956|ERROR|rdkafka#producer-4| [thrd:app]: rdkafka#producer-4: sasl_ssl://eventstreamersfa5ktnjiw4.servicebus.windows.net:9093/0: 1 request(s) timed out: disconnect (average rtt 2.908ms) (after 299975ms in state UP)\r\n```\r\n\r\nI already configured the Kafka integration with higher timeout values, but those won\u0027t apply to health checks since they seem to be hardcoded in [AddKafkaProducerInternal](https://github.com/dotnet/aspire/blob/668ade88500c28bf139f400dec7699e6f356b5aa/src/Components/Aspire.Confluent.Kafka/AspireKafkaProducerExtensions.cs#L103):\r\n\r\n```csharp\r\nbuilder.TryAddHealthCheck(new HealthCheckRegistration(healthCheckName,\r\n    sp =\u003e\r\n    {\r\n        var connectionFactory = serviceKey is null\r\n            ? sp.GetRequiredService\u003cProducerConnectionFactory\u003cTKey, TValue\u003e\u003e()\r\n            : sp.GetRequiredKeyedService\u003cProducerConnectionFactory\u003cTKey, TValue\u003e\u003e(serviceKey);\r\n\r\n        var options = new KafkaHealthCheckOptions();\r\n        options.Configuration = new ProducerConfig(connectionFactory.Config.ToDictionary());\r\n        options.Configuration.SocketTimeoutMs = 1000;\r\n        options.Configuration.MessageTimeoutMs = 1000;\r\n        options.Configuration.StatisticsIntervalMs = 0;\r\n        return new KafkaHealthCheck(options);\r\n    },\r\n    failureStatus: default,\r\n    tags: default));\r\n```\n\n### Describe the solution you\u0027d like\n\nCan those hardcoded values be removed? They should just use whatever is already set in the provided producer config.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOodO_Ag==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6acTXc",
                                           "createdAt":  "2025-01-14T21:11:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "cc @g7ed6e ",
                                           "updatedAt":  "2025-01-14T21:11:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aqzUq",
                                           "createdAt":  "2025-01-16T08:51:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "@eerhardt Do you have an idea of the shape of the public API to configure the healthcheck ?",
                                           "updatedAt":  "2025-01-16T08:52:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6h078C",
                                           "createdAt":  "2025-03-11T16:35:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e [@eerhardt](https://github.com/eerhardt) Do you have an idea of the shape of the public API to configure the healthcheck ?\n\nWe have some other examples in the repo. For example:\n\nhttps://github.com/dotnet/aspire/blob/811341ddf033bbda9c3d07fa1390bcfa25cf70cf/src/Components/Aspire.MongoDB.Driver/MongoDBSettings.cs#L24-L27\n\nAnd if it isn\u0027t set, use the default (in this case `null`):\n\nhttps://github.com/dotnet/aspire/blob/811341ddf033bbda9c3d07fa1390bcfa25cf70cf/src/Components/Aspire.MongoDB.Driver/AspireMongoDBDriverExtensions.cs#L172-L184",
                                           "updatedAt":  "2025-03-11T16:35:30Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Can\u0027t configure Kafka health check timeouts",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5901",
        "createdAt":  "2024-09-24T19:02:25Z",
        "number":  5901,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:53:20Z",
        "body":  "### Discussed in https://github.com/dotnet/aspire/discussions/5900\r\n\r\n\u003cdiv type=\u0027discussions-op-text\u0027\u003e\r\n\r\n\u003csup\u003eOriginally posted by **sveinhelge** September 24, 2024\u003c/sup\u003e\r\nOption for controlling target scope when using AddBicepTemplate\r\n\r\n```csharp\r\nbuilder\r\n    .AddBicepTemplate(\"policies\", \"../AppHost/Templates/Bicep/somename.bicep\")\r\n    .WithParameter(\"name\", \"some-name\");\r\n```\r\n\r\nFrom the infra folder (after running azd infra synth). The scope is set to the resource group.\r\n\r\n```bicep\r\nmodule policies \u0027policies/somename.bicep\u0027 = {\r\n  name: \u0027policies\u0027\r\n  scope: rg\r\n  params: {\r\n    location: location\r\n    name: \u0027some-name\u0027\r\n  }\r\n}\r\n```\r\n\r\nWould like to see a feature where target scope can be set.\r\n\r\nSuggestion\r\n```csharp\r\nbuilder\r\n    .AddBicepTemplate(\"policies\", \"../AppHost/Templates/Bicep/somename.bicep\")\r\n    .WithParameter(\"name\", \"some-name\")\r\n    .WithTargetScope(AzureBicepResource.TargetScopes.Subscription);\r\n```\r\n\r\nOther target scopes can be added to AzureBicepResource.TargetScopes.\r\n\r\nAn alternative is for Aspire to look for targetScope = \u0027subscription\u0027 in the Bicep file.\u003c/div\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Allow to use AddBicepTemplate on subscription level, controlling target scope",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5904",
        "createdAt":  "2024-09-24T21:51:56Z",
        "number":  5904,
        "author":  "julioct",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:53:20Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Describe the bug\n\nWhen `AddKafkaConsumer` adds health check options it sets them via a `ProducerConfig` as opposed to a `ConsumerConfig`:\r\n\r\n```csharp\r\nbuilder.TryAddHealthCheck(new HealthCheckRegistration(healthCheckName,\r\n    sp =\u003e\r\n    {\r\n        var connectionFactory = serviceKey is null\r\n            ? sp.GetRequiredService\u003cConsumerConnectionFactory\u003cTKey, TValue\u003e\u003e()\r\n            : sp.GetRequiredKeyedService\u003cConsumerConnectionFactory\u003cTKey, TValue\u003e\u003e(serviceKey);\r\n\r\n        var options = new KafkaHealthCheckOptions();\r\n        options.Configuration = new ProducerConfig(connectionFactory.Config.ToDictionary());\r\n        options.Configuration.SocketTimeoutMs = 1000;\r\n        options.Configuration.MessageTimeoutMs = 1000;\r\n        options.Configuration.StatisticsIntervalMs = 0;\r\n        return new KafkaHealthCheck(options);\r\n    },\r\n    failureStatus: default,\r\n    tags: default));\r\n```\r\n\r\nSource [here](https://github.com/dotnet/aspire/blob/56b44c55591d9f2d66a2616b3f27517dcedf08bd/src/Components/Aspire.Confluent.Kafka/AspireKafkaConsumerExtensions.cs#L147-L152).\r\n\r\nHowever when you setup your Kafka integration you may use properties only meant for consumers:\r\n\r\n```csharp\r\nbuilder.AddKafkaConsumer\u003cstring, string\u003e(\"eventStreamer\", configure =\u003e\r\n{\r\n    configure.Config.GroupId = \"basket\";\r\n    configure.Config.AutoOffsetReset = AutoOffsetReset.Earliest;\r\n    configure.Config.EnableAutoCommit = false;\r\n});\r\n```\r\n\r\nBecause of this you get an endless list of Kafka warnings every time the readiness health probe runs:\r\n\r\n```\r\n%4|1727213776.286|CONFWARN|rdkafka#producer-107| [thrd:app]: Configuration property group.id is a consumer property and will be ignored by this producer instance\r\n%4|1727213776.286|CONFWARN|rdkafka#producer-107| [thrd:app]: Configuration property enable.auto.commit is a consumer property and will be ignored by this producer instance\r\n%4|1727213776.286|CONFWARN|rdkafka#producer-107| [thrd:app]: Configuration property auto.offset.reset is a consumer property and will be ignored by this producer instance\r\n```\n\n### Expected Behavior\n\nHealth checks for Kafka consumers should be configured via a `ConsumerConfig`, not a `ProducerConfig`.\n\n### Steps To Reproduce\n\n1. Ensure your app is calling `AddServiceDefaults` and `MapDefaultEndpoints`\r\n\r\n2. Add Kafka integration to your app: \r\n```\r\ndotnet add package Aspire.Confluent.Kafka\r\n```\r\n\r\n3. Add your consumer, specifying GroupId, AutoOffsetReset and EnableAutoCommit:\r\n\r\n```csharp\r\nbuilder.AddKafkaConsumer\u003cstring, string\u003e(\"eventStreamer\", configure =\u003e\r\n{\r\n    configure.Config.GroupId = \"basket\";\r\n    configure.Config.AutoOffsetReset = AutoOffsetReset.Earliest;\r\n    configure.Config.EnableAutoCommit = false;\r\n});\r\n```\r\n\r\n4. Start your Kafka container\r\n\r\n5. Run the app\r\n\r\n7. Ping the Ready endpoint:\r\n```http\r\nGET http://localhost:5287/health/ready\r\n```\r\n\r\n8. Observe the warnings in your console:\r\n```\r\n%4|1727214415.021|CONFWARN|rdkafka#producer-2| [thrd:app]: Configuration property group.id is a consumer property and will be ignored by this producer instance\r\n%4|1727214415.021|CONFWARN|rdkafka#producer-2| [thrd:app]: Configuration property enable.auto.commit is a consumer property and will be ignored by this producer instance\r\n%4|1727214415.022|CONFWARN|rdkafka#producer-2| [thrd:app]: Configuration property auto.offset.reset is a consumer property and will be ignored by this producer instance\r\n```\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\r\n Version:           8.0.400\r\n Commit:            36fe6dda56\r\n Workload version:  8.0.400-manifests.71228b2b\r\n MSBuild version:   17.11.3+0c8610977\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.22631\r\n OS Platform: Windows\r\n RID:         win-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\8.0.400\\\r\n\r\n.NET workloads installed:\r\nConfigured to use loose manifests when installing new manifests.\r\n [aspire]\r\n   Installation Source: SDK 8.0.400, VS 17.11.35303.130\r\n   Manifest Version:    8.2.0/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.0\\WorkloadManifest.json\r\n   Install Type:              Msi\r\n\r\n\r\nHost:\r\n  Version:      8.0.8\r\n  Architecture: x64\r\n  Commit:       08338fcaa5\r\n\r\n.NET SDKs installed:\r\n  8.0.108 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.206 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.304 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.400 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.App 8.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 8.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 8.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nOther architectures found:\r\n  x86   [C:\\Program Files (x86)\\dotnet]\r\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\r\n\r\nEnvironment variables:\r\n  Not set\r\n\r\nglobal.json file:\r\n  Not found\r\n\r\nLearn more:\r\n  https://aka.ms/dotnet/info\r\n\r\nDownload .NET:\r\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\nIDE: VS Code",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmnErkg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Xk7Va",
                                           "createdAt":  "2024-12-14T10:09:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "The [KafkaHealthCheck](https://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks/blob/master/src/HealthChecks.Kafka/KafkaHealthCheck.cs) produces a message to the broker. The fix should be to filter out consumer specific properties when building the `ProducerConfig` instance.",
                                           "updatedAt":  "2024-12-14T10:09:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6acSuS",
                                           "createdAt":  "2025-01-14T21:09:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@g7ed6e - are you able to send a PR with the fix?",
                                           "updatedAt":  "2025-01-14T21:09:46Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "AddKafkaConsumer wrong health check configuration",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5959",
        "createdAt":  "2024-09-26T19:43:29Z",
        "number":  5959,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-18T09:42:32Z",
        "body":  "## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=818717\nBuild error leg or test failing: Aspire.Playground.Tests.AppHostTests.TestEndpointsReturnOk\nPull request: N/A\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \" Timed out waiting for the consumer message to be logged: \u0027Hello, from /test sent via producerClient\u0027\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n\u003c!-- Known issue validation start --\u003e\n ### Known issue validation\n**Build: :mag_right:** https://dev.azure.com/dnceng-public/public/_build/results?buildId=818717\n**Error message validated:** `[ Timed out waiting for the consumer message to be logged: \u0027Hello, from /test sent via producerClient\u0027`]\n**Result validation:** :white_check_mark: Known issue matched with the provided build.\n**Validation performed at:** 9/26/2024 7:43:41 PM UTC\n\u003c!-- Known issue validation end --\u003e\n\u003c!--Known issue error report start --\u003e\n\n### Report\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|0|0|0|\n\u003c!--Known issue error report end --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n\n\n-- Updated on 8/16/2025 3:06:00 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 8/16/2025 3:06:00 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n\n\n-- Updated on 9/18/2025 9:42:31 AM UTC\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/18/2025 9:42:31 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOjr5CnQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Ob6wW",
                                           "createdAt":  "2024-10-02T20:56:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "On the [last build](https://dev.azure.com/dnceng-public/public/_build/results?buildId=824830) the `consumer` shutdown with this exception:\r\n```\r\n      The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.\r\n      System.AggregateException: One or more errors occurred. (The messaging entity \u0027sb://emulatorns1.eventhubs.emulator.net/hub\u0027 could not be found. To know more visit https://aka.ms/sbResourceMgrExceptions.  (hub).  For troubleshooting information, see https://aka.ms/azsdk/net/eventhubs/exceptions/troubleshoot)\r\n       ---\u003e Azure.Messaging.EventHubs.EventHubsException(ResourceNotFound): The messaging entity \u0027sb://emulatorns1.eventhubs.emulator.net/hub\u0027 could not be found. To know more visit https://aka.ms/sbResourceMgrExceptions.  (hub).  For troubleshooting information, see https://aka.ms/azsdk/net/eventhubs/exceptions/troubleshoot\r\n         at Azure.Messaging.EventHubs.AmqpError.ThrowIfErrorResponse(AmqpMessage response, String eventHubName)\r\n         at Azure.Messaging.EventHubs.Amqp.AmqpClient.GetPropertiesAsync(EventHubsRetryPolicy retryPolicy, CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.Amqp.AmqpClient.GetPropertiesAsync(EventHubsRetryPolicy retryPolicy, CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.EventHubConnection.GetPropertiesAsync(EventHubsRetryPolicy retryPolicy, CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.ValidateEventHubsConnectionAsync(CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.ValidateEventHubsConnectionAsync(CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.ValidateProcessingPreconditions(CancellationToken cancellationToken)\r\n         --- End of inner exception stack trace ---\r\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.StartProcessingInternalAsync(Boolean async, CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.StartProcessingAsync(CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.EventProcessorClient.StartProcessingInternalAsync(Boolean async, CancellationToken cancellationToken)\r\n         at Azure.Messaging.EventHubs.EventProcessorClient.StartProcessingAsync(CancellationToken cancellationToken)\r\n         at EventHubsConsumer.Processor.ExecuteAsync(CancellationToken stoppingToken) in /datadisks/disk1/work/ABF7093F/w/B02B09B0/e/playground/AspireEventHub/EventHubsConsumer/Processor.cs:line 44\r\n         at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)\r\n```\r\n.. specifically - `Azure.Messaging.EventHubs.EventHubsException(ResourceNotFound): The messaging entity \u0027sb://emulatorns1.eventhubs.emulator.net/hub\u0027 could not be found. To know more visit https://aka.ms/sbResourceMgrExceptions.  (hub).  For troubleshooting information, see https://aka.ms/azsdk/net/eventhubs/exceptions/troubleshoot`.\r\n\r\n.. but the test keeps waiting for the message from the `consumer`, and times out.\r\n\r\nWe should fix the tests to also fail earlier, so the xunit test reports show the real cause, or closer to it.\r\n\r\ncc @davidfowl @eerhardt ",
                                           "updatedAt":  "2024-10-02T20:56:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OvkKd",
                                           "createdAt":  "2024-10-05T00:54:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "There\u0027s a bug in the consumer, I think this is a resiliency problem.",
                                           "updatedAt":  "2024-10-05T00:54:54Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "[playground-tests] Flaky `EventHubs` test in `TestEndpointsReturnOk`",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "azure-eventhubs",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5962",
        "createdAt":  "2024-09-26T20:02:51Z",
        "number":  5962,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:53:21Z",
        "body":  "Based on https://github.com/dotnet/aspire/pull/5641#issuecomment-2372044749 and https://github.com/dotnet/aspire/pull/5641#issuecomment-2377261886\r\n\r\n`Recommendation is to use with /disableRateLimiting without it collections created with \u003e 10K result in throttling (for devops it might not be an issue but good practice to set-up).`\r\n...\r\n[Cosmos DB Request Units (RUs)](https://learn.microsoft.com/en-us/azure/cosmos-db/request-units). `10,000 is the maximum for a single partition.`\r\n\r\ncc @davidfowl ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add `/disableRateLimiting` to cosmos integration",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5971",
        "createdAt":  "2024-09-27T04:43:24Z",
        "number":  5971,
        "author":  "Rita003",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODROJCg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mhenry-cb",
                                            "createdAt":  "2024-11-19T00:03:29Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "inkysquid",
                                            "createdAt":  "2025-03-20T15:18:25Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Mihier-Roy",
                                            "createdAt":  "2025-09-17T10:15:47Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-01-15T01:47:33Z",
        "body":  "**INSTALL STEPS**\r\n1. Clean machine: Win11 x64 23h2 ENU\r\n2. Install SDK 9.0.100-rc.2.24474.11\r\n\r\n    - Apply feed for SDK 9.0 RC2\r\n3. Install Aspire 9.0.0-preview.4.24475.9\r\n\r\n    - Apply the dotnet8 feed for Aspire 9.0\r\n\r\n**REPRO STEPS**\r\n1. Open CMD, create an Aspire Starter App using following commands:\r\n```\r\ndotnet new aspire-starter -o AspireStarterApp\r\ncd AspireStarterApp\r\n```\r\n2. Add the Aspire.Confluent.Kafka  component to your AspireStarterApp.Web app:\r\n```\r\ncd AspireStarterApp.Web\r\ndotnet add package Aspire.Confluent.Kafka --version 9.0.0-preview.4.24475.9\r\n```\r\n3. In the Program.cs file of the AspireStarterApp.Web project, type following codes:\r\n`builder.AddKafkaProducer\u003cstring, string\u003e(\"messaging\");`\r\n4. Open appsettings.json of AspireStarterApp.AppHost project, add ConnectionStrings configuration section:\r\n```\r\n{\r\n  \"ConnectionStrings\": {\r\n    \"myConnection\": \"broker:9092\"\r\n  }\r\n}\r\n```\r\n5. Add the  Aspire.Hosting.Kafka  component to your AspireStarterApp.AppHost app:\r\n```\r\ncd ..\r\ncd AspireStarterApp.AppHost\r\ndotnet add package Aspire.Hosting.Kafka --version 9.0.0-preview.4.24475.9\r\n```\r\n6. Open Program.cs of AspireStarterApp.AppHost project, add following codes:\r\n```\r\nvar messaging = builder.AddKafka(\"messaging\");\r\n\t\r\nvar myService = builder.AddProject\u003cProjects.MyService\u003e()\r\n                   .WithReference(messaging);\r\n```\r\n7. Run the project in CMD, and open URL in the browser.\r\n`dotnet run`\r\n\r\n**ACTUAL**\r\nAfter the messaging container state is running, there are some messages in CMD.\r\n![Screenshot 2024-09-27 111635](https://github.com/user-attachments/assets/f6a3f4e4-a729-4122-9357-ae183392cca0)\r\n\r\n**Error Log:**\r\n```\r\n%6|1727406956.153|FAIL|rdkafka#producer-1| [thrd:localhost:59716/bootstrap]: localhost:59716/bootstrap: Disconnected while requesting ApiVersion: might be caused by incorrect security.protocol configuration (connecting to a SSL listener?) or broker version is \u003c 0.10 (see api.version.request) (after 5001ms in state APIVERSION_QUERY)\r\n%3|1727406956.153|ERROR|rdkafka#producer-1| [thrd:localhost:59716/bootstrap]: 1/1 brokers are down\r\n%3|1727406956.153|ERROR|rdkafka#producer-1| [thrd:app]: rdkafka#producer-1: localhost:59716/bootstrap: Disconnected while requesting ApiVersion: might be caused by incorrect security.protocol configuration (connecting to a SSL listener?) or broker version is \u003c 0.10 (see api.version.request) (after 5001ms in state APIVERSION_QUERY)\r\n```\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmnaW3g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Nw2TA",
                                           "createdAt":  "2024-09-27T04:47:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODzzHLg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "mitchdenny",
                                                                               "createdAt":  "2024-09-27T06:06:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is a duplicate of https://github.com/dotnet/aspire/issues/5939\r\n\r\ncc @mitchdenny ",
                                           "updatedAt":  "2024-09-27T04:47:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RelcH",
                                           "createdAt":  "2024-10-28T07:06:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Rita003",
                                           "body":  "This issue doesn\u0027t repro after installing the latest released SDK 8.0.403 + Aspire 8.2.2.\nThis issue also repro after installing the latest SDK 9.0GA + Aspire 9.0.0",
                                           "updatedAt":  "2024-10-28T07:06:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ReqZe",
                                           "createdAt":  "2024-10-28T07:20:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Same as https://github.com/dotnet/aspire/issues/6516 but for hosting.",
                                           "updatedAt":  "2024-10-28T07:20:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Req4T",
                                           "createdAt":  "2024-10-28T07:21:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@g7ed6e any ideas?",
                                           "updatedAt":  "2024-10-28T07:21:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ReuF4",
                                           "createdAt":  "2024-10-28T07:30:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "This occurs only at consumer side and is not related to aspire.. I used to see these logs in a différent context and I think this is a bug in librdkafka when the consumer is connecting to the broker because the error logs quickly stop being emitted and the consumer start receiving messages. The librdkakfa logs are forwarded to Confluent.Kakfa which are forwarded to aspire. I will see if I can find an issue we can link to in librdkakfa and Confluent.Kafka.",
                                           "updatedAt":  "2024-10-28T07:30:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UkHej",
                                           "createdAt":  "2024-11-21T22:38:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jonathan-mcewan",
                                           "body":  "@g7ed6e could it have anything with the health checks attempting to create a producer with kafka before it\u0027s fully started? \n\nhttps://github.com/dotnet/aspire/blob/b81e1c6a67db9bec2298d5e9831b088855cd9951/src/Aspire.Hosting.Kafka/KafkaBuilderExtensions.cs#L67\n\nWhile it\u0027s a `rdkafka` error, if it\u0027s the health check then can we have it reported as such?",
                                           "updatedAt":  "2024-11-21T22:40:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6adQu9",
                                           "createdAt":  "2025-01-15T00:15:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Do we know why this scenario regressed between 8.2 and 9.0?",
                                           "updatedAt":  "2025-01-15T00:15:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6adpbe",
                                           "createdAt":  "2025-01-15T01:47:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes, because we added health checks to hosting and now the console logs spew is leaking in a different application.",
                                           "updatedAt":  "2025-01-15T01:47:32Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "[WebToolsE2E][Aspire] After adding Aspire.Confluent.Kafka component and related codes, there are some messages \"localhost:xxxxx/bootstrap: Disconnected while requesting ApiVersion\" in CMD when running the aspire project.",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6004",
        "createdAt":  "2024-09-28T16:33:01Z",
        "number":  6004,
        "author":  "julioct",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODAsueg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "m-jovanovic",
                                            "createdAt":  "2024-09-28T16:56:24Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "michaelmcneilnet",
                                            "createdAt":  "2024-10-02T21:22:48Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "christiannagel",
                                            "createdAt":  "2024-10-30T19:02:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sandves",
                                            "createdAt":  "2025-01-03T15:00:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "RobertWeaver",
                                            "createdAt":  "2025-01-04T01:46:24Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sandord",
                                            "createdAt":  "2025-01-05T00:32:49Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ACieslaK1",
                                            "createdAt":  "2025-02-06T16:34:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "LeakeyMaina",
                                            "createdAt":  "2025-02-07T13:29:31Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "benjaminsampica",
                                            "createdAt":  "2025-03-31T23:21:55Z"
                                        }
                                    ],
                          "totalCount":  9
                      },
        "updatedAt":  "2025-08-23T13:37:27Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Describe the bug\n\nDeploying a container provisioned via the Keycloak integration won\u0027t start in Azure Container Apps (ACA). \r\n\r\nACA will try to activate it, but it continuously fails.\r\n\r\nThe container reports this in the logs:\r\n\r\n`Key material not provided to setup HTTPS. Please configure your keys/certificates or start the server in development mode.`\r\n\n\n### Expected Behavior\n\nKeycloak should successfully deploy to ACA.\n\n### Steps To Reproduce\n\n1. Create a .NET Aspire app\r\n2. Add the Keycloak AppHost integration: via `Aspire.Hosting.Keycloak` NuGet package\r\n3. Add the Keycloak integration to the AppHost model:\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\n\r\nvar keycloak = builder.AddKeycloak(\"keycloak\", 8080);\r\n\r\nbuilder.Build().Run();\r\n\r\n```\r\n\r\n4. Deploy via `azd up`\r\n5. The container never starts in ACA:\r\n\r\n![image](https://github.com/user-attachments/assets/0c30eb3a-3bc0-4b3d-8fcd-e84e8c7cc84c)\r\n\n\n### Exceptions (if any)\n\nKey material not provided to setup HTTPS. Please configure your keys/certificates or start the server in development mode.\n\n### .NET Version info\n\n.NET SDK:\r\n Version:           8.0.400\r\n Commit:            36fe6dda56\r\n Workload version:  8.0.400-manifests.2772ffde\r\n MSBuild version:   17.11.3+0c8610977\r\n\r\nRuntime Environment:\r\n OS Name:     Windows\r\n OS Version:  10.0.22631\r\n OS Platform: Windows\r\n RID:         win-x64\r\n Base Path:   C:\\Program Files\\dotnet\\sdk\\8.0.400\\\r\n\r\n.NET workloads installed:\r\nConfigured to use loose manifests when installing new manifests.\r\n [aspire]\r\n   Installation Source: SDK 8.0.400, VS 17.11.35303.130\r\n   Manifest Version:    8.2.1/8.0.100\r\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.1\\WorkloadManifest.json\r\n   Install Type:              Msi\r\n\r\n\r\nHost:\r\n  Version:      8.0.8\r\n  Architecture: x64\r\n  Commit:       08338fcaa5\r\n\r\n.NET SDKs installed:\r\n  8.0.108 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.206 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.304 [C:\\Program Files\\dotnet\\sdk]\r\n  8.0.400 [C:\\Program Files\\dotnet\\sdk]\r\n\r\n.NET runtimes installed:\r\n  Microsoft.AspNetCore.App 8.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.AspNetCore.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\r\n  Microsoft.NETCore.App 8.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.NETCore.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\r\n  Microsoft.WindowsDesktop.App 8.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n  Microsoft.WindowsDesktop.App 8.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\r\n\r\nOther architectures found:\r\n  x86   [C:\\Program Files (x86)\\dotnet]\r\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\r\n\r\nEnvironment variables:\r\n  Not set\r\n\r\nglobal.json file:\r\n  Not found\r\n\r\nLearn more:\r\n  https://aka.ms/dotnet/info\r\n\r\nDownload .NET:\r\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\nWhen deploying to Azure, the Keycloak integration adds just this parameter:\r\n\r\n`start`\r\n\r\nHowever to run Keycloak in prod requires multiple other parameters as described [here](https://www.keycloak.org/server/containers).\r\n\r\nSomething like this:\r\n\r\n```\r\npodman|docker run --name mykeycloak -p 8080:8080 \\\r\n        -e KEYCLOAK_ADMIN=admin -e KEYCLOAK_ADMIN_PASSWORD=change_me \\\r\n        quay.io/keycloak/keycloak:latest \\\r\n        start \\\r\n        --db=postgres --features=token-exchange \\\r\n        --db-url=\u003cJDBC-URL\u003e --db-username=\u003cDB-USER\u003e --db-password=\u003cDB-PASSWORD\u003e \\\r\n        --https-key-store-file=\u003cfile\u003e --https-key-store-password=\u003cpassword\u003e\r\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOv7994w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6SEe8X",
                                           "createdAt":  "2024-10-31T19:19:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEIB_yw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ACieslaK1",
                                                                               "createdAt":  "2025-02-06T16:33:58Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "sulmar",
                                                                               "createdAt":  "2025-02-07T10:08:00Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "LeakeyMaina",
                                                                               "createdAt":  "2025-02-28T13:25:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davpodda",
                                           "body":  "Hi have you any solution? I have the same problem",
                                           "updatedAt":  "2024-10-31T19:19:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ZJYmp",
                                           "createdAt":  "2025-01-03T15:09:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEIB_2g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "richard-mckenna",
                                                                               "createdAt":  "2025-01-23T15:18:58Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "sulmar",
                                                                               "createdAt":  "2025-01-29T15:29:31Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ACieslaK1",
                                                                               "createdAt":  "2025-02-06T16:34:03Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "LeakeyMaina",
                                                                               "createdAt":  "2025-02-28T13:25:44Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "sandves",
                                           "body":  "Any updates on this? Would be really helpful with an example on how to do run Keycloak in Aspire in a production ready setup.",
                                           "updatedAt":  "2025-01-03T15:09:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6acWkv",
                                           "createdAt":  "2025-01-14T21:20:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEIB_7Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "LeakeyMaina",
                                                                               "createdAt":  "2025-02-28T13:25:49Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@DamianEdwards - do we have any keycloak contacts we could ask about this issue?",
                                           "updatedAt":  "2025-01-14T21:20:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6acd8y",
                                           "createdAt":  "2025-01-14T21:36:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEFnTdw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "sulmar",
                                                                               "createdAt":  "2025-02-07T10:08:34Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I don\u0027t think we need a contact. The Keycloak integration is still in preview. In order for it to be successfully started in production mode it requires extra configuration which the hosting integration currently doesn\u0027t expose modeling for in a first-class way, e.g. the HTTPS certificate information. When run during local development we configure it to run in dev mode which removes these requirements.\n\nThe work here is to update the Keycloak hosting integration to expose appropriate API that enables configuring it for production use when deployed. Whether we can make it work by default (with generated passwords, certificates/keys, etc.) is still an open question.",
                                           "updatedAt":  "2025-01-14T21:36:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6diQ5t",
                                           "createdAt":  "2025-02-07T13:52:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "LeakeyMaina",
                                           "body":  "Has anyone managed to get this working?",
                                           "updatedAt":  "2025-02-07T13:52:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6fF5pd",
                                           "createdAt":  "2025-02-19T16:17:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "rcolombo-cdesign",
                                           "body":  "Hello, i deployed a Keycloak instance to an Azure Container App, and i do get this problem. I understand we have to somehow give Keycloak the references to the SSL certificate for it to work with HTTPS.\n\nBut does this still stands with an Ingress in front of the container? I expect that with an Ingress service configured for the container, i can simply run the Keycloak using HTTP mode, and even still for the connections outside the ACA, it will still serve everything in HTTPS, is this correct?\n\nIf so, one point of attention, is that the Keycloak management interface calls some iframes, for which i get a CORS error (mixed http/https content)",
                                           "updatedAt":  "2025-02-19T16:17:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gHaWW",
                                           "createdAt":  "2025-02-26T21:57:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e But does this still stands with an Ingress in front of the container? I expect that with an Ingress service configured for the container, i can simply run the Keycloak using HTTP mode, and even still for the connections outside the ACA, it will still serve everything in HTTPS, is this correct?\n\nI think you can but you need to configure it specifically for running behind a reverse proxy, see https://www.keycloak.org/server/reverseproxy",
                                           "updatedAt":  "2025-02-26T21:57:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ghDYf",
                                           "createdAt":  "2025-03-03T00:51:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEMpLSQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "LeakeyMaina",
                                                                               "createdAt":  "2025-03-07T09:09:56Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "wesleyteixeira",
                                                                               "createdAt":  "2025-04-03T02:04:32Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "YandyZaldivar",
                                           "body":  "I would also be interested in any workaround while the integration is still in preview.",
                                           "updatedAt":  "2025-03-03T00:51:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hNqAG",
                                           "createdAt":  "2025-03-06T19:05:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEI5pUA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "LeakeyMaina",
                                                                               "createdAt":  "2025-03-07T09:09:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "andrekiba",
                                           "body":  "I’m also exploring the possibility to run Keycloak in plain http behind Envoy in container apps…so basically with the tls termination at the proxy…\nYou can set the `hostname` environment variable with the fqdn of your container apps\nhttps://www.keycloak.org/server/all-config#category-hostname_v2\nand then disable https with the `http-enabled` to `true`\nhttps://www.keycloak.org/server/all-config#category-http",
                                           "updatedAt":  "2025-03-06T19:06:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lIMv4",
                                           "createdAt":  "2025-04-01T18:48:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOENTFFQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "wesleyteixeira",
                                                                               "createdAt":  "2025-04-03T02:06:36Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "YandyZaldivar",
                                                                               "createdAt":  "2025-04-08T07:56:41Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "anderly",
                                           "body":  "@YandyZaldivar @andrekiba \n\nI was able to put together a working version of keycloak container that runs on Azure Container Apps and supports custom domains. Here\u0027s the repo for anyone looking for a workaround: https://github.com/anderly/keycloak-azure-container-apps\n\nKey elements of the config that got it to work from the Dockerfile:\n\n```docker\nENV KC_HTTP_ENABLED=true\nENV KC_PROXY-HEADERS=xforwarded\nENV KC_HOSTNAME-STRICT=false\n```\n\nTechnically, `KC_HOSTNAME-STRICT` doesn\u0027t have to be false and shouldn\u0027t be for prod, but if it\u0027s not, `KC_HOSTNAME` also has to be provided and need to match the ACA container url or a configured custom domain.\n\nIf these env vars can be passed to the standard quay keycloak image for Aspire deployment to ACA, then it should be able to work.\n\nMain reason I went with a custom image is I have it setup where I can preload themes, realms, providers and custom config.\n\nWorking on a basic PR to Keycloak Hosting integration to see if I can get this effort started.\n",
                                           "updatedAt":  "2025-04-23T16:44:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lIr6A",
                                           "createdAt":  "2025-04-01T19:45:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "anderly",
                                           "body":  "See #8478 for basic PR starting point for getting working in Azure Container Apps.",
                                           "updatedAt":  "2025-04-01T20:22:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qoE09",
                                           "createdAt":  "2025-05-08T10:58:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhWgmw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "sandves",
                                                                               "createdAt":  "2025-05-08T12:17:03Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "hypers1",
                                                                               "createdAt":  "2025-08-02T18:10:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "suugbut",
                                                                               "createdAt":  "2025-09-08T18:07:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "ARSunray",
                                           "body":  "Seems there is no solution to a problem while deploying keycloak in the container app,\n\n\"The TargetPort 8080 does not match any of the listening ports. container crashed\"\n\nAny solutiong, any one?\n\n\n",
                                           "updatedAt":  "2025-05-08T10:58:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_v33j",
                                           "createdAt":  "2025-08-23T13:37:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "julioct",
                                           "body":  "I documented how to make this work today [here](https://juliocasal.com/blog/deploying-keycloak-to-azure-with-net-aspire).",
                                           "updatedAt":  "2025-08-23T13:37:27Z"
                                       }
                                   ],
                         "totalCount":  13
                     },
        "title":  "Keycloak container fails to start in Azure Container Apps",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6055",
        "createdAt":  "2024-10-01T19:17:28Z",
        "number":  6055,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-08T04:59:04Z",
        "body":  "## Background and Motivation\r\n\r\nSee https://github.com/dotnet/aspire/pull/5930#issuecomment-2381917879 for some of the context.\r\n\r\nWith \r\n\r\n* [Add Azure PostgreSQL managed identity (dotnet/aspire#5930)](https://github.com/dotnet/aspire/pull/5930)\r\n* [Support Managed Identity in Azure Cache for Redis (dotnet/aspire#5966)](https://github.com/dotnet/aspire/pull/5966)\r\n* [Update Azure Sql to use new API pattern (dotnet/aspire#5998)](https://github.com/dotnet/aspire/issues/5998)\r\n\r\nWe re-designed how resources that can be hosted in either a container or a managed Azure resource (ex. PostgreSQL, Redis, SqlServer) are added to the model.\r\n\r\n### Before\r\n\r\n```C#\r\nvar redis = builder.AddRedis(\"redis\")\r\n                   .PublishAsAzureRedis();\r\n```\r\n\r\n### After\r\n\r\n```C#\r\nvar redis = builder.AddAzureRedis(\"redis\")\r\n                   .RunAsContainer();\r\n```\r\n\r\nThe downside of this approach is composability of resources. Let\u0027s say I wanted to have a resource that depended on a Postgres database instance. With this change the implementor of that would need to have extensions for each cloud provider (unless they just allow any IResourceWithConnectionString).\r\n\r\n## Proposed API\r\n\r\n```C#\r\nnamespace Aspire.Hosting.Redis;\r\n\r\npublic interface IRedisResource : IResourceWithConnectionString\r\n{\r\n}\r\n\r\nnamespace Aspire.Hosting.ApplicationModel;\r\npublic class RedisResource : IRedisResource {...} \r\n\r\nnamespace Aspire.Hosting.Azure;\r\npublic class AzureRedisCacheResource : IRedisResource {...} \r\n\r\nnamespace Aspire.Hosting.Postgres;\r\n\r\npublic interface IPostgresServerResource : IResourceWithConnectionString\r\n{\r\n}\r\n\r\nnamespace Aspire.Hosting.ApplicationModel;\r\npublic class PostgresServerResource : IPostgresServerResource {...}\r\n\r\nnamespace Aspire.Hosting.Azure;\r\npublic class AzurePostgresFlexibleServerResource : IPostgresServerResource {...}\r\n\r\nnamespace Aspire.Hosting.SqlServer;\r\n\r\npublic interface ISqlServerServerResource : IResourceWithConnectionString\r\n{\r\n}\r\n\r\nnamespace Aspire.Hosting.ApplicationModel;\r\npublic class SqlServerServerResource : ISqlServerServerResource  {...}\r\n\r\nnamespace Aspire.Hosting.Azure;\r\npublic class AzureSqlServerServerResource : ISqlServerServerResource  {...}\r\n```\r\n\r\n## Usage Examples\r\n\r\n```csharp\r\n\r\nvar redis1 = builder.AddRedis(\"cache1\");\r\nUseRedis(redis1);\r\n\r\nvar redis2 = builder.AddAzureRedis(\"cache2\");\r\nUseRedis(redis2);\r\n\r\nstatic void UseRedis(IResourceBuilder\u003cIRedisResource\u003e redis)\r\n{\r\n   ... get the connection string, or use the resource some other way\r\n}\r\n```\r\n\r\n## Alternative Designs\r\n\r\n\u003c!--\r\nWere there other options you considered, such as alternative API shapes?\r\nHow does this compare to analogous APIs in other ecosystems and libraries?\r\n--\u003e\r\n\r\n## Risks\r\n\r\n\u003c!--\r\nPlease mention any risks that to your knowledge the API proposal might entail, such as breaking changes, performance regressions, etc.\r\n--\u003e\r\n\r\ncc @davidfowl @mitchdenny ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtaL9Ww==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6OTcq8",
                                           "createdAt":  "2024-10-02T01:31:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Yep - I think we need to do this otherwise we\u0027ll stifle reuse of some of these fundamental application building blocks. You\u0027ll end up with packages on NuGet that look like this:\r\n\r\nMyAspireStuff.Postgres.Azure\r\nMyAspireStuff.Postgres.AWS\r\n\r\n... only because there isn\u0027t a shared type for the Redis resources.",
                                           "updatedAt":  "2024-10-02T01:31:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OTczQ",
                                           "createdAt":  "2024-10-02T01:31:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I\u0027m adding it to the backlog for now. I don\u0027t think we block 9.0 for it but I think it would be nice to see in 9.x.",
                                           "updatedAt":  "2024-10-02T01:31:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61dO8K",
                                           "createdAt":  "2025-07-07T10:19:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Meir017",
                                           "body":  "for sql-server I found the following way:\n\n```cs\nvar sqlServer = builder.AddSqlServer(\"sql-server\")\n    .WithDataVolume(\"data\");\n\nsqlServer.WithCommand(\"open-in-vscode\", \"Open in VS Code\", async context =\u003e\n{\n    var rawConnectionString = await sqlServer.Resource.GetConnectionStringAsync();\n    if (string.IsNullOrEmpty(rawConnectionString))\n    {\n        return new ExecuteCommandResult\n        {\n            Success = false,\n            ErrorMessage = \"Connection string is not available.\"\n        };\n    }\n\n    VsCode.OpenSqlServerInVsCode(rawConnectionString);\n    return new ExecuteCommandResult { Success = true };\n});\n```\n\nand the magic:\n```cs\n\n\nusing System.Diagnostics;\n\nusing Microsoft.Data.SqlClient;\n\nnamespace Prevention.SecurityForAI;\n\npublic class VsCode\n{\n    public static void OpenSqlServerInVsCode(string rawConnectionString)\n    {\n        var connectionString = new SqlConnectionStringBuilder(rawConnectionString);\n        string server = Uri.EscapeDataString(connectionString.DataSource);\n        string database = Uri.EscapeDataString(connectionString.InitialCatalog);\n        string userId = Uri.EscapeDataString(connectionString.UserID);\n        string password = Uri.EscapeDataString(connectionString.Password);\n\n        var vscodeUri = new Uri($\"vscode://ms-mssql.mssql/connect?server={server}\u0026database={database}\u0026authenticationType=SqlLogin\u0026user={userId}\u0026password={password}\u0026trustServerCertificate=true\");\n        var process = Process.Start(new ProcessStartInfo\n        {\n            FileName = vscodeUri.ToString(),\n            UseShellExecute = true\n        });\n    }\n}\n```\n\nthis requires the https://marketplace.visualstudio.com/items?itemName=ms-mssql.mssql VsCode extension\n\n![Image](https://github.com/user-attachments/assets/fb449d1d-f122-438a-8258-51d8851ce3f2)\n\n@eerhardt / @eerhardt / @davidfowl is this out-of-scope here? should I create a separate issue for this? Maybe having a VsCode extention point that can open UI extensions for specific container based resources",
                                           "updatedAt":  "2025-07-08T04:58:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61ov1b",
                                           "createdAt":  "2025-07-08T04:58:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This issue is about a C# interface not a user interface 😅.\n\nI’ve marked it as off topic, and yea you can file a new issue ",
                                           "updatedAt":  "2025-07-08T04:59:04Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Add interfaces to PostgreSQL, Redis, and SqlServer Hosting Resources",
        "labels":  [
                       "area-integrations",
                       "postgres",
                       "redis"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6084",
        "createdAt":  "2024-10-03T10:06:52Z",
        "number":  6084,
        "author":  "michaelmcneilnet",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC_oRzg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "RudyCo",
                                            "createdAt":  "2024-11-12T14:10:07Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "christiannagel",
                                            "createdAt":  "2024-11-13T11:51:47Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "atrauzzi",
                                            "createdAt":  "2024-11-25T02:40:52Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "RobertWeaver",
                                            "createdAt":  "2025-01-23T04:15:45Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YandyZaldivar",
                                            "createdAt":  "2025-03-03T01:02:50Z"
                                        }
                                    ],
                          "totalCount":  5
                      },
        "updatedAt":  "2025-02-25T21:54:04Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWhen using the Keycloak integration, I have to manually configure the SQL Database connection string by setting the `KC_DB_URL` environment variable with a JDBC string that I build myself from my database resource.:\r\n\r\n```cs\r\nctx.EnvironmentVariables.Add(\"KC_DB_URL\", $\"jdbc:sqlserver://{sqlServer.Resource.PrimaryEndpoint.ContainerHost};databaseName={keycloakDatabase.Resource.DatabaseName};trustServerCertificate=true;user=sa;password={sqlServer.Resource.PasswordParameter.Value};\");\r\n```\r\n\r\nThis works ok locally, but could be done by Aspire. \r\n\r\nWhen it comes to deploying to Azure using `azd up`, I assume the connection string will need to cater for the AD auth that is setup automatically for me, and so I would need to have a ternary to build the string in a different way based on IsRunMode v IsPublishMode, and things start to get a little messy.\n\n### Describe the solution you\u0027d like\n\nI would like to be able to pass the database using `WithReference(myDb)` like I can do for other projects, and have the connection string automatically configured for use by Keycloak\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOn_Ek6A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6TQvzd",
                                           "createdAt":  "2024-11-12T14:11:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHocMw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "atrauzzi",
                                                                               "createdAt":  "2024-11-25T02:40:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "RobertWeaver",
                                                                               "createdAt":  "2025-01-23T04:15:40Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "WhatzGames",
                                                                               "createdAt":  "2025-02-25T21:44:52Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "RudyCo",
                                           "body":  "Same for PostgreSQL. Keycloak must use a database in Production.",
                                           "updatedAt":  "2024-11-12T14:11:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6f8STo",
                                           "createdAt":  "2025-02-25T21:54:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WhatzGames",
                                           "body":  "In fact keycloak has a [page](https://www.keycloak.org/server/db) with all their officially supported databases.\nMight as well consider a more broader solution to enable support for all of them. ",
                                           "updatedAt":  "2025-02-25T21:54:03Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Keycloak - Support WithReference for Sql Database",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6155",
        "createdAt":  "2024-10-07T19:15:23Z",
        "number":  6155,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC9I3gg==",
                          "nodes":  [
                                        {
                                            "content":  "ROCKET",
                                            "user":  "danmoseley",
                                            "createdAt":  "2024-12-03T04:05:01Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-05-10T02:53:20Z",
        "body":  "Where possible, we should be enabling passwords on our containers.\n\nThe goal here is to provide a layer of redundancy. If ACA firewalling (or other system to from external access) fails, an external client will still not be able to access the container without knowledge of the authentication password.\n\nThe following containers don\u0027t have password protection:\n\n- [x] Garnet (https://github.com/dotnet/aspire/pull/7618)\n- [ ] Kafka\n- [x] MongoDB (https://github.com/dotnet/aspire/pull/5788)\n- [x] Nats (https://github.com/dotnet/aspire/pull/6259)\n- [x] Redis (https://github.com/dotnet/aspire/issues/3838)\n- [x] ~Seq~ See more info on https://github.com/dotnet/aspire/pull/6878\n- [x] Valkey (https://github.com/dotnet/aspire/pull/7887)\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqvY38Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6PYRD1",
                                           "createdAt":  "2024-10-10T15:58:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1n65Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2024-10-10T16:14:40Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "Mrxx99",
                                           "body":  "For NATS I would like to contribute the password implementation, I already have explored and started work on this",
                                           "updatedAt":  "2024-10-10T15:58:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PYZOB",
                                           "createdAt":  "2024-10-10T16:14:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e For NATS I would like to contribute the password implementation, I already have explored and started work on this\n\nSounds great! Looking forward to the PR.",
                                           "updatedAt":  "2024-10-10T16:14:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Qej2S",
                                           "createdAt":  "2024-10-19T14:43:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Mrxx99",
                                           "body":  "\u003e \u003e For NATS I would like to contribute the password implementation, I already have explored and started work on this\n\u003e \n\u003e Sounds great! Looking forward to the PR.\n\n@eerhardt The PR #6259 is ready for review.",
                                           "updatedAt":  "2024-10-19T14:43:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6VxgAx",
                                           "createdAt":  "2024-12-02T20:43:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@liammclennan @nblumhardt - any interest in adding password support for Seq?",
                                           "updatedAt":  "2024-12-02T20:43:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Vzdas",
                                           "createdAt":  "2024-12-03T00:49:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "nblumhardt",
                                           "body":  "@eerhardt sounds good!\n\nThe Seq container supports a couple of environment variables that would make this pretty easy.\n\nOne possible wrinkle; the variables are:\n\n * `SEQ_FIRSTRUN_ADMINUSERNAME` - username for the automatically-created admin user account; default is `admin`\n * `SEQ_FIRSTRUN_ADMINPASSWORD` - plain text password for same\n * `SEQ_FIRSTRUN_ADMINPASSWORDHASH` - alternative to the above, provided as a salted cryptographic hash, for marginally better security when passing through configuration systems\n * `SEQ_FIRSTRUN_REQUIREAUTHENTICATIONFORHTTPINGESTION` - sets the \"require authentication for ingestion\" flag\n\nBut, these only apply when the container\u0027s storage is first created, so modifying them once the Seq container has been initialized/has persistent data will have no effect. Would this be surprising/break expectations compared with the way other containers are doing it?",
                                           "updatedAt":  "2024-12-05T20:22:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6V762o",
                                           "createdAt":  "2024-12-03T20:43:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD9xDzg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "nblumhardt",
                                                                               "createdAt":  "2024-12-05T20:21:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e But, these only apply when the container\u0027s storage is first created, so modifying them once the Seq container has been initialized/has persistent data will have no effect. Would this be surprising/break expectations compared with the way other containers are doing it?\n\nI don\u0027t think it would be surprising since it is consistent with other containers. Other containers (postgres, mongodb, etc) use the password in the stored data as well. Changing the password after the data was created basically invalidates the existing data.\n\nSee the Warning at: https://learn.microsoft.com/en-us/dotnet/aspire/database/sql-server-integration?tabs=dotnet-cli%2Cssms#add-sql-server-resource-with-data-volume\n\n\u003e  Warning\n\n\u003e The password is stored in the data volume. When using a data volume and if the password changes, it will not work until you delete the volume.",
                                           "updatedAt":  "2024-12-03T20:43:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ei91C",
                                           "createdAt":  "2025-02-14T18:07:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEIohEw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2025-03-05T14:54:09Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "I will send PRs for Garnet and Valkey.",
                                           "updatedAt":  "2025-02-14T18:07:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hAWbr",
                                           "createdAt":  "2025-03-05T15:11:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Looks like the only one remaining is Kafka. @g7ed6e - any interest in picking that up, or know someone who would be interested?",
                                           "updatedAt":  "2025-03-05T15:11:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hNFnL",
                                           "createdAt":  "2025-03-06T17:56:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEI0e2A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2025-03-06T17:57:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "g7ed6e",
                                           "body":  "\u003e Looks like the only one remaining is Kafka. @g7ed6e - any interest in picking that up, or know someone who would be interested?\n\n@eerhardt I will pick that one.",
                                           "updatedAt":  "2025-03-06T17:56:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iC7B1",
                                           "createdAt":  "2025-03-12T17:54:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "cilerler",
                                           "body":  "@eerhardt Is it just me, or is Redis still incomplete?",
                                           "updatedAt":  "2025-03-12T17:54:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDwtG",
                                           "createdAt":  "2025-03-12T19:28:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e [@eerhardt](https://github.com/eerhardt) Is it just me, or is Redis still incomplete?\n\nWhat version are you using? It has only been fixed in daily 9.2 builds.",
                                           "updatedAt":  "2025-03-12T19:28:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDx_e",
                                           "createdAt":  "2025-03-12T19:30:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "cilerler",
                                           "body":  "Thanks for the prompt reply. \nI\u0027m currently using version 9.1, but I couldn\u0027t determine from the listed issues whether this has been fixed or not. \nThanks for clarifying. 🤗 ",
                                           "updatedAt":  "2025-03-12T19:30:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6q9jfx",
                                           "createdAt":  "2025-05-10T02:53:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Just kafka left! Great progress!",
                                           "updatedAt":  "2025-05-10T02:53:19Z"
                                       }
                                   ],
                         "totalCount":  13
                     },
        "title":  "Ensure all containers are password protected",
        "labels":  [
                       "area-integrations",
                       "security 🔐"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6156",
        "createdAt":  "2024-10-07T19:24:25Z",
        "number":  6156,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODBgwxw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "amilochau",
                                            "createdAt":  "2024-10-18T16:03:43Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "DanielToft",
                                            "createdAt":  "2024-12-02T22:20:24Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sfc-gh-mgolenia",
                                            "createdAt":  "2025-04-22T11:27:43Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-01-16T07:19:23Z",
        "body":  ".NET Aspire’s default is to expose Storage, Service Bus, CosmosDB, etc. to the public internet. This allows the ACA Container Apps to connect to the service without establishing a Virtual Network.\r\n\r\nFor database resources (like SQL and PostgreSQL), we limit it to only Azure IPs (which still means any service running in Azure, not just this app).\r\n\r\nWe should change the default experience to limit the created Azure Services to only be accessed by the apps created with Aspire. Developers would need to opt in to exposing their services publicly.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmqgCAw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Vxb8a",
                                           "createdAt":  "2024-12-02T20:36:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "We need to break this down into smaller chunks, so that we can have some things target 9.1 as we can\u0027t fit everything in 9.1",
                                           "updatedAt":  "2024-12-02T20:36:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z3CHj",
                                           "createdAt":  "2025-01-09T22:13:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danmoseley",
                                           "body":  "from talking to @eerhardt the first step here is to understand the problem and any dependencies we might need (eg., CDK support for vnets). this may not be something we can actually deliver in 9.1 but we do want to properly understand and set a plan.",
                                           "updatedAt":  "2025-01-09T22:13:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aqAID",
                                           "createdAt":  "2025-01-16T07:19:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @tg-msft ",
                                           "updatedAt":  "2025-01-16T07:19:22Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Improve Default Network Isolation of Azure Services",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "security 🔐"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6232",
        "createdAt":  "2024-10-10T13:35:06Z",
        "number":  6232,
        "author":  "stephentoub",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-28T06:29:45Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nThe OpenAIClient that Aspire registers in DI doesn\u0027t respect other services registered in DI, in particular HttpClient. That means any configuration for HttpClient, such as resiliency pipelines from Microsoft.Extensions.Http.Resilience, an ILogger plugged into that HttpClient\u0027s logging, and so on, end up not being respected.\n\n### Expected Behavior\n\nIf no options were provided in DI explicitly, the Aspire component should respect any HttpClient that was registered in DI. Here\u0027s what Semantic Kernel does, for example:\nhttps://github.com/microsoft/semantic-kernel/blob/cd40e2e079f1a657b25334e004f3c2e36f24a59c/dotnet/src/Agents/OpenAI/OpenAIClientProvider.cs#L130-L140\nturning off the built-in resiliency mechanisms of OpenAIClient and instead deferring to the HttpClient and the policies configured for it.\n```C#\n    private static void ConfigureClientOptions(HttpClient? httpClient, ClientPipelineOptions options)\n    {\n        options.AddPolicy(CreateRequestHeaderPolicy(HttpHeaderConstant.Names.SemanticKernelVersion, HttpHeaderConstant.Values.GetAssemblyVersion(typeof(OpenAIAssistantAgent))), PipelinePosition.PerCall);\n\n        if (httpClient is not null)\n        {\n            options.Transport = new HttpClientPipelineTransport(httpClient);\n            options.RetryPolicy = new ClientRetryPolicy(maxRetries: 0); // Disable retry policy if and only if a custom HttpClient is provided.\n            options.NetworkTimeout = Timeout.InfiniteTimeSpan; // Disable default timeout\n        }\n    }\n```\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOj8CPOQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6PYIYE",
                                           "createdAt":  "2024-10-10T15:41:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@annelo-msft @tg-msft @jsquire @KrzysztofCwalina @davidfowl @DamianEdwards - thoughts on how to think about the difference between the Azure.Core / System.ClientModel Http pipeline and the Http options configured via Microsoft.Extensions.Http (for example Microsoft.Extensions.Http.Resilience)?",
                                           "updatedAt":  "2024-10-10T15:41:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PYX0X",
                                           "createdAt":  "2024-10-10T16:12:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1oScQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jsquire",
                                                                               "createdAt":  "2024-10-10T16:59:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "annelo-msft",
                                           "body":  "We are currently working on AddClient extensions for SCM-based clients to support this and other DI scenarios.  These will support scenarios like this out of the box, and we hope the Aspire team will call these once available from Aspire component extensions.\n\nIn the meantime, I believe there\u0027s a relatively straightforward short term fix -- in [AspireOpenAIExtensions.cs](https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.OpenAI/AspireOpenAIExtensions.cs#L127), I believe you should be able to check whether an HttpClient has been added to the service collection, and if it has, add a custom transport to the client options that uses the injected HttpClient.  The latter would look similar to the sample @stephentoub shared that SK is doing:\n\n```csharp\n  options.Transport = new HttpClientPipelineTransport(httpClient);\n```\n\nLet me know if this approach won\u0027t work for some reason.  Thanks!",
                                           "updatedAt":  "2024-10-10T16:12:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PZUuq",
                                           "createdAt":  "2024-10-10T18:29:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "annelo-msft",
                                           "body":  "Per offline conversation, this approach risks overwriting important Azure/SCM client default HttpClient settings, as well as silently ignoring service-specific resiliency settings provided by client authors.  We will need to evaluate and make a plan for dealing with redundant functionality provided by Azure.Core/SCM defaults and Azure/SCM client authors vs an injected HttpClient before considering this a viable approach.",
                                           "updatedAt":  "2024-10-10T18:29:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PZkdo",
                                           "createdAt":  "2024-10-10T19:06:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stephentoub",
                                           "body":  "\u003e Per offline conversation, this approach risks overwriting important Azure/SCM client default HttpClient settings, as well as silently ignoring service-specific resiliency settings provided by client authors. We will need to evaluate and make a plan for dealing with redundant functionality provided by Azure.Core/SCM defaults and Azure/SCM client authors vs an injected HttpClient before considering this a viable approach.\n\nI think there are two conversations here: generally with regards to any possible SCM use, and specifically with regards to OpenAI.\n\nAre there OpenAI-specific policies that the approach in the opening post will overwrite?\n\nMy take is that this is an Aspire component, and Aspire has opinions about how all of this stuff should behave, which includes registering resilience policies in DI and using HttpClient from DI. Unless there\u0027s something else we\u0027re concerned would get overwritten, I\u0027d posit the right answer for now is for the Aspire.OpenAI component to grab the HttpClient from DI and use it to configure the OpenAIClientOptions, including disabling the OpenAIClient\u0027s built-in resilience mechanisms.",
                                           "updatedAt":  "2024-10-10T19:07:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PZr7w",
                                           "createdAt":  "2024-10-10T19:25:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "annelo-msft",
                                           "body":  "SCM does add custom settings to its default HttpClient in the same way that Azure.Core does.  We would need to provide a mechanism to maintain these settings.\n\nI am also concerned that -- while there aren\u0027t policies today I\u0027m aware of that have conflicting functionality with HttpClient -- this space is rapidly evolving and it seems likely that we could discover a need to customize e.g. retriable status codes.  Aspire may have a specific approach to this, but the OpenAI .NET client needs to function correctly outside of an Aspire context as well.  Depending on custom HttpClient injection prior to addressing the \"merge functional conflicts\" problem could cause changes/bug fixes made to the OpenAI .NET client to fail in Aspire components.",
                                           "updatedAt":  "2024-10-10T19:25:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PbBYa",
                                           "createdAt":  "2024-10-10T23:34:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stephentoub",
                                           "body":  "\u003e SCM does add custom settings to its default HttpClient in the same way that Azure.Core does. We would need to provide a mechanism to maintain these settings.\n\nSpecific to OpenAIClient, can you elaborate on exactly what these are?\n\nThis issue is in the context of Aspire, and from my perspective one of the main purposes of Aspire integrations is to configure components in a consistent manner throughout Aspire apps. That includes defaulting the HTTP pipeline to include standard resiliency mechanisms, and respecting any and all configuration others do to the HTTP pipeline in the DI container. If someone wants to inject their own OpenAIClient with their own policy, they can, rather than using the Aspire helper to do so. If someone wants to configure the injected OpenAIClienOptions so that the Aspire helper uses that when constructing a client, they can. I simply want it to be case that doing the default thing with the Aspire.OpenAI component respects what\u0027s in DI. I find it very surprising when I resolve one of these OpenAIClients the Aspire component configured that it doesn\u0027t pay attention to any of the other handiers I\u0027ve explicitly configured in DI via the rest of the Microsoft.Extensions.* libraries.\n\nIf the Aspire component doesn\u0027t do this, I think we\u0027ll find that customers do. Customers already are, as highlighted by the SK example.",
                                           "updatedAt":  "2024-10-10T23:41:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Pgdjq",
                                           "createdAt":  "2024-10-11T15:27:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "annelo-msft",
                                           "body":  "\u003e one of the main purposes of Aspire integrations is to configure components in a consistent manner throughout Aspire apps\n\nI love consistency!  But it wouldn\u0027t be consistent with Azure components, correct?  If we haven\u0027t solved the general problem for Azure.Core?",
                                           "updatedAt":  "2024-10-11T15:27:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PgxZP",
                                           "createdAt":  "2024-10-11T16:16:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "stephentoub",
                                           "body":  "\u003e \u003e one of the main purposes of Aspire integrations is to configure components in a consistent manner throughout Aspire apps\n\u003e \n\u003e I love consistency! But it wouldn\u0027t be consistent with Azure components, correct? If we haven\u0027t solved the general problem for Azure.Core?\n\nI think the Azure.Core ones should default to using HttpClient from DI as well.\n\nBut OpenAIClient is also _not_ Azure. Yes, Azure has a derivative, but we shouldn\u0027t be making decisions about OpenAI based on what Azure\u0027s needs are.",
                                           "updatedAt":  "2024-10-11T16:16:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PwI85",
                                           "createdAt":  "2024-10-14T16:43:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "annelo-msft",
                                           "body":  "\u003e we shouldn\u0027t be making decisions about OpenAI based on what Azure\u0027s needs are\n\nNot in the abstract sense, no -- I completely agree that conceptually Azure and third-party services should be independent.  But in this concrete instance, both the OpenAI .NET client and the Azure.AI.OpenAI .NET client are SCM-based clients, and I believe SCM-based clients should all behave the same way, regardless of what platform users are working with.  Azure clients being Azure.Core-based make them SCM-based as well, so I think it will be broadly beneficial to solve the SCM/HttpClient integration problem before moving forward with this.\n\nOne example of an undesirable behavior that could happen today by injecting HttpClient as currently proposed for OpenAI is if an end-user wanted to customize the OpenAI client retry policy.  Aspire setting a custom retry policy on the OpenAI client to disable the SCM pipeline\u0027s retry policy would overwrite the user-specified policy.  I think at a minimum we would want to detect this case and throw an exception to allow the application developer to intervene, vs. failing silently.",
                                           "updatedAt":  "2024-10-14T17:56:46Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "OpenAIClient is not respecting HttpClient from DI",
        "labels":  [
                       "area-integrations",
                       "area-meta",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6234",
        "createdAt":  "2024-10-10T16:22:33Z",
        "number":  6234,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODFbuTQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "adae-palfinger",
                                            "createdAt":  "2025-02-26T12:37:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2025-03-10T13:49:07Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Meir017",
                                            "createdAt":  "2025-06-03T08:08:46Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "DavidZidar",
                                            "createdAt":  "2025-06-07T20:49:13Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NoelOConnell",
                                            "createdAt":  "2025-07-02T11:53:13Z"
                                        }
                                    ],
                          "totalCount":  5
                      },
        "updatedAt":  "2025-06-03T08:08:21Z",
        "body":  "## Background and Motivation\n\nThere are scenarios where resource want to get the full emulator connection string from the Azure storage emulator (Azurite) resource. We have an internal method today\n\nhttps://github.com/dotnet/aspire/blob/b51d08a617a60ae30f8305d98f1e34e1ed90da1a/src/Aspire.Hosting.Azure.Storage/AzureStorageResource.cs#L49\n\n## Proposed API\n\n```diff\nnamespace Aspire.Hosting;\n\npublic class AzureStorageResource\n{\n+    public ReferenceExpression EmulatorConnectionString { get; }\n}\n```\n\n## Usage Examples\n\n```csharp\nvar storage = builder.AddAzureStorage(\"storage\")\n                   .RunAsEmulator();\nvar blobs = storage.AddBlobs(\"blobs\");\n\nif (storage.Resource.IsEmulator)\n{\n    // Add the Azure Storage Explorer container when running in the emulator\n\n    builder.AddContainer(\"storage-explorer\", \"sebagomez/azurestorageexplorer\")\n        .WithHttpEndpoint(targetPort: 8080)\n        .WithEnvironment(\"AZURE_STORAGE_CONNECTIONSTRING\", storage.Resource.EmulatorConnectionString);\n}\n```\n\n## Alternative Designs\n\nWe could make `AzureStorageResource` implement IResourceWithConnectionString and do the same. It would only work if `IsEmulator` was true.\n\n```diff\n+ public class AzureStorageResource : IResourceWithConnectionString\n{\n+    public ReferenceExpression ConnectionStringExpression =\u003e IsEmulator ? ... : throw new NotSupportedException(...);\n}\n```\n\n```csharp\nvar storage = builder.AddAzureStorage(\"storage\")\n                   .RunAsEmulator();\nvar blobs = storage.AddBlobs(\"blobs\");\n\nif (storage.Resource.IsEmulator)\n{\n    // Add the Azure Storage Explorer container when running in the emulator\n\n    builder.AddContainer(\"storage-explorer\", \"sebagomez/azurestorageexplorer\")\n        .WithHttpEndpoint(targetPort: 8080)\n        .WithEnvironment(\"AZURE_STORAGE_CONNECTIONSTRING\", storage);\n}\n```\n\n## Risks\n\nNone\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOoFingA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Q3uEK",
                                           "createdAt":  "2024-10-22T23:55:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Triage: Consider hanging this off the emulator resource directly.",
                                           "updatedAt":  "2024-10-22T23:55:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gWKeA",
                                           "createdAt":  "2025-02-28T09:32:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "adae-palfinger",
                                           "body":  "Implementing `IResourceWithConnectionString` would make more sense in my opinion",
                                           "updatedAt":  "2025-02-28T09:32:30Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Expose API on AzureStorageResource to get the emulator connection string",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-storage"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6237",
        "createdAt":  "2024-10-10T21:53:09Z",
        "number":  6237,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-06T23:55:14Z",
        "body":  "The current `AddPythonApp` methods have a few usability issues:\n\n- When it was renamed from `AddPythonProject`, the `projectDirectory` parameter wasn\u0027t renamed to `appDirectory`\n\n- The two overloads both have only `string` parameters and finish with a `params string[]` parameter, which means the compiler can\u0027t differentiate between them unless the `params` arg is passed as a `string[]`. Trying to call the overload with the shorter parameter count with at least one argument for the `params` parameter, results in the compiler binding to the overload with the longer parameter count:\n\n    ```csharp\n    // What I want to type to call \u0027./PythonApp/main.py arg1 arg2\u0027\n    builder.AddPythonApp(\"python-app\", \"../PythonApp\", \"main.py\", \"arg1\", \"arg2\");\n    \n    // This actually binds to the overload that accepts the location of the virtual environment directory, so this is actually what happens.\n    // This results in a runtime exception as the python resource verifies the specified virtual environment path exists and throws if not.\n    builder.AddPythonApp(name: \"python-app\", projectDirectory: \"./PythonApp\", scriptPath: \"main.py\", virtualEnvironmentPath: \"arg1\", \"arg2\");\n\n    // This is the workaround\n    builder.AddPythonApp(\"python-app\", \"../PythonApp\", \"main.py\", [\"arg1\", \"arg2\"]);\n    ```\n    \n    ![Image](https://github.com/user-attachments/assets/aa747e0e-5a03-4ac6-929d-c2e07efed8b8)\n\n- There\u0027s no first-class overload or different method to support running python apps where a [module is the entrypoint](https://docs.python.org/3/using/cmdline.html#cmdoption-m) and figuring out how to invoke the overloads that are there such that a module is used as the entrypoint is confusing due to the parameter counts and names. When combined with the previous point, this is what is required to run a Python app using a module as the entrypoint:\n\n    ```csharp\n    // You need to pass \"-m\" as the value for the \u0027scriptPath\u0027 parameter:\n    builder.AddPythonApp(\"python-app-module\", \"../PythonApp\", scriptPath: \"-m\", [\"module-name\", \"moduleArg1\"]);\n    ```\n\n- The integration requires the use of [Python virtual environments](https://docs.python.org/3.12/library/venv.html), but not all Python apps use them. Some apps use no virtual environments, others use virtual environments managed by a different toolchain like [Miniconda](https://docs.anaconda.com/miniconda/). Furthermore, the virtual environment is not created or activated automatically by the integration. As the recommendation is to not include the virtual environment directory in source control, the user must manually create and activate the virtual environment, and install dependencies into it, before launching the app host project, after cloning or cleaning their local clone. We should consider:\n  - Supporting Python apps that don\u0027t use virtual environments or use virtual environments and/or package managers other than Pip\n  - Doing more to automate bootstrapping virtual environments for apps that use them\n\n- Similar to the point above about running a Python app where a module is the entry point, some Python apps use a completely different executable as the entry point, i.e., something other than `python`. Indeed on Ubuntu and other distros the default python command is `python3`, not `python`. Frameworks like Flask have their own command, i.e., `flask`.\n\n- `PythonAppResource` is in the namespace `Aspire.Hosting.Python`, whereas `NodeAppResource` is directly in `Aspire.Hosting`. This is inconsistent, we should put `PythonAppResource` in `Aspire.Hosting`.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvHeYZw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6PxTwK",
                                           "createdAt":  "2024-10-14T19:37:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "Discussed this offline. We should try to minimize the changes that go into 9.0 at this point, so if there are issues with the new API, we should consider marking it as experimental so we get more bake time.",
                                           "updatedAt":  "2024-10-14T19:37:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QQt1S",
                                           "createdAt":  "2024-10-17T18:54:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "Please consider also the case where the python application fails to run and the console output is completely empty.\nThere is also no output in the output AppHost output window.\nAnyway, the same command line used by Aspire, can run successfully when running it from the command prompt.\nI would expect catching the stdout+stderr to the Console window as well.",
                                           "updatedAt":  "2024-10-17T18:54:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QRZfx",
                                           "createdAt":  "2024-10-17T20:20:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e Please consider also the case where the python application fails to run and the console output is completely empty.\nThere is also no output in the output AppHost output window.\n\nHmm I didn\u0027t see that particular issue, but note I was using Aspire 9 bits. I definitely saw error logs from the failing Python app in the console logs of the Python resource.",
                                           "updatedAt":  "2024-10-17T20:20:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QRfm3",
                                           "createdAt":  "2024-10-17T20:36:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "It looks like that when the Python process fails prematurely, the Console does not show anything.\nI tried to put a print at the very beginning but nothing.\nI only see a mysterious exit with error code 1",
                                           "updatedAt":  "2024-10-17T20:36:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QRtkt",
                                           "createdAt":  "2024-10-17T20:58:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "How prematurely? Can you share a minimal repro, preferably as a GitHub repo?",
                                           "updatedAt":  "2024-10-17T20:58:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QRx-x",
                                           "createdAt":  "2024-10-17T21:10:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "The Python code is ok as I can launch it on the cmd.\nIt also works correctly using .AddDockerfile.\n\nI tried reducing the code to the sample Python code shown in AddPythonProject docs which uses flask to listen on 8111.\nWhile I may have something wrong with the solution, the real issue is the inability to diagnose a failure when launching it.\nI can only see a socket exception in the AppHost output window which does not provide any clue.\n\nI will try tomorrow (now it\u0027s night here) to create a new solution in a public repo.",
                                           "updatedAt":  "2024-10-17T21:10:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6QRyzX",
                                           "createdAt":  "2024-10-17T21:12:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "\u003e How prematurely \n\nIt immediately exit at launch time. I suspect it is so fast that the Aspire console is unable to capture the Python exit message (if any).\nThe other suspect is that it fails running the process completely but there is no message suggesting it",
                                           "updatedAt":  "2024-10-17T21:12:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Q6A5M",
                                           "createdAt":  "2024-10-23T07:21:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "@DamianEdwards sorry for the delay but I wanted to test the scenario on Aspire9 first:\nhttps://github.com/raffaeler/aspire9tests\n\nThe issue is still there on the newest bits. It\u0027s worth noting:\n1. This project comes from the version 8 templates. I just renamed `AddPythonProject` to `AddPythonApp`\n2. On version 9 I see the `.AddDockerfile` successfully creates the container (inside it runs ok) but it looks inaccessible from the host machine. On Aspire 8 the `.AddDockerfile` works correctly\n3. I am always running the `http` profile, but be aware that I created and installed my own localhost certificate chain (not needed in this repro, but it is in the real project). May this be the culprit even if I am on the `http` profile?\n\nWhat is disturbing is the difficulty in diagnosing what\u0027s going wrong.\nWhat\u0027s the best way to diagnose the issue here?\n\nThanks",
                                           "updatedAt":  "2024-10-23T07:21:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6REuXg",
                                           "createdAt":  "2024-10-24T00:38:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I see the logs from failing to build the container in the app host logs:\n\n```\nfail: Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler[0]\n      could not build the image {\"Container\": {\"name\":\"pythoncontainer1-etsxvwca\"}, \"Reconciliation\": 3, \"error\": \"could not open the image ID file: open C:\\\\Users\\\\damian\\\\AppData\\\\Local\\\\Temp\\\\aspire.mt4jaaey.0y4\\\\pythoncontainer1-etsxvwca_iid_e35308d1-6dd8-4c65-ac1f-f07b23e3dcf0: The system cannot find the file specified.\\ndocker command \u0027BuildImage\u0027 returned with non-zero exit code 1: command output: Stdout: \u0027\u0027 Stderr: \u0027#0 building with \\\"desktop-linux\\\" instance using docker driver\\n\\n#1 [internal] load build definition from Dockerfile\\n#1 transferring dockerfile: 534B done\\n#1 DONE 0.0s\\n\\n#2 [internal] load metadata for docker.io/library/python:alpine\\n#2 DONE 0.4s\\n\\n#3 [internal] load .dockerignore\\n#3 transferring context: 62B done\\n#3 DONE 0.0s\\n\\n#4 [1/6] FROM docker.io/library/python:alpine@sha256:c38ead8bcf521573dad837d7ecfdebbc87792202e89953ba8b2b83a9c5a520b6\\n#4 DONE 0.0s\\n\\n#5 [internal] load build context\\n#5 transferring context: 375B done\\n#5 DONE 0.0s\\n\\n#6 [2/6] COPY . /app\\n#6 CACHED\\n\\n#7 [3/6] WORKDIR /app\\n#7 CACHED\\n\\n#8 [4/6] RUN chmod +x boot.sh\\n#8 CACHED\\n\\n#9 [5/6] RUN chmod +x run.sh\\n#9 CACHED\\n\\n#10 [6/6] RUN ./boot.sh\\n#10 0.214 /bin/sh: ./boot.sh: not found\\n#10 ERROR: process \\\"/bin/sh -c ./boot.sh\\\" did not complete successfully: exit code: 127\\n------\\n \u003e [6/6] RUN ./boot.sh:\\n0.214 /bin/sh: ./boot.sh: not found\\n------\\nDockerfile:9\\n--------------------\\n   7 |     RUN chmod +x boot.sh\\r\\n   8 |     RUN chmod +x run.sh\\r\\n   9 | \u003e\u003e\u003e RUN ./boot.sh\\r\\n  10 |     \\r\\n  11 |     #ENV REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt\\r\\n--------------------\\nERROR: failed to solve: process \\\"/bin/sh -c ./boot.sh\\\" did not complete successfully: exit code: 127\\n\\nView build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/jah1htempm32qw5t7pwneveg1\\n\u0027\"}\n```\n\nThe important bits, formatted:\n\n```\n#10 [6/6] RUN ./boot.sh\n#10 0.214 /bin/sh: ./boot.sh: not found\n#10 ERROR: process \\\"/bin/sh -c ./boot.sh\\\" did not complete successfully: exit code: 127\n\n------\n\u003e [6/6] RUN ./boot.sh:\n0.214 /bin/sh: ./boot.sh: not found\n------\nDockerfile:9\n--------------------\n  7 |     RUN chmod +x boot.sh\\r\n  8 |     RUN chmod +x run.sh\\r\n  9 | \u003e\u003e\u003e RUN ./boot.sh\\r\n  10 |     \\r\n  11 |     #ENV REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt\\r\n--------------------\nERROR: failed to solve: process \\\"/bin/sh -c ./boot.sh\\\" did not complete successfully: exit code: 127\n```\n\nExit code 127 means the command wasn\u0027t found. I think the line in the Dockerfile should be `RUN . ./boot.sh`? When I change it to that, it gets much further, to the point that the failures are now in `boot.sh` itself:\n\n![Image](https://github.com/user-attachments/assets/fce0bc63-edb6-4fad-a528-6a2220253882)\n",
                                           "updatedAt":  "2024-10-24T00:38:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RGm4O",
                                           "createdAt":  "2024-10-24T06:43:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "This is weird. I can smoothly run the exact code that I commited. My logs are the following:\n\n```\n2024-10-24T08:34:23 #0 building with \"desktop-linux\" instance using docker driver\n2024-10-24T08:34:23 \n2024-10-24T08:34:23 #1 [internal] load build definition from Dockerfile\n2024-10-24T08:34:23 #1 transferring dockerfile: 534B 0.1s done\n2024-10-24T08:34:23 #1 DONE 0.2s\n2024-10-24T08:34:23 \n2024-10-24T08:34:23 #2 [internal] load metadata for docker.io/library/python:alpine\n2024-10-24T08:34:24 #2 ...\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #3 [auth] library/python:pull token for registry-1.docker.io\n2024-10-24T08:34:24 #3 DONE 0.0s\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #2 [internal] load metadata for docker.io/library/python:alpine\n2024-10-24T08:34:24 #2 DONE 1.0s\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #4 [internal] load .dockerignore\n2024-10-24T08:34:24 #4 transferring context: 62B 0.0s done\n2024-10-24T08:34:24 #4 DONE 0.0s\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #5 [1/6] FROM docker.io/library/python:alpine@sha256:c38ead8bcf521573dad837d7ecfdebbc87792202e89953ba8b2b83a9c5a520b6\n2024-10-24T08:34:24 #5 DONE 0.0s\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #6 [internal] load build context\n2024-10-24T08:34:24 #6 transferring context: 464B done\n2024-10-24T08:34:24 #6 DONE 0.0s\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #7 [3/6] WORKDIR /app\n2024-10-24T08:34:24 #7 CACHED\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #8 [4/6] RUN chmod +x boot.sh\n2024-10-24T08:34:24 #8 CACHED\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #9 [2/6] COPY . /app\n2024-10-24T08:34:24 #9 CACHED\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #10 [5/6] RUN chmod +x run.sh\n2024-10-24T08:34:24 #10 CACHED\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #11 [6/6] RUN ./boot.sh\n2024-10-24T08:34:24 #11 CACHED\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 #12 exporting to image\n2024-10-24T08:34:24 #12 exporting layers done\n2024-10-24T08:34:24 #12 writing image sha256:3d90f229fc3b4b0603f7d8d2aeddde7031d2bf92bbf4167e5bcb352423685cbc 0.0s done\n2024-10-24T08:34:24 #12 naming to docker.io/library/pythoncontainer1-image-7a045c8543bc71ba1776861390d0ced673e90db9:latest\n2024-10-24T08:34:24 #12 naming to docker.io/library/pythoncontainer1-image-7a045c8543bc71ba1776861390d0ced673e90db9:latest done\n2024-10-24T08:34:24 #12 DONE 0.1s\n2024-10-24T08:34:24 \n2024-10-24T08:34:24 View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/ppuub5nhh52hkjx3qbfe8srg9\n2024-10-24T08:34:25 2987b1514dcb5869b86c04adee16122db52642129f18a92ac513ff8bd5c42e97\n2024-10-24T08:34:29 \n2024-10-24T08:34:29 2987b1514dcb5869b86c04adee16122db52642129f18a92ac513ff8bd5c42e97\n2024-10-24T08:34:30\n [2024-10-24 06:34:30 +0000] [8] [INFO] Starting gunicorn 23.0.0\n2024-10-24T08:34:30\n [2024-10-24 06:34:30 +0000] [8] [INFO] Listening at: http://0.0.0.0:8111 (8)\n2024-10-24T08:34:30\n [2024-10-24 06:34:30 +0000] [8] [INFO] Using worker: sync\n2024-10-24T08:34:30\n [2024-10-24 06:34:30 +0000] [22] [INFO] Booting worker with pid: 22\n2024-10-24T08:34:30 baz\n2024-10-24T08:34:30  * Serving Flask app \u0027app2\u0027\n2024-10-24T08:34:30  * Debug mode: off\n```\n\nAfter this log  I start seeing the telemetry which is also available in the dashboard.\n\nThe container starts correctly but under Aspire9 it cannot be reached.\nUnder Apire8 I could regularly use the container.",
                                           "updatedAt":  "2024-10-24T06:43:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RGsur",
                                           "createdAt":  "2024-10-24T06:56:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "And this is the (still successful) \"extended\" log obtained by deleting the virtual environment on the host machine:\n\n```\n2024-10-24T08:54:32 #0 building with \"desktop-linux\" instance using docker driver\n2024-10-24T08:54:32 \n2024-10-24T08:54:32 #1 [internal] load build definition from Dockerfile\n2024-10-24T08:54:32 #1 transferring dockerfile: 534B 0.1s done\n2024-10-24T08:54:32 #1 DONE 0.2s\n2024-10-24T08:54:32 \n2024-10-24T08:54:32 #2 [internal] load metadata for docker.io/library/python:alpine\n2024-10-24T08:54:33 #2 ...\n2024-10-24T08:54:33 \n2024-10-24T08:54:33 #3 [auth] library/python:pull token for registry-1.docker.io\n2024-10-24T08:54:33 #3 DONE 0.0s\n2024-10-24T08:54:33 \n2024-10-24T08:54:33 #2 [internal] load metadata for docker.io/library/python:alpine\n2024-10-24T08:54:33 #2 DONE 1.3s\n2024-10-24T08:54:34 \n2024-10-24T08:54:34 #4 [internal] load .dockerignore\n2024-10-24T08:54:34 #4 transferring context: 62B 0.0s done\n2024-10-24T08:54:34 #4 DONE 0.2s\n2024-10-24T08:54:34 \n2024-10-24T08:54:34 #5 [1/6] FROM docker.io/library/python:alpine@sha256:c38ead8bcf521573dad837d7ecfdebbc87792202e89953ba8b2b83a9c5a520b6\n2024-10-24T08:54:34 #5 DONE 0.0s\n2024-10-24T08:54:34 \n2024-10-24T08:54:34 #6 [internal] load build context\n2024-10-24T08:54:34 #6 transferring context: 374B 0.0s done\n2024-10-24T08:54:34 #6 DONE 0.2s\n2024-10-24T08:54:34 \n2024-10-24T08:54:34 #5 [1/6] FROM docker.io/library/python:alpine@sha256:c38ead8bcf521573dad837d7ecfdebbc87792202e89953ba8b2b83a9c5a520b6\n2024-10-24T08:54:34 #5 CACHED\n2024-10-24T08:54:34 \n2024-10-24T08:54:34 #7 [2/6] COPY . /app\n2024-10-24T08:54:34 #7 DONE 0.3s\n2024-10-24T08:54:34 \n2024-10-24T08:54:34 #8 [3/6] WORKDIR /app\n2024-10-24T08:54:34 #8 DONE 0.2s\n2024-10-24T08:54:35 \n2024-10-24T08:54:35 #9 [4/6] RUN chmod +x boot.sh\n2024-10-24T08:54:35 #9 DONE 0.4s\n2024-10-24T08:54:35 \n2024-10-24T08:54:35 #10 [5/6] RUN chmod +x run.sh\n2024-10-24T08:54:35 #10 DONE 0.5s\n2024-10-24T08:54:36 \n2024-10-24T08:54:36 #11 [6/6] RUN ./boot.sh\n2024-10-24T08:54:38 #11 2.208 Collecting virtualenv\n2024-10-24T08:54:38 #11 2.259   Downloading virtualenv-20.27.0-py3-none-any.whl.metadata (4.5 kB)\n2024-10-24T08:54:38 #11 2.304 Collecting distlib\u003c1,\u003e=0.3.7 (from virtualenv)\n2024-10-24T08:54:38 #11 2.314   Downloading distlib-0.3.9-py2.py3-none-any.whl.metadata (5.2 kB)\n2024-10-24T08:54:38 #11 2.374 Collecting filelock\u003c4,\u003e=3.12.2 (from virtualenv)\n2024-10-24T08:54:38 #11 2.384   Downloading filelock-3.16.1-py3-none-any.whl.metadata (2.9 kB)\n2024-10-24T08:54:38 #11 2.452 Collecting platformdirs\u003c5,\u003e=3.9.1 (from virtualenv)\n2024-10-24T08:54:38 #11 2.463   Downloading platformdirs-4.3.6-py3-none-any.whl.metadata (11 kB)\n2024-10-24T08:54:38 #11 2.488 Downloading virtualenv-20.27.0-py3-none-any.whl (3.1 MB)\n2024-10-24T08:54:38 #11 2.608    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 28.7 MB/s eta 0:00:00\n2024-10-24T08:54:38 #11 2.617 Downloading distlib-0.3.9-py2.py3-none-any.whl (468 kB)\n2024-10-24T08:54:38 #11 2.653 Downloading filelock-3.16.1-py3-none-any.whl (16 kB)\n2024-10-24T08:54:38 #11 2.675 Downloading platformdirs-4.3.6-py3-none-any.whl (18 kB)\n2024-10-24T08:54:38 #11 2.703 Installing collected packages: distlib, platformdirs, filelock, virtualenv\n2024-10-24T08:54:38 #11 2.914 Successfully installed distlib-0.3.9 filelock-3.16.1 platformdirs-4.3.6 virtualenv-20.27.0\n2024-10-24T08:54:38 #11 2.914 WARNING: Running pip as the \u0027root\u0027 user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.\n2024-10-24T08:54:41 #11 5.200 Collecting Flask==3.0.3 (from -r requirements.txt (line 1))\n2024-10-24T08:54:41 #11 5.237   Downloading flask-3.0.3-py3-none-any.whl.metadata (3.2 kB)\n2024-10-24T08:54:41 #11 5.259 Collecting gunicorn (from -r requirements.txt (line 3))\n2024-10-24T08:54:41 #11 5.270   Downloading gunicorn-23.0.0-py3-none-any.whl.metadata (4.4 kB)\n2024-10-24T08:54:41 #11 5.294 Collecting opentelemetry-distro[otlp] (from -r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.304   Downloading opentelemetry_distro-0.48b0-py3-none-any.whl.metadata (1.6 kB)\n2024-10-24T08:54:41 #11 5.336 Collecting Werkzeug\u003e=3.0.0 (from Flask==3.0.3-\u003e-r requirements.txt (line 1))\n2024-10-24T08:54:41 #11 5.345   Downloading werkzeug-3.0.4-py3-none-any.whl.metadata (3.7 kB)\n2024-10-24T08:54:41 #11 5.363 Collecting Jinja2\u003e=3.1.2 (from Flask==3.0.3-\u003e-r requirements.txt (line 1))\n2024-10-24T08:54:41 #11 5.372   Downloading jinja2-3.1.4-py3-none-any.whl.metadata (2.6 kB)\n2024-10-24T08:54:41 #11 5.386 Collecting itsdangerous\u003e=2.1.2 (from Flask==3.0.3-\u003e-r requirements.txt (line 1))\n2024-10-24T08:54:41 #11 5.395   Downloading itsdangerous-2.2.0-py3-none-any.whl.metadata (1.9 kB)\n2024-10-24T08:54:41 #11 5.421 Collecting click\u003e=8.1.3 (from Flask==3.0.3-\u003e-r requirements.txt (line 1))\n2024-10-24T08:54:41 #11 5.431   Downloading click-8.1.7-py3-none-any.whl.metadata (3.0 kB)\n2024-10-24T08:54:41 #11 5.446 Collecting blinker\u003e=1.6.2 (from Flask==3.0.3-\u003e-r requirements.txt (line 1))\n2024-10-24T08:54:41 #11 5.455   Downloading blinker-1.8.2-py3-none-any.whl.metadata (1.6 kB)\n2024-10-24T08:54:41 #11 5.481 Collecting opentelemetry-api~=1.12 (from opentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.494   Downloading opentelemetry_api-1.27.0-py3-none-any.whl.metadata (1.4 kB)\n2024-10-24T08:54:41 #11 5.517 Collecting opentelemetry-instrumentation==0.48b0 (from opentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.525   Downloading opentelemetry_instrumentation-0.48b0-py3-none-any.whl.metadata (6.1 kB)\n2024-10-24T08:54:41 #11 5.549 Collecting opentelemetry-sdk~=1.13 (from opentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.558   Downloading opentelemetry_sdk-1.27.0-py3-none-any.whl.metadata (1.5 kB)\n2024-10-24T08:54:41 #11 5.578 Collecting opentelemetry-exporter-otlp==1.27.0 (from opentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.590   Downloading opentelemetry_exporter_otlp-1.27.0-py3-none-any.whl.metadata (2.3 kB)\n2024-10-24T08:54:41 #11 5.612 Collecting opentelemetry-exporter-otlp-proto-grpc==1.27.0 (from opentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.625   Downloading opentelemetry_exporter_otlp_proto_grpc-1.27.0-py3-none-any.whl.metadata (2.3 kB)\n2024-10-24T08:54:41 #11 5.644 Collecting opentelemetry-exporter-otlp-proto-http==1.27.0 (from opentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.654   Downloading opentelemetry_exporter_otlp_proto_http-1.27.0-py3-none-any.whl.metadata (2.3 kB)\n2024-10-24T08:54:41 #11 5.822 Collecting setuptools\u003e=16.0 (from opentelemetry-instrumentation==0.48b0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.831   Downloading setuptools-75.2.0-py3-none-any.whl.metadata (6.9 kB)\n2024-10-24T08:54:41 #11 5.911 Collecting wrapt\u003c2.0.0,\u003e=1.0.0 (from opentelemetry-instrumentation==0.48b0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:41 #11 5.922   Downloading wrapt-1.16.0-py3-none-any.whl.metadata (6.6 kB)\n2024-10-24T08:54:42 #11 5.941 Collecting deprecated\u003e=1.2.6 (from opentelemetry-exporter-otlp-proto-grpc==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 5.949   Downloading Deprecated-1.2.14-py2.py3-none-any.whl.metadata (5.4 kB)\n2024-10-24T08:54:42 #11 5.977 Collecting googleapis-common-protos~=1.52 (from opentelemetry-exporter-otlp-proto-grpc==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 5.987   Downloading googleapis_common_protos-1.65.0-py2.py3-none-any.whl.metadata (1.5 kB)\n2024-10-24T08:54:42 #11 6.363 Collecting grpcio\u003c2.0.0,\u003e=1.0.0 (from opentelemetry-exporter-otlp-proto-grpc==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.373   Downloading grpcio-1.67.0-cp313-cp313-musllinux_1_1_x86_64.whl.metadata (3.9 kB)\n2024-10-24T08:54:42 #11 6.395 Collecting opentelemetry-exporter-otlp-proto-common==1.27.0 (from opentelemetry-exporter-otlp-proto-grpc==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.404   Downloading opentelemetry_exporter_otlp_proto_common-1.27.0-py3-none-any.whl.metadata (1.8 kB)\n2024-10-24T08:54:42 #11 6.424 Collecting opentelemetry-proto==1.27.0 (from opentelemetry-exporter-otlp-proto-grpc==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.434   Downloading opentelemetry_proto-1.27.0-py3-none-any.whl.metadata (2.3 kB)\n2024-10-24T08:54:42 #11 6.474 Collecting requests~=2.7 (from opentelemetry-exporter-otlp-proto-http==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.483   Downloading requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)\n2024-10-24T08:54:42 #11 6.631 Collecting protobuf\u003c5.0,\u003e=3.19 (from opentelemetry-proto==1.27.0-\u003eopentelemetry-exporter-otlp-proto-grpc==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.641   Downloading protobuf-4.25.5-py3-none-any.whl.metadata (541 bytes)\n2024-10-24T08:54:42 #11 6.663 Collecting packaging (from gunicorn-\u003e-r requirements.txt (line 3))\n2024-10-24T08:54:42 #11 6.672   Downloading packaging-24.1-py3-none-any.whl.metadata (3.2 kB)\n2024-10-24T08:54:42 #11 6.722 Collecting MarkupSafe\u003e=2.0 (from Jinja2\u003e=3.1.2-\u003eFlask==3.0.3-\u003e-r requirements.txt (line 1))\n2024-10-24T08:54:42 #11 6.734   Downloading MarkupSafe-3.0.2-cp313-cp313-musllinux_1_2_x86_64.whl.metadata (4.0 kB)\n2024-10-24T08:54:42 #11 6.783 Collecting importlib-metadata\u003c=8.4.0,\u003e=6.0 (from opentelemetry-api~=1.12-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.792   Downloading importlib_metadata-8.4.0-py3-none-any.whl.metadata (4.7 kB)\n2024-10-24T08:54:42 #11 6.821 Collecting opentelemetry-semantic-conventions==0.48b0 (from opentelemetry-sdk~=1.13-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.831   Downloading opentelemetry_semantic_conventions-0.48b0-py3-none-any.whl.metadata (2.4 kB)\n2024-10-24T08:54:42 #11 6.850 Collecting typing-extensions\u003e=3.7.4 (from opentelemetry-sdk~=1.13-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.860   Downloading typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)\n2024-10-24T08:54:42 #11 6.892 Collecting zipp\u003e=0.5 (from importlib-metadata\u003c=8.4.0,\u003e=6.0-\u003eopentelemetry-api~=1.12-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 6.901   Downloading zipp-3.20.2-py3-none-any.whl.metadata (3.7 kB)\n2024-10-24T08:54:42 #11 6.994 Collecting charset-normalizer\u003c4,\u003e=2 (from requests~=2.7-\u003eopentelemetry-exporter-otlp-proto-http==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 7.007   Downloading charset_normalizer-3.4.0-cp313-cp313-musllinux_1_2_x86_64.whl.metadata (34 kB)\n2024-10-24T08:54:42 #11 7.027 Collecting idna\u003c4,\u003e=2.5 (from requests~=2.7-\u003eopentelemetry-exporter-otlp-proto-http==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 7.035   Downloading idna-3.10-py3-none-any.whl.metadata (10 kB)\n2024-10-24T08:54:42 #11 7.074 Collecting urllib3\u003c3,\u003e=1.21.1 (from requests~=2.7-\u003eopentelemetry-exporter-otlp-proto-http==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:42 #11 7.082   Downloading urllib3-2.2.3-py3-none-any.whl.metadata (6.5 kB)\n2024-10-24T08:54:42 #11 7.108 Collecting certifi\u003e=2017.4.17 (from requests~=2.7-\u003eopentelemetry-exporter-otlp-proto-http==1.27.0-\u003eopentelemetry-exporter-otlp==1.27.0-\u003eopentelemetry-distro[otlp]-\u003e-r requirements.txt (line 2))\n2024-10-24T08:54:43 #11 7.119   Downloading certifi-2024.8.30-py3-none-any.whl.metadata (2.2 kB)\n2024-10-24T08:54:43 #11 7.137 Downloading flask-3.0.3-py3-none-any.whl (101 kB)\n2024-10-24T08:54:43 #11 7.154 Downloading opentelemetry_exporter_otlp-1.27.0-py3-none-any.whl (7.0 kB)\n2024-10-24T08:54:43 #11 7.163 Downloading opentelemetry_instrumentation-0.48b0-py3-none-any.whl (29 kB)\n2024-10-24T08:54:43 #11 7.178 Downloading opentelemetry_exporter_otlp_proto_grpc-1.27.0-py3-none-any.whl (18 kB)\n2024-10-24T08:54:43 #11 7.188 Downloading opentelemetry_exporter_otlp_proto_http-1.27.0-py3-none-any.whl (17 kB)\n2024-10-24T08:54:43 #11 7.197 Downloading opentelemetry_exporter_otlp_proto_common-1.27.0-py3-none-any.whl (17 kB)\n2024-10-24T08:54:43 #11 7.207 Downloading opentelemetry_proto-1.27.0-py3-none-any.whl (52 kB)\n2024-10-24T08:54:43 #11 7.217 Downloading gunicorn-23.0.0-py3-none-any.whl (85 kB)\n2024-10-24T08:54:43 #11 7.226 Downloading blinker-1.8.2-py3-none-any.whl (9.5 kB)\n2024-10-24T08:54:43 #11 7.236 Downloading click-8.1.7-py3-none-any.whl (97 kB)\n2024-10-24T08:54:43 #11 7.246 Downloading itsdangerous-2.2.0-py3-none-any.whl (16 kB)\n2024-10-24T08:54:43 #11 7.254 Downloading jinja2-3.1.4-py3-none-any.whl (133 kB)\n2024-10-24T08:54:43 #11 7.273 Downloading opentelemetry_api-1.27.0-py3-none-any.whl (63 kB)\n2024-10-24T08:54:43 #11 7.284 Downloading opentelemetry_sdk-1.27.0-py3-none-any.whl (110 kB)\n2024-10-24T08:54:43 #11 7.294 Downloading opentelemetry_semantic_conventions-0.48b0-py3-none-any.whl (149 kB)\n2024-10-24T08:54:43 #11 7.308 Downloading werkzeug-3.0.4-py3-none-any.whl (227 kB)\n2024-10-24T08:54:43 #11 7.323 Downloading opentelemetry_distro-0.48b0-py3-none-any.whl (3.3 kB)\n2024-10-24T08:54:43 #11 7.331 Downloading packaging-24.1-py3-none-any.whl (53 kB)\n2024-10-24T08:54:43 #11 7.344 Downloading Deprecated-1.2.14-py2.py3-none-any.whl (9.6 kB)\n2024-10-24T08:54:43 #11 7.354 Downloading importlib_metadata-8.4.0-py3-none-any.whl (26 kB)\n2024-10-24T08:54:43 #11 7.364 Downloading MarkupSafe-3.0.2-cp313-cp313-musllinux_1_2_x86_64.whl (23 kB)\n2024-10-24T08:54:43 #11 7.374 Downloading setuptools-75.2.0-py3-none-any.whl (1.2 MB)\n2024-10-24T08:54:43 #11 7.409    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 41.0 MB/s eta 0:00:00\n2024-10-24T08:54:43 #11 7.417 Downloading typing_extensions-4.12.2-py3-none-any.whl (37 kB)\n2024-10-24T08:54:43 #11 7.432 Downloading wrapt-1.16.0-py3-none-any.whl (23 kB)\n2024-10-24T08:54:43 #11 7.439 Downloading googleapis_common_protos-1.65.0-py2.py3-none-any.whl (220 kB)\n2024-10-24T08:54:43 #11 7.458 Downloading grpcio-1.67.0-cp313-cp313-musllinux_1_1_x86_64.whl (6.1 MB)\n2024-10-24T08:54:43 #11 7.706    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.1/6.1 MB 25.5 MB/s eta 0:00:00\n2024-10-24T08:54:43 #11 7.722 Downloading requests-2.32.3-py3-none-any.whl (64 kB)\n2024-10-24T08:54:43 #11 7.745 Downloading zipp-3.20.2-py3-none-any.whl (9.2 kB)\n2024-10-24T08:54:43 #11 7.761 Downloading certifi-2024.8.30-py3-none-any.whl (167 kB)\n2024-10-24T08:54:43 #11 7.788 Downloading charset_normalizer-3.4.0-cp313-cp313-musllinux_1_2_x86_64.whl (144 kB)\n2024-10-24T08:54:43 #11 7.832 Downloading idna-3.10-py3-none-any.whl (70 kB)\n2024-10-24T08:54:43 #11 7.846 Downloading protobuf-4.25.5-py3-none-any.whl (156 kB)\n2024-10-24T08:54:43 #11 7.871 Downloading urllib3-2.2.3-py3-none-any.whl (126 kB)\n2024-10-24T08:54:43 #11 7.964 Installing collected packages: zipp, wrapt, urllib3, typing-extensions, setuptools, protobuf, packaging, MarkupSafe, itsdangerous, idna, grpcio, click, charset-normalizer, certifi, blinker, Werkzeug, requests, opentelemetry-proto, Jinja2, importlib-metadata, gunicorn, googleapis-common-protos, deprecated, opentelemetry-exporter-otlp-proto-common, opentelemetry-api, Flask, opentelemetry-semantic-conventions, opentelemetry-instrumentation, opentelemetry-sdk, opentelemetry-exporter-otlp-proto-http, opentelemetry-exporter-otlp-proto-grpc, opentelemetry-distro, opentelemetry-exporter-otlp\n2024-10-24T08:54:46 #11 10.25 Successfully installed Flask-3.0.3 Jinja2-3.1.4 MarkupSafe-3.0.2 Werkzeug-3.0.4 blinker-1.8.2 certifi-2024.8.30 charset-normalizer-3.4.0 click-8.1.7 deprecated-1.2.14 googleapis-common-protos-1.65.0 grpcio-1.67.0 gunicorn-23.0.0 idna-3.10 importlib-metadata-8.4.0 itsdangerous-2.2.0 opentelemetry-api-1.27.0 opentelemetry-distro-0.48b0 opentelemetry-exporter-otlp-1.27.0 opentelemetry-exporter-otlp-proto-common-1.27.0 opentelemetry-exporter-otlp-proto-grpc-1.27.0 opentelemetry-exporter-otlp-proto-http-1.27.0 opentelemetry-instrumentation-0.48b0 opentelemetry-proto-1.27.0 opentelemetry-sdk-1.27.0 opentelemetry-semantic-conventions-0.48b0 packaging-24.1 protobuf-4.25.5 requests-2.32.3 setuptools-75.2.0 typing-extensions-4.12.2 urllib3-2.2.3 wrapt-1.16.0 zipp-3.20.2\n2024-10-24T08:54:46 #11 DONE 10.7s\n2024-10-24T08:54:46 \n2024-10-24T08:54:46 #12 exporting to image\n2024-10-24T08:54:46 #12 exporting layers\n2024-10-24T08:54:47 #12 exporting layers 0.8s done\n2024-10-24T08:54:47 #12 writing image sha256:98a50f89876b10141a2fd5b84c1164aeffa75d46cf0431aa219dee348e7b4ca0\n2024-10-24T08:54:47 #12 writing image sha256:98a50f89876b10141a2fd5b84c1164aeffa75d46cf0431aa219dee348e7b4ca0 done\n2024-10-24T08:54:47 #12 naming to docker.io/library/pythoncontainer1-image-7a045c8543bc71ba1776861390d0ced673e90db9:latest 0.0s done\n2024-10-24T08:54:47 #12 DONE 0.9s\n2024-10-24T08:54:47 \n2024-10-24T08:54:47 View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/kg924l8k4txftl5fs6dmoe94j\n2024-10-24T08:54:48 892b6163dcad9c9b6853b67289a44a8d67eeda00c2e13ad1d2247ab1177a6ac5\n2024-10-24T08:54:50 \n2024-10-24T08:54:50 892b6163dcad9c9b6853b67289a44a8d67eeda00c2e13ad1d2247ab1177a6ac5\n2024-10-24T08:54:50\n [2024-10-24 06:54:50 +0000] [8] [INFO] Starting gunicorn 23.0.0\n2024-10-24T08:54:50\n [2024-10-24 06:54:50 +0000] [8] [INFO] Listening at: http://0.0.0.0:8111 (8)\n2024-10-24T08:54:50\n [2024-10-24 06:54:50 +0000] [8] [INFO] Using worker: sync\n2024-10-24T08:54:50\n [2024-10-24 06:54:50 +0000] [22] [INFO] Booting worker with pid: 22\n2024-10-24T08:54:50 baz\n2024-10-24T08:54:50  * Serving Flask app \u0027app2\u0027\n2024-10-24T08:54:50  * Debug mode: off\n``` ",
                                           "updatedAt":  "2024-10-24T06:56:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RMLxq",
                                           "createdAt":  "2024-10-24T17:16:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "BTW, the container is the less important problem.\n\nIf you comment the `.AddDockerfile` and uncomment `.AddPythonApp`, I am curious to see if it runs on your side.\nOn my side the `..AddPythonApp` does not provide any feedback and does not log anything. It\u0027s a dead end without any possibility to understand the reason of the failure.\nThis is the central point: how to do diagnostics in this case.",
                                           "updatedAt":  "2024-10-24T17:16:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RNYNb",
                                           "createdAt":  "2024-10-24T19:40:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Works fine for me after creating/activating the venv in a terminal and running `pip install -r requirements.txt`\n\n![Image](https://github.com/user-attachments/assets/edd3ff75-cf74-4adc-b832-084163fdd068)\n",
                                           "updatedAt":  "2024-10-24T19:40:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RNpbj",
                                           "createdAt":  "2024-10-24T20:24:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "That\u0027s my point, in my case I installed the requirements but then Aspire only tells me that has failed and the console log is completely empty.\n![Image](https://github.com/user-attachments/assets/d562a33b-b499-4aa8-8da8-217c2fc46639)\n\nOf course, if I run it from the cmd (outside Aspire), it works as expected.\n\nHow can I diagnose this kind of failure?",
                                           "updatedAt":  "2024-10-24T20:24:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RN3Q0",
                                           "createdAt":  "2024-10-24T21:01:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "Outside Aspire, I also tried the following command (which is the copy/paste from the Aspire Source field):\n```\nopentelemetry-instrument.exe --traces_exporter otlp --logs_exporter console,otlp --metrics_exporter otlp C:\\dev.git\\Experiments\\Aspire9Tests\\PythonService1\\.venv\\Scripts\\python.exe test.py\n```\n\nAnd again, it works even without activating the virtual environment (as python is loaded from that folder in the command line).\n\nFrom the above screenshot, I understand that the process immediately terminates even before hitting the first log.\n\nFinally, here\u0027s the logs in the VS output window (no module load/unload):\n```\nAspire.Hosting.DistributedApplication: Information: Aspire version: 9.0.0-rc.1.24511.1+2c1822cdfbec623cbdefbc711ece00f4eddb7490\nAspire.Hosting.DistributedApplication: Information: Distributed application starting.\nAspire.Hosting.DistributedApplication: Information: Application host directory is: C:\\dev.git\\Experiments\\Aspire9Tests\\AspireTests.AppHost\nException thrown: \u0027System.IO.IOException\u0027 in System.Net.Sockets.dll\nException thrown: \u0027System.IO.IOException\u0027 in System.Private.CoreLib.dll\nAspire.Hosting.DistributedApplication: Information: Now listening on: http://localhost:15220\nAspire.Hosting.DistributedApplication: Information: Login to the dashboard at http://localhost:15220/login?t=f4ca5108cce5e9edf72da96edf4d36cf\nAspire.Hosting.DistributedApplication: Information: Distributed application started. Press Ctrl+C to shut down.\nException thrown: \u0027System.IO.IOException\u0027 in System.Private.CoreLib.dll\nException thrown: \u0027System.IO.IOException\u0027 in System.Private.CoreLib.dll\nMicrosoft.Hosting.Lifetime: Information: Now listening on: http://localhost:51396\nMicrosoft.Hosting.Lifetime: Information: Application started. Press Ctrl+C to shut down.\nMicrosoft.Hosting.Lifetime: Information: Hosting environment: Development\nMicrosoft.Hosting.Lifetime: Information: Content root path: C:\\dev.git\\Experiments\\Aspire9Tests\\AspireTests\nThe program \u0027[19524] AspireTests.AppHost.exe: Program Trace\u0027 has exited with code 0 (0x0).\nThe program \u0027[19524] AspireTests.AppHost.exe\u0027 has exited with code 3221225786 (0xc000013a).\nThe program \u0027[20360] AspireTests.exe\u0027 has exited with code 4294967295 (0xffffffff).\nThe program \u0027[20360] AspireTests.exe: Program Trace\u0027 has exited with code 0 (0x0).\n```\n",
                                           "updatedAt":  "2024-10-24T21:01:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RN45s",
                                           "createdAt":  "2024-10-24T21:05:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@raffaeler I\u0027m not sure we\u0027re running the same code as you have a few commented out. Which one am I supposed to be trying to run?",
                                           "updatedAt":  "2024-10-24T21:05:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RN5b-",
                                           "createdAt":  "2024-10-24T21:07:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "If I try to run the `AddExecutable` example, I see this:\n\n![Image](https://github.com/user-attachments/assets/c130f7e8-2049-4a47-a727-a8ea4dac0562)\n\n\n![Image](https://github.com/user-attachments/assets/63df6eb2-1adb-4fbe-a449-bf5497bcc92d)\n",
                                           "updatedAt":  "2024-10-24T21:07:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RN-dG",
                                           "createdAt":  "2024-10-24T21:22:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "If I change the call to `builder.AddExecutable(\"Python\", \"run.cmd\", \"../PythonContainer1\")` so that the command is relative to the passed working directory, then I see no logs in the dashboard for the resource, but I do see a log in the app host output:\n\n![Image](https://github.com/user-attachments/assets/d8649c04-7b50-4a21-b77a-380c3ff32822)\n",
                                           "updatedAt":  "2024-10-24T21:22:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ROAc3",
                                           "createdAt":  "2024-10-24T21:28:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "OK so launching *.cmd* files requires executing `cmd /C` and passing the file path you want to run because of how CMD execution works (see [here](https://stackoverflow.com/questions/1469764/run-command-prompt-commands)).\n\nSo if I change it to the following it works:\n\n```csharp\nbuilder.AddExecutable(\"Python\", \"cmd\", \"../PythonContainer1\", \"/C\", \"run.cmd\")\n       .WithEndpoint(targetPort: 8111, scheme: \"http\", env: \"PORT\")\n       .WithEnvironment(\"OTEL_EXPORTER_OTLP_ENDPOINT\", \"http://localhost:19192\")\n       .WithEnvironment(\"OTEL_PYTHON_LOGGING_AUTO_INSTRUMENTATION_ENABLED\", \"true\");\n```\n\n![Image](https://github.com/user-attachments/assets/be61626a-b896-49da-a176-7902d552b0ee)\n\n\n![Image](https://github.com/user-attachments/assets/b73ea2d5-d61e-45c8-8a97-0369d5ef198a)\n",
                                           "updatedAt":  "2024-10-24T21:28:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ROCUh",
                                           "createdAt":  "2024-10-24T21:33:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "A few more tweaks and I got it listening to the assigned port and sending OTLP traces to the dashboard too:\n\n![Image](https://github.com/user-attachments/assets/3d1d246c-5c89-4ba3-9c05-8c866a06325b)\n",
                                           "updatedAt":  "2024-10-24T21:33:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ROFlq",
                                           "createdAt":  "2024-10-24T21:44:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "In the above comments, I am running this:\n![Image](https://github.com/user-attachments/assets/473c6d73-70d1-4967-8bc6-7b5050a6534b)\nwhich runs `opentelemetry-instrument.exe ` that I mentioned above.\nThe folder PythonService1 contains the most simple (and instrumented) code to run a web server. And that\u0027s the one failing.\n\nThe exe was just the beginning of a test, I didn\u0027t do much with it.\n\n\nThanks for your time",
                                           "updatedAt":  "2024-10-24T21:44:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ROMOm",
                                           "createdAt":  "2024-10-24T22:04:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Ah OK thanks. Yeah when I run that it just works for me 🤷 \n\n![Image](https://github.com/user-attachments/assets/bab9070a-7a91-4f94-9cc3-00d0cd8193c9)\n",
                                           "updatedAt":  "2024-10-24T22:04:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ROOY1",
                                           "createdAt":  "2024-10-24T22:09:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "I now begin suspecting in some corrupted Aspire sdk file ... it makes no sense.\nI should be able to make a test on a different pc tomorrow.\n\nAnyway, my point is that there is a moment where the process is run where something can happen and the diagnostics is impossible.\nIn a normal debugging session I could attach the debugger and see what happens.\nWith the dcp this is harder. For this reason I would suggest to provide more info regarding the process run in the dashboard.",
                                           "updatedAt":  "2024-10-24T22:09:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RVarm",
                                           "createdAt":  "2024-10-25T16:48:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e Anyway, my point is that there is a moment where the process is run where something can happen and the diagnostics is impossible.\n\n@danegsta @karolz-ms can you speak to this part? It seems DCP won\u0027t write out to resource logs in same failure modes, e.g. when using a Dockerfile and the container build itself fails, or if an executable fails to start.",
                                           "updatedAt":  "2024-10-25T16:48:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RVqh0",
                                           "createdAt":  "2024-10-25T17:12:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD4H_yg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2024-10-25T19:13:22Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "karolz-ms",
                                           "body":  "@DamianEdwards @raffaeler the image build logs are part of \"container startup\" logs and they should be visible in the dashboard when you show \"console logs\" for the container. If they are not, that would be a bug that we definitively want to fix.\n\nAs you observed https://github.com/dotnet/aspire/issues/6237#issuecomment-2436360006, the Executable startup failure should be visible in the AppHost logs. As of today, that log is not part of DCP model and thus is not visible in the dashboard. We have a backlog work item to make those part of the model, but we haven\u0027t had a chance to take care of that item yet. I understand that diagnosing Executable startup issues is rather important, so I will make sure to raise the priority on this work item. ",
                                           "updatedAt":  "2024-10-25T17:12:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RV9Xw",
                                           "createdAt":  "2024-10-25T17:56:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "@karolz-ms let me make a brief summary:\n1. The container scenario used to work on my side with Aspire 8. After migrating to Aspire 9 all the resources runs correctly (even without the fix by Damian) but it cannot be reached by the browser. Maybe a reverse proxy issue, I didn\u0027t investigate it as the original issue was with AddWithPythonProject on Aspire 8. In the console log I can see all the container build which is perfect.\n\n2. AddPythonProject. It used to work for a while on Aspire 8 and stopped working after a while. It never worked with Aspire 9 but I am not sure it\u0027s an Aspire 9 issue. I did not complain for it not working. When I run it, it terminates immediately even before logging the initial \"Start\" which is at the very beginning. For sure there is something wrong in the process launch rather than in the Python code. My point is just the inability to understand what is happening when a process fails to run. In a traditional debugging context, I can attach the process or run using a debugger command line and understand exactly what is happening. This is **not** true with Aspire. I am very concerned about this. FYI, if I manually run on the cmd the exact command line used by Aspire 9, it works like a charm. This is why I guessed there is a problem with the DCP.\n\n3. In the repo you can find three different flavors of AddPythonProject:\n    - One of those is using the same code published on the Aspire docs page\n    - Another one is my code where I created a class for the \"actions / controllers\" instead of mere funtions in the global namespace (which is a software horror story)\n    - The last option is to run the exact same code that I run when using `.AddDockerfile`. The reason for this is that I hope Aspire will provide a better story when you work on local code that you need to \"promote\" to an image container during the dev lifecycle or when you need to publish. I explained this here: https://github.com/dotnet/aspire/discussions/6356\n\nIf you need more details, please let me know.\nThanks!",
                                           "updatedAt":  "2024-10-25T17:56:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Rj2GD",
                                           "createdAt":  "2024-10-28T16:39:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD4YlCg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "raffaeler",
                                                                               "createdAt":  "2024-10-28T16:45:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "karolz-ms",
                                           "body":  "Thank you @raffaeler Just to be sure we are on the same page, here is what I assume is the problem you want us to take a look at\n\n1. In the repository https://github.com/raffaeler/Aspire9Tests, I un-comment EITHER of the 3 variants of the app host code (lines 7-10, 12-17, or 19-24). \n    - I do not need to un-comment the line that sets `OTEL_PYTHON_OTLP_TRACES_SSL` env variables\n    - Before running the Aspire app, I DO need to create virtual environments and restore requirements for `PythonService1` and `PytonContainer1` services\n2. Run the Aspire app\n\nExpected: app starts, including Python parts\n\nActual: `PythonService1` fails to start and there is no way to determine why\n\nIs the above correctly describing the issue and repro steps?",
                                           "updatedAt":  "2024-10-28T16:39:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Rj5UE",
                                           "createdAt":  "2024-10-28T16:44:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "raffaeler",
                                           "body":  "Exactly @karolz-ms the variants are alternative and you don\u0027t need to uncomment the env variables.\nI still can\u0027t understand the reasons for the failure.\nI believe that the inability to understand the failure reasons may happen in other contexts as well.\n\nWhile my primary concern is the ability to diagnose the reasons of the failure of the starting resource, if you have any idea why this is happening, please let me know.",
                                           "updatedAt":  "2024-10-28T16:44:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YUy69",
                                           "createdAt":  "2024-12-19T19:12:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEAaObg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2024-12-19T20:45:13Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "raffaeler",
                                                                               "createdAt":  "2024-12-28T09:56:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "karolz-ms",
                                           "body":  "Sorry for taking so long to look into this. My teammate (@dbreshears)  was able to get the example running after a few tries, but we noticed something that may explain why you have seen the startup fail with no additional information.\n\n`AddPythonApp()` will try to run the app through OpenTelemetry auto-instrumentation wrapper (if it is present). We had a situation where the Python virtual environment was incorrectly configured and the path to `python.exe` was incorrect. In this case the OTEL wrapper would start, but then almost immediately fail with no output to standard error or standard output. Not a single byte; just exit with code 1. So that is what you would see in the Aspire dashboard, the app exiting with code 1, but no logs. Reflects the truth about what happened, but is not very helpful. \n\nHow we figured it out was by looking at the application command line and parameters (which are visible in the Aspire dashboard) and trying the same thing manually from command line.",
                                           "updatedAt":  "2024-12-19T19:12:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68d5hn",
                                           "createdAt":  "2025-08-06T23:55:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MedAnd",
                                           "body":  "Hi, any update on this issue? I am looking to run an Azure Function written in Python and cannot get it to start with \"func start\" and also does not have the correct virtual environment context. \n\nFor example it starts with the Global Python context, does not find my OpenTelemetry dependencies which are part of the activated virtual environment context etc. ",
                                           "updatedAt":  "2025-08-06T23:55:14Z"
                                       }
                                   ],
                         "totalCount":  30
                     },
        "title":  "AddPythonApp issues",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6243",
        "createdAt":  "2024-10-11T05:34:51Z",
        "number":  6243,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-16T05:36:40Z",
        "body":  "The two overloads both have only `string` parameters and finish with a `params string[]` parameter, which means the compiler can\u0027t differentiate between them unless the `params` arg is passed as a `string[]`. Trying to call the overload with the shorter parameter count with at least one argument for the `params` parameter, results in the compiler binding to the overload with the longer parameter count:\n\n```csharp\n// What I want to type to call \u0027./PythonApp/main.py arg1 arg2\u0027\nbuilder.AddPythonApp(\"python-app\", \"../PythonApp\", \"main.py\", \"arg1\", \"arg2\");\n    \n// This actually binds to the overload that accepts the location of the virtual environment directory, so this is actually what happens.\n// This results in a runtime exception as the python resource verifies the specified virtual environment path exists and throws if not.\nbuilder.AddPythonApp(name: \"python-app\", projectDirectory: \"./PythonApp\", scriptPath: \"main.py\", virtualEnvironmentPath: \"arg1\", \"arg2\");\n\n// This is the workaround\nbuilder.AddPythonApp(\"python-app\", \"../PythonApp\", \"main.py\", [\"arg1\", \"arg2\"]);\n```\n    \n![Image](https://github.com/user-attachments/assets/aa747e0e-5a03-4ac6-929d-c2e07efed8b8)\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Fix args parameter in AddPythonApp",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6244",
        "createdAt":  "2024-10-11T05:42:02Z",
        "number":  6244,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-06T23:53:28Z",
        "body":  "There\u0027s no first-class overload or different method to support running python apps where a [module is the entrypoint](https://docs.python.org/3/using/cmdline.html#cmdoption-m) and figuring out how to invoke the overloads that are there such that a module is used as the entrypoint is confusing due to the parameter counts and names. When combined with the previous point, this is what is required to run a Python app using a module as the entrypoint:\n\n```csharp\n// You need to pass \"-m\" as the value for the \u0027scriptPath\u0027 parameter:\nbuilder.AddPythonApp(\"python-app-module\", \"../PythonApp\", scriptPath: \"-m\", [\"module-name\", \"moduleArg1\"]);\n```\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvHeJ5A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6RlU-A",
                                           "createdAt":  "2024-10-28T19:47:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "robotdad",
                                           "body":  "We have someone looking to run one of our Python services using Aspire and this is the current blocker. They are going to investigate if they can create an extension to support uv integration which would also resolve it as that is our primary path right now outside of Aspire.",
                                           "updatedAt":  "2024-10-28T19:47:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6SBpQN",
                                           "createdAt":  "2024-10-31T13:56:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEQmgWA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "anemitoff",
                                                                               "createdAt":  "2025-05-02T16:31:04Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "tommasodotNET",
                                           "body":  "Hi, that someone would be me. I wrote a working uvicorn integration. Not sure whether to publish it here or in the CommunityToolkit. ",
                                           "updatedAt":  "2024-10-31T13:56:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68d4nk",
                                           "createdAt":  "2025-08-06T23:53:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MedAnd",
                                           "body":  "Any update on this issue? I am looking to run an Azure Function written in Python and cannot get it to start with \"func start\" and also having the correct virtual environment context. For example start with the Global Python context, does not find my OpenTelemetry dependencies which are part of the activated virtual environment etc. ",
                                           "updatedAt":  "2025-08-06T23:53:28Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Add first class support for running python apps with specified modules",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6245",
        "createdAt":  "2024-10-11T05:44:35Z",
        "number":  6245,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-11T01:43:16Z",
        "body":  "The integration requires the use of [Python virtual environments](https://docs.python.org/3.12/library/venv.html), but not all Python apps use them. Furthermore, the virtual environment is not created or activated automatically by the integration. As the recommendation is to not include the virtual environment directory in source control, the user must manually create and activate the virtual environment before launching the app host project, after cloning or cleaning their local clone. We should consider:\n  - Supporting Python apps that don\u0027t use virtual environments\n  - Doing more to automate bootstrapping virtual environments for apps that use them",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtmKz9g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6P9gnz",
                                           "createdAt":  "2024-10-15T22:16:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "We can probably loosen up the venv constraint pretty easily. I was thinking about automatic initialization of the virtual environment. We could potentially look at making virtual environment usage explicit and having something like `WithVirtualEnvironment(...)`.",
                                           "updatedAt":  "2024-10-15T22:16:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RN-AJ",
                                           "createdAt":  "2024-10-24T21:20:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003e We can probably loosen up the venv constraint pretty easily. I was thinking about automatic initialization of the virtual environment. We could potentially look at making virtual environment usage explicit and having something like WithVirtualEnvironment(...).\n\nI think we need to do more than that as there are multiple environment managers that folks use, e.g. miniconda. I think we should we looking to easily support different environment managers and package managers and auto-install packages after environment activation so that you can easily walk up to an app host project with a python app in it and run it.",
                                           "updatedAt":  "2024-10-24T21:20:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62YrP2",
                                           "createdAt":  "2025-07-11T01:43:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "It might be worth taking a page out of what we did in CSnakes for environment management - https://github.com/tonybaloney/CSnakes/tree/main/src/CSnakes.Runtime/EnvironmentManagement\n\nBut at the very least, removing the hard requirement on having a virtual environment would be good as you might not be using a venv - I\u0027ve hit this in a project that is designed to run in a devcontainer, so we know that there\u0027s only a single python runtime and a venv isn\u0027t needed, but due to the current Python design, we can\u0027t launch the app with the app host.",
                                           "updatedAt":  "2025-07-11T01:43:16Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "AddPythonApp should not assume virtual environments are being used",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6251",
        "createdAt":  "2024-10-11T14:07:51Z",
        "number":  6251,
        "author":  "erikrenaud",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODOmjgQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "peterwurzinger",
                                            "createdAt":  "2025-09-05T08:57:23Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-18T01:32:23Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nTo speed up startup (my laptop is 2 years old), instead of relying on the AddSqlServer Hosting package for SQL (which spins up a Microsoft SQL container), would a solution that uses LocalDB for local dev be interesting ?\n\nI was able to achieve this :\n```\nIResourceBuilder\u003cIResourceWithConnectionString\u003e sql = default!;\nif (builder.Environment.IsDevelopment())\n{\n  sql = builder.AddConnectionString(\"sql\");\n}\nelse\n{\n  var sqlServer = builder.AddSqlServer(\"sql\").WithHealthCheck();\n  var sqlData = sqlServer.AddDatabase(\"sqldata\");\n  sql = sqlServer;\n}\n\nvar dataMigrator = builder.AddProject\u003cProjects.Lanvac_Lanvantis_DataMigrator\u003e(\"dataMigrator\")\n  .WithReference(sql);\nif (sql is IResourceBuilder\u003cSqlServerServerResource\u003e) dataMigrator.WaitFor(sql);\n```\n\n\nAt the same time, an integration package that does what the DataMigrator does (based on EF concepts)s would be awersome. Maybe seed data in a sql file in the AppHost project (seed.sql, seed.dev.sql, seed.production.sql) and somesort of mode to run the migrations (do nothing, Migrate, DropCreate, EmptyFill). I use a strategy like this that allows each EF Context to be in it\u0027s own schema.\n\n### Describe the solution you\u0027d like\n\nsomething like :\n\n`.addAzureSqlServerWithLocalDB(\"sql\")`\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmvCGuQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Pf4b0",
                                           "createdAt":  "2024-10-11T14:10:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What would the localdb integration do other than set a connection string?",
                                           "updatedAt":  "2024-10-11T14:10:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PgB7t",
                                           "createdAt":  "2024-10-11T14:29:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "erikrenaud",
                                           "body":  "\u003e What would the localdb integration do other than set a connection string?\n\nGood question David - i\u0027ve just reread the docs on how to publish to AzureSQL and maybe the experience is a bit different than i initially imagined:\n\n```\nvar sqlServer = builder.AddSqlServer(\"sqlserver\")\n                       **.DevelopUsingSqlLocalDB()**\n                       .PublishAsAzureSqlDatabase()\n                       .AddDatabase(\"sqldb\");\n```\n\nI agree that other than settings things up, it\u0027s quite anemic and only sets up the connection string. The good thing might be that the connection string is created in the code, so i don\u0027t have to include it in the AppHosts\u0027s appsettings.json. Also, there could be a check to ensure that LocalDB is installed. Finally, by having it uniform, it could benefit from the dependency stuff (i.e. WaitFor would work).\n\nSince Aspire is opinionated though, i do believe the community could benefit from a official DataMigrator project based on EF migrations with standard stuff.\ni.e.\n```\nbuilder.AddDataMigration(\"dataMigrator\")\n           .AddContext\u003cDataContext1\u003e(\"sqldb1\", \"schemaForContext1\")\n           .AddContext\u003cDataContext2\u003e(\"sqldb1\", \"schemaForContext2\")\n           .AddContext\u003cDataContext3\u003e(\"sqldb2\", \"schemaForContext3\")\n           .PublishUsingMigrations() || PublishUsingEmptyFill()\n           .DevelopUsingMigrationsAndDropCreateWhenIncompatible() || .DevelopUsingDropCreateWhenIncompatible()\n```\n\nI\u0027d love to provide sample code for during a brainstorm as these ideas are how I have it setup for most of my projects done before using Aspire.\n",
                                           "updatedAt":  "2024-10-11T14:29:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6PgHBj",
                                           "createdAt":  "2024-10-11T14:40:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1w57g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "erikrenaud",
                                                                               "createdAt":  "2024-10-11T15:04:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Maybe there\u0027s something there for localdb but I\u0027m not really sure about the value. Feel free to spike something and come back to the issue with a prototype that we can iterate on to see if it makes sense.\n\nAs for the data migrator, I think that should be a separate issue. I do think there\u0027s more we can do here but referencing the dbcontext in the apphost IMO is not the right approach.",
                                           "updatedAt":  "2024-10-11T14:40:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6P94wT",
                                           "createdAt":  "2024-10-16T00:00:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "[Triage] - @IEvangelist we talked about this on triage and this may be a good thing to fix via a doc.",
                                           "updatedAt":  "2024-10-16T00:00:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ap_iP",
                                           "createdAt":  "2025-01-16T07:17:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @DamianEdwards ",
                                           "updatedAt":  "2025-01-16T07:17:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6a8Ia5",
                                           "createdAt":  "2025-01-18T01:32:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "I think it\u0027d be interesting to explore updating the existing SQL Server hosting integration to support running using localdb when on Windows. We could consider having it automatically use localdb if it\u0027s available (i.e. the service is running) rather than using a container, but then there\u0027s a question of what it publishes to: a connection string, or a container, etc. We could instead make it opt-in via a method like `.RunAsLocaLDb()` which makes it much clearer that it only impacts when running locally.",
                                           "updatedAt":  "2025-01-18T01:32:21Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Have a hosting package for Azure SQL that uses LocalDB during dev",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6283",
        "createdAt":  "2024-10-14T08:16:00Z",
        "number":  6283,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-10-14T08:17:01Z",
        "body":  "At the moment most hosting integrations are wired up to listen for the `ConnectionStringAvailableEvent` to capture the connection string and then stuff that value into a captured variable which is shared with the health check registration code. This code is overly cumbersome and we would like to improve it.\n\nThe main issue is that typically most of the callbacks to configure clients on the health check registration methods are synchronous which means we can\u0027t get the connection string without doing sync over async.\n\nWe\u0027ve filed this issue on the repo containing a lot of the health checks we are using:\n\nhttps://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks/issues/2306\n\nThat links to this PR which shows an example of the changes we are after applied to Redis:\n\nhttps://github.com/Xabaril/AspNetCore.Diagnostics.HealthChecks/pull/2305\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Simplify health check code in .NET Aspire hosting integrations.",
        "labels":  [
                       "area-app-model",
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6296",
        "createdAt":  "2024-10-14T18:38:32Z",
        "number":  6296,
        "author":  "atrauzzi",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-26T21:20:15Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n![Image](https://github.com/user-attachments/assets/df2d0d51-ad9f-45aa-a8f2-13fcde6b5664)\n\nWhen I add Event Hubs to my deployment and run the local emulator, I end up getting a storage container, even though I\u0027ve already got one configured.\n\n### Describe the solution you\u0027d like\n\nIt would be nice to be able to tell the Event Hubs local deployment to simply reuse my existing storage account for whatever it needs, and perhaps even with a prefix or an effective namespace/container of some kind?\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpEHArg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6P1Xyp",
                                           "createdAt":  "2024-10-15T07:43:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You should treat the event hubs storage like an implementation detail of the emulator. Unfortunately, we only have a flat resource list without a hierarchy so it shows up. Is there another reason you want to share the storage resource with the event hubs implementation?",
                                           "updatedAt":  "2024-10-15T07:43:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6P2NCM",
                                           "createdAt":  "2024-10-15T09:19:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "atrauzzi",
                                           "body":  "Two reasons: Save on local dev memory, but also to be able to have the same visibility of everything all in one spot.\n\nBut yeah, if this approach becomes the norm in Aspire, I could see memory use going out of control. That\u0027s my bigger concern.\n",
                                           "updatedAt":  "2024-10-15T09:19:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kQcCu",
                                           "createdAt":  "2025-03-26T21:20:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "buzzaII",
                                           "body":  "Service Bus emulator will have the similar concerns as SQL server is a pre-requisite (its actually SQL Edge ATM though that is being deprecated):\n\nhttps://learn.microsoft.com/en-us/azure/service-bus-messaging/test-locally-with-service-bus-emulator?tabs=docker-linux-container#run-the-emulator\n\nDeprecation Notice: https://learn.microsoft.com/en-us/lifecycle/end-of-support/end-of-support-2025\n\nAlso based on the following document do we want 2 SQL instance running in the same env?\n\nhttps://learn.microsoft.com/en-us/dotnet/aspire/database/sql-server-integration?tabs=dotnet-cli%2Cssms\n\nCould these be options being passed to the .RunAsEmulator() methods as they would only be required for the emulators.\n\nAnother option is to just spin up the emulators using the aspire docker constructs, though this is then moving away from some of the developer experiences in aspire.",
                                           "updatedAt":  "2025-03-26T21:20:14Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Event Hubs should allow reuse of an existing storage resource",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-eventhubs"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6326",
        "createdAt":  "2024-10-16T03:53:07Z",
        "number":  6326,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODApxBg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NikolajDL",
                                            "createdAt":  "2024-11-18T01:06:58Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "KennethHoff",
                                            "createdAt":  "2024-11-24T09:27:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "davidlahuta",
                                            "createdAt":  "2024-12-12T15:29:30Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Felek",
                                            "createdAt":  "2024-12-15T00:36:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AndrewBabbitt97",
                                            "createdAt":  "2024-12-29T14:02:07Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ouhndelof",
                                            "createdAt":  "2025-03-30T11:40:01Z"
                                        }
                                    ],
                          "totalCount":  6
                      },
        "updatedAt":  "2025-01-09T19:47:17Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nThis does not appear to result in a persistent pgadmin container:\n\n```csharp\nvar pg = builder.AddPostgres(\"pg\")\n                .WithLifetime(ContainerLifetime.Persistent)\n                .WithDataVolume()\n                .WithPgAdmin(c =\u003e {\n                    c.WithLifetime(ContainerLifetime.Persistent);\n                });\n```\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmdjR0w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6P_ESx",
                                           "createdAt":  "2024-10-16T03:53:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD2fVFw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-10-16T05:34:59Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I think it could be the way the config file is generated.",
                                           "updatedAt":  "2024-10-16T03:53:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Q3r0z",
                                           "createdAt":  "2024-10-22T23:45:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We should consider using a hash of the resource names that are being configured (in the above case postgres resources). We can also consider setting the lifetime key directly on the container instance.",
                                           "updatedAt":  "2024-10-22T23:45:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UwQn9",
                                           "createdAt":  "2024-11-23T22:51:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ProTip",
                                           "body":  "For me the container persists but it can\u0027t communicate with the postgres container.\n\nThe container\u0027s host names resolve to IPs on the Aspire network, not the bridge, so they lose connectivity when `App.Host` is stopped and that network goes away.",
                                           "updatedAt":  "2024-11-23T22:51:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z0EHl",
                                           "createdAt":  "2025-01-09T15:27:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lukedukeus",
                                           "body":  "I ran into this issue today as well. I found that the following code worked, unless the docker image name was something other than the default. I believe the issue stems from [here](https://github.com/dotnet/aspire/blob/b9f49f3907c148492b8d554eb163543c5db33d82/src/Aspire.Hosting.PostgreSQL/PostgresBuilderExtensions.cs#L189). It assumes that the containers name is the same as its hostname, which is not always the case. For my case, I was able to set a fixed name, but there is a comment [here](https://github.com/dotnet/aspire/blob/b9f49f3907c148492b8d554eb163543c5db33d82/src/Aspire.Hosting.PostgreSQL/PostgresBuilderExtensions.cs#L187):\n```\n                        // PgAdmin assumes Postgres is being accessed over a default Aspire container network and hardcodes the resource address\n                        // This will need to be refactored once updated service discovery APIs are available\n```\n\nI think that the `GetResolvedResourceNames` method from [here](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting/ApplicationModel/ResourceExtensions.cs#L354) could be used to set the host, assuming the method was public.",
                                           "updatedAt":  "2025-01-09T15:27:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z2NHT",
                                           "createdAt":  "2025-01-09T19:47:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lukedukeus",
                                           "body":  "\u003e For me the container persists but it can\u0027t communicate with the postgres container.\n\u003e \n\u003e The container\u0027s host names resolve to IPs on the Aspire network, not the bridge, so they lose connectivity when `App.Host` is stopped and that network goes away.\n\nI also ran into this, when not persisting the image, it would work fine, but when persisting the image, postgres saw pgAdmin as an external connection, and denied it. I was able to work around this by modifying the pg conf on startup of the docker image. This may be the same issue as #6874\n",
                                           "updatedAt":  "2025-01-09T19:47:15Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "WithPgAdmin(c =\u003e c.WithLifetime(...)) not resulting in persistent PgAdmin container.",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6345",
        "createdAt":  "2024-10-16T22:30:02Z",
        "number":  6345,
        "author":  "dansiegel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODLYmmA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "swdigital-joe",
                                            "createdAt":  "2024-11-13T01:58:29Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jimitndiaye",
                                            "createdAt":  "2025-08-15T15:19:55Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-08-15T15:24:42Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n_No response_\n\n### Describe the solution you\u0027d like\n\nWhen creating an Azure SqlServer resource it would be helpful to be able to define one or more elastic pools that databases may be added to rather than adding them directly to the SqlServer:\n\n```cs\nvar sqlServer = builder.AddAzureSqlServer(\"sqlServer\");\nvar pool = sqlServer.AddElasticPool(\"sqlPool\");\n\n// Added directly to the SqlServer\nvar db0 = sqlServer.AddDatabase(\"db0\");\n\n// Added to the Elastic Pool\nvar db1 = pool.AddDatabase(\"db1\");\nvar db2 = pool.AddDatabase(\"db2\");\n```\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvj7nkQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6-Ppbz",
                                           "createdAt":  "2025-08-15T15:20:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jimitndiaye",
                                           "body":  "Any progress on this issue?",
                                           "updatedAt":  "2025-08-15T15:20:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-PueR",
                                           "createdAt":  "2025-08-15T15:24:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Nope. You can see our roadmap for the next 6 months https://github.com/dotnet/aspire/discussions/10644",
                                           "updatedAt":  "2025-08-15T15:24:41Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Add support for Azure Sql Elastic Pool",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6346",
        "createdAt":  "2024-10-16T23:27:00Z",
        "number":  6346,
        "author":  "davpodda",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-06T23:39:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nbuilder.AddPythonProject don\u0027t have withReplicas.\nHow i scale python project?\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvHcm5g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Q3sS0",
                                           "createdAt":  "2024-10-22T23:47:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdY7sA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "MedAnd",
                                                                               "createdAt":  "2025-08-06T23:39:34Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We don\u0027t support this yet, but will in the future.",
                                           "updatedAt":  "2024-10-22T23:47:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68dybm",
                                           "createdAt":  "2025-08-06T23:39:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MedAnd",
                                           "body":  "Related Roadmap request: https://github.com/dotnet/aspire/discussions/10644#discussioncomment-13929777",
                                           "updatedAt":  "2025-08-06T23:39:55Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "AddPythonProject - WithReplicas no exist",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6501",
        "createdAt":  "2024-10-25T22:11:56Z",
        "number":  6501,
        "author":  "dleggen",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODO44Rw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ethangillengg",
                                            "createdAt":  "2025-02-25T21:24:29Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "xaviermonin",
                                            "createdAt":  "2025-05-15T14:46:35Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "scorpion28",
                                            "createdAt":  "2025-06-24T16:53:26Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "pfo-omicsstudio",
                                            "createdAt":  "2025-09-07T08:25:37Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-09-07T08:30:35Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nIt would be nice to be able to use the full text search feature that is available on SQL server. \n\n### Describe the solution you\u0027d like\n\nBe able to enable full text search so that the indexes can be added via a migration.\n\n`CREATE FULLTEXT CATALOG ftCatalog AS DEFAULT;\nCREATE FULLTEXT INDEX ON Posts(Content) KEY INDEX PK_Posts; `\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwoZljw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7ChmWP",
                                           "createdAt":  "2025-09-07T08:30:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pfo-omicsstudio",
                                           "body":  "Agreed, just ran into this today, no full text search in SQL server is a massive problem considering it IS supported in Azure.",
                                           "updatedAt":  "2025-09-07T08:30:35Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "SQL Server Support Full Text Search",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6543",
        "createdAt":  "2024-10-29T08:38:13Z",
        "number":  6543,
        "author":  "Jaryllan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPEo9A==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "DamianEdwards",
                                            "createdAt":  "2024-10-29T22:12:58Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "sivn",
                                            "createdAt":  "2025-09-08T12:44:14Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2024-10-30T01:15:43Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to configure RabbitMQ with TLS enabled. But due to the internals are hardcoded to port \"5672\" and the scheme is hardcoded to \"amqp\", the connectionstring generated will always be stuck at connecting to amqp and is routed to port 5672.\n\n![Image](https://github.com/user-attachments/assets/422a359b-e32c-46c9-9795-9043e009cc7b)\n\n![Image](https://github.com/user-attachments/assets/6bc2feae-1713-495e-be55-0c4055457e3e)\n\n\n### Describe the solution you\u0027d like\n\nWhen RabbitMQ is tls enabled, \n1. Attaching the rabbitmq as reference to other projects, the connectionstring\u0027s scheme need to be amqps and the port is routed to 5671.\n2. Allow the necessary certificates to be passed on to the projects that references to rabbitmq.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkcUaNA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6RwzOy",
                                           "createdAt":  "2024-10-29T23:11:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "Is this something that can be workaround with manually setting the endpoint? @mitchdenny can you take a look?",
                                           "updatedAt":  "2024-10-29T23:11:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RwzYS",
                                           "createdAt":  "2024-10-29T23:11:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "We should make sure there is a workaround here.",
                                           "updatedAt":  "2024-10-29T23:11:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6RxRo0",
                                           "createdAt":  "2024-10-30T01:15:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You can override the endpoint port, but we don\u0027t have a way to override the scheme. We should change the connection string to set the scheme amqp instead of hardcoding it. That way mutating the endpoint would allow both the port and scheme to be changed.",
                                           "updatedAt":  "2024-10-30T01:15:42Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Allow Configuring RabbitMQ to use TLS",
        "labels":  [
                       "area-integrations",
                       "security 🔐"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6559",
        "createdAt":  "2024-10-30T18:13:53Z",
        "number":  6559,
        "author":  "shankersumit",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODMTvow==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "gayanper",
                                            "createdAt":  "2024-11-05T11:37:28Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TaleLearnCode",
                                            "createdAt":  "2024-11-11T17:43:22Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "illay1994",
                                            "createdAt":  "2024-11-13T22:02:00Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "LeftTwixWand",
                                            "createdAt":  "2024-11-14T22:57:04Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tombrereton",
                                            "createdAt":  "2024-11-20T00:11:30Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rvaquette",
                                            "createdAt":  "2024-12-03T10:12:34Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "plaurin",
                                            "createdAt":  "2024-12-03T13:29:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "szostki",
                                            "createdAt":  "2024-12-13T10:06:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "iikuzmychov",
                                            "createdAt":  "2024-12-13T14:29:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BS-colinsmith",
                                            "createdAt":  "2025-01-03T11:28:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BM-TristanNeumann",
                                            "createdAt":  "2025-01-20T14:45:18Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "colinbobolin",
                                            "createdAt":  "2025-01-24T16:02:25Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2025-01-26T21:48:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "scottrudy",
                                            "createdAt":  "2025-03-24T14:05:28Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "pr8x",
                                            "createdAt":  "2025-04-01T20:11:35Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rfrerebe",
                                            "createdAt":  "2025-04-15T21:57:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jukkahyv",
                                            "createdAt":  "2025-04-16T19:12:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "matt-richardson",
                                            "createdAt":  "2025-05-08T07:21:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NapalmCodes",
                                            "createdAt":  "2025-06-06T02:28:01Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Krzysztof318",
                                            "createdAt":  "2025-06-09T21:40:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Zalmez",
                                            "createdAt":  "2025-06-28T20:59:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "SteamTank",
                                            "createdAt":  "2025-07-03T23:14:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "bernarddijk",
                                            "createdAt":  "2025-07-25T13:33:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mehdihadeli",
                                            "createdAt":  "2025-07-26T14:37:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jomaxso",
                                            "createdAt":  "2025-08-07T07:43:52Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "nils-sonnenschein",
                                            "createdAt":  "2025-08-22T16:00:07Z"
                                        }
                                    ],
                          "totalCount":  26
                      },
        "updatedAt":  "2025-02-15T01:42:04Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWe request you to please have a feature added to support infra deployment though terraform as well using the azd cli \nSo far .net aspire projects only support deployment through azure biceps and not through terraform\n\nPlease look into this as it should be feasible for the customers to use the IaC as their choice.\n\n### Describe the solution you\u0027d like\n\nSupport fot terraform as IaC for .net 8 aspire projects.\n\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmqfBDg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6aPBRD",
                                           "createdAt":  "2025-01-13T16:41:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdg_8Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "andrew-flatters-bliss",
                                                                               "createdAt":  "2025-01-13T16:42:32Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-01-16T07:07:24Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "RascoApps",
                                                                               "createdAt":  "2025-01-24T17:11:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "kraghavk",
                                                                               "createdAt":  "2025-03-26T14:29:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "jomaxso",
                                                                               "createdAt":  "2025-08-07T18:24:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "lolochristen",
                                           "body":  "I tried to address this issue with a separate tool in this repo https://github.com/lolochristen/Aspire.Terraform. It\u0027s a little tool using terraform templates with handlebar syntax to produce some terraform files out of manifest file. I\u0027m unsure if you follow another strategy for custom IaC, but it does solve my purpose. Please let me know what you think.",
                                           "updatedAt":  "2025-01-13T16:41:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ap8EO",
                                           "createdAt":  "2025-01-16T07:07:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdblSw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "andrew-flatters-bliss",
                                                                               "createdAt":  "2025-01-16T08:39:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "sberube",
                                                                               "createdAt":  "2025-03-25T15:39:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "lvde0",
                                                                               "createdAt":  "2025-03-27T11:29:48Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pr8x",
                                                                               "createdAt":  "2025-04-01T20:11:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "274188A",
                                                                               "createdAt":  "2025-06-09T02:10:36Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "SteamTank",
                                                                               "createdAt":  "2025-07-03T23:12:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "jomaxso",
                                                                               "createdAt":  "2025-08-07T07:45:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  7
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Very cool! I think the way to do this that would scale better would be to build a first class terraform aspire resource. This is how aspire integrates with both azure and aws. There\u0027s a native IaC resource and then we plug into the respective cloud\u0027s CDK to interop.\n\n\nhttps://developer.hashicorp.com/terraform/cdktf might be the way to go.",
                                           "updatedAt":  "2025-01-16T07:13:09Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Support of .net aspire deployment using terraform",
        "labels":  [
                       "area-integrations",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6573",
        "createdAt":  "2024-10-31T07:09:09Z",
        "number":  6573,
        "author":  "Jaryllan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-11-08T20:05:56Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nAspire not able to bind the Ssl configuration from appsettings. The following are the few scenarios that i had tried \n\nAppHost\n```\nbuilder.AddProject\u003cProjects.WorkerService1\u003e(\"workerservice1\")\n    .WithReference(rabbitmq);\n```\n\n**Case 1: using builder.AddRabbitMQClient(\"rabbitmq\") in project**\n\nProject Configuration\n![Image](https://github.com/user-attachments/assets/8bb34ba1-e316-4b7b-8782-8f40bd71b01c)\n\nProject Code (The CertPath and ServerName cannot be bind)\n![Image](https://github.com/user-attachments/assets/5f464f16-a37d-45dc-a84e-b10a20a80992)\n\n**Case 2: using builder.AddKeyedRabbitMQClient(\"rabbitmq\") in project**\n\nProject Configuration\n![Image](https://github.com/user-attachments/assets/7173d042-830a-490a-a402-016878ac238d)\n\nProject Code (The CertPath and ServerName cannot be bind)\n![Image](https://github.com/user-attachments/assets/09f4d6e5-456d-4401-9251-c45aff20ceee)\n\n**Case 3: Similar to Case 2, but using different key name. eg: builder.AddKeyedRabbitMQClient(\"rabbitmq2\")**\n\nProject Configuration\n![Image](https://github.com/user-attachments/assets/786c7d7d-197b-4013-b642-7386fad9555f)\n\nProject Code\n![Image](https://github.com/user-attachments/assets/5527bce4-fd00-4635-a79b-6b7aeb1ca165)\n\nTo conclude based on the above 3 scenarios, case 1 and case 2 not able to bind the Ssl configuration. Only case 3 able to bind the Ssl configuration, but due to it is not matching the connectionstring\u0027s suffix name, the project not able to access the connectionstring\u0027s value.\n\nWould like to know what causes the aspire not able to bind the Ssl configuration section. It is quite strange as the aspire can bind \"ClientProvidedName\" but not Ssl section.\n\n### Expected Behavior\n\nAble to bind the Ssl configuration.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           8.0.403\n Commit:            c64aa40a71\n Workload version:  8.0.400-manifests.58db758f\n MSBuild version:   17.11.9+a69bbaaf5\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.22631\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\8.0.403\\\n\n.NET workloads installed:\nConfigured to use loose manifests when installing new manifests.\n [android]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    34.0.143/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.android\\34.0.143\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [aspire]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    8.2.1/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.1\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [ios]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    18.0.8303/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.ios\\18.0.8303\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [maccatalyst]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    18.0.8303/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.maccatalyst\\18.0.8303\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [maui-windows]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    8.0.82/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.maui\\8.0.82\\WorkloadManifest.json\n   Install Type:        FileBased\n\n\nHost:\n  Version:      8.0.10\n  Architecture: x64\n  Commit:       81cabf2857\n\n.NET SDKs installed:\n  6.0.302 [C:\\Program Files\\dotnet\\sdk]\n  6.0.321 [C:\\Program Files\\dotnet\\sdk]\n  8.0.403 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.26 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.35 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.26 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.35 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.26 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.35 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkvcLpA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6SiVM5",
                                           "createdAt":  "2024-11-06T00:36:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "Related: https://github.com/dotnet/aspire/issues/6543 (Hosting aspect of this.)",
                                           "updatedAt":  "2024-11-06T00:36:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6SiV5b",
                                           "createdAt":  "2024-11-06T00:39:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@Jaryllan - can you add a repro project for this? Check out https://github.com/dotnet/runtime/blob/main/CONTRIBUTING.md#writing-a-good-bug-report. That way we can try running the project that reproduces the problem, instead of trying to recreate the problem ourselves based off screenshots.",
                                           "updatedAt":  "2024-11-06T00:39:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6S1zeh",
                                           "createdAt":  "2024-11-08T01:34:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Jaryllan",
                                           "body":  "[AspireApp1.zip](https://github.com/user-attachments/files/17671415/AspireApp1.zip)\n\n@eerhardt, Sorry for the late response. I have attached a simple test project based on the aspire starter template to simulate such issue.\n\nSteps:\n1. Place the breakpoint in the apiservice \"builder.AddRabbitMQClient\"\u0027s factory in \"Program.cs\". Alternatively i have wrote a Console.Writeline to display it on the console output, which can be view from the aspire dashboard\u0027s log view.\n2. Start up/debug the aspire project.\n3. Wait for rabbitmq to fully boot up by checking the logs from the aspire dashboard\n4. Continue from aspire dashboard, click on the apiservice link to call the api.\n5. Either check the apiservice log from aspire dashboard, or view from the breakpoint if done correctly in step 1. Should be able to see that the value does not match the configured value in appsettings.json\n\nI have also added commented code for you to switch to using builder.AddKeyedRabbitMQClient, to show that if specify the key name that is not matched with the default connectionName \"rabbitmq\", then it will be able to bind value from appsettings.json.",
                                           "updatedAt":  "2024-11-08T01:49:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6S9wuk",
                                           "createdAt":  "2024-11-08T20:05:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Perfect, thanks for the repro. The issue appears to be here:\n\nhttps://github.com/dotnet/aspire/blob/abba3d5a9e229823577ab679303afb9cce8d0069/src/Components/Aspire.RabbitMQ.Client/AspireRabbitMQExtensions.cs#L97-L105\n\nFirst, we bind to the configuration, which pulls the SSL settings from appSettings.json correctly.\n\nBut then we set `factory.Uri` to the connection string being passed. We do this after binding to config in order for the connection string to always \"win\" or be respected.\n\nThe problem comes in the RabbitMQ code. When you set the `ConnectionFactory.Uri` property, it overwrites the `Endpoint` property:\n\nhttps://github.com/rabbitmq/rabbitmq-dotnet-client/blob/58ac94966d12ffbb88ccd03ea085b3516a544321/projects/RabbitMQ.Client/ConnectionFactory.cs#L677\n\n```C#\n        private void SetUri(Uri uri)\n        {\n            Endpoint = new AmqpTcpEndpoint();\n```\n\nWhich then clears out the Ssl property:\n\nhttps://github.com/rabbitmq/rabbitmq-dotnet-client/blob/58ac94966d12ffbb88ccd03ea085b3516a544321/projects/RabbitMQ.Client/ConnectionFactory.cs#L279-L287\n\n```C#\n        public AmqpTcpEndpoint Endpoint\n        {\n            get { return new AmqpTcpEndpoint(HostName, Port, Ssl, MaxInboundMessageBodySize); }\n            set\n            {\n                Port = value.Port;\n                HostName = value.HostName;\n                Ssl = value.Ssl;\n                MaxInboundMessageBodySize = value.MaxInboundMessageBodySize;\n```\n\nSo all the Ssl values from config get cleared.",
                                           "updatedAt":  "2024-11-08T20:05:55Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Not able to bind RabbitMQ Configuration for Ssl property (Client integration)",
        "labels":  [
                       "area-integrations",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6616",
        "createdAt":  "2024-11-06T03:48:50Z",
        "number":  6616,
        "author":  "luisquintanilla",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-14T23:53:24Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n_No response_\n\n### Describe the solution you\u0027d like\n\nI want to use PII Redaction containers as an integration in Aspire\n\nhttps://learn.microsoft.com/en-us/azure/ai-services/language-service/personally-identifiable-information/how-to/use-containers\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support for PII Redaction Containers (AI Services)",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6631",
        "createdAt":  "2024-11-07T20:44:30Z",
        "number":  6631,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-11-13T00:37:43Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n`PythonAppResource` is in the namespace `Aspire.Hosting.Python`, whereas `NodeAppResource` is directly in `Aspire.Hosting`. This is inconsistent, we should put `PythonAppResource` in `Aspire.Hosting`.\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkvhlGw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6S9b1B",
                                           "createdAt":  "2024-11-08T19:16:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "I think `NodeAppResource` might be the outlier here. Mostly, we put the Resource classes in `Aspire.Hosting.ApplicationModel`. For Azure, they all are in `Aspire.Hosting.Azure`. Python, and Dapr each have `Aspire.Hosting.XX`.\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Dapr/DaprComponentResource.cs#L6-L11\n\nA sample of other resource classes:\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Elasticsearch/ElasticsearchResource.cs#L4-L9\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Milvus/MilvusServerResource.cs#L6-L11\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.MongoDB/MongoDBServerResource.cs#L4-L10\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Redis/RedisResource.cs#L4-L10\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.RabbitMQ/RabbitMQServerResource.cs#L4-L9\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.PostgreSQL/PostgresServerResource.cs#L7-L12\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Qdrant/QdrantServerResource.cs#L4-L9\n\nMilvus also appears to be an outlier.",
                                           "updatedAt":  "2024-11-08T19:16:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6S9c2Y",
                                           "createdAt":  "2024-11-08T19:19:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "All Azure resources are in `Aspire.Hosting.Azure` except the following:\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Azure.CosmosDB/AzureCosmosDBResource.cs#L7-L12\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Azure.SignalR/AzureSignalRResource.cs#L6-L13\n\nhttps://github.com/dotnet/aspire/blob/2e60ee60398402a51f15e17d1115587ed523510e/src/Aspire.Hosting.Azure.WebPubSub/AzureWebPubSubResource.cs#L6-L13",
                                           "updatedAt":  "2024-11-08T19:19:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6S-GUb",
                                           "createdAt":  "2024-11-08T21:09:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Hmm OK. Seems we haven\u0027t been particularly consistent with this ☹ ",
                                           "updatedAt":  "2024-11-08T21:09:02Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "PythonAppResource should be in the Aspire.Hosting namespace",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6632",
        "createdAt":  "2024-11-07T20:46:30Z",
        "number":  6632,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2024-11-13T00:37:07Z",
        "body":  "Some Python apps use a completely different executable as the entry point, i.e., something other than python. Indeed on Ubuntu and other distros the default python command is python3, not python. Frameworks like Flask have their own command, i.e., flask. We should update the Python hosting integration to allow for python apps that use a command other than `python`.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Python hosting integration doesn\u0027t support command other than `python`",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6651",
        "createdAt":  "2024-11-13T07:53:32Z",
        "number":  6651,
        "author":  "carlcamilleri",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODBUkgA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "miceiken",
                                            "createdAt":  "2024-12-04T09:45:49Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "manuscrypt",
                                            "createdAt":  "2024-12-04T15:45:31Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "siavol",
                                            "createdAt":  "2025-04-17T15:12:26Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-08-19T15:24:38Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nA Kafka dependency is restarted each time I run the AppHost project.\n\nMinimal reproduction code:\n```\n\nvar kafka = builder\n    .AddKafka(\"messaging\").WithLifetime(ContainerLifetime.Persistent);\n```\n\nI am on MacOS, using Docker Desktop\n\nHappy to provide further details as necessary\n\nThank you\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### AppHost CSProj\n```\n\u003cProject Sdk=\"Microsoft.NET.Sdk\"\u003e\n  \u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.0.0\" /\u003e\n  \u003cPropertyGroup\u003e\n    \u003cOutputType\u003eExe\u003c/OutputType\u003e\n    \u003cTargetFramework\u003enet8.0\u003c/TargetFramework\u003e\n    \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n    \u003cNullable\u003eenable\u003c/Nullable\u003e\n    \u003cIsAspireHost\u003etrue\u003c/IsAspireHost\u003e\n    \u003cUserSecretsId\u003e*****\u003c/UserSecretsId\u003e\n  \u003c/PropertyGroup\u003e\n\n  \u003cItemGroup\u003e\n    \n    \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.0.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Kafka\" Version=\"9.0.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Npgsql\" Version=\"9.0.0\" /\u003e\n  \u003c/ItemGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cProjectReference Include=\"..\\..\\Domain\\Demo\\DemoApp\\DemoApp.csproj\" /\u003e\n  \u003c/ItemGroup\u003e\n\u003c/Project\u003e\n\n```\n\n### .NET Version info\n\n```\ndotnet --info\n.NET SDK:\n Version:           8.0.100\n Commit:            57efcf1350\n Workload version:  8.0.100-manifests.4d7d414a\n\nRuntime Environment:\n OS Name:     Mac OS X\n OS Version:  14.4\n OS Platform: Darwin\n RID:         osx-arm64\n Base Path:   /usr/local/share/dotnet/sdk/8.0.100/\n\n.NET workloads installed:\n Workload version: 8.0.100-manifests.4d7d414a\nThere are no installed workloads to display.\n\nHost:\n  Version:      8.0.0\n  Architecture: arm64\n  Commit:       5535e31a71\n\n.NET SDKs installed:\n  8.0.100 [/usr/local/share/dotnet/sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 8.0.0 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 8.0.0 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n\nOther architectures found:\n  x64   [/usr/local/share/dotnet/x64]\n    registered at [/etc/dotnet/install_location_x64]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n```\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvs6oBQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6VCGAf",
                                           "createdAt":  "2024-11-26T11:17:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "amolenk",
                                           "body":  "Seeing the same behavior\n",
                                           "updatedAt":  "2024-11-26T11:17:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6YIdiK",
                                           "createdAt":  "2024-12-18T22:04:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOECvXpg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "miceiken",
                                                                               "createdAt":  "2024-12-19T09:42:40Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "armindogomes",
                                                                               "createdAt":  "2025-01-16T12:10:30Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "duskembayev",
                                           "body":  "Defining the port solves the problem.\n```\nvar kafka = builder\n    .AddKafka(\"messaging\", 9092).WithLifetime(ContainerLifetime.Persistent);\n```",
                                           "updatedAt":  "2024-12-18T22:04:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6fA9vR",
                                           "createdAt":  "2025-02-19T07:55:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "fredeil",
                                           "body":  "Currently experiencing the same on .NET9 ",
                                           "updatedAt":  "2025-02-19T07:55:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gis9W",
                                           "createdAt":  "2025-03-03T07:00:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@danegsta there should be a log that explains why the container isn\u0027t being persistent right?",
                                           "updatedAt":  "2025-03-03T07:00:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6goB6r",
                                           "createdAt":  "2025-03-03T15:57:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "\u003e [@danegsta](https://github.com/danegsta) there should be a log that explains why the container isn\u0027t being persistent right?\n\nYeah, setting the Aspire.Hosting.Dcp LogLevel to information should show a log message when we recreate a persistent container. Log entry starts with “found existing Container, but the lifecycle key doesn\u0027t match, recreating container” and should then give a high level breakdown of what properties have changed (ports, environment variables, bind mounts, etc.). ",
                                           "updatedAt":  "2025-03-03T15:57:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6goZMc",
                                           "createdAt":  "2025-03-03T16:31:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@danegsta I think we should log that in warning by default but log the more verbose information as information.",
                                           "updatedAt":  "2025-03-03T16:31:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gqksl",
                                           "createdAt":  "2025-03-03T20:55:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEUMdEA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "willdean",
                                                                               "createdAt":  "2025-05-11T14:48:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "lwu-st",
                                                                               "createdAt":  "2025-05-29T00:02:31Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "danegsta",
                                           "body":  "\u003e [@danegsta](https://github.com/danegsta) I think we should log that in warning by default but log the more verbose information as information.\n\nThe logging library that we\u0027re basically forced to use (it\u0027s standard in all our dependencies) has explicitly chosen not to support warning level logging (apparently the author read a blog that said warnings are bad so now we\u0027re not allowed to use them). Practically speaking we\u0027re limited to error, info, and debug log levels.",
                                           "updatedAt":  "2025-03-03T20:55:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uF28J",
                                           "createdAt":  "2025-05-29T23:02:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lwu-st",
                                           "body":  "This issue is still present on 9.3.0, and the workaround by specifying a port doesn\u0027t work for us either. \nDoes anyone have any other workaround that may be worth trying? \nThis is especially detrimental to integration test time consumption, as each run will reprovision Kafka.\n\n```\nIResourceBuilder\u003cKafkaServerResource\u003e kafka = builder.AddKafka(\"kafka\", 9092)\n    .WithContainerName(\"kafka\") // tried removing this\n    .WithLifetime(ContainerLifetime.Persistent)\n    .WithDataVolume(\"kafka-data\"); // also tried removing this\n```",
                                           "updatedAt":  "2025-05-29T23:09:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uF4Xz",
                                           "createdAt":  "2025-05-29T23:07:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Did anyone turn on the logging that explains why the container is getting restarted?",
                                           "updatedAt":  "2025-05-29T23:07:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uF6ez",
                                           "createdAt":  "2025-05-29T23:14:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lwu-st",
                                           "body":  "@davidfowl just retrieved it:\n```\ninfo: Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler[0]\n      found existing Container, but the lifecycle key doesn\u0027t match, recreating container       {\"Container\": {\"name\":\"gum-kafka\"}, \"Reconciliation\": 17, \"ContainerName\": \"gum-kafka\", \"ContainerID\": \"40169af84b0857706f499fc9186cce24fce3f996d7a0606c09ff50f6f7d73435\", \"OldLifecycleKey\": \"1cc4f78b7f5cb41a0fde197cdd8f98dbeee8b954cc53c6231a12035757ebc4ce\", \"NewLifecycleKey\": \"c6fbb0fc1bc229a6531d119f577df70f8f5a152f210b8f275253497495a8f394\", \"MountChanges\": [], \"PortChanges\": [], \"EnvChanges\": [\"KAFKA_ADVERTISED_LISTENERS\"], \"OtherChanges\": []}\n```",
                                           "updatedAt":  "2025-05-29T23:14:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uF7B2",
                                           "createdAt":  "2025-05-29T23:16:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@danegsta ?",
                                           "updatedAt":  "2025-05-29T23:16:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uGHWF",
                                           "createdAt":  "2025-05-29T23:58:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "This is basically the predictable persistent container ports issue; by default Kafka is getting a random proxied host port every run which causes the ports reported in the `KAFKA_ADVERTISED_LISTENERS` environment variable to change despite being configured with what should be a fixed port of 9092. You should be able to opt the resource into running proxyless by adding the experimental `.WithEndpointProxySupport(false)` which would prevent the environment variable changing every run.",
                                           "updatedAt":  "2025-05-29T23:58:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uIsSl",
                                           "createdAt":  "2025-05-30T07:48:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEXze-A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "danegsta",
                                                                               "createdAt":  "2025-05-30T16:48:21Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "vtymchyk-st",
                                                                               "createdAt":  "2025-06-24T23:37:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "artur-st",
                                           "body":  "\u003e This is basically the predictable persistent container ports issue; by default Kafka is getting a random proxied host port every run which causes the ports reported in the `KAFKA_ADVERTISED_LISTENERS` environment variable to change despite being configured with what should be a fixed port of 9092. You should be able to opt the resource into running proxyless by adding the experimental `.WithEndpointProxySupport(false)` which would prevent the environment variable changing every run.\n\nWorkaround worked for me 🚀 ",
                                           "updatedAt":  "2025-05-30T07:48:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-zqgF",
                                           "createdAt":  "2025-08-19T15:24:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Odonno",
                                           "body":  "The same issue happens with Kafka and goff (from CommunityToolkit). However, the SQL Server hosting works as expected.\n\nI can also notice that the volume is not destroyed when the container is stopped/recreated, which causes issues as more volumes exist at the same time. Is it a side effect or could it be the cause?",
                                           "updatedAt":  "2025-08-19T15:24:38Z"
                                       }
                                   ],
                         "totalCount":  14
                     },
        "title":  "Persistent Kafka getting restarted",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6673",
        "createdAt":  "2024-11-14T14:28:15Z",
        "number":  6673,
        "author":  "danroot",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODHZcLQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "erwinkramer",
                                            "createdAt":  "2024-11-19T22:36:33Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MatthewSteeples",
                                            "createdAt":  "2025-05-18T21:03:16Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "nvmkpk",
                                            "createdAt":  "2025-05-24T07:32:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "DeagleGross",
                                            "createdAt":  "2025-07-17T13:23:22Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-01-21T16:42:57Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAs a developer of ASP.NET Core + Azure Storage + EFCore SQL Server apps, I would like to use Aspire more fully without using containers.  I want the rich dev time logging, configuration, etc. of Aspire, but am not ready to adopt containers for Azure Storage Emulator and SQL Server.  \n\n### Describe the solution you\u0027d like\n\nI envision being able to do very similar to the existing Storage Emulator and SQL examples, but to allow using non-container options.  In AppHost, I would like to have it find and start up azurite executable in-process:\n\n```\nvar storage = builder.AddAzureStorage(\"Storage\");\nif (builder.Environment.IsDevelopment()){ storage.RunLocalEmulator(@\"D:\\myproject_temp_storage\"); }\n```\n\nAs well as use SQL server already running on my dev machine:\n```\nvar sql = builder.AddSqlServer(\"sql\");\nif (builder.Environment.IsDevelopment()){ sql = sql.WithLocalServer(@\"(localdb)\"); }\n```\n\nFrom then on, expectation would be that the injected resources would work the same as container options.\n\n### Additional context\n\nI was able to launch Azurite using an ExecutableResource, but was unable to work it in such a way that it integrated with the existing Aspire.Azure.Storage code and let me inject connection info into the app.  Similarly, we can  can of course continue to connect to SQL directly from the ASP.NET app, but in both cases we don\u0027t get the rich tracing and logging for those in Aspire.\n\nOur dev team already has Storage Emulator (it ships with VS!) and SQL Server.  Containerizing those right now doesn\u0027t make sense for us, and our dev vms hosted in Azure don\u0027t support Docker.  \n\nOur apps are already set up in Azure AppService, Azure SQL, and Storage, and have a CI/CD pipeline for deployment.  We\u0027re not ready to containerize the production app or automate deployment via bicep. By supporting local non-container flavors of the things that can, Aspire will be a smoother on-ramp for developers who want the rich dev experience of Aspire but are not ready to adopt containers for all the things.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOm0i-Fw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Todgd",
                                           "createdAt":  "2024-11-14T16:23:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I envision being able to do very similar to the existing Storage Emulator and SQL examples, but to allow using non-container options. In AppHost, I would like to have it find and start up azurite executable in-process:\n\nI don\u0027t think this is an unreasonable request, but I\u0027d like to see how much traction it gets before we do anything. Aspire might just be the trojan horse that makes you flip to using containers 😄.\n\n\u003e As well as use SQL server already running on my dev machine:\n\nYou can do this by using `AddConnectionString` instead of AddSqlServer. There\u0027s nothing for the app host to do here besides flowing the connection string to other applications (so it\u0027s not like azurite in that sense).\n\n\u003e Our dev team already has Storage Emulator (it ships with VS!) and SQL Server. Containerizing those right now doesn\u0027t make sense for us, and our dev vms hosted in Azure don\u0027t support Docker.\n\nYou can use podman instead. Is there some constraint that stops you from using a container runtime on these machines?\n\n\u003e Our apps are already set up in Azure AppService, Azure SQL, and Storage, and have a CI/CD pipeline for deployment. We\u0027re not ready to containerize the production app or automate deployment via bicep. By supporting local non-container flavors of the things that can, Aspire will be a smoother on-ramp for developers who want the rich dev experience of Aspire but are not ready to adopt containers for all the things.\n\nYou don\u0027t need to use the aspire deployment technology, sounds like you have this covered already so it shouldn\u0027t be a problem.",
                                           "updatedAt":  "2024-11-14T16:23:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Tq3Ka",
                                           "createdAt":  "2024-11-14T21:56:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danroot",
                                           "body":  "Thanks for quick response. \n\n\u003e I don\u0027t think this is an unreasonable request, but I\u0027d like to see how much traction it gets before we do anything.\n\nUnderstood.  I get it\u0027s an edge case, but I have to think we\u0027re not the only devs who want all the Aspire goodness but can\u0027t or don\u0027t want to go full-bore containers yet.  In our case, we ARE able to use Aspire for the ASP.NET core API and an Angular UI, and it\u0027s great.  We just want to take usage to the next level.\n\nI didn\u0027t know that about AddConnectionString, so tried it just now.  Somewhat mitigates that concern, but really I want to see a row in \"Resources\" and traces/logging/metrics for the resource.\n\nIn the case of Azurite, it ships with VS, so most devs that use this will have azurite locally already.\n\nI tried both podman and docker desktop on our Standard_B8ms Azure VMs and neither will work.  I don\u0027t recall the exact errors, but remember they were pretty definitive \"you can\u0027t run this on this machine\". I\u0027m not opposed to changing dev vm SKUs, or switching to local machines for dev. I _do_ want to move to containers for dev and possibly for deployment, especially if I get richer logging and metrics in Aspire.  Having a smoother non-container on-ramp could help that.  It would allow developers not in a containerized environment still be able to work with the app until they migrate to a dev vm or local dev to support containers:\n\n```\nif (builder.Environment.IsDevelopment() \u0026\u0026 builder.Environment.SupportsContainers()){ \n   storage.RunEmulator(); \n}else if (builder.Environment.IsDevelopment()){ \n   storage.RunLocalEmulator(@\"D:\\myproject_temp_storage\"); \n}\n```",
                                           "updatedAt":  "2024-11-14T21:56:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Tra8J",
                                           "createdAt":  "2024-11-14T23:43:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "afscrome",
                                           "body":  "I believe you\u0027ll need to pick a VM sku that supports [Nested Virtualization](https://learn.microsoft.com/en-us/virtualization/hyper-v-on-windows/user-guide/nested-virtualization). That doesn\u0027t appear to be supported with B series - https://learn.microsoft.com/en-us/azure/virtual-machines/sizes/general-purpose/bv1-series?tabs=sizebasic#feature-support .  ",
                                           "updatedAt":  "2024-11-14T23:43:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6TsHn0",
                                           "createdAt":  "2024-11-15T02:15:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I didn\u0027t know that about AddConnectionString, so tried it just now. Somewhat mitigates that concern, but really I want to see a row in \"Resources\" and traces/logging/metrics for the resource.\n\nThere’s no telemetry or logs that get plumbed from your localdb. The telemetry comes from your application code. \n\nI would encourage you to try to use containers in your local dev environments. That’s a good first step before going full bore. \n\nIn the meantime, you could build a custom azurite resource that does what you are trying to do.",
                                           "updatedAt":  "2024-11-15T02:15:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6TyepI",
                                           "createdAt":  "2024-11-15T17:19:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danroot",
                                           "body":  "@afscrome You\u0027re right, but it\u0027s a hard sell because B8ms was such a sweet spot.  8core/32gb @ 266/mo.  As best I can tell comparable VMs that support nested virtualization are close to double the cost, or we could try lower cpu/ram. I\u0027d sooner just switch to dev on local machines, but that means additional setup and moving cheese for other devs.  We\u0027ll figure it out, just explaining the context why \"just pick a new dev machine\" may not be straightforward for some situations. \n\nIn case anyone needs or can build on it, I did do what @davidfowl suggested and make an extension method to at least run azurite:\n```\n/// \u003csummary\u003e\n/// Extension methods for adding Azure Storage Emulator to a distributed application.  Unlike the built-in Aspire Storage support, this \n/// does not use a container, but instead uses the azurite exe on the developer\u0027s machine.  However it also does not currently inject configuration information to the application.\n/// \u003c/summary\u003e\ninternal static class AzureStorageEmulatorExecutableExtensions\n{\n\n    /// \u003csummary\u003e\n    /// Adds the Azure Storage Emulator executable to the distributed application.  Unlike the built-in Aspire Storage support, this \n    /// does not use a container, but instead uses the azurite exe on the developer\u0027s machine.  However it also does not currently inject configuration information to the application.\n    /// A future enhancement could be to integrate this with the Aspire Storage support to provide a more seamless experience.\n    /// \u003c/summary\u003e\n    /// \u003cparam name=\"builder\"\u003e\u003c/param\u003e\n    /// \u003cparam name=\"name\"\u003e\u003c/param\u003e\n    /// \u003cparam name=\"workingDirectory\"\u003e\u003c/param\u003e\n    /// \u003creturns\u003e\u003c/returns\u003e\n    /// \u003cexception cref=\"DistributedApplicationException\"\u003e\u003c/exception\u003e\n    public static IResourceBuilder\u003cExecutableResource\u003e AddAzureStorageEmulatorExecutable(this IDistributedApplicationBuilder builder, string name, string workingDirectory)\n    {\n        //TODO: Look on all drives in case someone installs vs in a different location.  Also support other OSes\n        var paths = new[]{@\"C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional\\Common7\\IDE\\Extensions\\Microsoft\\Azure Storage Emulator\\azurite.exe\",\n@\"C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\\Common7\\IDE\\Extensions\\Microsoft\\Azure Storage Emulator\\azurite.exe\",\n@\"C:\\Program Files\\Microsoft Visual Studio\\2022\\Enterprise\\Common7\\IDE\\Extensions\\Microsoft\\Azure Storage Emulator\\azurite.exe\" };\n        var azuritePath = paths.FirstOrDefault(File.Exists);\n        Console.WriteLine($\"Azurite path: {azuritePath}\");\n        if (azuritePath == null)\n        {\n            throw new DistributedApplicationException(\"Azurite executable not found.  Please install the Azure Storage Emulator.\");\n        }\n\n        var resource = new ExecutableResource(name, azuritePath, workingDirectory);\n\n        return builder.AddResource(resource)\n            .WithArgs(\"--loose\", \"--skipApiVersionCheck\", \"--location\", workingDirectory)\n            .ExcludeFromManifest();\n    }\n}\n```\nSo I can do this in apphost:\n```\nbuilder.AddAzureStorageEmulatorExecutable(\"Azurite\", @\"D:\\some_temp_path\");\n```\n\nBut this doesn\u0027t provide all the benefits of Aspire.Hosting.Azure.Storage, like injecting config.  I tried to do an overload of [RunAsEmulator](https://github.com/dotnet/aspire/blob/c0ff16dff269c0d3409c790e287e54e766ba89d9/src/Aspire.Hosting.Azure.Storage/AzureStorageExtensions.cs#L90) that returned a AzureStorageEmulatorExecutableResource instead, but got into the weeds and don\u0027t fully grok that yet.\n",
                                           "updatedAt":  "2024-11-15T17:19:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6T3WpW",
                                           "createdAt":  "2024-11-16T20:04:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEYorBw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "danroot",
                                                                               "createdAt":  "2024-11-16T23:01:02Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "SteveHSX7",
                                                                               "createdAt":  "2025-01-21T20:32:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "NoelOConnell",
                                                                               "createdAt":  "2025-07-01T09:04:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Here\u0027s a more complete Azurite resource:\n\n```C#\nusing System.Globalization;\nusing Aspire.Hosting.Azure;\nusing Azure.Identity;\nusing Azure.Storage.Blobs;\nusing Microsoft.Extensions.DependencyInjection;\n\nnamespace Aspire.Hosting;\n\npublic static class AzuriteExtensions\n{\n    private static readonly IReadOnlyList\u003cstring\u003e CandidatePaths = GetDefaultAzuriteCandidatePaths().ToList();\n\n    public static IResourceBuilder\u003cAzuriteResource\u003e AddAzurite(this IDistributedApplicationBuilder builder, string name, string? emulatorPath = null, string? workingDirectory = null)\n    {\n        emulatorPath ??= CandidatePaths.FirstOrDefault() ?? throw new InvalidOperationException(\"Unable to find the Azure Storage Emulator executable.\");\n\n        // Get a unique hash for this apphost directory\n        var applicationHash = builder.Configuration[\"AppHost:Sha256\"]![..10].ToLowerInvariant();\n        workingDirectory ??= Directory.CreateTempSubdirectory(\".azurite\").CreateSubdirectory(applicationHash).CreateSubdirectory(name).FullName;\n\n        var resource = new AzuriteResource(name, emulatorPath, workingDirectory);\n\n        BlobServiceClient? blobServiceClient = null;\n\n        builder.Eventing.Subscribe\u003cBeforeResourceStartedEvent\u003e(resource, async (@event, ct) =\u003e\n        {\n            var connectionString = await resource.GetBlobConnectionString().GetValueAsync(ct).ConfigureAwait(false) ??\n                throw new DistributedApplicationException($\"ConnectionStringAvailableEvent was published for the \u0027{resource.Name}\u0027 resource but the connection string was null.\");\n\n            blobServiceClient = CreateBlobServiceClient(connectionString);\n        });\n\n        var healthCheckKey = $\"{resource.Name}_check\";\n\n        builder.Services.AddHealthChecks().AddAzureBlobStorage(sp =\u003e\n        {\n            return blobServiceClient ?? throw new InvalidOperationException(\"BlobServiceClient is not initialized.\");\n        },\n        name: healthCheckKey);\n\n        return builder.AddResource(resource)\n                      .WithEndpoint(name: \"blob\")\n                      .WithEndpoint(name: \"queue\")\n                      .WithEndpoint(name: \"table\")\n                      .WithArgs(context =\u003e\n                      {\n                          context.Args.Add(\"--loose\");\n                          context.Args.Add(\"--skipApiVersionCheck\");\n                          context.Args.Add(\"--blobPort\");\n                          context.Args.Add(resource.EmulatorBlobEndpoint.Property(EndpointProperty.TargetPort));\n                          context.Args.Add(\"--queuePort\");\n                          context.Args.Add(resource.EmulatorQueueEndpoint.Property(EndpointProperty.TargetPort));\n                          context.Args.Add(\"--tablePort\");\n                          context.Args.Add(resource.EmulatorTableEndpoint.Property(EndpointProperty.TargetPort));\n                      })\n                      .WithHealthCheck(healthCheckKey);\n\n        static BlobServiceClient CreateBlobServiceClient(string connectionString)\n        {\n            if (Uri.TryCreate(connectionString, UriKind.Absolute, out var uri))\n            {\n                return new BlobServiceClient(uri, new DefaultAzureCredential());\n            }\n            else\n            {\n                return new BlobServiceClient(connectionString);\n            }\n        }\n    }\n\n\n    private static IEnumerable\u003cstring\u003e GetDefaultAzuriteCandidatePaths()\n    {\n        List\u003cstring\u003e allPaths = [];\n\n        if (OperatingSystem.IsWindows())\n        {\n            // https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azurite\n\n            string[] VisualStudioSkus =\n            [\n                \"Community\",\n                \"Professional\",\n                \"Enterprise\",\n                \"Preview\"\n            ];\n\n            string azuriteInVisualStudioPathFormat = \"{0}\\\\Microsoft Visual Studio\\\\2022\\\\{1}\\\\Common7\\\\IDE\\\\Extensions\\\\Microsoft\\\\Azure Storage Emulator\\\\azurite.exe\";\n\n            var vsPaths = from s in VisualStudioSkus\n                          let basePath = Environment.GetFolderPath(Environment.SpecialFolder.ProgramFiles)\n                          let azuritePath = string.Format(CultureInfo.InvariantCulture, azuriteInVisualStudioPathFormat, basePath, s)\n                          where File.Exists(azuritePath)\n                          select azuritePath;\n\n            allPaths.AddRange(vsPaths);\n        }\n\n        // Check the PATH environment variable\n        string[] fmtStrings = OperatingSystem.IsWindows() ? [\"{0}.exe\", \"{0}.cmd\"] : [\"{0}\"];\n\n        foreach (var dir in Environment.GetEnvironmentVariable(\"PATH\")?.Split(\u0027;\u0027) ?? [])\n        {\n            foreach (var fmtString in fmtStrings)\n            {\n                var path = Path.Combine(dir, string.Format(fmtString, \"azurite\"));\n\n                if (File.Exists(path))\n                {\n                    allPaths.Add(path);\n                }\n            }\n        }\n\n        return allPaths;\n    }\n}\n\npublic class AzuriteResource(string name, string command, string workingDirectory) : ExecutableResource(name, command, workingDirectory),\n    IResourceWithConnectionString\n{\n    public ReferenceExpression ConnectionStringExpression =\u003e AzureStorageEmulatorConnectionString.Create(blobEndpoint: EmulatorBlobEndpoint, queueEndpoint: EmulatorQueueEndpoint, tableEndpoint: EmulatorTableEndpoint);\n\n    internal EndpointReference EmulatorBlobEndpoint =\u003e new(this, \"blob\");\n\n    internal EndpointReference EmulatorQueueEndpoint =\u003e new(this, \"queue\");\n\n    internal EndpointReference EmulatorTableEndpoint =\u003e new(this, \"table\");\n\n    public ReferenceExpression GetBlobConnectionString() =\u003e\n        AzureStorageEmulatorConnectionString.Create(blobEndpoint: EmulatorBlobEndpoint);\n\n    private static class AzureStorageEmulatorConnectionString\n    {\n        // Use defaults from https://learn.microsoft.com/azure/storage/common/storage-configure-connection-string#connect-to-the-emulator-account-using-the-shortcut\n        private const string ConnectionStringHeader = \"DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;\";\n\n        private static void AppendEndpointExpression(ReferenceExpressionBuilder builder, string key, EndpointReference endpoint)\n        {\n            builder.Append($\"{key}=http://{endpoint.Property(EndpointProperty.IPV4Host)}:{endpoint.Property(EndpointProperty.Port)}/devstoreaccount1;\");\n        }\n        public static ReferenceExpression Create(EndpointReference? blobEndpoint = null, EndpointReference? queueEndpoint = null, EndpointReference? tableEndpoint = null)\n        {\n            var builder = new ReferenceExpressionBuilder();\n            builder.AppendLiteral(ConnectionStringHeader);\n\n            if (blobEndpoint is not null)\n            {\n                AppendEndpointExpression(builder, \"BlobEndpoint\", blobEndpoint);\n            }\n            if (queueEndpoint is not null)\n            {\n                AppendEndpointExpression(builder, \"QueueEndpoint\", queueEndpoint);\n            }\n            if (tableEndpoint is not null)\n            {\n                AppendEndpointExpression(builder, \"TableEndpoint\", tableEndpoint);\n            }\n\n            return builder.Build();\n        }\n    }\n}\n```",
                                           "updatedAt":  "2024-11-16T20:39:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6T3qeZ",
                                           "createdAt":  "2024-11-16T23:08:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danroot",
                                           "body":  "@davidfowl yeah, that\u0027s pretty much exactly what we need.  Thanks a ton!  Will leave it to you all whether it makes sense to bake this into Aspire.Hosting.Azure.Storage, but  I think this will give our team a good bridge so we can adopt Aspire now, then look at containerizing dev in the near future.  \n\n@afscrome After some more research I\u0027m wondering if Azure DevBox will be a good fit.  Cheaper than our Standard_B8ms Azure VMs and maybe supports docker?",
                                           "updatedAt":  "2024-11-16T23:08:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UPDkz",
                                           "createdAt":  "2024-11-19T23:30:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "erwinkramer",
                                           "body":  "@danroot You can take a minimal approach by implementing the [standalone Aspire Dashboard](https://learn.microsoft.com/en-us/dotnet/core/diagnostics/observability-otlp-example) in combination with just `Aspire.Azure.Storage.Blobs`. Please have a look at https://github.com/erwinkramer/bank-api where i implemented just that. \n\nIt does mean you do not get the benefits of everything that `Aspire.Hosting.Azure.Storage` brings you, but it does show a nice tracelog in the Aspire dashboard, and setting the config is nicer this way compared to the regular Azure SDK implementation.",
                                           "updatedAt":  "2024-11-19T23:32:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UPT8h",
                                           "createdAt":  "2024-11-20T00:28:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@erwinkramer @danroot isn\u0027t running containers at all 😄 ",
                                           "updatedAt":  "2024-11-20T00:28:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UPlAs",
                                           "createdAt":  "2024-11-20T01:19:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danroot",
                                           "body":  "Thanks @erwinkramer We\u0027re running the dashboard, .net app, and angular frontend just fine through apphost.  AddAzurite code above gets us where we want to be for now, allowing us to run storage emulator without container until we can get the team onboard with dev environments that support containers. \n",
                                           "updatedAt":  "2024-11-20T01:19:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bSL4X",
                                           "createdAt":  "2025-01-21T16:42:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "SteveHSX7",
                                           "body":  "I\u0027d just like to add my support this to be implemented.  We have developers that sometimes using Windows / Visual Studio as a VM on Apple Silicon which doesn\u0027t support running Docker / Podman.  Previously we\u0027d used Azurite to develop which worked fine in this environment so would like to continue with that.",
                                           "updatedAt":  "2025-01-21T16:42:55Z"
                                       }
                                   ],
                         "totalCount":  11
                     },
        "title":  "Aspire AzureStorage (and others) should allow non-container mode",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "sqlserver",
                       "azure-storage"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6740",
        "createdAt":  "2024-11-20T11:20:22Z",
        "number":  6740,
        "author":  "Thovenaar",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-27T10:13:21Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nDear Support Team,\n\nI hope this message finds you well.\n\nWe are currently encountering an issue with Aspire while using Cosmos DB in a .NET 9 project. The problem occurs with the Cosmos DB container configured as persistent. While it functions correctly during the initial startup, it fails upon subsequent restarts—either triggered manually via Docker or after a system reboot. Specifically, the container hangs at approximately 75% completion during startup.\n\nBelow is the relevant code snippet from the project setup:\n```\nIResourceBuilder\u003cAzureCosmosDBResource\u003e cosmos = builder.AddAzureCosmosDB(CosmosName)\n    .RunAsEmulator(e =\u003e e\n        .WithLifetime(ContainerLifetime.Persistent)\n        .WithDataVolume()\n        .WithPartitionCount(30)\n        .WithGatewayPort(8663));\n```\n\nWe are using the following (relevant) Aspire packages:\n- **Aspire.Hosting.AppHost** 9.0.0\n- **Aspire.Hosting.Azure.CosmosDB** 9.0.0\n\nFor reference, these are the container logs during the second startup (after the initial successful session):\n```\n2024-11-20 12:07:54 This is an evaluation version.  There are [124] days left in the evaluation period.\n2024-11-20 12:07:55 2.14.20.0 (dd7750b6)\n2024-11-20 12:07:55 Copyright (C) Microsoft Corporation. All rights reserved.\n2024-11-20 12:07:56 Starting\n2024-11-20 12:08:26 Started 1/31 partitions\n2024-11-20 12:08:26 Started 2/31 partitions\n2024-11-20 12:08:27 Started 3/31 partitions\n2024-11-20 12:08:27 Started 4/31 partitions\n2024-11-20 12:08:27 Started 5/31 partitions\n2024-11-20 12:08:28 Started 6/31 partitions\n2024-11-20 12:08:28 Started 7/31 partitions\n2024-11-20 12:08:28 Started 8/31 partitions\n2024-11-20 12:08:29 Started 9/31 partitions\n2024-11-20 12:08:29 Started 10/31 partitions\n2024-11-20 12:08:29 Started 11/31 partitions\n2024-11-20 12:08:29 Started 12/31 partitions\n2024-11-20 12:08:30 Started 13/31 partitions\n2024-11-20 12:08:30 Started 14/31 partitions\n2024-11-20 12:08:30 Started 15/31 partitions\n2024-11-20 12:08:31 Started 16/31 partitions\n2024-11-20 12:08:31 Started 17/31 partitions\n2024-11-20 12:08:32 Started 18/31 partitions\n2024-11-20 12:08:32 Started 19/31 partitions\n2024-11-20 12:08:32 Started 20/31 partitions\n2024-11-20 12:08:33 Started 21/31 partitions\n2024-11-20 12:08:33 Started 22/31 partitions\n2024-11-20 12:08:33 Started 23/31 partitions\n2024-11-20 12:08:33 Started 24/31 partitions\n```\n\nWe would greatly appreciate your assistance in identifying the root cause of this issue and any guidance on resolving it. Please let us know if additional information or logs are required.\n\nBest regards,\nThovenaar\n\n### Expected Behavior\n\nThe Cosmos DB container configured with Aspire should function correctly across all sessions, regardless of restarts triggered manually through Docker or via system reboots. Specifically:\n\n1. The Cosmos DB container should initialize and reach 100% startup completion consistently after any restart.\n2. The persistent configuration should ensure that data, volume mappings, and partition settings remain intact and accessible across sessions.\n3. The startup process should not hang or experience significant delays, ensuring seamless operation and availability of the Cosmos DB emulator.\n\nThis behavior should align with the provided Aspire configuration and package versions, without requiring additional manual intervention.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET 9\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOm-LmEg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6b4uYS",
                                           "createdAt":  "2025-01-27T10:13:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Specifically, the container hangs at approximately 75% completion during startup.\n\nThis seems like an emulator bug. File an issue here https://github.com/Azure/azure-cosmos-db-emulator-docker",
                                           "updatedAt":  "2025-01-27T10:13:20Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Issue with Persistent Cosmos DB Container Restart in Aspire (.NET 9)",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6760",
        "createdAt":  "2024-11-22T02:13:18Z",
        "number":  6760,
        "author":  "benbarnett02",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCjFwQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "benjaminsampica",
                                            "createdAt":  "2024-11-27T01:07:51Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "scottrudy",
                                            "createdAt":  "2024-11-27T11:55:31Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "oarchambault",
                                            "createdAt":  "2024-11-27T13:27:17Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "eliasmartinez93",
                                            "createdAt":  "2024-11-27T13:29:35Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "obiwanjacobi",
                                            "createdAt":  "2024-11-27T16:45:01Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TechWatching",
                                            "createdAt":  "2024-11-27T19:23:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "theodorehook",
                                            "createdAt":  "2024-11-27T19:44:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jmezach",
                                            "createdAt":  "2024-11-27T21:28:11Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "eddievelasquez",
                                            "createdAt":  "2024-11-28T02:18:55Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "philliphoff",
                                            "createdAt":  "2024-11-28T07:25:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "douglasware",
                                            "createdAt":  "2024-12-05T15:19:23Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "valdisiljuconoks",
                                            "createdAt":  "2024-12-13T08:32:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mlankamp",
                                            "createdAt":  "2024-12-19T12:33:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ladeak",
                                            "createdAt":  "2025-01-19T10:45:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Skleni",
                                            "createdAt":  "2025-01-19T10:48:14Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "devlead",
                                            "createdAt":  "2025-01-19T10:48:20Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "carl-berg",
                                            "createdAt":  "2025-01-19T11:13:50Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AMEH64",
                                            "createdAt":  "2025-01-19T20:04:55Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "FabienDehopre",
                                            "createdAt":  "2025-01-19T21:37:39Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "eriklieben",
                                            "createdAt":  "2025-05-19T19:01:55Z"
                                        }
                                    ],
                          "totalCount":  20
                      },
        "updatedAt":  "2025-07-18T00:16:53Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nCurrently, when adding a durable function to an Aspire project, 500 errors are returned when using the built-in (to durable functions) http endpoints to get and modify the function run.\n\n### Describe the solution you\u0027d like\n\nSupporting Durable functions (\u0026 bindings etc) would be a great next step now that Aspire supports Azure Functions. My use case for this is a series of long-running functions (5-10 minutes) that perform various data analytics/ETL type actions. \n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOt_EpAQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6VJwFI",
                                           "createdAt":  "2024-11-27T00:49:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "Thank you for logging this @benbarnett02. We should consider this as one of the important things to get now that we are adding Functions support. Adding this to the backlog.",
                                           "updatedAt":  "2024-11-27T00:49:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bxQQC",
                                           "createdAt":  "2025-01-24T21:06:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mattchenderson",
                                           "body":  "It looks like this might be connected to an older version of the Durable extension. Could you try updating the version of `Microsoft.Azure.Functions.Worker.Extensions.DurableTask` to 1.2.2? The default templates are referencing an older version, and we\u0027ll update those to use the new version as well.\n\nAnother issue we\u0027re aware of that you might hit when trying things out is that the deployed app by default would not have sufficient permissions over the storage account (which Durable Functions leverages by default). Aspire does not add any permissions based on the triggers and bindings being used. You would therefore need to add role assignments in your app host\u0027s `Program.cs` to enable Durable scenarios. [This documentation section](https://learn.microsoft.com/azure/azure-functions/functions-reference?tabs=blob\u0026pivots=programming-language-csharp#connecting-to-host-storage-with-an-identity) highlights some example built-in roles, as well as general guidance for identity-based connections for Functions host storage. Another option would be to use one of the other state provider options for Durable, but you\u0027d also need to set up those connections.\n\nWe\u0027ll look at ways to remove that friction point.",
                                           "updatedAt":  "2025-01-24T21:06:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bxowP",
                                           "createdAt":  "2025-01-24T22:10:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOED9dAA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "mattchenderson",
                                                                               "createdAt":  "2025-01-24T22:12:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "benbarnett02",
                                           "body":  "I\u0027ve just tested 1.2.2 of `Microsoft.Azure.Functions.Worker.Extensions.DurableTask` and it\u0027s working perfectly locally! I haven\u0027t tested deployment, but from those docs it looks pretty simple to configure roles on the storage account. \n\nNot a hard fix at all to bump one package\u0027s version, but would be good if there was some clear documentation, maybe [here](https://learn.microsoft.com/en-us/dotnet/aspire/serverless/functions?tabs=dotnet-cli\u0026pivots=visual-studio) to say that durable functions work from 1.2.2 of that package. Happy to raise a PR or issue in those docs if that\u0027s the right place for it?",
                                           "updatedAt":  "2025-01-24T22:10:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc638SkB",
                                           "createdAt":  "2025-07-18T00:16:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "This is a post-GA thing for \"officially\" supporting it with functions, but we did unblock some functionalilty in 9.2 so it \"mostly\" works",
                                           "updatedAt":  "2025-07-18T00:16:53Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Support for durable functions",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6807",
        "createdAt":  "2024-11-26T05:26:17Z",
        "number":  6807,
        "author":  "aaronpowell",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC9TtEw==",
                          "nodes":  [
                                        {
                                            "content":  "HEART",
                                            "user":  "danmoseley",
                                            "createdAt":  "2024-11-26T05:47:32Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "davidfowl",
                                            "createdAt":  "2024-11-26T07:54:43Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "Alirexaa",
                                            "createdAt":  "2024-11-26T08:34:43Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "mitchdenny",
                                            "createdAt":  "2024-11-26T14:02:43Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "maddymontaquila",
                                            "createdAt":  "2024-11-26T18:03:59Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "radical",
                                            "createdAt":  "2024-11-26T18:14:52Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "captainsafia",
                                            "createdAt":  "2024-11-27T00:06:52Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "PureKrome",
                                            "createdAt":  "2024-11-27T12:37:41Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "KennethHoff",
                                            "createdAt":  "2024-12-01T17:01:38Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "tommasodotNET",
                                            "createdAt":  "2024-12-04T08:50:35Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "IEvangelist",
                                            "createdAt":  "2024-12-09T13:20:03Z"
                                        }
                                    ],
                          "totalCount":  11
                      },
        "updatedAt":  "2025-07-17T23:33:47Z",
        "body":  "It\u0027s been a few months since we started building the [.NET Aspire Community Toolkit](https://github.com/CommunityToolkit/Aspire) and I thought I\u0027d share some things that we\u0027ve learnt trying to build integrations outside of the Aspire repo. When it came to building integrations, I wanted to have them as close to the same level of quality that can be found in the Aspire repo, across API design, documentation, and testing, while also behaving as close as we could make them to integrations from the Aspire repo (I\u0027ll refer to these as _native integrations_).\n\n## Integration design\n\nWhen it comes to creating integrations, especially at the level of quality we wanted to achieve, Aspire provides a lot of the groundwork without complexity. Types are generic enough and there\u0027s very few `sealed` types, meaning creating custom `Resource` types is easy.\n\nThis brings us to the primary challenge as an integration author - consistent defaults with native integrations.\n\n### Util/Shared classes\n\nThere are a several classes that live in the [`Shared`](https://github.com/dotnet/aspire/tree/main/src/Shared) and [`Components/Common`](https://github.com/dotnet/aspire/tree/main/src/Components/Common) folders that provide behaviour to integrations. So far, we have wanted to use four of them, `HealthCheckExtensions`, `PasswordGenerator`, `PathNormalizer`, and `VolumeNameGenerator`.\n\nAs these types don\u0027t belong to assemblies themselves, and are marked as `internal`, we are left with two options:\n\n1. Disregard that functionality.\n2. Copy the code into our repo.\n\nSo far, we\u0027ve gone down the route of option two and copied the code across, but this represents a point-in-time snapshot of how the code works and can result in code drift. For example, I noticed while writing this up that our version of `VolumeNameGenerator` is out of date and thus we are not generating volume names consistently with native integrations.\n\nAlso, we are looking into how our client integrations can better support the configuration schema (tracking: https://github.com/CommunityToolkit/Aspire/issues/112) and that would require bringing in the `ConfigurationSchemaAttribute` type (as well as the generating tool which has its own issue #3309).\n\n#### Opportunity\n\nThere is an opportunity here in which a standalone NuGet package could be created that provides this functionality, or potentially split as two packages, one for client and one for hosting, specifically targeted to integration authors and not general Aspire use (it\u0027d would be a transient dependency though).\n\nAs an integration author, I would add a reference to `Aspire.Hosting.Utils` or `Aspire.Client.Utils` (or whatever they are named, naming is hard!), and then I could use `VolumeNameGenerator.CreateVolumeName` and be confident that the names generated in my integration for volumes is consistent with, say, the Postgres hosting integration.\n\n### Client integration configuration schema\n\nI mentioned this above, but currently is it\u0027s possible for custom integrations to provide config schema support like native ones do as the tool used to generate that is not shipped as a package/tool for consumption.\n\n#### Opportunity\n\nDeferring to the already existing issue of #3309.\n\n### Type namespace consistency\n\nWhen going through the Aspire codebase, it\u0027s clear that the extension methods for adding integrations either going in the `Aspire.Hosting` (hosting integrations) or `Microsoft.Extensions.Hosting` (client integrations), but it becomes a little more ambigious when we look at the auxillary types, especially `Resource` types.\n\nHere\u0027s some examples of the inconsistency:\n\n- [`AzureComsosDBResource`](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Azure.CosmosDB/AzureCosmosDBResource.cs) lives in `Aspire.Hosting`.\n- [`IDaprComponentResource`](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Dapr/IDaprComponentResource.cs) lives in `Aspire.Hosting.Dapr`.\n- [`NodeAppResource`](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.NodeJs/NodeAppResource.cs) lives in `Aspire.Hosting`.\n- [`PostgresServerResource`](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.PostgreSQL/PostgresServerResource.cs) lives in `Aspire.Hosting.ApplicationModel`, as is `PostgresDatabaseResource`, yet [`PgAdminContainerResource`](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.PostgreSQL/PgAdminContainerResource.cs) is in `Aspire.Hosting.Postgres`.\n\n#### Opportunity\n\nIn the Community Toolkit we\u0027ve normalised on `Aspire.Hosting.ApplicationModel` for resource types but having some official guidance would help ensure that integration authors are able to be consistent in how their types are exposed, especially if there is a desire for extension method interoperability.\n\n## Testing\n\nTo ensure a consistent level of quality in the integration we\u0027re building it was important to have testing as core principle covering both unit and integration tests. We have a test suite that works around 80% consistently, with issues being more to finding the most efficient way to use GitHub Actions more than anything.\n\n### Testing utils\n\nIn a similar thread to creating integrations, there are some testing utilities that we have had to snapshot into our repo so that we can have a similar level of coverage to the native integrations.\n\n**Aspire.Components.Common.Test**\n\nThis project contains a class, [`ConformanceTests`](https://github.com/dotnet/aspire/blob/main/tests/Aspire.Components.Common.Tests/ConformanceTests.cs), which is used across all client integrations to validate some base behaviour of the API.\n\nIt also contains several XUnit extensions, such as the `RequiredDockerAttribute`, which are useful for conditionally skipping tests.\n\n**Aspire.Hosting.Tests**\n\nThis project contains a mix of tests and util types, of particular note are `DockerUtils` and `ManifestUtils`. We have a snapshot of `DockerUtils` in our repo to help with container-based integration tests and we\u0027re considering doing the same with `ManifestUtils` to resolve https://github.com/CommunityToolkit/Aspire/issues/115, although with some alterations to workaround the call to the internal method `WriteResourceAsync` on `ManifestPublishingContext`.\n\n#### Opportunity\n\nThe opportunity hear is \"simple\" in having some shipped NuGet packages that contain the utility and test base types, ideally as separate client/hosting packages. Given these are not \"general purpose\" and wouldn\u0027t be needed as transient dependencies, shipping in an Azure Pipelines feed rather than on nuget.org would make sense. This would mean that it\u0027s easier to implement testing at the level of the release version of Aspire that an integration targets.\n\n### Documentation\n\nThe [testing documentation](https://learn.microsoft.com/dotnet/aspire/testing/write-your-first-test?pivots=mstest) that exists is focused on testing applications using Aspire, not on testing of custom integrations. To write our tests, we\u0027ve mostly spent time in the Aspire solution and reviewed the tests that exist for native integrations, then adapted them to fit our integrations as best we can.\n\n#### Opportunity\n\nCreating documentation to aid in writing tests for integrations is something that can be a little challenging due to the previous point about often relying on code that is not available outside of the Aspire repo. Resolving that would make documentation easier to produce.\n\nAdditionally, I\u0027m unsure if the docs would be best served on Learn, or as part of this repo (in the `/docs` folder), given the problem space, building custom integrations, isn\u0027t a super common one that people will be doing, although it could be a continuation of the current docs on custom integrations.\n\n## Summary\n\nYes, I\u0027ve outlined a set of new opportunities (_cough_ work _cough_) that would make creating custom integrations easier, but generally speaking, the process is a smooth and approachable one. The fact that we\u0027ve shipped over a dozen integrations so far, with another half dozen or so in vary states of proposal and review, speaks volumes to how external parties can do this, so kudos everyone.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOt-4WQQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6alffz",
                                           "createdAt":  "2025-01-15T17:18:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOECq1Qw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "aaronpowell",
                                                                               "createdAt":  "2025-01-16T01:47:52Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Let\u0027s use this issue to track creating a shared source nuget package to package up util classes and test helpers to make it easier to create integrations outside of the dotnet/aspire repo.",
                                           "updatedAt":  "2025-01-15T17:18:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc637hZB",
                                           "createdAt":  "2025-07-17T23:33:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "ConfigSchema seems to be the highest value one here (#3309) ",
                                           "updatedAt":  "2025-07-17T23:33:47Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Learnings from the Community Toolkit",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6939",
        "createdAt":  "2024-12-12T23:01:26Z",
        "number":  6939,
        "author":  "RonanBurkeGS",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC9bt7w==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "RonanBurkeGS",
                                            "createdAt":  "2024-12-12T23:01:41Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-02-27T15:11:00Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen you launch a project with Aspire, Aspire adds lots of \"OTEL_\" environment variables. One of these is \"OTEL_EXPORTER_OTLP_PROTOCOL\": \"grpc\" which in my case broke the manual, non-Aspire\u0027y logging I was doing. This was some existing logging code that broke when Aspire was added to the project and the project was launched using the `AppHost` project.\n\nI am running Seq (https://docs.datalust.co/docs/getting-started) locally and I am using Serilog to export to it using `.WriteTo.OpenTelemetry(x =\u003e...`. When launching with Aspire, my project logs nothing to Seq. When setting the API project as the start-up project, it works fine.\n\nIt was a lot of debugging, but I found the issue by comparing the env variables with and without running with `AppHost`. No exceptions are thrown so it was an extremely tough error to track down.\n\n### Expected Behavior\n\n- I don\u0027t really know what the expected behavior should be\n- Documentation of this edge case? I think I\u0027d still have run into this problem and it would probably have been hard to find an answer\n- Aspire doesn\u0027t set this environment variable? I don\u0027t know what the consequences of this would be. Is it possible for Aspire to work well with both protocols? \n- Aspire\u0027s Program.cs allows you/requires you to set the protocol\n- Again, not really sure what should be the expected behavior. I guess it was just unexpected that running with `AppHost` would cause an existing project to break in this way. I don\u0027t want to use the Aspire Seq integration just yet and I don\u0027t think that should be a requirement personally.\n\n### Steps To Reproduce\n\n1. Locally run Seq\n2. Have this logging code in your API project\u0027s program.cs:\n``` csharp\n        builder.Host.UseSerilog((context, services, configuration) =\u003e\n        {\n            configuration\n                .Enrich.FromLogContext()\n                .Enrich.WithSpan()\n                .WriteTo.Console()\n                .WriteTo.OpenTelemetry(x =\u003e\n                {\n                    x.Endpoint = \"http://localhost:5341/ingest/otlp/v1/logs\";\n                    x.Protocol = OtlpProtocol.HttpProtobuf;\n                    x.Headers = new Dictionary\u003cstring, string\u003e\n                    {\n                        [\"X-Seq-ApiKey\"] = \"MYAPIKEY\"\n                    };\n                    x.ResourceAttributes = new Dictionary\u003cstring, object\u003e\n                    {\n                        [\"service.name\"] = \"ProfileService.Api\"\n                    };\n                }, true);\n        });\n```\n3. Launch your app with Aspire AppHost\n4. Observe that in Seq, no events are being logged to its dashboard\n![Image](https://github.com/user-attachments/assets/474f2282-1199-482d-a3fa-ae00bc16ead1)\n\n5. In your AppHost\u0027s environment variables, add `\"OTEL_EXPORTER_OTLP_PROTOCOL\": \"http/protobuf\"` environment variable.\n6. Repeat the above steps and observe that logging is now working again\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\nPS C:\\Users\\RonanBurke\u003e dotnet --info\n.NET SDK:\n Version:           8.0.403\n Commit:            c64aa40a71\n Workload version:  8.0.400-manifests.e0880c5d\n MSBuild version:   17.11.9+a69bbaaf5\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\8.0.403\\\n\n.NET workloads installed:\nConfigured to use loose manifests when installing new manifests.\n [android]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    34.0.143/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.android\\34.0.143\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [aspire]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [ios]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    18.0.8303/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.ios\\18.0.8303\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [maccatalyst]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    18.0.8303/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.maccatalyst\\18.0.8303\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [maui-windows]\n   Installation Source: SDK 8.0.400, VS 17.11.35327.3\n   Manifest Version:    8.0.82/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.maui\\8.0.82\\WorkloadManifest.json\n   Install Type:        FileBased\n\n [wasm-tools]\n   Installation Source: VS 17.11.35327.3\n   Manifest Version:    8.0.10/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.workload.mono.toolchain.current\\8.0.10\\WorkloadManifest.json\n   Install Type:        FileBased\n\n\nHost:\n  Version:      8.0.10\n  Architecture: x64\n  Commit:       81cabf2857\n\n.NET SDKs installed:\n  8.0.403 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.35 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.35 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.35 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\n- ASP.NET Core version: .NET 8\n- .NET Aspire version (e.g. package versions): 9.0.0\n- The IDE (VS / VS Code / Rider / Other) you\u0027re running on, and its version (and any extension versions): Visual Studio 2022 Version 17.11.5",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOl76v4Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6XprjB",
                                           "createdAt":  "2024-12-16T01:23:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "liammclennan",
                                           "body":  "If your API project includes `builder.AddServiceDefaults();` then that is configuring the OpenTelemetry SDK to send telemetry to the Aspire dashboard (see `ConfigureOpenTelemetry` in the ServiceDefaults project).\n\nUsing `.WriteTo.OpenTelemetry` is also configuring the OpenTelemetry SDK, in the same project and that is probably not going to work well. \n\nI can see two solutions:\n\n1. Aspire already configures OpenTelemetry. You can modify the `ConfigureOpenTelemetry` function to add log and trace exporters that export to Seq. In this scenario you have one instance of the OpenTelemetry SDK per project, and they export to both the Aspire Dashboard and Seq. This is what the Aspire Seq component does for you, but you can also do it yourself. \n\n2. Change the serilog configuration in the API project to use the [Seq sink](https://github.com/datalust/serilog-sinks-seq) instead of Serilog.Sinks.OpenTelemetry.\n\nIf you replace Serilog.Enrichers.Span with [serilog-tracing](https://github.com/serilog-tracing/serilog-tracing) then you will enable tracing features in the Seq UI. \n\n![Image](https://github.com/user-attachments/assets/76d6d671-7bf4-4c8c-81d3-ec5b1feabfed)\n",
                                           "updatedAt":  "2024-12-16T01:23:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Xvq_h",
                                           "createdAt":  "2024-12-16T15:00:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RonanBurkeGS",
                                           "body":  "I initially thought `.AddServiceDefaults();` was the root cause of the problem, but commenting it out or commenting out the `OpenTelemetry` configuration in the service defaults project did not fix the issue. In fact, the API project works fine with these lines enabled! (my intention is to have one place to configure the logging for everything so I don\u0027t intend to keep the service defaults the way they are 😊)\n\nThe issue only happens when you launch the `AppHost` project, it is what adds the environment variables that cause the problem.",
                                           "updatedAt":  "2024-12-16T15:00:09Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Launching with AppHost adds OTEL_EXPORTER_OTLP_PROTOCOL=grpc environment variable which breaks exporting to Seq",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7010",
        "createdAt":  "2025-01-02T15:49:11Z",
        "number":  7010,
        "author":  "DanteDeRuwe",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-30T07:33:18Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nAspire cannot seem to find the `func` command from Azure Functions Core Tools on Windows 10.\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n- Repro possible with basic Aspire starter project + one azure function added with `AddAzureFunctionsProject`.\n- Azure function core tools installed with `npm i -g azure-functions-core-tools@4 --unsafe-perm true`, so `func` is added to path (works fine in terminal)\n\n\n\n\n### Exceptions (if any)\n\n```\n Unhandled exception: System.ComponentModel.Win32Exception (2): An error occurred trying to start process \u0027func\u0027 with working directory \u0027bin\\Debug\\net9.0\\\u0027. The system cannot find the file specified.\n    at System.Diagnostics.Process.StartWithCreateProcess(ProcessStartInfo startInfo)\n    at Microsoft.DotNet.Cli.Utils.Command.Execute(Action`1 processStarted)\n    at Microsoft.DotNet.Tools.Run.RunCommand.Execute()\n    at System.CommandLine.Invocation.InvocationPipeline.Invoke(ParseResult parseResult)\n    at System.CommandLine.ParseResult.Invoke()\n    at Microsoft.DotNet.Cli.Program.ProcessArgs(String[] args, TimeSpan startupTime, ITelemetry telemetryClient)\n```\n\n### .NET Version info\n\n```.NET SDK:\n Version:           9.0.100\n Commit:            59db016f11\n Workload version:  9.0.100-manifests.1e472b70\n MSBuild version:   17.12.7+5b8665660\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.19045\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.100\\\n\n.NET workloads installed:\n [android]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    35.0.24/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.24\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: SDK 9.0.100\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    18.2.9170/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.2.9170\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    18.2.9170/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.2.9170\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-android]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    9.0.0/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.0\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-ios]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    9.0.0/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.0\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-maccatalyst]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    9.0.0/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.0\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: SDK 9.0.100, VS 17.1.31911.260\n   Manifest Version:    9.0.0/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.0\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.0\n  Architecture: x64\n  Commit:       9d5a6a9aa4\n\n.NET SDKs installed:\n  3.1.426 [C:\\Program Files\\dotnet\\sdk]\n  5.0.100 [C:\\Program Files\\dotnet\\sdk]\n  5.0.104 [C:\\Program Files\\dotnet\\sdk]\n  6.0.100 [C:\\Program Files\\dotnet\\sdk]\n  6.0.136 [C:\\Program Files\\dotnet\\sdk]\n  7.0.120 [C:\\Program Files\\dotnet\\sdk]\n  8.0.111 [C:\\Program Files\\dotnet\\sdk]\n  9.0.100 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.All 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\n  Microsoft.AspNetCore.All 2.1.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\n  Microsoft.AspNetCore.App 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 2.1.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 5.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 2.1.23 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 2.1.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 5.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 3.1.9 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 5.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 5.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  arm64 [C:\\Program Files\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\arm64\\InstallLocation]\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n```\n\n### Anything else?\n\nAppHost package versions: \n\n```        \n\u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.0.0\" /\u003e\n        \u003cPackageReference Include=\"CommunityToolkit.Aspire.Hosting.Azure.StaticWebApps\" Version=\"9.1.0\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Azure.Functions\" Version=\"9.0.0-preview.5.24551.3\"/\u003e\n```\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOut7_iw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ZEsFs",
                                           "createdAt":  "2025-01-02T17:46:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@DanteDeRuwe Thanks for filing this issue!\n\nAre you attempting to launch the application from Visual Studio? If so, you may need to install Azure Tooling for VS per the instructions in [this page]( https://learn.microsoft.com/en-us/dotnet/azure/configure-visual-studio). Visual Studio doesn\u0027t resolve the local Functions host from the npm-installed directory and relies on the version provided by the VS workloads.",
                                           "updatedAt":  "2025-01-02T17:46:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ZQz0f",
                                           "createdAt":  "2025-01-04T14:32:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DanteDeRuwe",
                                           "body":  "Hi @captainsafia, thanks for your swift response! I am running the aspire host project from the CLI with `dotnet run --project \u003caspire-host-project-name\u003e`. \n\nI am a Jetbrains Rider user; running it from inside that IDE gives another weird error that is documented [here](https://youtrack.jetbrains.com/issue/RIDER-118806/Add-support-for-Azure-Functions-in-Aspire-Host-via-Aspire-Plugin) and also [here with a comment from you](https://github.com/dotnet/aspire/issues/920#issuecomment-2423031268) \n\nI could install VS to see if that resolves it, but I\u0027m pretty sure it should be the case that Aspire works ootb with the `dotnet` CLI, no? ",
                                           "updatedAt":  "2025-01-04T14:33:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ZYdU4",
                                           "createdAt":  "2025-01-06T15:17:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@DanteDeRuwe Thanks for the additional info.\n\nThe CLI issue might be the easier one to investigate since there are less moving parts there. For editor-based scenarios, the editor\u0027s Azure Functions integration comes into play when coordinating the launching of the host.\n\nSome questions to help debug:\n\n- What output is printed when you run `func --version`?\n- Are you able to successfully run [this project](https://github.com/captainsafia/tests/tree/Aspire7010)? It should be the same repro steps and runs locally as me. That will help is figure out if it is a local issue.\n- Did `dotnet build` on your project succeed without any errors?\n\n\n",
                                           "updatedAt":  "2025-01-06T15:17:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6a1UE2",
                                           "createdAt":  "2025-01-17T08:15:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DanteDeRuwe",
                                           "body":  "I will take a look at this soon. Thanks for your patience in advance",
                                           "updatedAt":  "2025-01-17T08:15:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6culrl",
                                           "createdAt":  "2025-02-02T16:19:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DanteDeRuwe",
                                           "body":  "Hi @captainsafia,\n\n- `func --version` returns `4.0.6610`\n- build has no errors\n- If i do `dotnet run` on the aspire host of your repro project, it has the same issue:\n\n![Image](https://github.com/user-attachments/assets/57e70ee2-8681-4e75-8062-718cbdb3a547)\n\n![Image](https://github.com/user-attachments/assets/ee8cbca6-59ca-4d38-922f-f5dab3ba12c3)",
                                           "updatedAt":  "2025-02-02T16:19:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ebptr",
                                           "createdAt":  "2025-02-14T01:21:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mattchenderson",
                                           "body":  "This sounds likely related to https://github.com/Azure/azure-functions-dotnet-worker/issues/2884. It seems like the issue can be reproduced consistently when the Core Tools is installed via NPM, but installing from other channels may work.",
                                           "updatedAt":  "2025-02-14T01:21:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61T2QX",
                                           "createdAt":  "2025-07-06T14:51:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ormasoftchile",
                                           "body":  "I am seeing the same error. @captainsafia do you have any update? I cloned the repo you referenced. My results are also erroring:\n\n\u003cimg width=\"1264\" height=\"356\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b7a357a1-5852-46d6-87d0-906662afed59\" /\u003e\n\nConsole log:\n\nAspire.Hosting.Dcp.dcpctrl.ExecutableReconciler: Error: run session could not be started: IDE returned a response indicating failure\t{\"Executable\": {\"name\":\"functions-ebhamket\"}, \"Reconciliation\": 29, \"Status\": \"500 Internal Server Error\", \"Body\": \"There is no Functions runtime available that matches the version specified in the project.\"}\n\nDo you know of any update?\n\nVisual Studio 17.14.7\n\nfunc --version\n4.0.7317\n\ndotnet --list-sdks\n9.0.301 [C:\\Program Files\\dotnet\\sdk]\n\n",
                                           "updatedAt":  "2025-07-06T14:51:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61UGWv",
                                           "createdAt":  "2025-07-06T15:12:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ormasoftchile",
                                           "body":  "\u003e I am seeing the same error. [@captainsafia](https://github.com/captainsafia) do you have any update? I cloned the repo you referenced. My results are also erroring:\n\u003e \n\u003e \u003cimg alt=\"Image\" width=\"1264\" height=\"356\" src=\"https://private-user-images.githubusercontent.com/1750109/462929633-b7a357a1-5852-46d6-87d0-906662afed59.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTE4MTQ5NzAsIm5iZiI6MTc1MTgxNDY3MCwicGF0aCI6Ii8xNzUwMTA5LzQ2MjkyOTYzMy1iN2EzNTdhMS01ODUyLTQ2ZDYtODdkMC05MDY2NjJhZmVkNTkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDcwNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTA3MDZUMTUxMTEwWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MWYwMzA5ZWZmODBhZGJlZjg3MzI5OWM3MjY4NmZiYzM4OWNmNTY2YWM5OGNiZDU0OTI5ZTFhZTdkYjEyZTEwMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.lmwzfyqTRIeJpFdjsQ4FIBqr2T9LVARUT0tE7TEkyB8\"\u003e\n\u003e Console log:\n\u003e \n\u003e Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler: Error: run session could not be started: IDE returned a response indicating failure {\"Executable\": {\"name\":\"functions-ebhamket\"}, \"Reconciliation\": 29, \"Status\": \"500 Internal Server Error\", \"Body\": \"There is no Functions runtime available that matches the version specified in the project.\"}\n\u003e \n\u003e Do you know of any update?\n\u003e \n\u003e Visual Studio 17.14.7\n\u003e \n\u003e func --version 4.0.7317\n\u003e \n\u003e dotnet --list-sdks 9.0.301 [C:\\Program Files\\dotnet\\sdk]\n\nHave to add that after reinstalling Azure core tools using MSI (originally had npm installation), I am able to run from visual studio code. Running from Visual Studio still fails.\n",
                                           "updatedAt":  "2025-07-06T15:12:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66buYv",
                                           "createdAt":  "2025-07-28T15:41:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@ormasoftchile Based on the description of your issue, can you try seeing if the Azure Functions tooling installed on your Visual Studio is up to date? You should be able to verify this by searching for `Azure Functions` in your VS settings.",
                                           "updatedAt":  "2025-07-28T15:41:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc663v-L",
                                           "createdAt":  "2025-07-30T07:33:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Mivaweb",
                                           "body":  "I am also facing the same issue. Running from Visual Studio with F5 works as expected. Running from command line using dotnet run on the AppHost results in the Function not beeing started.\n\n`Unhandled exception: An error occurred trying to start process \u0027func\u0027 with working directory \u0027bin\\Debug\\net8.0\\\u0027. The system cannot find the file specified.`\n\nI can confirm that the azure core tools are installed and that `func --version` works.",
                                           "updatedAt":  "2025-07-30T07:33:18Z"
                                       }
                                   ],
                         "totalCount":  10
                     },
        "title":  "Azure function integration: An error occurred trying to start process \u0027func\u0027 with working directory \u0027bin\\Debug\\net9.0\\\u0027. The system cannot find the file specified.",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7016",
        "createdAt":  "2025-01-03T05:42:32Z",
        "number":  7016,
        "author":  "aaronpowell",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODR97Ng==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "weitzhandler",
                                            "createdAt":  "2025-09-19T16:49:43Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-19T16:57:26Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI\u0027m porting a codebase to use .NET Aspire and the way that it configures the DbContext is that it uses the callback that takes an `IServiceProvider` and the options builder: https://learn.microsoft.com/en-us/dotnet/api/microsoft.extensions.dependencyinjection.entityframeworkservicecollectionextensions.adddbcontext?view=efcore-9.0#microsoft-extensions-dependencyinjection-entityframeworkservicecollectionextensions-adddbcontext-1(microsoft-extensions-dependencyinjection-iservicecollection-system-action((system-iserviceprovider-microsoft-entityframeworkcore-dbcontextoptionsbuilder))-microsoft-extensions-dependencyinjection-servicelifetime-microsoft-extensions-dependencyinjection-servicelifetime)\n\nAspire doesn\u0027t provide access to this, only to the one that takes the `DbContextOptionsBuilder`, which means that we have to refactor how things are configured.\n\n### Expected Behavior\n\nIf the Aspire integration is going to \"shadow\" the native integration, it should match the API surface area.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxXfMcw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ZHAay",
                                           "createdAt":  "2025-01-03T06:32:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "This is also a problem with the MySQL integration",
                                           "updatedAt":  "2025-01-03T06:32:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z2QAB",
                                           "createdAt":  "2025-01-09T19:54:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEjEBxg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "AndriySvyryd",
                                                                               "createdAt":  "2025-01-30T00:44:14Z"
                                                                           },
                                                                           {
                                                                               "content":  "CONFUSED",
                                                                               "user":  "weitzhandler",
                                                                               "createdAt":  "2025-09-19T16:52:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "IIUC this is by design. We purposely don\u0027t try to provide top-level method overloads for all scenarios when using EF Core. For advanced cases, you should call the standard EF Core method overload you want, and then call [`EnrichNpgslDbContext`](https://learn.microsoft.com/dotnet/aspire/database/postgresql-entity-framework-integration#add-npgsql-database-context-with-enrichment) to add the Aspire goodness.\n\n/Cc @eerhardt ",
                                           "updatedAt":  "2025-01-09T19:54:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z2ZS6",
                                           "createdAt":  "2025-01-09T20:18:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e We purposely don\u0027t try to provide top-level method overloads for all scenarios when using EF Core.\n\nCorrect. See [Redesign EF components public API (dotnet/aspire#1403)](https://github.com/dotnet/aspire/issues/1403)",
                                           "updatedAt":  "2025-01-09T20:18:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Fd8xz",
                                           "createdAt":  "2025-09-19T16:56:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "weitzhandler",
                                           "body":  "@DamianEdwards \n\n\u003e you should call the standard EF Core method overload you want, and then call [`EnrichNpgslDbContext`](https://learn.microsoft.com/dotnet/aspire/database/postgresql-entity-framework-integration#add-npgsql-database-context-with-enrichment) to add the Aspire goodness.\n\nThen please at least the documentation of `EnrichNpgsqlDbContext` should be improved, specifically pointing out how we can use it to achieve the same functionality as calling `AddNpgsqlDbContext`.",
                                           "updatedAt":  "2025-09-19T16:57:26Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "npgsql ef integration doesn\u0027t provide a callback that accepts an `IServiceProvider`",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7020",
        "createdAt":  "2025-01-04T17:46:24Z",
        "number":  7020,
        "author":  "luizfbicalho",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODR99wA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "WeihanLi",
                                            "createdAt":  "2025-01-09T13:23:53Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "weitzhandler",
                                            "createdAt":  "2025-09-19T16:52:04Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-06-14T06:02:48Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nMy dbcontext has some changes in the configuration\n\n```cs\n        builder.AddSqlServerDbContext\u003cModelContext\u003e(\"sqldb-model\", configureDbContextOptions: (options) =\u003e\n        {\n            options.UseLazyLoadingProxies()\n                .ReplaceService\u003cILazyLoader, EnableDisableLazyLoader\u003e()\n                .AddInterceptors(\n                    provider.GetRequiredService\u003cValidateSaveChangesInterceptor\u003e(),\n                    provider.GetRequiredService\u003cServiceLoggerSaveChangesInterceptor\u003cModelContext\u003e\u003e()\n                );\n        });\n```\nThe original problem is that I can\u0027t add a generic `AddInterceptor\u003cValidateSaveChangesInterceptor\u003e()` call and make my dbcontext to get the interceptor from service provider in the correct scope\n\n\n\n\n### Describe the solution you\u0027d like\n\nI would like a new method like this\n\n```cs\n public static void AddSqlServerDbContext\u003c[DynamicallyAccessedMembers(RequiredByEF)] TContext\u003e(\n     this IHostApplicationBuilder builder,\n     string connectionName,\n     Action\u003cIServiceProvider,MicrosoftEntityFrameworkCoreSqlServerSettings\u003e? configureSettings = null,\n     Action\u003cIServiceProvider,DbContextOptionsBuilder\u003e? configureDbContextOptions = null) where TContext : DbContext\n```\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmpWIiA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ZygJl",
                                           "createdAt":  "2025-01-09T13:27:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "WeihanLi",
                                           "body":  "think we should add this to support register interceptor from dependency injection, and it relates to #7016 ",
                                           "updatedAt":  "2025-01-09T13:27:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6alYiI",
                                           "createdAt":  "2025-01-15T17:10:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOECrMMw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "WeihanLi",
                                                                               "createdAt":  "2025-01-16T03:07:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "We should do whatever we decide for [npgsql ef integration doesn\u0027t provide a callback that accepts an `IServiceProvider` (dotnet/aspire#7016)](https://github.com/dotnet/aspire/issues/7016).",
                                           "updatedAt":  "2025-01-15T17:10:25Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Add another parameter in the AddSqlServerDbContext configureDbContextOptions to receive the scoped service provider",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7025",
        "createdAt":  "2025-01-06T03:08:37Z",
        "number":  7025,
        "author":  "youkezan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-14T17:08:01Z",
        "body":  "efcore9 prevents concurrent migrations and recommends applying migrations during deployment. Is it not recommended to use the migration service in aspire?\nBut if we use a container database, how do we use migrations when deploying? The database is not ready when deploying.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOq7ffyw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6rnnG6",
                                           "createdAt":  "2025-05-14T08:30:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @DamianEdwards @roji @AndriySvyryd ",
                                           "updatedAt":  "2025-05-14T08:30:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6rt9_L",
                                           "createdAt":  "2025-05-14T17:08:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "The database manager app pattern in the Aspire samples shouldn\u0027t cause issues with concurrent migrations as it\u0027s intended to only run with a single instance. How you coordinate that into the deployment of a specific app will depend on how your app deals with schema changes though. Typically, one needs to think about how schema changes pushed in a single deployment might cause issues with running app instances that aren\u0027t running the updated EF model yet. Or vice versa (apps running the newer model but talking to a database with the older schema). Solving this isn\u0027t something EF Core or Aspire can do for you, it requires consideration in the code and in the deployment logic.\n\nRE container-based databases, to run migrations of course the database needs to be available. I wouldn\u0027t expect a database to be wholly running in a container instance in production as the data won\u0027t be durable and pushing updates to the container will cause downtime. This, again, can be architected around if that\u0027s the desire for the specific app, but ultimately migrations have to be run at a point that is suitable for the specific application.",
                                           "updatedAt":  "2025-05-14T17:08:00Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "efcore9 reports an error when there are multiple migrations",
        "labels":  [
                       "area-integrations",
                       "entityframework"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7047",
        "createdAt":  "2025-01-08T22:29:29Z",
        "number":  7047,
        "author":  "lupusbytes",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQdlcw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ikkentim",
                                            "createdAt":  "2025-03-25T12:11:13Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "chuanboz",
                                            "createdAt":  "2025-09-15T01:33:24Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-09-15T01:37:08Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to use Aspire to start up my AspNetCore project and emulate all my Azure dependencies for local development.\nMy goal is to not mix any Aspire dependencies into my production code. \nThe AppHost project\u0027s sole responsibility should be to start all the emulators, replace environment variables for the AspNetCore API so that it will use the emulators and finally start the API.\n\nOne issue I\u0027m facing off the bat is that Aspire exposes Azurite endpoints without TLS, making `Azure.Identity` throw exceptions about using plain HTTP.\n\nAzurite should support HTTPS according to the docs.\n`azurite --oauth basic --cert path/server.pem --key path/key.pem`\n\nMy current workaround is to grab the connectionstring and set it as an environment variables from Aspire and then check if it\u0027s present in my production code to decide which TableClient constructor I should use.\n\nExample:\n\n## Aspire AppHost\n```\nvar storage = builder\n    .AddAzureStorage(\"storage\")\n    .RunAsEmulator(azurite =\u003e\n    {\n        azurite.WithLifetime(ContainerLifetime.Persistent);\n        azurite.WithDataVolume(\"datavol\");\n    });\n\nvar tables = storage.AddTables(\"tables\");\n\nbuilder.AddProject\u003cProjects.Api\u003e(\"api\")\n    .WithReference(tables)\n    .WaitFor(storage)\n    .WithEnvironment(\"TableOptions__ConnectionString\", tables);\n```\n\n## Api Project\n\n```\npublic class TableOptions\n{\n    public Uri TableEndpoint { get; set; }\n    public string TableName { get; set; }\n    public string ConnectionString { get; set; }\n}\n```\n\n```\npublic static TableClient Create(\n    IServiceProvider serviceProvider,\n    TableOptions options) \n    =\u003e string.IsNullOrEmpty(options.ConnectionString)\n        ? new TableClient(\n            options.TableEndpoint,\n            options.TableName,\n            new DefaultAzureCredential())\n        : new TableClient(\n            options.ConnectionString,\n            options.TableName);\n```\n\nIdeally I should use the same constructor and my production code should not support access keys.\n\n### Describe the solution you\u0027d like\n\nAdd a method that reflects the Azurite parameter like \n```\nvar storage = builder\n    .AddAzureStorage(\"storage\")\n    .RunAsEmulator(azurite =\u003e\n    {\n        azurite.WithOauth();\n    });\n```\nor perhaps if it\u0027s possible, and you think it\u0027s better, to make it work with the existing `.WithHttpsEndpoint(...)` extension method.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxBxbDg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z3uLs",
                                           "createdAt":  "2025-01-10T00:49:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "More generically Damian has this problem written out in https://github.com/dotnet/aspire/issues/6890",
                                           "updatedAt":  "2025-01-10T00:49:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z3uN0",
                                           "createdAt":  "2025-01-10T00:50:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Are you using the client integration?",
                                           "updatedAt":  "2025-01-10T00:50:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z3zhA",
                                           "createdAt":  "2025-01-10T01:13:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lupusbytes",
                                           "body":  "\u003e More generically Damian has this problem written out in [#6890](https://github.com/dotnet/aspire/issues/6890)\n\nI\u0027m not sure if HTTPS by itself is enough, the container might still need the `--oauth basic` argument.\n\n\n\u003e Are you using the client integration?\n\nI\u0027m not sure, but I don\u0027t think so. Could you explain what it is or what it would look like?",
                                           "updatedAt":  "2025-01-10T01:13:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z4DGQ",
                                           "createdAt":  "2025-01-10T02:16:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I\u0027m not sure, but I don\u0027t think so. Could you explain what it is or what it would look like?\n\nhttps://learn.microsoft.com/en-us/dotnet/aspire/storage/azure-storage-blobs-integration?tabs=dotnet-cli#client-integration",
                                           "updatedAt":  "2025-01-10T02:16:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z6PVK",
                                           "createdAt":  "2025-01-10T09:32:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lupusbytes",
                                           "body":  "No I don\u0027t use that. \n\nAs stated in the OP, one goal is to not use Aspire packages (client integration) in my production code (API).",
                                           "updatedAt":  "2025-01-10T09:32:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z6XUT",
                                           "createdAt":  "2025-01-10T09:46:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Why? (It\u0027s not a problem but I\u0027m curious).",
                                           "updatedAt":  "2025-01-10T09:47:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6almxp",
                                           "createdAt":  "2025-01-15T17:33:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "It looks like this is possible, see https://blog.jongallant.com/2020/04/local-azure-storage-development-with-azurite-azuresdks-storage-explorer/.\n\nThe biggest problem with doing this is getting the certificate and trusting it. Maybe we could use the ASP.NET local dev cert? Is that valid?",
                                           "updatedAt":  "2025-01-15T17:33:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6al1zn",
                                           "createdAt":  "2025-01-15T18:03:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e The biggest problem with doing this is getting the certificate and trusting it. Maybe we could use the ASP.NET local dev cert? Is that valid?\n\nYes, but we would do that (add support for TLS using the dev cert). This is what we do today in many of our samples but with a bespoke API https://github.com/dotnet/aspire-samples/blob/main/samples/Shared/DevCertHostingExtensions.cs\n\n",
                                           "updatedAt":  "2025-01-16T07:01:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EHFsO",
                                           "createdAt":  "2025-09-15T01:36:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "chuanboz",
                                           "body":  "We meet similar issue as @lupusbytes , we prefer not to change production logic for Aspire, and the production code used our own client for storage not the Aspire client integration, because of that we meet the SSL issue because azurite starts with http locally (The SSL connection could not be established, see inner exception.)",
                                           "updatedAt":  "2025-09-15T01:37:08Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "Support Managed Identity in AzureStorageResource emulator",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-storage"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7060",
        "createdAt":  "2025-01-10T00:32:31Z",
        "number":  7060,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC-B2yA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cmdkeen",
                                            "createdAt":  "2025-01-10T09:32:33Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-01-14T23:53:28Z",
        "body":  "Oracle.EntityFrameworkCore has a v9 packages now that supports EF Core 9.\n\nhttps://www.nuget.org/packages/Oracle.EntityFrameworkCore/9.23.60\n\nWe should update the Oracle EF Core integration package to support it, like we did in https://github.com/dotnet/aspire/pull/5932/. and in https://github.com/dotnet/aspire/pull/6948.\n\ncc @sebastienros @andrevlins ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Update Oracle EF Core to 9",
        "labels":  [
                       "area-integrations",
                       "oracle"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7063",
        "createdAt":  "2025-01-10T09:35:01Z",
        "number":  7063,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODApxBw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ouhndelof",
                                            "createdAt":  "2025-03-30T11:40:15Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-04-07T17:09:49Z",
        "body":  "There are a set of issues that we need to address wrt ContainerLifetime.Persistent, this is a tracking issue to roll up those other issues.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnCwhyA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Z6TeB",
                                           "createdAt":  "2025-01-10T09:39:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @dbreshears @danegsta ",
                                           "updatedAt":  "2025-01-10T09:39:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aQa71",
                                           "createdAt":  "2025-01-13T19:19:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOECPuMQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-01-13T19:20:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "dbreshears",
                                           "body":  "As a first step we will log an issue in DCP for better diagnostic information as to why the persistent container is being re-created.",
                                           "updatedAt":  "2025-01-13T19:19:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bSsTD",
                                           "createdAt":  "2025-01-21T17:41:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEDcooQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-01-21T18:35:34Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "dbreshears",
                                           "body":  "Additional logging was added to DCP and merged to Aspire repo ",
                                           "updatedAt":  "2025-01-21T17:41:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cLCHI",
                                           "createdAt":  "2025-01-28T21:56:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEe7ZVg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "JohnGalt1717",
                                                                               "createdAt":  "2025-01-31T15:51:27Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "morrie-morrie",
                                                                               "createdAt":  "2025-06-09T02:36:40Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pomian-asseco",
                                                                               "createdAt":  "2025-08-20T08:47:01Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "danegsta",
                                           "body":  "As a workaround for users who want to be able to access persistent containers on a consistent port whether the App Host is running or not, we merged #7232, which adds a new `WithEndpointProxySupport` experimental API that can be used to opt into running all endpoints for a container without a proxy (`.WithEndpointProxySupport(false)`). \n\nWe made the new API experimental and opt-in because there\u0027s additional larger work that will need to happen before we can make running proxy-less endpoints the default, but we wanted to still provide a straightforward workaround in the short term. You can try out the API in nightly builds or the upcoming 9.1 release.",
                                           "updatedAt":  "2025-01-28T21:56:44Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "ContainerLifetime.Persistent roll issue roll up",
        "labels":  [
                       "area-app-model",
                       "area-integrations",
                       "area-orchestrator"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7066",
        "createdAt":  "2025-01-10T21:48:48Z",
        "number":  7066,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-16T06:23:14Z",
        "body":  "When running tests that use the ServiceBus emulator in CI, we are randomly getting failures with the sqledge container not starting successfully.\n\nExamples:\n\n* https://dev.azure.com/dnceng-public/public/_build/results?buildId=912694\n* https://dev.azure.com/dnceng-public/public/_build/results?buildId=912738\n\nOr when running Azure Functions playground app in the Playground.Tests:\n\nhttps://dev.azure.com/dnceng-public/public/_build/results?buildId=913500\n\nhttps://helixr1107v0xdeko0k025g8.blob.core.windows.net/dotnet-aspire-refs-pull-7048-merge-464d941387084146a7/Aspire.Playground.Tests/1/console.b2dd2d1b.log?skoid=8eda00af-b5ec-4be9-b69b-0919a2338892\u0026sktid=72f988bf-86f1-41af-91ab-2d7cd011db47\u0026skt=2025-01-10T21%3A46%3A19Z\u0026ske=2025-01-10T22%3A46%3A19Z\u0026sks=b\u0026skv=2024-11-04\u0026sv=2024-11-04\u0026st=2025-01-10T21%3A46%3A19Z\u0026se=2025-01-10T22%3A46%3A19Z\u0026sr=c\u0026sp=r\u0026sig=cVb5usSQfhF3fv1uoy5lsT2h8kI84vS5kwfTop3fooY%3D\n\nAfter the tests exit we see:\n\n```\n+ docker container ls --all\nCONTAINER ID   IMAGE                                                         COMMAND                  CREATED          STATUS                        PORTS                                                                                NAMES\na1c98b3a374c   mcr.microsoft.com/azure-sql-edge:latest                       \"/opt/mssql/bin/perm…\"   18 minutes ago   Exited (1) 16 minutes ago                                                                                          messaging-sqledge-egpcscww-23011b3d\n7fbf12f93e41   mcr.microsoft.com/azure-storage/azurite:3.33.0                \"docker-entrypoint.s…\"   18 minutes ago   Up 18 minutes                 127.0.0.1:32778-\u003e10000/tcp, 127.0.0.1:32777-\u003e10001/tcp, 127.0.0.1:32776-\u003e10002/tcp   storage-bcfuwrtt-23011b3d\n4a860a4604a6   mcr.microsoft.com/azure-storage/azurite:3.33.0                \"docker-entrypoint.s…\"   18 minutes ago   Up 18 minutes                 127.0.0.1:32775-\u003e10000/tcp, 127.0.0.1:32774-\u003e10001/tcp, 127.0.0.1:32773-\u003e10002/tcp   eventhubs-storage-sbbpjwnj-23011b3d\n9cebcc692cdc   mcr.microsoft.com/azure-storage/azurite:3.33.0                \"docker-entrypoint.s…\"   18 minutes ago   Up 18 minutes                 127.0.0.1:32772-\u003e10000/tcp, 127.0.0.1:32771-\u003e10001/tcp, 127.0.0.1:32770-\u003e10002/tcp   funcstoragefefd5-ygpmurne-23011b3d\n78bbb652aed2   mcr.microsoft.com/azure-messaging/servicebus-emulator:1.0.1   \"/ServiceBus_Emulato…\"   18 minutes ago   Exited (139) 15 minutes ago                                                                                        messaging-xqynaftj-23011b3d\n3e9c359800ac   mcr.microsoft.com/azure-messaging/eventhubs-emulator:latest   \"/Eventhubs_Emulator…\"   18 minutes ago   Up 18 minutes                 8080/tcp, 127.0.0.1:32768-\u003e5672/tcp                                                  eventhubs-mcxdyvzj-23011b3d\n```\n\nThese tests are being disabled until we can find out why they fail randomly and can be made stable.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp2ZnUQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6bHiBK",
                                           "createdAt":  "2025-01-20T13:34:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEMftgw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "sinannareroad",
                                                                               "createdAt":  "2025-04-02T05:38:07Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "sinannar",
                                                                               "createdAt":  "2025-04-02T05:38:20Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "Juulsn",
                                           "body":  "sql-edge doesn\u0027t work at all for me, since I\u0027m on arm.\nChanged it to mssql - works flawlessly for me.\n\n```csharp\nbuilder.AddAzureServiceBus(\"messaging\")\n    .RunAsEmulator(resourceBuilder =\u003e\n    {\n        var edge = resourceBuilder.ApplicationBuilder.Resources.OfType\u003cContainerResource\u003e()\n            .First(resource =\u003e resource.Name.EndsWith(\"-sqledge\"));\n        \n        var annotation = edge.Annotations.OfType\u003cContainerImageAnnotation\u003e().First(); \n        \n        annotation.Image = \"mssql/server\";\n        annotation.Tag = \"2022-latest\";\n    })\n```\n\nWhy is it even set to sql edge? Is there some real advantage in using it over mssql?",
                                           "updatedAt":  "2025-01-20T13:34:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bcc-l",
                                           "createdAt":  "2025-01-22T18:08:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Why is it even set to sql edge? Is there some real advantage in using it over mssql?\n\ncc @sebastienros ",
                                           "updatedAt":  "2025-01-22T18:08:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bcsK5",
                                           "createdAt":  "2025-01-22T18:35:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Reasoning we have been given from the emulator team:\n\n\u003e a. SQL Edge has memory footprint (2GB vs 1GB) and initial image download size (1.2GB vs 600MB) reduction by a factor of 0.5x compared to SQL Server and is better suited as a SQL Emulator.\nb. SQL Edge was already positioned and being used as a [SQL Emulator](https://learn.microsoft.com/en-us/previous-versions/sql/azure-sql/database/local-dev-experience-sql-database-emulator?view=sql-server-ver16\u0026viewFallbackFrom=azuresql\u0026ocid=AID754288\u0026wt.mc_id=azfr-c9-scottha%2CCFID0735) ; thereby making it easy for us to get an alignment in terms of licensing to bundle it with SB Emulator.\nc. SQL Edge had native arm docker image available which allowed us to run on variety of processor arch and operating systems. This was crucial Mx series Macs, otherwise the alternative is Rosetta Emulation on same. \n\u003cbr\u003e So far, SB Emulator does not differentiate between either SQL Server or SQL Edge and user can bring their own SQL Server instance and refer to the [standalone emulator docker compose](https://github.com/Azure/azure-service-bus-emulator-installer/blob/main/Docker-Compose-Template/docker-compose-standalone-emulator.yml)",
                                           "updatedAt":  "2025-01-22T18:35:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6crV2K",
                                           "createdAt":  "2025-02-01T00:18:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Tests were enabled for about a day and we\u0027ve seen a failure and got better logs.\n\nHere is a link to the test failure in AzDO: https://dev.azure.com/dnceng-public/public/_build/results?buildId=936754\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=24828302\u0026resultId=102026\u0026paneView=debug.\nPipelines\n \nthe important pieces of information come from the Artifacts tab. Specifically the [Console Logs](https://helixr1107v0xdeko0k025g8.blob.core.windows.net/dotnet-aspire-refs-pull-7328-merge-0b7e40d3015944018e/Aspire.Hosting.Azure.Tests/1/console.bd98ff3d.log?skoid=8eda00af-b5ec-4be9-b69b-0919a2338892\u0026sktid=72f988bf-86f1-41af-91ab-2d7cd011db47\u0026skt=2025-02-01T00%3A07%3A16Z\u0026ske=2025-02-01T01%3A07%3A16Z\u0026sks=b\u0026skv=2024-11-04\u0026sv=2024-11-04\u0026st=2025-02-01T00%3A07%3A16Z\u0026se=2025-02-01T01%3A07%3A16Z\u0026sr=c\u0026sp=r\u0026sig=hlCX%2FA8dYW1KBhCW3C92AEHlVaZYljS0%2FUMfDYCJlrA%3D) and [logs/Aspire.Hosting.Azure.Tests.trx](https://helixr1107v0xdeko0k025g8.blob.core.windows.net/dotnet-aspire-refs-pull-7328-merge-0b7e40d3015944018e/Aspire.Hosting.Azure.Tests/1/logs/Aspire.Hosting.Azure.Tests.trx?skoid=8eda00af-b5ec-4be9-b69b-0919a2338892\u0026sktid=72f988bf-86f1-41af-91ab-2d7cd011db47\u0026skt=2025-02-01T00%3A07%3A16Z\u0026ske=2025-02-01T01%3A07%3A16Z\u0026sks=b\u0026skv=2024-11-04\u0026sv=2024-11-04\u0026st=2025-02-01T00%3A07%3A16Z\u0026se=2025-02-01T01%3A07%3A16Z\u0026sr=c\u0026sp=r\u0026sig=hlCX%2FA8dYW1KBhCW3C92AEHlVaZYljS0%2FUMfDYCJlrA%3D)\n \nlooking at the logs I see the sqledge crashing\n\n```\n| [2025-01-31T23:36:55] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 125: 2025-01-31 23:36:55.47 spid7s      Starting up database \u0027master\u0027.\n| [2025-01-31T23:36:55] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 126: 2025-01-31T23:36:55.7190926Z \n| [2025-01-31T23:36:55] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 127: ForceFlush feature is enabled for log durability.\n| [2025-01-31T23:36:55] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 128: 2025-01-31T23:36:55.8867732Z \n| [2025-01-31T23:36:55] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 129: 2025-01-31 23:36:55.87 spid7s      The tail of the log for database master is being rewritten to match the new sector size of 4096 bytes.  2560 bytes at offset 398848 in file /var/opt/mssql/data/mastlog.ldf will be written.\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 130: 2025-01-31T23:36:56.2691066Z This program has encountered a fatal error and cannot continue running at Fri Jan 31 23:36:56 2025\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 131: 2025-01-31T23:36:56.2691589Z The following diagnostic information is available:\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 132: 2025-01-31T23:36:56.2691652Z \n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 133: 2025-01-31T23:36:56.2691694Z          Reason: 0x00000001\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 134: 2025-01-31T23:36:56.2691736Z          Signal: SIGABRT - Aborted (6)\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 135: 2025-01-31T23:36:56.2691777Z           Stack:\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 136: 2025-01-31T23:36:56.2691816Z                  IP               Function\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 137: 2025-01-31T23:36:56.2691856Z                  ---------------- --------------------------------------\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 138: 2025-01-31T23:36:56.2691896Z                  00005933396cd5e1 std::__1::bad_function_call::~bad_function_call()+0x324b1\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 139: 2025-01-31T23:36:56.2691937Z                  00005933396ccfa6 std::__1::bad_function_call::~bad_function_call()+0x31e76\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 140: 2025-01-31T23:36:56.2691977Z                  00005933396cc52f std::__1::bad_function_call::~bad_function_call()+0x313ff\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 141: 2025-01-31T23:36:56.2692017Z                  00007acfe5378090 killpg+0x40\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 142: 2025-01-31T23:36:56.2692057Z                  00007acfe537800b gsignal+0xcb\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 143: 2025-01-31T23:36:56.2692096Z                  00007acfe5357859 abort+0x12b\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 144: 2025-01-31T23:36:56.2692136Z                  0000593339660276 std::__1::basic_stringbuf\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e\u003e::str() const+0xc936\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 145: 2025-01-31T23:36:56.2692184Z                  00005933396e2434 std::__1::bad_function_call::~bad_function_call()+0x47304\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 146: 2025-01-31T23:36:56.2692225Z                  0000593339714508 std::__1::bad_function_call::~bad_function_call()+0x793d8\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 147: 2025-01-31T23:36:56.2692265Z                  00005933397142ea std::__1::bad_function_call::~bad_function_call()+0x791ba\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 148: 2025-01-31T23:36:56.2692306Z                  00005933396666ea std::__1::basic_stringbuf\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e\u003e::str() const+0x12daa\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 149: 2025-01-31T23:36:56.2692350Z                  0000593339666360 std::__1::basic_stringbuf\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e\u003e::str() const+0x12a20\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 150: 2025-01-31T23:36:56.2692467Z         Process: 28 - sqlservr\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 151: 2025-01-31T23:36:56.2692507Z          Thread: 148 (application thread 0x1f8)\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 152: 2025-01-31T23:36:56.2692547Z     Instance Id: f02d1113-757c-4e17-b6ab-3c56c75f03f8\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 153: 2025-01-31T23:36:56.2692586Z        Crash Id: 1de5e69c-e23d-4be5-9e41-4d36b6213f6a\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 154: 2025-01-31T23:36:56.2692626Z     Build stamp: 8ec8bf7535ba9e851dd60ffb1ceae46cb19b7b05f6b3e246cedcc89ff8f741aa\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 155: 2025-01-31T23:36:56.2692666Z    Distribution: Ubuntu 20.04.6 LTS\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 156: 2025-01-31T23:36:56.2692705Z      Processors: 2\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 157: 2025-01-31T23:36:56.2692744Z    Total Memory: 8324337664 bytes\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 158: 2025-01-31T23:36:56.2692783Z       Timestamp: Fri Jan 31 23:36:56 2025\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 159: 2025-01-31T23:36:56.2692822Z      Last errno: 2\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 160: 2025-01-31T23:36:56.2692861Z Last errno text: No such file or directory\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 161: 2025-01-31T23:36:56.3113475Z Capturing a dump of 28\n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 162: 2025-01-31T23:36:56.2200789Z \n| [2025-01-31T23:36:56] Aspire.Hosting.Tests.Resources.resource-sqledge Information: 163: 2025-01-31 23:36:56.21 Server      External governance manager initialized\n| [2025-01-31T23:37:12] Aspire.Hosting.Tests.Resources.resource-sqledge Error: 164: 2025-01-31T23:37:12.7387693Z Successfully captured dump: /var/opt/mssql/log/core.sqlservr.1_31_2025_23_36_56.28\n ```",
                                           "updatedAt":  "2025-02-01T00:18:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mTodI",
                                           "createdAt":  "2025-04-09T15:44:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "@eerhardt Should these tests be quarantined?",
                                           "updatedAt":  "2025-04-09T15:44:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mT2JU",
                                           "createdAt":  "2025-04-09T16:06:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e [@eerhardt](https://github.com/eerhardt) Should these tests be quarantined?\n\nThey could be. But we know that they will fail at least 10% of the time given that the Sql edge container fails about that often. It is a known issue that the ServiceBus team is working on addressing. So unless something changes in the product, I would expect these to continue to fail randomly.",
                                           "updatedAt":  "2025-04-09T16:06:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mniVG",
                                           "createdAt":  "2025-04-10T23:23:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Ok, so \"retries\" would be a better fit for this one.\n@Youssef1313 @RussKie What retry-capabilities do we have access to now, with the move to MTP?",
                                           "updatedAt":  "2025-04-10T23:23:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mnkZ5",
                                           "createdAt":  "2025-04-10T23:31:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOENx4lQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Youssef1313",
                                                                               "createdAt":  "2025-04-11T01:23:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "RussKie",
                                           "body":  "\u003e Ok, so \"retries\" would be a better fit for this one.  What retry-capabilities do we have access to now, with the move to MTP?\n\nI was made aware of https://learn.microsoft.com/dotnet/core/testing/microsoft-testing-platform-extensions-policy but I haven\u0027t had a chance look beyond the docs.\n\n",
                                           "updatedAt":  "2025-04-10T23:31:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mnk-h",
                                           "createdAt":  "2025-04-10T23:33:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "And https://learn.microsoft.com/en-us/dotnet/api/microsoft.visualstudio.testtools.unittesting.retryattribute?view=mstest-net-3.8",
                                           "updatedAt":  "2025-04-10T23:33:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6moUg0",
                                           "createdAt":  "2025-04-11T01:23:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Youssef1313",
                                           "body":  "\u003e And https://learn.microsoft.com/en-us/dotnet/api/microsoft.visualstudio.testtools.unittesting.retryattribute?view=mstest-net-3.8\n\nThis one is MSTest feature, so doesn\u0027t apply to xunit.\n",
                                           "updatedAt":  "2025-04-11T01:23:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6moU8p",
                                           "createdAt":  "2025-04-11T01:24:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Youssef1313",
                                           "body":  "\u003e \u003e Ok, so \"retries\" would be a better fit for this one.  What retry-capabilities do we have access to now, with the move to MTP?\n\u003e \n\u003e I was made aware of https://learn.microsoft.com/dotnet/core/testing/microsoft-testing-platform-extensions-policy but I haven\u0027t had a chance look beyond the docs.\n\nIt should be as simple as adding a package reference to Microsoft.Testing.Extensions.Retry (similar to TrxReport, CrashDump, and HangDump), add adjust the command-line to have `--retry-failed-tests \u003cnumber-of-retries\u003e`",
                                           "updatedAt":  "2025-04-11T01:24:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6moVYd",
                                           "createdAt":  "2025-04-11T01:26:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "\u003e add adjust the command-line to have --retry-failed-tests \u003cnumber-of-retries\u003e\n\nCan this be controlled at individual test level?",
                                           "updatedAt":  "2025-04-11T01:26:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6moWMI",
                                           "createdAt":  "2025-04-11T01:29:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Youssef1313",
                                           "body":  "For MTP Retry extension, it\u0027s global. It runs the whole test suite, and then if there are any failures, it runs only those failed tests again.",
                                           "updatedAt":  "2025-04-11T01:29:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nXBtI",
                                           "createdAt":  "2025-04-16T00:15:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Next step:\n\u003e It should be as simple as adding a package reference to Microsoft.Testing.Extensions.Retry (similar to TrxReport, CrashDump, and HangDump), add adjust the command-line to have --retry-failed-tests \u003cnumber-of-retries\u003e",
                                           "updatedAt":  "2025-04-16T00:15:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nZmdR",
                                           "createdAt":  "2025-04-16T06:23:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Adding retries for these is blocked by https://github.com/dotnet/aspire/pull/8802 which reverts the MTP changes.",
                                           "updatedAt":  "2025-04-16T06:23:13Z"
                                       }
                                   ],
                         "totalCount":  15
                     },
        "title":  "Azure ServiceBus emulator is not reliable in CI",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "external",
                       "disabled-tests",
                       "flaky-test",
                       "azure-servicebus"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7078",
        "createdAt":  "2025-01-13T06:18:48Z",
        "number":  7078,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-30T11:45:38Z",
        "body":  "There are several issues with `WithBindMount` that have been filed by users resulting in 2 themes:\n\n1. When there\u0027s a mismatch between the container and the host user, the container may have insufficient permissions to access to file (we\u0027ve worked around this before https://github.com/dotnet/aspire/pull/4191)\n2. When the host for the docker container isn\u0027t the same as the machine calling WithBindMount, paths don\u0027t get mapped directly. \n\nI ran into this while trying to run our tests on github actions. Certain containers when using a bind mount need to set the permissions to make it accessible.\n\nWe should look into fixing these issues.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuuqBnQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6aQgHO",
                                           "createdAt":  "2025-01-13T19:30:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dbreshears",
                                           "body":  "Moving to the backlog as we need to discuss options and scope is a bit large for 9.1. ",
                                           "updatedAt":  "2025-01-13T19:30:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc666oGd",
                                           "createdAt":  "2025-07-30T11:45:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lvde0",
                                           "body":  "I noticed that `WithBindMount()` manually roots the path (via `Path.GetFullPath()`) which causes permission issues in docker compose:\n\nIt generates:\n\n```yaml\n    volumes:\n      - type: \"bind\"\n        target: \"/app/cert.crt\"\n        source: \"C:\\\\Repos\\\\aspire-test\\\\certs\\\\cert.crt\"\n        read_only: false\n```\n\nBut the container (`dotnet/nightly/yarp:2.3.0-preview.4`) fails to read it. When I manually tweak the compose file and set `source` as a relative path (`../certs/cert.crt`) it works just fine.\n\nOS: Windows 11",
                                           "updatedAt":  "2025-07-30T11:45:38Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "WithBindMount issues with file permissions and mapping cross OS",
        "labels":  [
                       "area-integrations",
                       "area-orchestrator"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7088",
        "createdAt":  "2025-01-13T18:53:30Z",
        "number":  7088,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T06:03:13Z",
        "body":  "",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[Functions] Add support for RabbitMQ triggers",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7089",
        "createdAt":  "2025-01-13T18:53:44Z",
        "number":  7089,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T06:03:17Z",
        "body":  "",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[Functions] Add support for Redis triggers",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7090",
        "createdAt":  "2025-01-13T18:54:03Z",
        "number":  7090,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T06:03:22Z",
        "body":  "",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmr2EgA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ap4sX",
                                           "createdAt":  "2025-01-16T06:57:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I assume this is both SQL and Azure SQL?",
                                           "updatedAt":  "2025-01-16T06:57:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6avYSA",
                                           "createdAt":  "2025-01-16T16:01:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Yes, Functions supports both Azure SQL or SQL Server instances.\n\n",
                                           "updatedAt":  "2025-01-16T16:01:37Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "[Functions] Add support for Azure SQL triggers",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7106",
        "createdAt":  "2025-01-14T19:41:02Z",
        "number":  7106,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-15T18:48:56Z",
        "body":  "This is a parent issue to track all the issues with EF Migrations.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "EF Migrations Tracking",
        "labels":  [
                       "area-integrations",
                       "tracking"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7158",
        "createdAt":  "2025-01-20T00:34:39Z",
        "number":  7158,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-31T15:47:58Z",
        "body":  "```\n2025-01-19 16:32:28 \n2025-01-19 16:32:28 WARNING: MongoDB 5.0+ requires a CPU with AVX support, and your current system does not appear to have that!\n2025-01-19 16:32:28   see https://jira.mongodb.org/browse/SERVER-54407\n2025-01-19 16:32:28   see also https://www.mongodb.com/community/forums/t/mongodb-5-0-cpu-intel-g4650-compatibility/116610/2\n2025-01-19 16:32:28   see also https://github.com/docker-library/mongo/issues/485#issuecomment-891991814\n2025-01-19 16:32:28 \n2025-01-19 16:32:29 qemu: uncaught target signal 11 (Segmentation fault) - core dumped\n2025-01-19 16:32:29 /usr/local/bin/docker-entrypoint.sh: line 416:    52 Segmentation fault      \"${mongodHackedArgs[@]}\" --fork\n```\n\nObviously we need to build mongo from source 😄 ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnH_kng==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6cf-Se",
                                           "createdAt":  "2025-01-30T21:24:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "We won\u0027t do anything right now but wait for official support.",
                                           "updatedAt":  "2025-01-30T21:24:52Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Running mongo resource on mac OS fails",
        "labels":  [
                       "area-integrations",
                       "mongodb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7178",
        "createdAt":  "2025-01-20T17:10:12Z",
        "number":  7178,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-18T09:42:28Z",
        "body":  "## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=922261\nBuild error leg or test failing: Aspire.Hosting.Azure.Tests.AzureCosmosDBEmulatorFunctionalTests.AddAzureCosmosDB_RunAsEmulator_CreatesDatabase\nPull request: https://github.com/dotnet/aspire/pull/7152\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404)\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n## Details\n\u003cdetails\u003e\n\u003csummary\u003eMicrosoft.Azure.Cosmos.CosmosException : Response status code does not indicate success:\u003c/summary\u003e\n\n```\nMicrosoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: NotFound (404); Substatus: 0; ActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef; Reason: (\ncode : NotFound\nmessage : Message: \n```\n\n```\n{\"Errors\":[\"Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success:\"]}\nActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef, Request URI: /apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, RequestStats:\nRequestStartTime: 2025-04-16T18:17:30.5614804Z, RequestEndTime: 2025-04-16T18:17:30.5737388Z,  Number of regions attempted:1\n{\"systemHistory\":[{\"dateUtc\":\"2025-04-16T18:16:40.1072073Z\",\"cpu\":100.000,\"memory\":11629576.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.0783,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1},{\"dateUtc\":\"2025-04-16T18:16:50.1071598Z\",\"cpu\":100.000,\"memory\":11630072.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.051,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1},{\"dateUtc\":\"2025-04-16T18:17:00.1081499Z\",\"cpu\":100.000,\"memory\":11628280.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.0607,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1},{\"dateUtc\":\"2025-04-16T18:17:10.1093623Z\",\"cpu\":100.000,\"memory\":11630584.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.0582,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":2},{\"dateUtc\":\"2025-04-16T18:17:20.1105996Z\",\"cpu\":100.000,\"memory\":11630852.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.0489,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":2},{\"dateUtc\":\"2025-04-16T18:17:30.1073150Z\",\"cpu\":100.000,\"memory\":11630984.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.064,\"availableThreads\":32765,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1}]}\nRequestStart: 2025-04-16T18:17:30.5655563Z; ResponseTime: 2025-04-16T18:17:30.5737388Z; StoreResult: StorePhysicalAddress: rntbd://172.18.0.2:10251/apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 3, GlobalCommittedLsn: -1, PartitionKeyRangeId: , IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1, ItemLSN: -1, SessionToken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 0.317, ActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30)], TransportRequestTimeline: {\"requestTimeline\":[{\"event\": \"Created\", \"startTimeUtc\": \"2025-04-16T18:17:30.5614804Z\", \"durationInMs\": 0.0397},{\"event\": \"ChannelAcquisitionStarted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5615201Z\", \"durationInMs\": 0.003},{\"event\": \"Pipelined\", \"startTimeUtc\": \"2025-04-16T18:17:30.5615231Z\", \"durationInMs\": 4.1995},{\"event\": \"Transit Time\", \"startTimeUtc\": \"2025-04-16T18:17:30.5657226Z\", \"durationInMs\": 1.0226},{\"event\": \"Received\", \"startTimeUtc\": \"2025-04-16T18:17:30.5667452Z\", \"durationInMs\": 0.381},{\"event\": \"Completed\", \"startTimeUtc\": \"2025-04-16T18:17:30.5671262Z\", \"durationInMs\": 0}],\"serviceEndpointStats\":{\"inflightRequests\":1,\"openConnections\":1},\"connectionStats\":{\"waitforConnectionInit\":\"False\",\"callsPendingReceive\":0,\"lastSendAttempt\":\"2025-04-16T18:17:30.3315763Z\",\"lastSend\":\"2025-04-16T18:17:30.3315763Z\",\"lastReceive\":\"2025-04-16T18:17:30.3315763Z\"},\"requestSizeInBytes\":454,\"responseMetadataSizeInBytes\":170,\"responseBodySizeInBytes\":84};\n ResourceType: Database, OperationType: Read\nRequestStart: 2025-04-16T18:17:30.5696565Z; ResponseTime: 2025-04-16T18:17:30.5737388Z; StoreResult: StorePhysicalAddress: rntbd://172.18.0.2:10251/apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 3, GlobalCommittedLsn: -1, PartitionKeyRangeId: , IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1, ItemLSN: -1, SessionToken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 0.169, ActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30)], TransportRequestTimeline: {\"requestTimeline\":[{\"event\": \"Created\", \"startTimeUtc\": \"2025-04-16T18:17:30.5655563Z\", \"durationInMs\": 0.0037},{\"event\": \"ChannelAcquisitionStarted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5655600Z\", \"durationInMs\": 0.0013},{\"event\": \"Pipelined\", \"startTimeUtc\": \"2025-04-16T18:17:30.5655613Z\", \"durationInMs\": 0.9811},{\"event\": \"Transit Time\", \"startTimeUtc\": \"2025-04-16T18:17:30.5665424Z\", \"durationInMs\": 1.4451},{\"event\": \"Received\", \"startTimeUtc\": \"2025-04-16T18:17:30.5679875Z\", \"durationInMs\": 0.0552},{\"event\": \"\nCompleted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5680427Z\", \"durationInMs\": 0}],\"serviceEndpointStats\":{\"inflightRequests\":4,\"open\nActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef, Request URI: /apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-\n8106-8cdcd42c33be/replicas/1p/, RequestStats:\nRequestStartTime: 2025-04-16T18:17:30.5614804Z, RequestEndTime: 2025-04-16T18:17:30.5737388Z,  Number of regions attempted:1\n{\"systemHistory\":[{\"dateUtc\":\"2025-04-16T18:16:40.1072073Z\",\"cpu\":100.000,\"memory\":11629576.000,\"threadInfo\":{\"isThreadStarving\":\"\nFalse\",\"threadWaitIntervalInMs\":0.0783,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1},\n{\"dateUtc\":\"2025-04-16T18:16:50.1071598Z\",\"cpu\":100.000,\"memory\":11630072.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWait\nIntervalInMs\":0.051,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1},{\"dateUtc\":\"2025-04\n-16T18:17:00.1081499Z\",\"cpu\":100.000,\"memory\":11628280.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.060\n7,\"availableThreads\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":1},{\"dateUtc\":\"2025-04-16T18:17:10.10936\n23Z\",\"cpu\":100.000,\"memory\":11630584.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.0582,\"availableThread\ns\":32766,\"minThreads\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":2},{\"dateUtc\":\"2025-04-16T18:17:20.1105996Z\",\"cpu\":100.000\n,\"memory\":11630852.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.0489,\"availableThreads\":32766,\"minThrea\nds\":4,\"maxThreads\":32767},\"numberOfOpenTcpConnection\":2},{\"dateUtc\":\"2025-04-16T18:17:30.1073150Z\",\"cpu\":100.000,\"memory\":11630984\n.000,\"threadInfo\":{\"isThreadStarving\":\"False\",\"threadWaitIntervalInMs\":0.064,\"availableThreads\":32765,\"minThreads\":4,\"maxThreads\":\n32767},\"numberOfOpenTcpConnection\":1}]}\nRequestStart: 2025-04-16T18:17:30.5655563Z; ResponseTime: 2025-04-16T18:17:30.5737388Z; StoreResult: StorePhysicalAddress: rntbd:/\n/172.18.0.2:10251/apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 3, Global\nCommittedLsn: -1, PartitionKeyRangeId: , IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1, ItemLSN: -1, SessionT\noken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 0.317, ActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef,\nRetryAfterInMs: , ReplicaHealthStatuses: [(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknow\nn | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/\n16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:1\n7:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port:\n 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | sta\ntus: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30)], TransportRequestTimeline: {\"\nrequestTimeline\":[{\"event\": \"Created\", \"startTimeUtc\": \"2025-04-16T18:17:30.5614804Z\", \"durationInMs\": 0.0397},{\"event\": \"ChannelA\ncquisitionStarted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5615201Z\", \"durationInMs\": 0.003},{\"event\": \"Pipelined\", \"startTimeUtc\":\n\"2025-04-16T18:17:30.5615231Z\", \"durationInMs\": 4.1995},{\"event\": \"Transit Time\", \"startTimeUtc\": \"2025-04-16T18:17:30.5657226Z\",\n\"durationInMs\": 1.0226},{\"event\": \"Received\", \"startTimeUtc\": \"2025-04-16T18:17:30.5667452Z\", \"durationInMs\": 0.381},{\"event\": \"Co\nmpleted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5671262Z\", \"durationInMs\": 0}],\"serviceEndpointStats\":{\"inflightRequests\":1,\"openCo\nnnections\":1},\"connectionStats\":{\"waitforConnectionInit\":\"False\",\"callsPendingReceive\":0,\"lastSendAttempt\":\"2025-04-16T18:17:30.33\n15763Z\",\"lastSend\":\"2025-04-16T18:17:30.3315763Z\",\"lastReceive\":\"2025-04-16T18:17:30.3315763Z\"},\"requestSizeInBytes\":454,\"response\nMetadataSizeInBytes\":170,\"responseBodySizeInBytes\":84};\n ResourceType: Database, OperationType: Read\nRequestStart: 2025-04-16T18:17:30.5696565Z; ResponseTime: 2025-04-16T18:17:30.5737388Z; StoreResult: StorePhysicalAddress: rntbd:/\n/172.18.0.2:10251/apps/DocDbApp/services/DocDbMaster0/partitions/780e44f4-38c8-11e6-8106-8cdcd42c33be/replicas/1p/, LSN: 3, Global\nCommittedLsn: -1, PartitionKeyRangeId: , IsValid: True, StatusCode: 404, SubStatusCode: 0, RequestCharge: 1, ItemLSN: -1, SessionT\noken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 0.169, ActivityId: 531f9f3c-e622-47d8-8c84-2f1006667aef,\nRetryAfterInMs: , ReplicaHealthStatuses: [(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknow\nn | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/\n16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:1\n7:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port:\n 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | sta\ntus: Unknown | lkt: 04/16/2025 18:17:30),(port: 10251 | status: Unknown | lkt: 04/16/2025 18:17:30)], TransportRequestTimeline: {\"\nrequestTimeline\":[{\"event\": \"Created\", \"startTimeUtc\": \"2025-04-16T18:17:30.5655563Z\", \"durationInMs\": 0.0037},{\"event\": \"ChannelA\ncquisitionStarted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5655600Z\", \"durationInMs\": 0.0013},{\"event\": \"Pipelined\", \"startTimeUtc\":\n \"2025-04-16T18:17:30.5655613Z\", \"durationInMs\": 0.9811},{\"event\": \"Transit Time\", \"startTimeUtc\": \"2025-04-16T18:17:30.5665424Z\",\n \"durationInMs\": 1.4451},{\"event\": \"Received\", \"startTimeUtc\": \"2025-04-16T18:17:30.5679875Z\", \"durationInMs\": 0.0552},{\"event\": \"\nCompleted\", \"startTimeUtc\": \"2025-04-16T18:17:30.5680427Z\", \"durationInMs\": 0}],\"serviceEndpointStats\":{\"inflightRequests\":4,\"open\nConnections\":1},\"connectionStats\":{\"waitforConnectionInit\":\"False\",\"callsPendingReceive\":3,\"lastSendAttempt\":\"2025-04-16T18:17:30.5655563Z\",\"lastSend\":\"2025-04-16T18:17:30.5655563Z\",\"lastReceive\":\"2025-04-16T18:17:30.3315763Z\"},\"requestSizeInBytes\":454,\"responseMetadataSizeInBytes\":170,\"responseBodySizeInBytes\":84};\n ResourceType: Database, OperationType: Read\n, SDK: Microsoft.Azure.Documents.Common/2.14.0\n);   at Microsoft.Azure.Cosmos.ClientContextCore.RunWithDiagnosticsHelperAsync[TResult](String containerName, String databaseName, OperationType operationType, ITrace trace, Func`2 task, Nullable`1 openTelemetry, RequestOptions requestOptions, Nullable`1 resourceType)\n   at Microsoft.Azure.Cosmos.ClientContextCore.OperationHelperWithRootTraceAsync[TResult](String operationName, String containerName, String databaseName, OperationType operationType, RequestOptions requestOptions, Func`2 task, Nullable`1 openTelemetry, TraceComponent traceComponent, TraceLevel traceLevel, Nullable`1 resourceType)\n   at Aspire.Hosting.Azure.Tests.AzureCosmosDBEmulatorFunctionalTests.AddAzureCosmosDB_RunAsEmulator_CreatesDatabase() in /_/tests/Aspire.Hosting.Azure.Tests/AzureCosmosDBEmulatorFunctionalTests.cs:line 304\n--- End of stack trace from previous location ---\n...\n```\n\u003c/details\u003e\n\u003c!--Known issue error report start --\u003e\n\n### Report\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|0|0|0|\n\u003c!--Known issue error report end --\u003e\n\u003c!--Known issue error report start --\u003e\n\n### Report\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|0|0|0|\n\u003c!--Known issue error report end --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/18/2025 9:42:27 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- Known issue validation start --\u003e\n ### Known issue validation\n**Build: :mag_right:** \n**Result validation:** :warning: Provided build not found. Provide a valid build in the \"**Build:** :mag_right:\" line.\n**Validation performed at:** 4/17/2025 10:21:20 PM UTC\n\u003c!-- Known issue validation end --\u003e\n\u003c!-- Known issue validation start --\u003e\n ### Known issue validation\n**Build: :mag_right:** \n**Result validation:** :warning: Provided build not found. Provide a valid build in the \"**Build:** :mag_right:\" line.\n**Validation performed at:** 4/17/2025 10:22:54 PM UTC\n\u003c!-- Known issue validation end --\u003e\n\u003c!-- Known issue validation start --\u003e\n ### Known issue validation\n**Build: :mag_right:** \n**Result validation:** :warning: Validation could not be done without an Azure DevOps build URL on the issue. Please add it to the \"**Build:** :mag_right:\" line.\n**Validation performed at:** 5/21/2025 2:19:14 AM UTC\n\u003c!-- Known issue validation end --\u003e\r\n\u003c!-- Known issue validation start --\u003e\r\n ### Known issue validation\r\n**Build: :mag_right:** \r\n**Result validation:** :warning: Provided build not found. Provide a valid build in the \"**Build:** :mag_right:\" line.\r\n**Validation performed at:** 5/21/2025 2:22:13 AM UTC\r\n\u003c!-- Known issue validation end --\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnIAT5g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6cgBPm",
                                           "createdAt":  "2025-01-30T21:31:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Test is disabled, this is tracking it\n\n",
                                           "updatedAt":  "2025-01-30T21:31:54Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[tests] Cosmos emulator issue - AddAzureCosmosDB_RunAsEmulator_CreatesDatabase",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "disabled-tests",
                       "azure-cosmosdb",
                       "flaky-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7182",
        "createdAt":  "2025-01-21T00:12:36Z",
        "number":  7182,
        "author":  "3GDXC",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-03T08:22:41Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nwhen using the WithVolume extension method on the AddSqlServer - IResourceBuilder\u003cSqlServerServerResource\u003e for the data and/or log paths \u0027/var/opt/mssql/data\u0027 or \u0027/var/opt/mssql/log\u0027 the container fails to start and reports \u0027access denied\u0027\n\n\n### Expected Behavior\n\ncreates and mounts the volume for the given folder(s) creating the data/log files with in the specified volume.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnMaSdg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6bLLq4",
                                           "createdAt":  "2025-01-21T00:23:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you share more information? What OS, what version of docker, what version of the packages etc? Can you also share all of the container logs?",
                                           "updatedAt":  "2025-01-21T00:23:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bONeX",
                                           "createdAt":  "2025-01-21T09:47:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "Windows 11 build 22631.4602\nDocker 4.37.1\nAspire 9.0.0\n\nworks\nvar _dbs01 = builder.AddSqlServer(\"sql-01\")\n    //.WithDataVolume()\n    .WithVolume(\"sql-01\", \"/var/opt/mssql\")\n    .WithVolume(\"sql-shared\" , \"/var/opt/mssql/shared\")\n    .WithVolume(\"sql-backup\" , \"/var/opt/mssql/backup\")\n    .WithLifetime(ContainerLifetime.Persistent);\n\nfails\nvar _dbs01 = builder.AddSqlServer(\"sql-01\")\n    //.WithDataVolume()\n    .WithVolume(\"sql-01-data\", \"/var/opt/mssql/data\")\n    .WithVolume(\"sql-01-logs\", \"/var/opt/mssql/logs\")\n    .WithVolume(\"sql-shared\" , \"/var/opt/mssql/shared\")\n    .WithVolume(\"sql-backup\" , \"/var/opt/mssql/backup\")\n    .WithLifetime(ContainerLifetime.Persistent);\n\ncontainer console output\n\n2025-01-21T09:54:39 a452af266ff334cde9023a33a58d705818af3ab7d5491b6c597c6fa9e4326434\n2025-01-21T09:54:42 SQL Server 2022 will run as non-root by default.\n2025-01-21T09:54:42 This container is running as user mssql.\n2025-01-21T09:54:42 To learn more visit https://go.microsoft.com/fwlink/?linkid=2099216.\n2025-01-21T09:54:42 \n2025-01-21T09:54:42 a452af266ff334cde9023a33a58d705818af3ab7d5491b6c597c6fa9e4326434\n2025-01-21T09:54:45 2025-01-21 09:54:45.20 Server      Setup step is copying system data file \u0027C:\\templatedata\\master.mdf\u0027 to \u0027/var/opt/mssql/data/master.mdf\u0027.\n2025-01-21T09:54:45 \n2025-01-21T09:54:45\n ERROR: BootstrapSystemDataDirectories() failure (HRESULT 0x80070005)\n2025-01-21 09:54:45.21 Server      ERROR: Setup FAILED copying system data file \u0027C:\\templatedata\\master.mdf\u0027 to \u0027/var/opt/mssql/data/master.mdf\u0027:  5(Access is denied.)\n\n",
                                           "updatedAt":  "2025-01-21T09:55:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6b97zs",
                                           "createdAt":  "2025-01-27T19:25:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "You probably need to setup custom permissions as the docker will run as non-root. Can you check with [these instructions](https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-docker-container-security?view=sql-server-ver15#configure-persistent-storage-permissions-for-non-root-containers)?",
                                           "updatedAt":  "2025-01-27T19:25:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cEdOi",
                                           "createdAt":  "2025-01-28T09:28:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "@sebastienros sorry I don\u0027t understand as the volume mapping of WithDataVolume() works; however by specifying a mssql/data mapping this fails and the function called is the same as the underlying WithDataVolume() with the explicit mapping of the folder to a directory on the window docker host?\n",
                                           "updatedAt":  "2025-01-28T09:28:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cgEUS",
                                           "createdAt":  "2025-01-30T21:39:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Here is the document that made us to the distinct mappings in `WithDataBindMount`: https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-docker-container-configure?view=sql-server-ver15\u0026pivots=cs1-bash#mount-a-host-directory-as-data-volume\n\nCould you try to run the same configuration as you did by code but using the docker command directly in order to confirm it is an issue with Aspire?\n\nThis example specifically:\n\n```\ndocker run -e \u0027ACCEPT_EULA=Y\u0027 -e \u0027MSSQL_SA_PASSWORD=\u003cpassword\u003e\u0027 \\\n-p 1433:1433 \\\n-v \u003chost directory\u003e/data:/var/opt/mssql/data \\\n-v \u003chost directory\u003e/log:/var/opt/mssql/log \\\n-v \u003chost directory\u003e/secrets:/var/opt/mssql/secrets \\\n-d mcr.microsoft.com/mssql/server:2019-latest\n```",
                                           "updatedAt":  "2025-01-30T21:39:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cxpJ2",
                                           "createdAt":  "2025-02-03T08:22:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "The \ndocker run -e \u0027ACCEPT_EULA=Y\u0027 -e \u0027MSSQL_SA_PASSWORD=\u003cpassword\u003e\u0027 \\\n-p 1433:1433 \\\n-v \u003chost directory\u003e/data:/var/opt/mssql/data \\\n-v \u003chost directory\u003e/log:/var/opt/mssql/log \\\n-v \u003chost directory\u003e/secrets:/var/opt/mssql/secrets \\\n-d mcr.microsoft.com/mssql/server:2019-latest\n\nworked as expected; I have also tried the same aspire code with Podman on the same machine which resulted in success.",
                                           "updatedAt":  "2025-02-03T08:22:07Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "SqlServer WithVolume access denied",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7188",
        "createdAt":  "2025-01-21T12:10:46Z",
        "number":  7188,
        "author":  "shinkathe",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-25T06:37:29Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nAspire version: 9.0.0+01ed51919f8df692ececce51048a140615dc759d\n\nIt\u0027s probably good to know that, if you have an azure function that resides in a subfolder that is affected by global.json, for example:\n\n``` global.json\n{\n    \"sdk\": {\n        \"version\": \"8.0.203\",\n        \"rollForward\": \"latestFeature\"\n    }\n}\n```\n\nThe azure function will not work with aspire, and it will break with the following error:\n\n```\n2025-01-21T13:58:51 System.ArgumentNullException: Value cannot be null. (Parameter \u0027value\u0027)\n2025-01-21T13:58:51    at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)\n2025-01-21T13:58:51    at Microsoft.Azure.Functions.Worker.Grpc.Messages.StartStream.set_WorkerId(String value) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\obj\\Release\\net8.0\\FunctionRpc.cs:line 2055\n...\n```\n\nNote, that the azure function in question is running on .NET 8, and the Aspire host is running on .NET 9. I\u0027m a bit unsure, what the global json does in this case 🤔 \n\n### Expected Behavior\n\nI\u0027m unsure what the interaction of global.json is here for the azure function that is being provisioned. \n\n### Steps To Reproduce\n\nHave the following structure:\nTest.AppHost\nsrc/TestAzureFunction\nsrc/global.json\n\n### Exceptions (if any)\n\n```\n2025-01-21T13:58:51 [13:58:51 ERR] Hosting failed to start\n\n2025-01-21T13:58:51 System.ArgumentNullException: Value cannot be null. (Parameter \u0027value\u0027)\n    at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)\n    at Microsoft.Azure.Functions.Worker.Grpc.Messages.StartStream.set_WorkerId(String value) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\obj\\Release\\net8.0\\FunctionRpc.cs:line 2055\n    at Microsoft.Azure.Functions.Worker.Grpc.GrpcWorkerClientFactory.GrpcWorkerClient.SendStartStreamMessageAsync(IClientStreamWriter`1 requestStream) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\GrpcWorkerClientFactory.cs:line 74\n    at Microsoft.Azure.Functions.Worker.Grpc.GrpcWorkerClientFactory.GrpcWorkerClient.StartAsync(CancellationToken token) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\GrpcWorkerClientFactory.cs:line 66\n    at Microsoft.Azure.Functions.Worker.WorkerHostedService.StartAsync(CancellationToken cancellationToken) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Core\\WorkerHostedService.cs:line 25\n    at Microsoft.Extensions.Hosting.Internal.Host.\u003cStartAsync\u003eb__15_1(IHostedService service, CancellationToken token)\n    at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)\n\n2025-01-21T13:58:51 Unhandled exception. System.ArgumentNullException: Value cannot be null. (Parameter \u0027value\u0027)\n    at Google.Protobuf.ProtoPreconditions.CheckNotNull[T](T value, String name)\n    at Microsoft.Azure.Functions.Worker.Grpc.Messages.StartStream.set_WorkerId(String value) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\obj\\Release\\net8.0\\FunctionRpc.cs:line 2055\n    at Microsoft.Azure.Functions.Worker.Grpc.GrpcWorkerClientFactory.GrpcWorkerClient.SendStartStreamMessageAsync(IClientStreamWriter`1 requestStream) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\GrpcWorkerClientFactory.cs:line 74\n    at Microsoft.Azure.Functions.Worker.Grpc.GrpcWorkerClientFactory.GrpcWorkerClient.StartAsync(CancellationToken token) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Grpc\\GrpcWorkerClientFactory.cs:line 66\n    at Microsoft.Azure.Functions.Worker.WorkerHostedService.StartAsync(CancellationToken cancellationToken) in D:\\a\\_work\\1\\s\\src\\DotNetWorker.Core\\WorkerHostedService.cs:line 25\n    at Microsoft.Extensions.Hosting.Internal.Host.\u003cStartAsync\u003eb__15_1(IHostedService service, CancellationToken token)\n    at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)\n    at Microsoft.Extensions.Hosting.Internal.Host.\u003cStartAsync\u003eg__LogAndRethrow|15_3(\u003c\u003ec__DisplayClass15_0\u0026)\n    at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)\n    at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)\n    at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)\n\n2025-01-21T13:58:51    at \u003credacted\u003e 88\n\n```\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.102\n Commit:            cb83cd4923\n Workload version:  9.0.100-manifests.d67a1f3e\n MSBuild version:   17.12.18+ed8c6aec5\n\nRuntime Environment:\n OS Name:     Mac OS X\n OS Version:  14.3\n OS Platform: Darwin\n RID:         osx-arm64\n Base Path:   /usr/local/share/dotnet/sdk/9.0.102/\n\n.NET workloads installed:\n [aspire]\n   Installation Source: SDK 9.0.100\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       /usr/local/share/dotnet/sdk-manifests/8.0.100/microsoft.net.sdk.aspire/8.2.2/WorkloadManifest.json\n   Install Type:        FileBased\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.1\n  Architecture: arm64\n  Commit:       c8acea2262\n\n.NET SDKs installed:\n  6.0.423 [/usr/local/share/dotnet/sdk]\n  7.0.401 [/usr/local/share/dotnet/sdk]\n  8.0.100 [/usr/local/share/dotnet/sdk]\n  8.0.201 [/usr/local/share/dotnet/sdk]\n  8.0.203 [/usr/local/share/dotnet/sdk]\n  9.0.102 [/usr/local/share/dotnet/sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.31 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.11 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.0 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.2 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.3 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.1 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.31 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.11 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.0 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.2 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.3 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.1 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n\nOther architectures found:\n  None\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n\n### Anything else?\n\n Aspire project: Uses .NET 9\n```\n\u003cItemGroup\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.Azure\" Version=\"9.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.Azure.ServiceBus\" Version=\"9.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.Azure.Storage\" Version=\"9.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.NodeJs\" Version=\"9.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.SqlServer\" Version=\"9.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Aspire.Hosting.Azure.Functions\" Version=\"9.0.0-preview.5.24551.3\" /\u003e\n\u003c/ItemGroup\u003e\n```\n\nFunction project (some transient deps missing from here): Uses .NET 8\n``` \n\u003cItemGroup\u003e\n\t\u003cPackageReference Include=\"Azure.Storage.Blobs\" Version=\"12.19.1\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Extensions.ServiceBus\" Version=\"5.18.0\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.Extensions.Configuration.UserSecrets\" Version=\"8.0.1\" /\u003e\n\t\u003cPackageReference Include=\"Serilog.AspNetCore\" Version=\"8.0.1\" /\u003e\n\t\u003cPackageReference Include=\"Serilog.Sinks.ApplicationInsights\" Version=\"4.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker\" Version=\"2.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Extensions.Timer\" Version=\"4.3.0\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Sdk\" Version=\"2.0.0\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.ApplicationInsights.WorkerService\" Version=\"2.22.0\" /\u003e\n\t\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.ApplicationInsights\" Version=\"1.2.0\" /\u003e\n\u003c/ItemGroup\u003e\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOm4lm0Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6bUgZJ",
                                           "createdAt":  "2025-01-21T22:11:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "joperezr",
                                           "body":  "Thanks for the report! @captainsafia any clues on what might be going on here?",
                                           "updatedAt":  "2025-01-21T22:11:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6bUvHT",
                                           "createdAt":  "2025-01-21T22:53:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEDuitQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "shinkathe",
                                                                               "createdAt":  "2025-01-23T10:30:20Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Yes, unfortunately, this is a [current constraint](https://learn.microsoft.com/en-us/dotnet/aspire/serverless/functions?tabs=dotnet-cli\u0026pivots=visual-studio#azure-function-project-constraints) of the Aspire + Azure Functions integration. The feature relies on behavior that is only available in  the .NET 9 SDK.\n\nIt\u0027s totally OK to have the Functions project and the Aspire app host target different _runtimes_ but the SDK that\u0027s used must be a .NET 9 SDK. ",
                                           "updatedAt":  "2025-01-21T22:53:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6biWbR",
                                           "createdAt":  "2025-01-23T10:44:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "shinkathe",
                                           "body":  "I think I managed to misunderstand the documentation, that the apphost would require .NET 9 SDK and I found it very difficult to make myself believe, that through Aspire, a .NET 8 azure function can be made to rely on .NET 9 SDK features. Logically maybe, that didn\u0027t sound possible, maybe because in my head \".NET would never do that\". But somehow aspire is capable of making changes to the projects it runs, is probably more correct way to think about it 🤔 \n\nThanks for clearing that up, I understand now what is going on. \n\nThe real life problem this causes us looks like this, if you\u0027re curious:\n\nWe have a large project, over multiple repositories, where azure functions have been dropped here and there and we need global.json SDK specification to make our IDE environments understand, that it should not suggest .NET 9 features before we have migrated to it. It has caused the very real problem, of people using IDE suggested syntax things from a newer SDK just to find out in CI that it will not build.\n\nSo, now we are also trying to add aspire to this project, and try to make all the various functions run in various contexts and this global json obviously causes the above problem. \n\nMy question is, should the global.json have this effect on Aspire? (Note, that the global.json does not target the apphost, only the function) Or are we using the global.json incorrectly in the first place 🤔 ",
                                           "updatedAt":  "2025-01-23T10:46:28Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "global.json override breaks azure function",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7263",
        "createdAt":  "2025-01-27T14:10:31Z",
        "number":  7263,
        "author":  "iamandymcinnes",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC_J5LQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "konradbartecki",
                                            "createdAt":  "2025-02-17T09:44:18Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-03-15T15:41:26Z",
        "body":  "In the documentation it says you can use an existing keycloak by using the AddConnectionString() approach.\nhttps://github.com/dotnet/docs-aspire/blob/47fc67af9059d9dcd132609f2ce6ad1523da1d98/docs/authentication/keycloak-integration.md?plain=1#L78\n\nHowever it doesn\u0027t detail how this should work i.e. the structure of the connection string. When I\u0027ve tried this myself,  my services are just stuck in the waiting for keycloak to start.\n\nAdditionally builder.AddKeycloak(\"keycloak\", 8080) is not interchangeable with builder.AddConnectionString(\"keycloak\").\n\ni.e. the former returns an IResourceBuilder\u003c KeycloakResource \u003e? where as, the latter returns IResourceBuilder\u003c IResourceWithConnectionString \u003e.\n\nConversely when compared to something  like Azure Table storage, both the AddTables And AddConnectionString are interchangeable.\n\nYou can see the difference here:\n```\npublic class AzureTableStorageResource(string name, AzureStorageResource storage) : Resource(name),\n    IResourceWithConnectionString,\n    IResourceWithParent\u003cAzureStorageResource\u003e\n\npublic sealed class KeycloakResource(string name, ParameterResource? admin, ParameterResource adminPassword)\n    : ContainerResource(ThrowIfNull(name)), IResourceWithServiceDiscovery\n```\n\n\n### Discussed in https://github.com/dotnet/aspire/discussions/7064\n\n\u003cdiv type=\u0027discussions-op-text\u0027\u003e\n\n\u003csup\u003eOriginally posted by **iamandymcinnes** January 10, 2025\u003c/sup\u003e\nI\u0027ve been using the AddKeycloak() extension during initial development to spin up a Keycloak container for local development, but as I\u0027m trying to move toward releasing something I wanted to test out connecting to an existing Keycloak instance that\u0027s running in AKS. In the docs it recommends using AddConnectionString(), but this is not supported without a cast to IResourceBuilder\u003cKeycloakResource\u003e, so I just wondered if I am missing something?\n\nThanks in advance\n\n```\nvar keycloak = builder.Environment.IsDevelopment()\n? builder.AddKeycloak(\"keycloak\", 8080)\n    .WithArgs(\"--features=preview\")\n    // for more details regarding disable-trust-manager\n    // see https://www.keycloak.org/server/outgoinghttp#_client_configuration_command\n    // IMPORTANT: use this command ONLY in local development environment!\n    .When(builder.Environment.IsDevelopment(), x\n        =\u003e x.WithArgs(\"--spi-connections-http-client-default-disable-trust-manager=true\"))\n    .WithDataVolume()\n    .WithRealmImport(\"../realms\")\n    .RunWithHttpsDevCertificate(port: 8081)\n: builder.AddConnectionString(\"keycloak\");   // \u003c\u003c\u003c This won\u0027t work\n```\n\nWhere as table storage for example doesn\u0027t need anything extra\n\n```\nvar tables = builder.Environment.IsDevelopment()\n? builder.AddAzureStorage(\"storage\").RunAsEmulator(\n    azurite =\u003e\n    {\n        azurite.WithTablePort(27002);\n        azurite.WithDataVolume();\n    }).AddTables(\"tables\")\n: builder.AddConnectionString(\"tables\");\n```\u003c/div\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOoobffg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDMNd",
                                           "createdAt":  "2025-03-12T18:24:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@DamianEdwards ",
                                           "updatedAt":  "2025-03-12T18:24:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ifKOq",
                                           "createdAt":  "2025-03-15T00:57:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "It seems the doc might just be wrong in this case, as the Keycloak resource doesn\u0027t implement `IResourceWithConnectionString`, but rather `IResourceWithServiceDiscovery`, so the way to reference an existing one is to add it via `.WithReference(new Uri(\"https://mykeycloak.server\"))`;\n\nNote the Keycloak integration is still in preview.\n\n@IEvangelist ",
                                           "updatedAt":  "2025-03-15T00:57:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iht9-",
                                           "createdAt":  "2025-03-15T15:41:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "iamandymcinnes",
                                           "body":  "Yes my example was somewhat wrong, that cast obviously doesn\u0027t work, I\u0027ve updated to remove the cast for clarity. It would be nice if you could have the ability to interchange between AddKeycloak and AddConnectionString however. Appreciate the AddKeycloak adds some environment variables for admin password etc, but as long as people understood when using a connection string if you wanted to add those other values in you would need to just do something like WithEnvironment to add those things.\n\nAnother thing that would be nice is if you got the Realm and MetadataEndpoint configured automatically from either method i.e. some optional extension like:\n\n```\n    var keycloak = builder.AddKeycloak(\"keycloak\", 8080)\n        .WithDataVolume()\n        .WithRealmImport(\"../realms\")\n        .WithRealm(\"MyRealm\");\n\nor\n\n   var keycloak = builder.AddConnectionString(\"https://mykeycloak.server.com/keycloak/realms/MyRealm\");\n```\n\nSo the presence of \"realms/something\" in the connection string or the WithRealm() extension would result in it setting some service discovery environment variables which are automatically wired up for things like MetadataEndpoint, Authority, Backchannel, etc.",
                                           "updatedAt":  "2025-03-15T15:41:25Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Documentation lacking on how to connect to an existing keycloak",
        "labels":  [
                       "documentation",
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7265",
        "createdAt":  "2025-01-27T15:49:40Z",
        "number":  7265,
        "author":  "jjindrich",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-01-31T08:26:54Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI have my sample Aspire application using Entity Framework using Cosmos SQL (noSQL) instance. This Aspire application hosts Blazor website. \nWhen I check Trace log, I see only few requests to cosmos HTTP, not Cosmos query. Sometimes this data are missing completely.\n\n### Expected Behavior\n\nI\u0027m expecting to see dependency similar to http client. \n\n### Steps To Reproduce\n\nThere is sample app - https://github.com/jjindrich/jjweb-aspire-tracing\nAdd your CosmosDB connection string into appsetting.Development.json\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.200-preview.0.24575.35\n Commit:            81b5f040be\n Workload version:  9.0.200-manifests.9ad85b57\n MSBuild version:   17.13.0-preview-24569-04+8f6b8ad0a\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.200-preview.0.24575.35\\\n\n.NET workloads installed:\n [aspire]\n   Installation Source: VS 17.13.35617.110, VS 17.12.35707.178\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.13.35617.110, VS 17.12.35707.178\n   Manifest Version:    9.0.14/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.14\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: VS 17.13.35617.110, VS 17.12.35707.178\n   Manifest Version:    18.1.9163/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.1.9163\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: VS 17.13.35617.110, VS 17.12.35707.178\n   Manifest Version:    18.1.9163/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.1.9163\\WorkloadManifest.json\n   Install Type:              Msi\n\n [android]\n   Installation Source: VS 17.13.35617.110, VS 17.12.35707.178\n   Manifest Version:    35.0.24/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.24\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.1\n  Architecture: x64\n  Commit:       c8acea2262\n\n.NET SDKs installed:\n  8.0.405 [C:\\Program Files\\dotnet\\sdk]\n  9.0.102 [C:\\Program Files\\dotnet\\sdk]\n  9.0.200-preview.0.24575.35 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 8.0.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 8.0.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 8.0.11 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.0 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnI827Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6cgFW6",
                                           "createdAt":  "2025-01-30T21:41:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@AndriySvyryd - is there something specific we need to do for EF Cosmos to get the tracing to work?\n\nI see in the non-EF code we have:\n\nhttps://github.com/dotnet/aspire/blob/b155ab9f7f6c85f3f9757edd2ba9d0be3e6c16da/src/Components/Aspire.Microsoft.Azure.Cosmos/AspireMicrosoftAzureCosmosExtensions.cs#L89-L97\n\nDo we need to do something similar in EF? If so, how?",
                                           "updatedAt":  "2025-01-30T21:41:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cgiBV",
                                           "createdAt":  "2025-01-30T22:47:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "AndriySvyryd",
                                           "body":  "We don\u0027t expose the `DisableDistributedTracing` option yet, the general issue is https://github.com/dotnet/efcore/issues/35482\n\n@jjindrich For now you can see SQL sent in the logs under the `DbLoggerCategory.Database.Command` category, they are Information-level.",
                                           "updatedAt":  "2025-01-30T22:47:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cjzbt",
                                           "createdAt":  "2025-01-31T08:26:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jjindrich",
                                           "body":  "yes, but this commands are not corelated with request. ",
                                           "updatedAt":  "2025-01-31T08:26:53Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "EF Cosmos tracing data missing",
        "labels":  [
                       "area-integrations",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7311",
        "createdAt":  "2025-01-29T05:34:56Z",
        "number":  7311,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-02T20:57:42Z",
        "body":  "## Build Information\r\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=932814\u0026view=logs\u0026j=acc6f692-388e-5b31-5997-e154da29f5b3\r\nBuild error leg or test failing: Build / Linux_helix_tests / Run helix tests\r\nPull request: https://github.com/dotnet/aspire/pull/7309\r\n\u003c!-- Error message template  --\u003e\r\n## Error Message\r\n\r\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\r\n\r\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\r\n\r\n```json\r\n{\r\n  \"ErrorMessage\": \"\",\r\n  \"ErrorPattern\": \"\",\r\n  \"BuildRetry\": false,\r\n  \"ExcludeConsoleLog\": false\r\n}\r\n```\r\n\r\n\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpVOzOg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6cNoL2",
                                           "createdAt":  "2025-01-29T06:29:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This failure was the test taking a long time to pull the container image.",
                                           "updatedAt":  "2025-01-29T06:29:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cgGln",
                                           "createdAt":  "2025-01-30T21:44:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Test is disabled, this is tracking it",
                                           "updatedAt":  "2025-01-30T21:44:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lU7M6",
                                           "createdAt":  "2025-04-02T20:57:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "@sebastienros I don\u0027t see this test disabled in the repo. Should this issue be closed?",
                                           "updatedAt":  "2025-04-02T20:57:30Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "flaky test: MilvusFunctionalTests.WithDataShouldPersistStateBetweenUsages",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "milvus"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7320",
        "createdAt":  "2025-01-30T01:24:29Z",
        "number":  7320,
        "author":  "Matthewsre",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODNvI_g==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-03-22T13:21:50Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "bunomonteiro",
                                            "createdAt":  "2025-09-01T17:00:50Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-01-30T15:31:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to reduce the complexity of my ASP.NET application by consolidating PostgreSQL and MongoDB into a single database technology. DocumentDB (from Microsoft) extends PostgreSQL with document capabilities. I would like to configure it through .NET Aspire in the same way I configure other data providers (like standard PostgreSQL or MongoDB). Currently, there\u0027s no built-in Aspire integration or guidance for DocumentDB.\n\n### Describe the solution you\u0027d like\n\nI\u0027d love to see official support or documentation for configuring DocumentDB in .NET Aspire, ideally in a way that:\n- Mirrors the or extends the existing PostgreSQL integration, since DocumentDB is effectively an extension of PostgreSQL.\n- Helps .NET developers use DocumentDB\u0027s document capabilities quickly.\n- Includes instructions or samples in the .NET Aspire docs for easy setup.\n\n### Additional context\n\n- Many developers already use .NET Aspire for straightforward PostgreSQL and MongoDB setups.  \n- DocumentDB is open-sourced by Microsoft and could provide a “one database” approach that still supports document-based features.  \n- I am currently using both PostgreSQL and MongoDB in production, and I\u0027d like to experiment with dropping MongoDB in favor of DocumentDB + PostgreSQL, all managed via Aspire if possible.\n- DocumentDB Open-Source announcement: https://opensource.microsoft.com/blog/2025/01/23/documentdb-open-source-announcement/\n- DocumentDB github repo: https://github.com/microsoft/documentdb",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add DocumentDB support in .NET Aspire",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7370",
        "createdAt":  "2025-02-02T08:57:20Z",
        "number":  7370,
        "author":  "johnkattenhorn",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-11T19:43:37Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI\u0027m still investigating this but I thought I\u0027d post to raise awareness that if you add SEQ Aspire integration to an application configured to use NSwag, you can get a compile error from the NSwag built task after adding the client integration. \n\nNothing reported on the NSwag Issues backlog\n\n### Expected Behavior\n\nAdding Aspire.Seq to a Aspire with a ASP.NET Core WebApi and NSwag should compile without errors. \n\n### Steps To Reproduce\n\nGenerate a sample application using Jason Taylors Clean Archecture Template (https://github.com/jasontaylordev/CleanArchitecture) configured for Aspire. \n\nBuild and Run - Everything is working. \n\nAdd Aspire.Seq.Hosting to HostApp and Config Seq Host - Everything is working. \nAdd Aspire.Seq to Web Project (Api) - using builder.AddSeqEndpoint\n\nBuild throws an exception generated by NSwag\n\n### Exceptions (if any)\n\nSystem.InvalidOperationException: NSwag requires the assembly TestApp.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null to have either an BuildWebHost or CreateWebHostBuilder/CreateHostBuilder method\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.102\n Commit:            cb83cd4923\n Workload version:  9.0.100-manifests.4a54b1a6\n MSBuild version:   17.12.18+ed8c6aec5\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.102\\\n\n.NET workloads installed:\n [maccatalyst]\n   Installation Source: VS 17.12.35707.178\n   Manifest Version:    18.1.9163/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.1.9163\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: VS 17.12.35707.178\n   Manifest Version:    18.1.9163/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.1.9163\\WorkloadManifest.json\n   Install Type:              Msi\n\n [android]\n   Installation Source: VS 17.12.35707.178\n   Manifest Version:    35.0.7/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.7\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.12.35707.178\n   Manifest Version:    9.0.14/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.14\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.1\n  Architecture: x64\n  Commit:       c8acea2262\n\n.NET SDKs installed:\n  8.0.403 [C:\\Program Files\\dotnet\\sdk]\n  9.0.102 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.12 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.1 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnbXEaA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6cuFfe",
                                           "createdAt":  "2025-02-02T10:04:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "johnkattenhorn",
                                           "body":  "Quick Update: \n\nI\u0027ve pulled the source code for `Aspire.Seq` into the code base, if I comment out these lines:\n\n```\n if (!settings.DisableHealthChecks)\n {\n     if (settings.ServerUrl is not null)\n     {\n         builder.TryAddHealthCheck(new HealthCheckRegistration(\n             \"Seq\",\n             _ =\u003e new SeqHealthCheck(settings.ServerUrl),\n             failureStatus: default,\n             tags: default));\n     }\n     else\n     {\n     //    throw new InvalidOperationException(\n     //        \"Unable to add a Seq health check because the \u0027ServerUrl\u0027 setting is missing.\");\n     }\n }\n```\n\nI don\u0027t see why the assembly scanner for NSwag would object to this so I\u0027m going to log an issue over there and see what they say. \n\nDoes anyone else see why this code in Aspire.Seq would upset the NSwag build task ? ",
                                           "updatedAt":  "2025-02-02T10:04:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cuHiN",
                                           "createdAt":  "2025-02-02T10:28:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "johnkattenhorn",
                                           "body":  "OK another quick update, if I add the following to `appsettings.config` and uncomment the code then it builds ok, so I\u0027m concluding the NSWAG task is executing the code and hitting the exception:\n\nI\u0027m not keen on setting the Seq Server URL this way, it would be good to get views from others about what we should do here ? I least for now I have a workaround.\n\n```\n  \"Aspire\": {\n    \"Seq\": {\n      \"ServerUrl\": \"http://localhost:5341\"\n    }\n  }\n```",
                                           "updatedAt":  "2025-02-02T10:28:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cuY2v",
                                           "createdAt":  "2025-02-02T13:53:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEE9Xyw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "nblumhardt",
                                                                               "createdAt":  "2025-02-03T05:47:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "johnkattenhorn",
                                           "body":  "This goes deeper than SEQ, because NSwag is running the code from the builder its also trying to connect to the db (which get\u0027s it\u0027s connection string at runtime) etc. \n\nI\u0027ve looked through the NSwag documentation and I can\u0027t find anything that deals with configuration being set at runtime. I\u0027ve logged an issue over on NSwag too (https://github.com/RicoSuter/NSwag/issues/5100)",
                                           "updatedAt":  "2025-02-02T13:53:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6dtcRo",
                                           "createdAt":  "2025-02-08T20:45:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This makes sense. This is the same problem that the dotnet-ef tool runs into when you run it where a connection string is required. We go around this by deferring failures until as late as possible. If the application boots up and throws eagerly if the configuration is missing then this class of tool breaks.",
                                           "updatedAt":  "2025-02-08T20:45:25Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Add Seq client Integration into an app with NSwag breaks the app.",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7514",
        "createdAt":  "2025-02-10T19:11:27Z",
        "number":  7514,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPibgg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-02-10T21:40:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Carl-Hugo",
                                            "createdAt":  "2025-05-20T03:36:45Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AndrewBabbitt97",
                                            "createdAt":  "2025-06-02T15:06:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mafiheron",
                                            "createdAt":  "2025-06-03T06:50:56Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NapalmCodes",
                                            "createdAt":  "2025-07-18T19:11:29Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tebeco",
                                            "createdAt":  "2025-07-23T13:25:27Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MartinKode",
                                            "createdAt":  "2025-07-28T07:27:20Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "hoidenG",
                                            "createdAt":  "2025-07-29T09:42:36Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-08-28T08:10:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "junwen-shift",
                                            "createdAt":  "2025-09-10T07:21:11Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "junwen-shift",
                                            "createdAt":  "2025-09-10T07:21:13Z"
                                        }
                                    ],
                          "totalCount":  11
                      },
        "updatedAt":  "2025-09-16T08:27:49Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nThe existing resource support that we added in 9.1 allows referencing existing resources that have been provisioned in the same or a different resource group. Although it is possible to reference existing resources in Bicep in different subscriptions, we don\u0027t support this.\n\n### Describe the solution you\u0027d like\n\nExpose overloads and additional APIs that allow setting the subscription ID on an existing resource. This would consist of:\n\n- Updates to the `ExistingAzureResourceAnnotation` to reference different subscription IDs\n- Update to the manifest schema to encode the subscription ID referenced for consumption by deployment tools\n- Updates to the local Bicep provisioner to support referencing resources in different subscriptions\n- Updates to the existing extension methods and configure infrastructure calls to encode the subscription ID\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuUaohw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6u3aEX",
                                           "createdAt":  "2025-06-03T06:50:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhnS4Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "amilochau",
                                                                               "createdAt":  "2025-06-03T08:51:34Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "NapalmCodes",
                                                                               "createdAt":  "2025-07-18T19:11:44Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "MartinKode",
                                                                               "createdAt":  "2025-07-28T07:27:34Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "hoidenG",
                                                                               "createdAt":  "2025-07-29T09:40:58Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "junwen-shift",
                                                                               "createdAt":  "2025-09-10T07:21:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "mafiheron",
                                           "body":  "+1 in order for us to use aspire properly and follow recommendations set in azure cloud adoption framework of ideally separating environments in different environments(https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/landing-zone/design-area/management-application-environments#environments-subscriptions-and-management-groups) we need this functionality. \n\nAlso when using e.g. a shared  azure container registry in an organization in order to take full advantage of namespaces this is a required feature.\n\n\n",
                                           "updatedAt":  "2025-06-03T06:50:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc65RqiH",
                                           "createdAt":  "2025-07-23T13:27:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "tebeco",
                                           "body":  "Agreed, this would indeed allow for teams to be able to reproduce with specific sets of data that are present in different location / sub / teams.\n\nHaving a global static config isn\u0027t generally a good sign and is close to have a `public static string` mutable in code, never fun to deal with.",
                                           "updatedAt":  "2025-07-23T13:27:30Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Consider supporting subscription IDs in existing resource scope",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "Azure.Provisioning"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7557",
        "createdAt":  "2025-02-12T08:23:15Z",
        "number":  7557,
        "author":  "v-mengwe",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T06:12:54Z",
        "body":  "**Regression:** It is not a regression, this issue also reproduce on VS 17.13.2 with Aspire 9.0.0\n\n**Clean machine:** Win11 x64 23h2 ENU\n**VS Version:** VS 17.14.0 Preview 1.0 [35811.91.d17.14]\n**Aspire Version:** 9.1.0\nApply NuGet Feeds\n**Podman Desktop:** 1.16.1\n**Podman CLI:** 5.3.2\n\n**Repro Steps:**\n\n1. Create a .NET 9 Azure Function project with Aspire 9.1.\n2. F5 -\u003e Click the stop button to stop **container** -\u003e Click the start button to start container.\n3. Check whether succeeds to start the container without any error.\n\n**Expect:**\nSucceed to start the container without any error.\n\n**Actual:**\nSucceed to start the container with an error.\nSingleton lock renewal failed for blob \u0027vmenga1-1339047347/host\u0027 with error code 404: ContainerNotFound. The last successful renewal completed at 2025-02-12T07:56:52.235Z (18333 milliseconds ago) with a duration of 13 milliseconds. The lease period was 15000 milliseconds.\n![Image](https://github.com/user-attachments/assets/91aa3e92-460f-4b2b-8aa3-8dfbeedc9d35)\n![Image](https://github.com/user-attachments/assets/b52f948e-8f8d-4e70-93d3-4b1baaa06c6c)\n\n**More Info:**\nThis issue also **reproduces** for .NET 8 isolated Azure Function project with Aspire 9.1.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOn9PIQg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6e7y5_",
                                           "createdAt":  "2025-02-18T17:56:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "balachir",
                                           "body":  "@v-mengwe I am unable to reproduce this anymore using the latest build of Aspire 9.1. Can you re-try and let me know if this still reproduces for you?\n\ncc: @v-elenafeng ",
                                           "updatedAt":  "2025-02-18T17:56:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6fA8Xw",
                                           "createdAt":  "2025-02-19T07:52:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "amnabatr1sha",
                                           "body":  "Verified this issue on Aspire 9.1.0-preview.1.25118.11, this issue still reproduces. \n\nAzure Function 9i:\n![Image](https://github.com/user-attachments/assets/a95a325c-a494-4720-ada5-ccd93d65fb5f)\n\n![Image](https://github.com/user-attachments/assets/7eb76d04-c0eb-46cb-9bca-cac00b1d788e)\nSingleton lock renewal failed for blob \u0027vamnasha005-2004637530/host\u0027 with error code 404: ContainerNotFound. The last successful renewal completed at 0001-01-01T00:00:00Z (-2147483648 milliseconds ago) with a duration of 0 milliseconds. The lease period was 15000 milliseconds.\n\nAzure Function 8i:\n\n![Image](https://github.com/user-attachments/assets/c4fc7a04-f099-44d3-82f5-5294361d21e4)\n\n![Image](https://github.com/user-attachments/assets/7e8bd257-8dc3-44cb-acbf-6ec007daf386)\n\nSingleton lock renewal failed for blob \u0027vamnasha004-626227823/host\u0027 with error code 404: ContainerNotFound. The last successful renewal completed at 2025-02-19T07:41:25.943Z (45383 milliseconds ago) with a duration of 21 milliseconds. The lease period was 15000 milliseconds.\n\nThis issue **also reproduces** on Aspire Starter App with redis checked when cache is stopped on Aspire 9.1.0-preview.1.25118.11.\n\n![Image](https://github.com/user-attachments/assets/ec52ef7e-cf97-409f-8a73-266ba770a5e0)\n\n![Image](https://github.com/user-attachments/assets/307a4d3e-8d6e-4f76-ad1c-4a50ca81894b)\nStackExchange.Redis.RedisConnectionException: SocketClosed (ReadEndOfStream, last-recv: 0) on localhost:63134/Subscription, Idle/MarkProcessed, last: PING, origin: ReadFromPipe, outstanding: 0, last-read: 0s ago, last-write: 44s ago, keep-alive: 60s, state: ConnectedEstablished, mgr: 8 of 10 available, in: 0, in-pipe: 0, out-pipe: 0, last-heartbeat: 0s ago, last-mbeat: 0s ago, global: 0s ago, v: 2.8.16.12844",
                                           "updatedAt":  "2025-02-20T01:23:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6fsWxZ",
                                           "createdAt":  "2025-02-24T17:41:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "balachir",
                                           "body":  "@amnabatr1sha I tried again and I\u0027m still not able to reproduce your error with the function app. I\u0027ll set up a sync tomorrow and we can try to reproduce it. \n\n**Note**: For the error with Aspire starter app + redis, I can reproduce that even with Aspire 9.0 and that error is expected because the redis cache container was stopped. It\u0027s a different error than the one you get with the function app scenario.\n\ncc: @v-elenafeng ",
                                           "updatedAt":  "2025-02-24T17:41:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6f00tR",
                                           "createdAt":  "2025-02-25T10:05:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "v-elenafeng",
                                           "body":  "@balachir This can be reproduced in VS 17.13.2 and even with Aspire 9.0 when stopping and starting the **Container** in the Resources page of the dashboard.\n\n",
                                           "updatedAt":  "2025-02-25T10:05:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6f08hC",
                                           "createdAt":  "2025-02-25T10:15:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "v-elenafeng",
                                           "body":  "Not sure if this has anything to do with https://github.com/Azure/azure-webjobs-sdk/issues/3119.",
                                           "updatedAt":  "2025-02-25T10:15:59Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "[AzureTools][Aspire] Succeed to start the Azure Function container with an error",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7563",
        "createdAt":  "2025-02-12T14:45:38Z",
        "number":  7563,
        "author":  "honeyhead",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T06:13:02Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI\u0027m trying to set up a NATS cluster within Aspire.Hosting.AppHost, but I found it difficult to configure clustering properly.\n\nCurrently, I can create multiple NATS instances like this\n\n\n```\nvar nats = builder.AddNats(\"nats\", 4584).WithJetStream();\nvar nats2 = builder.AddNats(\"nats2\", 4585).WithJetStream();\nvar nats3 = builder.AddNats(\"nats3\", 4586).WithJetStream();\n\nbuilder.AddProject\u003cProjects.WebApplication1\u003e(\"webapplication1\")\n    .WithReference(nats)\n    .WithReference(nats2)\n    .WithReference(nats3);\n```\n\nHowever, setting up clustering between these instances is challenging. I would need to configure nats-server.conf manually or set up clustering via custom configuration, which is not straightforward.\n\n### Describe the solution you\u0027d like\n\nIt would be great if Aspire.Hosting.AppHost could provide an easy way to set up NATS clustering through a built-in method, such as:\n\n`\nbuilder.AddNatsCluster(\"nats-cluster\", new[] {\n    (\"nats\", 4584),\n    (\"nats2\", 4585),\n    (\"nats3\", 4586)\n}).WithJetStream();\n`\n\nThis might not work as expected since Aspire doesn’t work like this.\nHowever, I would love to see a way to configure a NATS cluster similar to how WithJetStream() is provided.\n\nIdeally, nats, nats2, and nats3 should be internally connected or be able to establish network connections with external NATS instances.\n\nI know that the NATS client can be configured using JSON, but I\u0027m not very familiar with how this works in hosting scenarios.\n\nOne possible approach might be to create a nats-server.conf file within AppHost and mount it, but this seems too complex for me.\n\nIf adding this feature is too difficult, could you guide me on how to achieve this manually?\n\nThanks in advance! 🚀\n\n### Additional context\n\nNATS is actually well known compared to other technologies, but it works well with aspire compared to the scalability that is limited to SignalR. I\u0027d like to have easier clusters, leaf nodes, and superclusters.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnvk3Jw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6e-Tcn",
                                           "createdAt":  "2025-02-18T23:12:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEGz8Vw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "honeyhead",
                                                                               "createdAt":  "2025-02-19T00:55:14Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "This is a good question for anything that could be clustered (Redis, PostgresQL, MongoDB, ...)\n",
                                           "updatedAt":  "2025-02-18T23:12:41Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Support for NATS Cluster Configuration in Aspire.Hosting.AppHost",
        "labels":  [
                       "area-integrations",
                       "nats"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7620",
        "createdAt":  "2025-02-14T20:16:22Z",
        "number":  7620,
        "author":  "danspark",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDUYtQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cecilphillip",
                                            "createdAt":  "2025-06-05T13:55:42Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-02-19T01:36:29Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to set a default vhost by setting the `RABBITMQ_DEFAULT_VHOST` environment variable, but the resource\u0027s current implementation is not able to understand that when checking its health.\n\n### Describe the solution you\u0027d like\n\nAllow setting the default vhost when defining a RabbitMQ resource, the same way the username and password can be set when calling `RabbitMQBuilderExtensions.AddRabbitMQ`:\n```csharp\n// before: health check will fail\nbuilder.AddRabbitMQ(\"rabbitmq\")\n    .WithEnvironment(\"RABBITMQ_DEFAULT_VHOST\", \"custom-vhost\");\n\n// after\nbuilder.AddRabbitMQ(\"rabbitmq\", defaultVHost: \"custom-vhost\");\n```\n\nI tried to come up with a pull request but had trouble building it in Linux (`Interop+Crypto+OpenSslCryptographicException`). I\u0027ll try again when I\u0027m using Windows.\n\nI think the `RabbitMQServerResource` could be changed to expose a `DefaultVirtualHost` property, so that it can be used in the connection string and consequently be picked up by the health check added in `RabbitMQBuilderExtensions.AddRabbitMQ`\n\n```csharp\npublic class RabbitMQServerResource : ContainerResource, IResourceWithConnectionString, IResourceWithEnvironment\n{\n    // . . . ommitted\n\n    /// \u003csummary\u003e\n    /// Gets the parameter that contains the RabbitMQ default virtual host.\n    /// \u003c/summary\u003e\n    public ParameterResource? DefaultVirtualHost { get; }\n\n    internal ReferenceExpression DefaultVirtualHostReference =\u003e\n        DefaultVirtualHost is not null ?\n            ReferenceExpression.Create($\"/{DefaultVirtualHost}\") :\n            ReferenceExpression.Create($\"\");\n\n    /// \u003csummary\u003e\n    /// Gets the connection string expression for the RabbitMQ server.\n    /// \u003c/summary\u003e\n    public ReferenceExpression ConnectionStringExpression =\u003e\n        ReferenceExpression.Create(\n            $\"amqp://{UserNameReference}:{PasswordParameter}@{PrimaryEndpoint.Property(EndpointProperty.Host)}:{PrimaryEndpoint.Property(EndpointProperty.Port)}{DefaultVirtualHostReference}\");\n}\n```\n\n### Additional context\n\n[Repro sample](https://github.com/danspark/aspire-rabbitmq-default-vhost-repro/blob/main/Aspire.RabbitMqDefaultVhost.AppHost/Program.cs): health check will fail because it tries to connect to vhost `/`",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnvvYyw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ekIOQ",
                                           "createdAt":  "2025-02-14T21:07:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danspark",
                                           "body":  "If `ConnectionStringRedirectAnnotation` was implemented for the resource, it would minimize this issue.",
                                           "updatedAt":  "2025-02-14T21:07:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e-Nie",
                                           "createdAt":  "2025-02-18T22:55:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "We\u0027ll need to understand if this notion of vhost needs to be defined as a custom vhost. One reason could be that the client API allows to set the vhost on the connection string for instance. And maybe allow for vhost seeding from the App Host.",
                                           "updatedAt":  "2025-02-18T22:55:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e-9jL",
                                           "createdAt":  "2025-02-19T01:36:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danspark",
                                           "body":  "Should this resource support `ConnectionStringRedirectAnnotation`? It would allow me to fix the health check by adding this annotation when I set the `RABBITMQ_DEFAULT_VHOST` environment variable.",
                                           "updatedAt":  "2025-02-19T01:36:28Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "[RabbitMQ Hosting] Allow setting a default vhost",
        "labels":  [
                       "area-integrations",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7655",
        "createdAt":  "2025-02-18T12:53:36Z",
        "number":  7655,
        "author":  "danspark",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-21T05:20:43Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nCurrently, the user ID for the connection string is hard-coded as `sa`, it would be useful if we could pass a user instead. For me, it would be useful because I can run tests as my production user, instead of `sa`.\n\nhttps://github.com/dotnet/aspire/blob/acdf5012407c2ab0259f4b6f075acb6c668949f3/src/Aspire.Hosting.SqlServer/SqlServerServerResource.cs#L36-L38\n\n### Describe the solution you\u0027d like\n\nAllow passing the user ID as a parameter, either in the `SqlServerServerResource` or the `SqlServerDatabaseResource`. As a workaround, I created a resource with parent, but I had to copy the connection string code:\n\n```csharp\npublic class DatabaseUser(\n    string name,\n    SqlServerDatabaseResource parent,\n    string userName,\n    IResourceBuilder\u003cParameterResource\u003e password) : Resource(name), IResourceWithParent\u003cSqlServerDatabaseResource\u003e, IResourceWithConnectionString\n{\n    public SqlServerDatabaseResource Parent { get; } = parent;\n\n    private ReferenceExpression ConnectionString =\u003e\n        ReferenceExpression.Create(\n            $\"Server={Parent.Parent.PrimaryEndpoint.Property(EndpointProperty.IPV4Host)},{Parent.Parent.PrimaryEndpoint.Property(EndpointProperty.Port)};User ID={userName};Password={password.Resource};TrustServerCertificate=true;Database={Parent.DatabaseName};\");\n\n    /// \u003csummary\u003e\n    /// Gets the connection string expression for the SQL Server.\n    /// \u003c/summary\u003e\n    public ReferenceExpression ConnectionStringExpression\n    {\n        get\n        {\n            if (this.TryGetLastAnnotation\u003cConnectionStringRedirectAnnotation\u003e(out var connectionStringAnnotation))\n            {\n                return connectionStringAnnotation.Resource.ConnectionStringExpression;\n            }\n\n            return ConnectionString;\n        }\n    }\n\n    public ValueTask\u003cstring?\u003e GetConnectionStringAsync(CancellationToken cancellationToken = default)\n    {\n        if (this.TryGetLastAnnotation\u003cConnectionStringRedirectAnnotation\u003e(out var connectionStringAnnotation))\n        {\n            return connectionStringAnnotation.Resource.GetConnectionStringAsync(cancellationToken);\n        }\n\n        return ConnectionString.GetValueAsync(cancellationToken);\n    }\n}\n```\n\n### Additional context\n\nThis is useful for end-to-end tests where you want the environment to be as close to production as possible, so using the `sa` user can make you miss GRANT issues.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnvu4UQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6e6KK7",
                                           "createdAt":  "2025-02-18T15:26:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "The SQL Server docker container only lets us specify the SA password via an environment variable\n\nhttps://learn.microsoft.com/sql/linux/sql-server-linux-configure-environment-variables\n\nThere is no way to specify a different user name with password.\n\nHow are you getting a different user injected into your database? If you are using a different user, what you have above for code makes sense. There could be some slight public API addition to make less code for a dev to write. But I don\u0027t imagine the `SqlServerServerResource` allowing to specify a user name unless the underlying SQL Server container supported it.",
                                           "updatedAt":  "2025-02-18T15:26:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e6NYd",
                                           "createdAt":  "2025-02-18T15:30:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danspark",
                                           "body":  "In my usecase I have a custom SQL Server image that contains the whole schema, users included. I override the default image by calling `.WithImage(imageName, imageTag).WithImageRegistry(imageRegistry)`. I understand not supporting specifying a user, but maybe making things more flexible? I also had a usecase where I wanted a different default rabbitmq vhost (#7620) but couldn\u0027t achieve it.",
                                           "updatedAt":  "2025-02-18T15:43:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e6VfQ",
                                           "createdAt":  "2025-02-18T15:41:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danspark",
                                           "body":  "I don\u0027t know how it works under the hood, but the SQL Server connection string replaces the `Server` property in the connection string (that usually points to `localhost`) with the container name so it works when other containers call it. If the `user ID` was a parameter, would I be able to do the same?",
                                           "updatedAt":  "2025-02-18T15:42:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e7MXS",
                                           "createdAt":  "2025-02-18T17:03:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e but maybe making things more flexible?\n\nWhat are your thoughts on how it could be more flexible? It looks like you are able to do what you want above - build a connection string with a user name in it.\n\n\u003e If the user ID was a parameter, would I be able to do the same?\n\nif it was a parameter, it would look just like \"password\" does above.",
                                           "updatedAt":  "2025-02-18T17:03:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e-KyY",
                                           "createdAt":  "2025-02-18T22:49:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Did you notice that the connection string can be replaced by providing a `ConnectionStringRedirectAnnotation` instance? It\u0027s also part of the code you copied.",
                                           "updatedAt":  "2025-02-18T22:49:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e-7hR",
                                           "createdAt":  "2025-02-19T01:28:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danspark",
                                           "body":  "@sebastienros yes, but I guess it felt weird to have to copy the connection string code, since I can\u0027t replace the server\u0027s user id defined in the connection string. Honestly, now that I\u0027m thinking about it, creating a user as a `IResourceWithParent` is not bad at all.\n\nFeel free to close this issue if this is not something that makes sense in the SqlServer resource. Thanks for the help!",
                                           "updatedAt":  "2025-02-19T01:28:44Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "[Aspire.Hosting.SqlServer] Allow specifying a user in the connection string",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7750",
        "createdAt":  "2025-02-24T08:33:34Z",
        "number":  7750,
        "author":  "E1adi",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-12T18:39:49Z",
        "body":  "## Background and Motivation\n\nWhile playing with Aspire, I encountered a situation where I needed multiple Kafka consumers each with a different `groupId` but I needed them all to connect to the same cluster and subscribe to the same topic.\nFor that, I used the `AddKeyedKafkaConsumer` extension. The problem I experienced was that the service key was also used as the connection name thus failing to connect to the cluster defined in the AppHost.\n\n## Proposed API\n\n```diff\n-     public static void AddKeyedKafkaConsumer\u003cTKey, TValue\u003e(this IHostApplicationBuilder builder, string name)\n+     public static void AddKeyedKafkaConsumer\u003cTKey, TValue\u003e(this IHostApplicationBuilder builder, string serviceKey, string connectionName)\n```\n\n## Usage Example\n### Current API with a workaround - Using another override but with the same idea\n```csharp\n    builder.AddKeyedKafkaConsumer\u003cstring, string\u003e(\"serviceA\", (KafkaConsumerSettings settings) =\u003e\n    {\n        options.ConnectionString = conf.GetConnectionString(connectionName);\n    });\n```\n\n### Usage of proposed API\n```csharp\n    builder.AddKeyedKafkaConsumer\u003cstring, string\u003e(\"serviceA\", connectionName);\n```\n\n## Alternative Designs\n\n```csharp\n    public static void AddKeyedKafkaConsumer\u003cTKey, TValue\u003e(this IHostApplicationBuilder builder, string serviceKey, string connectionName)\n    {\n        ArgumentException.ThrowIfNullOrEmpty(name);\n        AddKafkaConsumerInternal\u003cTKey, TValue\u003e(builder, null, null, connectionName: connectionName, serviceKey: serviceKey);\n    }\n```\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOog1WEQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDVYR",
                                           "createdAt":  "2025-03-12T18:39:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Related to https://github.com/dotnet/aspire/pull/4407",
                                           "updatedAt":  "2025-03-12T18:39:48Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "AddKeyedKafkaConsumer/Producer: have separate argument for name (serviceKey) and connection name",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7793",
        "createdAt":  "2025-02-26T20:39:10Z",
        "number":  7793,
        "author":  "dluc",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-27T18:22:38Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen combining `WithDataVolume` and `WithDataBindMount` the docker image fails to start.\n\n## works\n\n```\nbuilder.AddRedis(\"redis\").WithDataBindMount(\"/tmp/redis\");\n```\n\n## works\n\n```\nbuilder.AddRedis(\"redis\").WithDataVolume();\n```\n\n## fails\n\n```\nbuilder.AddRedis(\"redis\").WithDataVolume().WithDataBindMount(\"/tmp/redis\");\n```\n\nAfter `dotnet run`:\n\n\u003e fail: Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler[0]\n      could not create the container\t{\"Container\": {\"name\":\"redis-xubzakyt\"}, \"Reconciliation\": 3, \"error\": \"object not found\\ncontainer not found\\ndocker command \u0027CreateContainer\u0027 returned with non-zero exit code 1: command output: Stdout: \u0027\u0027 Stderr: \u0027\u0027\"}\n\nVerified also with Qdrant extension.\n\nMight be related to https://github.com/dotnet/aspire/issues/5378\n\n### Expected Behavior\n\nIf `WithDataVolume` and  `WithDataBindMount` are not supposed to work together, the app host should throw an exception at start.\n\n### Steps To Reproduce\n\n```\ndotnet new create aspire-starter\n\ncd test.AppHost\n\ndotnet add package Aspire.Hosting.Redis\ndotnet add package Aspire.Hosting.Qdrant\n```\n\nUpdate to 9.1 (the template is still on 9.0)\n\nedit AppHost/Program.cs code:\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar apiService = builder.AddProject\u003cProjects.test_ApiService\u003e(\"apiservice\");\n\nbuilder.AddProject\u003cProjects.test_Web\u003e(\"webfrontend\")\n    .WithExternalHttpEndpoints()\n    .WithReference(apiService)\n    .WaitFor(apiService);\n\nbuilder.AddRedis(\"redis\")\n        .WithDataVolume()\n        .WithDataBindMount(\"/tmp/redis\");\n\nbuilder.Build().Run();\n```\n\ncsproj:\n\n```xml\n\u003cProject Sdk=\"Microsoft.NET.Sdk\"\u003e\n\n  \u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.0.0\" /\u003e\n\n  \u003cPropertyGroup\u003e\n    \u003cOutputType\u003eExe\u003c/OutputType\u003e\n    \u003cTargetFramework\u003enet9.0\u003c/TargetFramework\u003e\n    \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n    \u003cNullable\u003eenable\u003c/Nullable\u003e\n    \u003cIsAspireHost\u003etrue\u003c/IsAspireHost\u003e\n    \u003cUserSecretsId\u003e458c338e-0554-4812-a61a-d2c565e9f9b4\u003c/UserSecretsId\u003e\n  \u003c/PropertyGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cProjectReference Include=\"..\\test.ApiService\\test.ApiService.csproj\" /\u003e\n    \u003cProjectReference Include=\"..\\test.Web\\test.Web.csproj\" /\u003e\n  \u003c/ItemGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.1.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Qdrant\" Version=\"9.1.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Redis\" Version=\"9.1.0\" /\u003e\n  \u003c/ItemGroup\u003e\n\n\u003c/Project\u003e\n```\n\n### Exceptions (if any)\n\nError in the logs:\n\n\u003e fail: Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler[0]\n\u003e      could not create the container\t{\"Container\": {\"name\":\"redis-xgmwqqpg\"}, \"Reconciliation\": 3, \"error\": \"object not found\\ncontainer not \u003e found\\ndocker command \u0027CreateContainer\u0027 returned with non-zero exit code 1: command output: Stdout: \u0027\u0027 Stderr: \u0027\u0027\"}\n\n### .NET Version info\n\n## .NET SDK:\n Version:           9.0.200\n Commit:            90e8b202f2\n Workload version:  9.0.200-manifests.9bf19d2d\n MSBuild version:   17.13.8+cbc39bea8\n\nRuntime Environment:\n OS Name:     Mac OS X\n OS Version:  15.3\n OS Platform: Darwin\n RID:         osx-arm64\n Base Path:   /usr/local/share/dotnet/sdk/9.0.200/\n\n## Docker\nClient:\n Version:           27.5.1\n API version:       1.47\n Go version:        go1.22.11\n Git commit:        9f9e405\n Built:             Wed Jan 22 13:37:19 2025\n OS/Arch:           darwin/arm64\n Context:           desktop-linux\n\nServer: Docker Desktop 4.38.0 (181591)\n Engine:\n  Version:          27.5.1\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpHOVTQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6gHnmV",
                                           "createdAt":  "2025-02-26T22:28:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e builder.AddRedis(\"redis\").WithDataVolume().WithDataBindMount(\"/tmp/redis\");\n\nWhat is the goal of this? Or is the point to show that it doesn\u0027t work? What did you expect this to do?",
                                           "updatedAt":  "2025-02-26T22:28:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gH_-0",
                                           "createdAt":  "2025-02-26T23:40:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dluc",
                                           "body":  "I doubt one would write `.WithDataVolume().WithDataBindMount()` :-) but having multiple functions around to configure dependencies, it can happen. Within the same project, I\u0027m using Aspire as a framework to compose several services, which I don\u0027t own/know upfront. There are multiple functions composing and configuring the ultimate list of resources, with functions that act on them, tweaking the configuration. For instance, one function was adding volumes, another was adding persistence differently, using bind mount, and I hit this scenario. Took me a while to figure out why the container wouldn\u0027t start.",
                                           "updatedAt":  "2025-02-26T23:40:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gIc6_",
                                           "createdAt":  "2025-02-27T01:21:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "So, we need to decide what to do in cases like this. We could say \"you called two methods that map to behaviors that don\u0027t work together, don\u0027t do that\". Or, we could decide we want a higher-level experience here whereby the methods \"know\" about each other and ensure this state can\u0027t be gotten into, either by throwing when detected, or by having a last-one-wins kind of implementation.",
                                           "updatedAt":  "2025-02-27T01:21:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gMALc",
                                           "createdAt":  "2025-02-27T10:16:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I don\u0027t think we should go out of our way to do anything here unless this becomes a real problem reported by many customers. As much as I want to make sure people get good errors, we need to prioritize the ones that are more common.",
                                           "updatedAt":  "2025-02-27T10:16:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ie0L7",
                                           "createdAt":  "2025-03-14T23:17:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dluc",
                                           "body":  "If the two methods cannot technically work together (tbh I don\u0027t know about all scenarios), an exception seems better than overriding. A comment in the API might be a good start to mitigate headaches too :-)",
                                           "updatedAt":  "2025-03-14T23:17:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ie1uc",
                                           "createdAt":  "2025-03-14T23:22:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I agree this sentiment in general, I still want to know if this was just a mistake or if you were trying to accomplish something",
                                           "updatedAt":  "2025-03-14T23:22:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kc5VN",
                                           "createdAt":  "2025-03-27T18:22:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dluc",
                                           "body":  "The intent was to keep all local data in one place. Seeing two extension methods, I assumed they configured two different data sets, rather than providing two mutually exclusive approaches. It’s not a major issue - just a bit confusing and potentially time-consuming.",
                                           "updatedAt":  "2025-03-27T18:22:37Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Docker image doesn\u0027t start when using WithDataVolume + WithDataBindMount",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7813",
        "createdAt":  "2025-02-27T17:34:39Z",
        "number":  7813,
        "author":  "KSemenenko",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-15T13:40:15Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nThis is about autogenerated names for Azure Container Apps or other type of resouress.\nI want to make public addresses - stable.\n\nhttps://learn.microsoft.com/en-us/azure/traffic-manager/quickstart-create-traffic-manager-profile-bicep?tabs=CLI\n\n### Describe the solution you\u0027d like\n\nAfter creates resourses lieke container apps, we can point AzureTRaffic manager to this resource, and then in domain name we can add CNAME reecord to Trafic Manager Profile wich will point us to acutal pod.\n\nthen we will have stable url address, and it will be more easy to reacreate infra widouth any dns issues.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOooQOMg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDYEY",
                                           "createdAt":  "2025-03-12T18:44:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@mitchdenny any mitigation you\u0027d have in mind to create a traffic manager without specific resource?",
                                           "updatedAt":  "2025-03-12T18:44:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDYoA",
                                           "createdAt":  "2025-03-12T18:45:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Here is some doc on creating custom domains for ACA as an alternative https://learn.microsoft.com/en-us/dotnet/aspire/whats-new/dotnet-aspire-9.1#-azure-container-apps",
                                           "updatedAt":  "2025-03-12T18:45:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDhaf",
                                           "createdAt":  "2025-03-12T18:58:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "But anyway, while you deploy infra your app can be unavailable, and it means we can’t have 0 down time ",
                                           "updatedAt":  "2025-03-12T18:58:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iUOTr",
                                           "createdAt":  "2025-03-14T02:43:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "We don\u0027t have a traffic manager resource at the moment so I\u0027m not quite sure what work would be involved modelling it. I think that there are probably two challenges to overcome.\n\n1. Getting the external endpoint FQDN from the container app and feeding it into the Bicep generation for the traffic manager instance.\n2. Mapping a domain name to the traffic manager instance.\n\nThe issue with the way we deploy to ACA today via AZD is that we don\u0027t know the container app name until after the `azd deploy` operation is performed which is AFTER the other Azure resources are deployed (which any hypothetical Traffic Manager would be).\n\nWith some of the rework we are doing with the generation of supporting resources (moving them in the app model) we may get to a point where we provision the container apps along with all the other resources because the container images have all been pre-staged in an container registry somewhere - at which point the container apps aren\u0027t special in terms of the way that you could reference Bicep outputs.\n\nThis is a problem we should keep in mind @davidfowl when it comes to the overall approach to staging container artifacts as part of deployment in the new model.\n\nDomain names will continue to be a nightmare. Most folks register their domains with their domain provider - so automation around traffic profiles could be challenging. The best we can probably do (assuming we create a traffic manager resource in the future) is probably something like we did with ACA where we have `ConfigureCustomDomains` extension method.\n\nTBH, my advice right now would be to put the traffic manager deployment outside of the Aspire deployment and reference some of the output values from the Aspire deployment such as the FQDN of the container apps.\n\nThis might be a better approach anyway since the reason folks use traffic manager is to allow multi-geo deployments.\n\nP.S. I think ACA uses traffic manager already under the covers since one of the DNS configs you an setup is for a `*.trafficmanager.net` endpoint.",
                                           "updatedAt":  "2025-03-14T02:43:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iUPRM",
                                           "createdAt":  "2025-03-14T02:46:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "\u003e But anyway, while you deploy infra your app can be unavailable, and it means we can’t have 0 down time\n\nUnder the covers ACA will automatically switch out your old container app for your new container app. I haven\u0027t noticed any downtime whilst doing these switches.\n\nACA uses Kubernetes under the covers and its quite good at this kind of switch over in my experience.",
                                           "updatedAt":  "2025-03-14T02:46:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ihA4y",
                                           "createdAt":  "2025-03-15T13:39:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "for AKS it will be nice feacrure, so we can take aks ip address to endpoint for traffic managed, it means when we will create new aks we need just update new ip on traffic manager and this is all, no need to do anyghing else wiht DNS",
                                           "updatedAt":  "2025-03-15T13:40:14Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Azure Traffic Manager",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7828",
        "createdAt":  "2025-02-28T13:10:24Z",
        "number":  7828,
        "author":  "VistianOpenSource",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-12T18:54:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIntroduction of the \u0027standard\u0027 sample durable function code (SayHello , which calls activities to say hello for Tokyo , London and Seattle) works fine locally with either a AzureStorage provided as the HostStorage OR with an environment variable for AzureWebJobStorage being provided (which references an existing Azure storage container).\n\nHowever, when deployed using the inbuilt deploy option within Visual Studio, neither the solution which references the AzureStorage or the existing storage via the environment variable works.\n\nWith the environment variable, the azure functions project does startup when deployed, and non durable functions can be successfully invoked, but upon first invocation of a http endpoint which is used to instigate a durable orchestration, one gets an exception.\n\n\n\n### Expected Behavior\n\nTo function as it does when executed locally.\n\n### Steps To Reproduce\n\nTake an existing minimal functional Aspire Azure Functions project.\n\nAdd the existing sample durable SayHello function code to it.\n\n```\nusing Microsoft.Azure.Functions.Worker;\nusing Microsoft.Azure.Functions.Worker.Http;\nusing Microsoft.DurableTask;\nusing Microsoft.DurableTask.Client;\nusing Microsoft.Extensions.Logging;\n\nnamespace FunctionApp2\n{\n    public static class Function\n    {\n        [Function(nameof(Function))]\n        public static async Task\u003cList\u003cstring\u003e\u003e RunOrchestrator(\n            [OrchestrationTrigger] TaskOrchestrationContext context)\n        {\n            ILogger logger = context.CreateReplaySafeLogger(nameof(Function));\n            logger.LogInformation(\"Saying hello.\");\n            var outputs = new List\u003cstring\u003e();\n\n            // Replace name and input with values relevant for your Durable Functions Activity\n            outputs.Add(await context.CallActivityAsync\u003cstring\u003e(nameof(SayHello), \"Tokyo\"));\n            outputs.Add(await context.CallActivityAsync\u003cstring\u003e(nameof(SayHello), \"Seattle\"));\n            outputs.Add(await context.CallActivityAsync\u003cstring\u003e(nameof(SayHello), \"London\"));\n\n            // returns [\"Hello Tokyo!\", \"Hello Seattle!\", \"Hello London!\"]\n            return outputs;\n        }\n\n        [Function(nameof(SayHello))]\n        public static string SayHello([ActivityTrigger] string name, FunctionContext executionContext)\n        {\n            ILogger logger = executionContext.GetLogger(\"SayHello\");\n            logger.LogInformation(\"Saying hello to {name}.\", name);\n            return $\"Hello {name}!\";\n        }\n\n        [Function(\"Function_HttpStart\")]\n        public static async Task\u003cHttpResponseData\u003e HttpStart(\n            [HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequestData req,\n            [DurableClient] DurableTaskClient client,\n            FunctionContext executionContext)\n        {\n            ILogger logger = executionContext.GetLogger(\"Function_HttpStart\");\n\n            // Function input comes from the request content.\n            string instanceId = await client.ScheduleNewOrchestrationInstanceAsync(\n                nameof(Function));\n\n            logger.LogInformation(\"Started orchestration with ID = \u0027{instanceId}\u0027.\", instanceId);\n\n            // Returns an HTTP 202 response with an instance management payload.\n            // See https://learn.microsoft.com/azure/azure-functions/durable/durable-functions-http-api#start-orchestration\n            return await client.CreateCheckStatusResponseAsync(req, instanceId);\n        }\n    }\n}\n```\nAdd a call to \n\n`builder.ConfigureDurableExtension();`\n\nPublish aspire solution, and attempt to invoke the function api/Function_HttpStart \n\nObserve contents of log.\n\n### Exceptions (if any)\n\nWhen just running with the added azure storage this exception is seen\n\n2025-02-28T10:24:30 stdout F WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.\n12025-02-28T10:24:31 stdout F info: Host.Triggers.DurableTask[0]\n22025-02-28T10:24:31 stdout F Using the default storage provider: AzureStorage.\n32025-02-28T10:24:31 stdout F fail: Host.Startup[515]\n42025-02-28T10:24:31 stdout F A host error has occurred during startup operation \u00277dd46ca3-8a42-4f64-aaee-41927109e533\u0027.\n52025-02-28T10:24:31 stdout F System.InvalidOperationException: Unable to find matching constructor while trying to create an instance of TableServiceClient.\n62025-02-28T10:24:31 stdout F Expected one of the follow sets of configuration parameters:\n72025-02-28T10:24:31 stdout F 1. endpoint\n82025-02-28T10:24:31 stdout F 2. endpoint, credential:signature\n92025-02-28T10:24:31 stdout F 3. endpoint, credential:accountName, credential:accountKey\n102025-02-28T10:24:31 stdout F 4. connectionString\n112025-02-28T10:24:31 stdout F 5. endpoint\n122025-02-28T10:24:31 stdout F\n132025-02-28T10:24:31 stdout F Found the following configuration keys: queueServiceUri, blobServiceUri\n142025-02-28T10:24:31 stdout F at Microsoft.Extensions.Azure.ClientFactory.CreateClient(Type clientType, Type optionsType, Object options, IConfiguration configuration, TokenCredential credential)\n152025-02-28T10:24:31 stdout F at Microsoft.Azure.WebJobs.Extensions.DurableTask.Storage.StorageServiceClientProvider`3.CreateClient(TClientOptions options) in /_/src/WebJobs.Extensions.DurableTask/Storage/StorageServiceClientProvider.cs:line 50\n\n\nWhen ran with an environment variable for the storage specified (and also now specified in the hosts.json file in the extensions section) , one gets this :\n\n2025-02-28T10:45:19 stdout F info: Host.General[337]\n2282025-02-28T10:45:19 stdout F Host lock lease acquired by instance ID \u002700000000000000000000000073B4F8B5\u0027.\n2292025-02-28T10:47:14 stdout F info: Function.Function_HttpStart[1]\n2302025-02-28T10:47:14 stdout F Executing \u0027Functions.Function_HttpStart\u0027 (Reason=\u0027This function was programmatically called via the host APIs.\u0027, Id=e15a30be-1822-4dc4-ac04-3550aec1f917)\n2312025-02-28T10:47:14 stdout F fail: Function.Function_HttpStart[3]\n2322025-02-28T10:47:14 stdout F Executed \u0027Functions.Function_HttpStart\u0027 (Failed, Id=e15a30be-1822-4dc4-ac04-3550aec1f917, Duration=39ms)\n2332025-02-28T10:47:14 stdout F Microsoft.Azure.WebJobs.Host.FunctionInvocationException: Exception while executing function: Functions.Function_HttpStart\n2342025-02-28T10:47:14 stdout F ---\u003e System.InvalidOperationException: Webhooks are not configured. This may occur if the environment variable `WEBSITE_HOSTNAME` is not set (should be automatically set for Azure Functions). Try setting it to the appropiate URI to reach your app. For example: the DNS name of the app, or a value of the form \u003cip-address\u003e:\u003cport\u003e.\n2352025-02-28T10:47:14 stdout F at Microsoft.Azure.WebJobs.Extensions.DurableTask.HttpApiHandler.GetWebhookUri() in /_/src/WebJobs.Extensions.DurableTask/HttpApiHandler.cs:line 1246\n2362025-02-28T10:47:14 stdout F at Microsoft.Azure.WebJobs.Extensions.DurableTask.HttpApiHandler.GetUniversalQueryStrings() in /_/src/WebJobs.Extensions.DurableTask/HttpApiHandler.cs:line 1141\n2372025-02-28T10:47:14 stdout F at Microsoft.Azure.WebJobs.Extensions.DurableTask.BindingHelper.DurableOrchestrationClientToString(IDurableOrchestrationClient client, DurableClientAttribute at\n\nIf i specify an environment variable for WEBSITE_HOSTNAME which is that for the functions container, I get this exception\n\nWEBSITES_INCLUDE_CLOUD_CERTS is not set to true.\n12025-02-28T11:09:23 stdout F info: Host.Triggers.DurableTask[0]\n22025-02-28T11:09:23 stdout F Using the default storage provider: AzureStorage.\n32025-02-28T11:09:24 stdout F info: Host.Triggers.Warmup[0]\n42025-02-28T11:09:24 stdout F Initializing Warmup Extension.\n52025-02-28T11:09:24 stdout F fail: Host.Startup[515]\n62025-02-28T11:09:24 stdout F A host error has occurred during startup operation \u0027a03fd3a3-7d9d-4251-b6fb-5b56451aac1e\u0027.\n72025-02-28T11:09:24 stdout F System.UnauthorizedAccessException: Access to the path \u0027/azure-functions-host/Secrets\u0027 is denied.\n82025-02-28T11:09:24 stdout F ---\u003e System.IO.IOException: Permission denied\n92025-02-28T11:09:24 stdout F --- End of inner exception stack trace ---\n102025-02-28T11:09:24 stdout F at System.IO.FileSystem.CreateParentsAndDirectory(String fullPath, UnixFileMode unixCreateMode)\n112025-02-28T11:09:24 stdout F at System.IO.FileSystem.CreateDirectory(String fullPath, UnixFileMode unixCreateMode)\n122025-02-28T11:09:24 stdout F at System.IO.Directory.CreateDirectory(String path)\n132025-02-28T11:09:24 stdout F at System.IO.Abstractions.DirectoryWrapper.CreateDirectory(String path)\n142025-02-28T11:09:24 stdout F at Microsoft.Azure.WebJobs.Script.FileUtility.EnsureDirectoryExists(String path) in /src/azure-functions-host/src/WebJobs.Script/Extensions/FileUtility.cs:line 40\n152025-02-28T11:09:24 stdout F at Microsoft.Azure.WebJobs.Script.WebHost.BaseSecretsRepository.InitializeSentinelDirectoryAndWatcher() in /src/azure-functions-host/src/WebJobs.Script.WebHost/Security/KeyManagement/BaseSecretsRepository.cs:line 113\n162025-02-28T11:09:24 stdout F at Microsoft.Azure.WebJobs.Script.WebHost.BaseSecretsRepository..ctor(String secretsSentinelFilePath, ILogger logger, IEnvironment environment) in /src/azure-functions-host/src/WebJobs.Script.WebHost/Security/KeyManagement/BaseSecretsRepository.cs:line 38\n172025-02-28T11:09:24 stdout F at Microsoft.Azure.WebJobs.Script.WebHost.BlobStorageSecretsRepository..ctor(String secretSentinelDirectoryPath, String accountConnection, String siteSlotName, ILogger logger, IEnvironment environment, IAzureBlobStorageProvider azureBlobStorageProvider) \n\n\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.200\n Commit:            90e8b202f2\n Workload version:  9.0.200-manifests.69179adf\n MSBuild version:   17.13.8+cbc39bea8\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.200\\\n\n.NET workloads installed:\n [aspire]\n   Installation Source: VS 17.13.35818.85\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.2\n  Architecture: x64\n  Commit:       80aa709f5d\n\n.NET SDKs installed:\n  9.0.200 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n\n### Anything else?\n\nVisual Studio: 17.13.1\nTargeting : net8.0\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOoYhrEQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6gYnA8",
                                           "createdAt":  "2025-02-28T14:38:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Where is the apphost code?",
                                           "updatedAt":  "2025-02-28T14:38:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gYp6B",
                                           "createdAt":  "2025-02-28T14:43:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "\u003e Where is the apphost code?\n\nApologies\n\n```using Aspire.Hosting;\nusing Microsoft.Extensions.Hosting;\nusing static System.Net.WebRequestMethods;\n\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar storage = builder.AddAzureStorage(\"storage\")\n                     .RunAsEmulator(c =\u003e c.WithLifetime(ContainerLifetime.Persistent)) ;\n\nbuilder.AddAzureFunctionsProject\u003cProjects.FunctionApp2\u003e(\"function-csharp-app\").\n    WithHostStorage(storage).\n    WithExternalHttpEndpoints();\n\n\nbuilder.AddAzureFunctionsProject\u003cProjects.FunctionAppFSharp\u003e(\"function-fsharp-app\").\n    WithEnvironment(\"AzureWebJobsStorage\", \"DefaultEndpointsProtocol=https;AccountName=durablefunctions2025;AccountKey=***REMOVED***;EndpointSuffix=core.windows.net\").\n    WithEnvironment(\"WEBSITE_HOSTNAME\", \"function-fsharp-app.redgrass-3f98d8ed.ukwest.azurecontainerapps.io\").\n    WithExternalHttpEndpoints();\n\n\nbuilder.Build().Run();\n```",
                                           "updatedAt":  "2025-02-28T14:43:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gZBZE",
                                           "createdAt":  "2025-02-28T15:20:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I would remove these customizations and stick to the happy path.\n\n```\n    WithEnvironment(\"AzureWebJobsStorage\", \"DefaultEndpointsProtocol=https;AccountName=durablefunctions2025;AccountKey=***REMOVED***;EndpointSuffix=core.windows.net\").\n    WithEnvironment(\"WEBSITE_HOSTNAME\", \"function-fsharp-app.redgrass-3f98d8ed.ukwest.azurecontainerapps.io\").\n```\n\nThen we can look at the errors and figure out what is the real issue. \n\nI believe @captainsafia was looking at durable functions earlier this month.",
                                           "updatedAt":  "2025-02-28T15:20:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gZPQS",
                                           "createdAt":  "2025-02-28T15:40:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "\u003e I would remove these customizations and stick to the happy path.\n\u003e \n\u003e ```\n\u003e     WithEnvironment(\"AzureWebJobsStorage\", \"DefaultEndpointsProtocol=https;AccountName=durablefunctions2025;AccountKey=***REMOVED***;EndpointSuffix=core.windows.net\").\n\u003e     WithEnvironment(\"WEBSITE_HOSTNAME\", \"function-fsharp-app.redgrass-3f98d8ed.ukwest.azurecontainerapps.io\").\n\u003e ```\n\u003e \n\u003e Then we can look at the errors and figure out what is the real issue.\n\u003e \n\u003e I believe [@captainsafia](https://github.com/captainsafia) was looking at durable functions earlier this month.\n\nOkay, so I removed the F# project (I primarily work in F#, but when it wasn\u0027t working I spun up a C# project as well since there is  generally better out of the box support for C#).  Now apphost looks like:\n\n```\nusing Aspire.Hosting;\nusing Microsoft.Extensions.Hosting;\nusing static System.Net.WebRequestMethods;\n\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar storage = builder.AddAzureStorage(\"storage\")\n                     .RunAsEmulator(c =\u003e c.WithLifetime(ContainerLifetime.Persistent)) ;\n\nbuilder.AddAzureFunctionsProject\u003cProjects.FunctionApp2\u003e(\"function-csharp-app\").\n    WithHostStorage(storage).\n    WithExternalHttpEndpoints();\n\nbuilder.Build().Run();\n```\nThe main file of the azure function project looks like this:\n\n```\nusing Microsoft.Azure.Functions.Worker;\nusing Microsoft.Azure.Functions.Worker.Builder;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.Azure.Functions.Worker.Extensions.DurableTask;\n\n\nvar builder = FunctionsApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults();\n\n\nbuilder.ConfigureFunctionsWebApplication();\n\n\n// Application Insights isn\u0027t enabled by default. See https://aka.ms/AAt8mw4.\n// builder.Services\n//     .AddApplicationInsightsTelemetryWorkerService()\n//     .ConfigureFunctionsApplicationInsights();\n\n\nbuilder.ConfigureDurableExtension();\n\nbuilder.Build().Run();\n```\nDeployed, to azure, console log for the azure function project looks like:\n\n```\n2025-02-28T15:31:51 stdout F WEBSITES_INCLUDE_CLOUD_CERTS is not set to true.\n2025-02-28T15:31:51 stdout F info: Host.Triggers.DurableTask[0]\n2025-02-28T15:31:51 stdout F       Using the default storage provider: AzureStorage.\n2025-02-28T15:31:51 stdout F fail: Host.Startup[515]\n2025-02-28T15:31:51 stdout F       A host error has occurred during startup operation \u0027bc2e83c7-5563-4327-a27c-e862335a0397\u0027.\n2025-02-28T15:31:51 stdout F       System.InvalidOperationException: Unable to find matching constructor while trying to create an instance of TableServiceClient.\n2025-02-28T15:31:51 stdout F       Expected one of the follow sets of configuration parameters:\n2025-02-28T15:31:51 stdout F       1. endpoint\n2025-02-28T15:31:51 stdout F       2. endpoint, credential:signature\n2025-02-28T15:31:51 stdout F       3. endpoint, credential:accountName, credential:accountKey\n2025-02-28T15:31:51 stdout F       4. connectionString\n2025-02-28T15:31:51 stdout F       5. endpoint\n2025-02-28T15:31:51 stdout F       \n2025-02-28T15:31:51 stdout F       Found the following configuration keys: queueServiceUri, blobServiceUri\n2025-02-28T15:31:51 stdout F          at Microsoft.Extensions.Azure.ClientFactory.CreateClient(Type clientType, Type optionsType, Object options, IConfiguration configuration, TokenCredential credential)\n2025-02-28T15:31:51 stdout F          at Microsoft.Azure.WebJobs.Extensions.DurableTask.Storage.StorageServiceClientProvider`3.CreateClient(TClientOptions options) in /_/src/WebJobs.Extensions.DurableTask/Storage/StorageServiceClientProvider.cs:line 50\n2025-02-28T15:31:51 stdout F          at DurableTask.AzureStorage.Storage.AzureStorageClient..ctor(AzureStorageOrchestrationServiceSettings settings) in /_/src/DurableTask.AzureStorage/Storage/AzureStorageClient.cs:line 58\n2025-02-28T15:31:51 stdout F          at DurableTask.AzureStorage.AzureStorageOrchestrationService..ctor(AzureStorageOrchestrationServiceSettings settings, IOrchestrationServiceInstanceStore customInstanceStore) in /_/src/DurableTask.AzureStorage/AzureStorageOrchestrationService.cs:line 116\n2025-02-28T15:31:51 stdout F          at Microsoft.Azure.WebJobs.Extensions.DurableTask.AzureStorageDurabilityProviderFactory.GetDurabilityProvider() in /_/src/WebJobs.Extensions.DurableTask/AzureStorageDurabilityProviderFactory.cs:line 130\n2025-02-28T15:31:51 stdout F          at Microsoft.Azure.WebJobs.Extensions.DurableTask.DurableTaskExtension..ctor(IOptions`1 options, ILoggerFactory loggerFactory, INameResolver nameResolver, IEnumerable`1 orchestrationServiceFactories, IApplicationLifetimeWrapper hostLifetimeService, IDurableHttpMessageHandlerFactory durableHttpMessageHandlerFactory, ILifeCycleNotificationHelper lifeCycleNotificationHelper, IMessageSerializerSettingsFactory messageSerializerSettingsFactory, IPlatformInformation platformInformationService, IErrorSerializerSettingsFactory errorSerializerSettingsFactory, IWebHookProvider webhookProvider, ITelemetryActivator telemetryActivator) in /_/src/WebJobs.Extensions.DurableTask/DurableTaskExtension.cs:line 133\n2025-02-28T15:31:51 stdout F          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\n\n```\n\nThe host.json in the Azure functions project, only contains:\n\n```\n{\n  \"version\": \"2.0\",\n  \"logging\": {\n    \"applicationInsights\": {\n      \"samplingSettings\": {\n        \"isEnabled\": true,\n        \"excludedTypes\": \"Request\"\n      },\n      \"enableLiveMetricsFilters\": true\n    }\n  }\n}\n```\n\nThe project which I\u0027m looking to move from a non isolated implementation of durable functions, to an isolated one under Aspire, contained additional details in the host.json, including names of enviroment strings for storage.\n",
                                           "updatedAt":  "2025-02-28T15:40:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6gxJsC",
                                           "createdAt":  "2025-03-04T11:38:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mobackanandj",
                                           "body":  "Hi Team,\nAny update on this issue ? as issue is Durable Functions work correctly locally, but not when deployed?",
                                           "updatedAt":  "2025-03-04T11:38:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hGtfK",
                                           "createdAt":  "2025-03-06T06:00:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mobackanandj",
                                           "body":  "Hi Team,\n\nPlease update the Function_HttpStart function to inject DurableTaskClient through the constructor instead of passing it as a parameter. The ScheduleNewOrchestrationInstanceAsync method should be called from the injected client.\n\nUpdated Function with Constructor Injection:\n\n```C#\npublic class Function_HttpStart\n{\n    private readonly DurableTaskClient _client;\n\n    public Function_HttpStart(DurableTaskClient client)\n    {\n        _client = client;\n    }\n\n    [Function(\"Function_HttpStart\")]\n    public async Task\u003cHttpResponseData\u003e Run(\n        [HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequestData req,\n        FunctionContext executionContext)\n    {\n        ILogger logger = executionContext.GetLogger(\"Function_HttpStart\");\n\n        // Start a new orchestration\n        string instanceId = await _client.ScheduleNewOrchestrationInstanceAsync(nameof(Function_HttpStart));\n        logger.LogInformation(\"Started orchestration with ID = \u0027{instanceId}\u0027.\", instanceId);\n\n        return await _client.CreateCheckStatusResponseAsync(req, instanceId);\n    }\n}\n```\n\nUpdate in Program.cs:\n\n```C#\nservices.AddDurableTaskClient(builder =\u003e\n{\n    builder.UseGrpc();\n});\n```",
                                           "updatedAt":  "2025-03-06T07:22:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hQ-Ac",
                                           "createdAt":  "2025-03-07T05:41:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Did you get it working?",
                                           "updatedAt":  "2025-03-07T05:41:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hQ_yu",
                                           "createdAt":  "2025-03-07T05:48:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEI4biw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-03-07T06:18:01Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mobackanandj",
                                           "body":  "Yes! After implementing these changes, the DurableTaskClient is now successfully invoking _client.ScheduleNewOrchestrationInstanceAsync. Give it a try!",
                                           "updatedAt":  "2025-03-07T05:48:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hTeih",
                                           "createdAt":  "2025-03-07T11:40:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "Well, i\u0027ve just made the changes, and, as per before, it works locally for me, but not when deployed to Azure.\n\nWhen deployed, I get exactly the same error upon startup as I did previously, namely:\n\n```\n2025-03-07T08:32:28 stdout F info: Host.Triggers.DurableTask[0]\n2025-03-07T08:32:28 stdout F       Using the default storage provider: AzureStorage.\n2025-03-07T08:32:29 stdout F Hosting environment: Production\n2025-03-07T08:32:29 stdout F Content root path: /azure-functions-host\n2025-03-07T08:32:29 stdout F Now listening on: http://[::]:8080\n2025-03-07T08:32:29 stdout F Application started. Press Ctrl+C to shut down.\n2025-03-07T08:32:29 stdout F info: Host.Triggers.DurableTask[0]\n2025-03-07T08:32:29 stdout F       Using the default storage provider: AzureStorage.\n2025-03-07T08:32:29 stdout F fail: Host.Startup[515]\n2025-03-07T08:32:29 stdout F       A host error has occurred during startup operation \u0027450b8ff4-200b-4b66-a429-13b918f7267a\u0027.\n2025-03-07T08:32:29 stdout F       System.InvalidOperationException: Unable to find matching constructor while trying to create an instance of TableServiceClient.\n2025-03-07T08:32:29 stdout F       Expected one of the follow sets of configuration parameters:\n2025-03-07T08:32:29 stdout F       1. endpoint\n2025-03-07T08:32:29 stdout F       2. endpoint, credential:signature\n2025-03-07T08:32:29 stdout F       3. endpoint, credential:accountName, credential:accountKey\n2025-03-07T08:32:29 stdout F       4. connectionString\n2025-03-07T08:32:29 stdout F       5. endpoint\n```\n\nApphost Source:\n\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar storage = builder.AddAzureStorage(\"storage\")\n                     .RunAsEmulator(c =\u003e c.WithLifetime(ContainerLifetime.Persistent)) ;\n\nbuilder.AddAzureFunctionsProject\u003cProjects.FunctionApp2\u003e(\"function-csharp-app\").\n    WithHostStorage(storage).\n    WithExternalHttpEndpoints();\n\nbuilder.Build().Run();\n```\n\nTest Durable Function:\n\n```\nusing Microsoft.Azure.Functions.Worker;\nusing Microsoft.Azure.Functions.Worker.Http;\nusing Microsoft.DurableTask;\nusing Microsoft.DurableTask.Client;\nusing Microsoft.Extensions.Logging;\n\nnamespace FunctionApp2\n{\n    public class Function(DurableTaskClient client, ILogger\u003cFunction\u003e logger)\n    {\n        [Function(nameof(Function))]\n        public  Task\u003cList\u003cstring\u003e\u003e RunOrchestrator(\n            [OrchestrationTrigger] TaskOrchestrationContext context)\n        {\n            logger.LogInformation(\"Orchestration Running.\");\n\n            return Task.FromResult\u003cList\u003cstring\u003e\u003e([\"Hello Tokyo!\", \"Hello Seattle!\", \"Hello London!\"]);\n        }\n\n        [Function(\"Function_HttpStart\")]\n        public async Task\u003cHttpResponseData\u003e HttpStart(\n        [HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequestData req)\n        {\n            // Function input comes from the request content.\n            string instanceId = await client.ScheduleNewOrchestrationInstanceAsync(\n                nameof(Function));\n\n            logger.LogInformation(\"Started orchestration with ID = \u0027{instanceId}\u0027.\", instanceId);\n\n            // Returns an HTTP 202 response with an instance management payload.\n            // See https://learn.microsoft.com/azure/azure-functions/durable/durable-functions-http-api#start-orchestration\n            return await client.CreateCheckStatusResponseAsync(req, instanceId);\n           \n        }\n    }\n}\n```\n\nProgram.cs for host of durable function:\n\n```\nusing Microsoft.Azure.Functions.Worker.Builder;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.DurableTask.Client;\n\nvar builder = FunctionsApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults();\n\n// Needed to get the durable client \nbuilder.Services.AddDurableTaskClient(b =\u003e b.UseGrpc());\n\nbuilder.Build().Run();\n\n```\n\nProject file for durable function host:\n\n```\n\u003cProject Sdk=\"Microsoft.NET.Sdk\"\u003e\n  \u003cPropertyGroup\u003e\n    \u003cTargetFramework\u003enet8.0\u003c/TargetFramework\u003e\n    \u003cAzureFunctionsVersion\u003ev4\u003c/AzureFunctionsVersion\u003e\n    \u003cOutputType\u003eExe\u003c/OutputType\u003e\n    \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n    \u003cNullable\u003eenable\u003c/Nullable\u003e\n  \u003c/PropertyGroup\u003e\n  \u003cItemGroup\u003e\n    \u003cFrameworkReference Include=\"Microsoft.AspNetCore.App\" /\u003e\n    \u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker\" Version=\"2.0.0\" /\u003e\n    \u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Extensions.DurableTask\" Version=\"1.2.2\" /\u003e\n    \u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Extensions.Http.AspNetCore\" Version=\"2.0.1\" /\u003e\n    \u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Extensions.Tables\" Version=\"1.4.2\" /\u003e\n    \u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Sdk\" Version=\"2.0.1\" /\u003e\n  \u003c/ItemGroup\u003e\n  \u003cItemGroup\u003e\n    \u003cProjectReference Include=\"..\\AspireApp1.ServiceDefaults\\AspireApp1.ServiceDefaults.csproj\" /\u003e\n  \u003c/ItemGroup\u003e\n  \u003cItemGroup\u003e\n    \u003cNone Update=\"host.json\"\u003e\n      \u003cCopyToOutputDirectory\u003ePreserveNewest\u003c/CopyToOutputDirectory\u003e\n    \u003c/None\u003e\n    \u003cNone Update=\"local.settings.json\"\u003e\n      \u003cCopyToOutputDirectory\u003ePreserveNewest\u003c/CopyToOutputDirectory\u003e\n      \u003cCopyToPublishDirectory\u003eNever\u003c/CopyToPublishDirectory\u003e\n    \u003c/None\u003e\n  \u003c/ItemGroup\u003e\n  \u003cItemGroup\u003e\n    \u003cUsing Include=\"System.Threading.ExecutionContext\" Alias=\"ExecutionContext\" /\u003e\n  \u003c/ItemGroup\u003e\n\u003c/Project\u003e\n```\n\nhost.json:\n\n```\n{\n  \"version\": \"2.0\",\n  \"logging\": {\n    \"applicationInsights\": {\n      \"samplingSettings\": {\n        \"isEnabled\": true,\n        \"excludedTypes\": \"Request\"\n      },\n      \"enableLiveMetricsFilters\": true\n    }\n  }\n}\n```\n\nlocal.settings.json:\n\n```\n{\n    \"IsEncrypted\": false,\n    \"Values\": {\n        \"AzureWebJobsStorage\": \"\",\n        \"FUNCTIONS_WORKER_RUNTIME\": \"dotnet-isolated\"\n    }\n}\n```\n\nNow I don\u0027t know how relevant this is, but when you used setup durable functions to work with containers, you have to use a specific base Microsoft docker container (see https://mcr.microsoft.com/catalog?search=functions) . Also, you specified details about where the storage for the durable functions within the host.json.  Its currently not clear to me how much / little of this is required or relevant with getting Durable functions working with Aspire.\n\n\n\n",
                                           "updatedAt":  "2025-03-07T11:40:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hTnQO",
                                           "createdAt":  "2025-03-07T11:59:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mobackanandj",
                                           "body":  "**Error:** 2025-03-07T08:32:29 stdout F fail: Host.Startup[515]\n2025-03-07T08:32:29 stdout F       A host error has occurred during startup operation \u0027450b8ff4-200b-4b66-a429-13b918f7267a\u0027.\n2025-03-07T08:32:29 stdout F       System.InvalidOperationException: Unable to find matching constructor while trying to create an instance of TableServiceClient.\n\nplease invoke constructor properly. like below\n\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing Microsoft.Azure.Functions.Worker;\nusing Microsoft.Azure.Functions.Worker.Http;\nusing Microsoft.DurableTask.Client;\nusing Microsoft.DurableTask.Worker;\nusing Microsoft.Extensions.Logging;\n\npublic class Function\n{\n    private readonly DurableTaskClient _client;\n    private readonly ILogger\u003cFunction\u003e _logger;\n\n    public Function(DurableTaskClient client, ILogger\u003cFunction\u003e logger)\n    {\n        _client = client;\n        _logger = logger;\n    }\n\n    [Function(nameof(Function))]\n    public Task\u003cList\u003cstring\u003e\u003e RunOrchestrator([OrchestrationTrigger] TaskOrchestrationContext context)\n    {\n        _logger.LogInformation(\"Orchestration Running.\");\n\n        return Task.FromResult(new List\u003cstring\u003e { \"Hello Tokyo!\", \"Hello Seattle!\", \"Hello London!\" });\n    }\n\n    [Function(\"Function_HttpStart\")]\n    public async Task\u003cHttpResponseData\u003e HttpStart(\n        [HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequestData req)\n    {\n        // Function input comes from the request content.\n        string instanceId = await _client.ScheduleNewOrchestrationInstanceAsync(nameof(Function));\n\n        _logger.LogInformation(\"Started orchestration with ID = \u0027{instanceId}\u0027.\", instanceId);\n\n        // Returns an HTTP 202 response with an instance management payload.\n        // See https://learn.microsoft.com/azure/azure-functions/durable/durable-functions-http-api#start-orchestration\n        return await _client.CreateCheckStatusResponseAsync(req, instanceId);\n    }\n}\n",
                                           "updatedAt":  "2025-03-07T11:59:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hT1iv",
                                           "createdAt":  "2025-03-07T12:29:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "\u003e **Error:** 2025-03-07T08:32:29 stdout F fail: Host.Startup[515] 2025-03-07T08:32:29 stdout F A host error has occurred during startup operation \u0027450b8ff4-200b-4b66-a429-13b918f7267a\u0027. 2025-03-07T08:32:29 stdout F System.InvalidOperationException: Unable to find matching constructor while trying to create an instance of TableServiceClient.\n\u003e \n\u003e please invoke constructor properly. like below\n\u003e \n\u003e using System.Collections.Generic; using System.Threading.Tasks; using Microsoft.Azure.Functions.Worker; using Microsoft.Azure.Functions.Worker.Http; using Microsoft.DurableTask.Client; using Microsoft.DurableTask.Worker; using Microsoft.Extensions.Logging;\n\u003e \n\u003e public class Function { private readonly DurableTaskClient _client; private readonly ILogger _logger;\n\u003e \n\u003e ```\n\u003e public Function(DurableTaskClient client, ILogger\u003cFunction\u003e logger)\n\u003e {\n\u003e     _client = client;\n\u003e     _logger = logger;\n\u003e }\n\u003e \n\u003e [Function(nameof(Function))]\n\u003e public Task\u003cList\u003cstring\u003e\u003e RunOrchestrator([OrchestrationTrigger] TaskOrchestrationContext context)\n\u003e {\n\u003e     _logger.LogInformation(\"Orchestration Running.\");\n\u003e \n\u003e     return Task.FromResult(new List\u003cstring\u003e { \"Hello Tokyo!\", \"Hello Seattle!\", \"Hello London!\" });\n\u003e }\n\u003e \n\u003e [Function(\"Function_HttpStart\")]\n\u003e public async Task\u003cHttpResponseData\u003e HttpStart(\n\u003e     [HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequestData req)\n\u003e {\n\u003e     // Function input comes from the request content.\n\u003e     string instanceId = await _client.ScheduleNewOrchestrationInstanceAsync(nameof(Function));\n\u003e \n\u003e     _logger.LogInformation(\"Started orchestration with ID = \u0027{instanceId}\u0027.\", instanceId);\n\u003e \n\u003e     // Returns an HTTP 202 response with an instance management payload.\n\u003e     // See https://learn.microsoft.com/azure/azure-functions/durable/durable-functions-http-api#start-orchestration\n\u003e     return await _client.CreateCheckStatusResponseAsync(req, instanceId);\n\u003e }\n\u003e ```\n\u003e \n\u003e }\n\nWhatever way round how you write the constructor, it doesn\u0027t matter. Locally it works fine, deployed, using Aspire, to a container on Azure, it doesn\u0027t.  \n\nThe error shown relates to the startup of the durables code where it is attempting to initialising storage.  It hasn\u0027t even get to the point of being able to invoke the Function_HttpStart endpoint.\n\nTo eliminate any environmental issues that may occur due to subsequent publish operations not working correctly, i\u0027ve deleted the test environment I have on Azure and created a new one.  Situation the same as already reported .",
                                           "updatedAt":  "2025-03-07T12:29:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hcvW_",
                                           "createdAt":  "2025-03-09T04:30:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@captainsafia fixed this recently https://github.com/dotnet/aspire/pull/7961 and it might be related to the issues you are seeing around durable functions",
                                           "updatedAt":  "2025-03-09T04:30:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hcwHi",
                                           "createdAt":  "2025-03-09T04:42:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEJJ5QA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "VistianOpenSource",
                                                                               "createdAt":  "2025-03-10T10:16:06Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Catching up on this thread. We don\u0027t currently have 100% support for Durable Functions in _deployed_ scenarios.\n\n\u003e [@captainsafia](https://github.com/captainsafia) fixed this recently [#7961](https://github.com/dotnet/aspire/pull/7961) and it might be related to the issues you are seeing around durable functions\n\n@mobackanandj For the specific issue that you re seeing, the PR referenced above should resolve it. Note that you will need to use a nightly version of the Aspire packages.",
                                           "updatedAt":  "2025-03-09T04:42:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hiGsR",
                                           "createdAt":  "2025-03-10T10:15:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "\u003e Catching up on this thread. We don\u0027t currently have 100% support for Durable Functions in _deployed_ scenarios.\n\u003e \n\u003e \u003e [@captainsafia](https://github.com/captainsafia) fixed this recently [#7961](https://github.com/dotnet/aspire/pull/7961) and it might be related to the issues you are seeing around durable functions\n\u003e \n\u003e [@mobackanandj](https://github.com/mobackanandj) For the specific issue that you re seeing, the PR referenced above should resolve it. Note that you will need to use a nightly version of the Aspire packages.\n\nHi\n\nWell, I added the nuget source for the nightly builds, updated all referenced packages from this source, and deployed to Azure.   It now functions correctly i.e. no errors upon launch, correctly discovers the durable functions, and invocation of durables works. Thanks!\n\nThe updated packages in the host were\n\n```\n    \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.2.0-preview.1.25159.2\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Azure.Functions\" Version=\"9.2.0-preview.1.25159.2\" /\u003e\n\n```\n\nMore generally, in a typical setup with durable functions you\u0027d provide certain configuration details using the host.json.  Is that still the case, or has/is the configuration supposed to come from the host instead?",
                                           "updatedAt":  "2025-03-10T10:15:55Z"
                                       }
                                   ],
                         "totalCount":  14
                     },
        "title":  "Durable Functions work correctly locally, but not when deployed?",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7831",
        "createdAt":  "2025-02-28T17:02:55Z",
        "number":  7831,
        "author":  "onionhammer",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-29T13:34:16Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nAzure OpenAI only supports very specific regions for very specific models, so the ability to pass in a \u0027location\u0027 is quite important, this worked in Aspire 8-9, but no longer with 9.1\n\n```C#\n\n// Add OpenAI\nvar ai = builder.AddAzureOpenAI(\"openai\")\n    .AddDeployment(new (\"gpt-4o\", modelName: \"gpt-4o\", modelVersion: \"2024-08-06\"))\n    .WithParameter(AzureBicepResource.KnownParameters.Location, \"northcentralus\");\n\n```\n\nAfter upgrading, I now see:\n\n```\nThe resource \u0027openai...\u0027 already exists in location \u0027northcentralus\u0027 in resource group \u0027....\u0027. A resource with the same name cannot be created in location \u0027centralus\u0027. Please select a new resource name.\nStatus: 409 (Conflict)\nErrorCode: InvalidResourceLocation\n```\n\nWhere it ignores the \u0027northcentralus\u0027 parameter\n\n### Expected Behavior\n\nThe deployment should pass in \u0027northcentralus\u0027, which is the \u0027known parameter\u0027 name for resources\n\n### Steps To Reproduce\n\nSpecify a `Location` in your appsettings of \u0027centralus\u0027, then \u0027northcentralus\u0027 for your AzureOpenAI resource in code, as seen above\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwPGqrA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7AzIjX",
                                           "createdAt":  "2025-08-28T19:06:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "@onionhammer I havent seen this recently - still having an issue? cc @captainsafia ",
                                           "updatedAt":  "2025-08-28T19:06:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A8aqs",
                                           "createdAt":  "2025-08-29T13:34:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "onionhammer",
                                           "body":  "@maddymontaquila sorry I havent tried it recently",
                                           "updatedAt":  "2025-08-29T13:34:16Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Location parameter no longer works in Aspire 9.1 for `AddAzureOpenAI`",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7835",
        "createdAt":  "2025-02-28T20:26:21Z",
        "number":  7835,
        "author":  "LironMat",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-12T18:55:18Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen passing custom username/password to the ```builder.AddRabbitMQ``` method, if those parameters contain special characters like \u0027@\u0027,\u0027%\u0027,\u0027/\u0027 etc the created connection string would not be formed correctly which leads to various things failing like the built in health check or dependant services connecting to the resource.\n\nManually connecting from the management web interface does seem to work so this appears to only be a problem with the formed connection string.\n\n### Expected Behavior\n\nI would expect the connection string to be percent-encoded in the relevant parts like what is described in:\n[https://www.rabbitmq.com/docs/uri-spec](https://www.rabbitmq.com/docs/uri-spec)\n\nI suggest using ```RabbitMQ.Client.ConnectionFactory``` to create the escaped connection string in ```RabbitMQServerResource.ConnectionStringExpression``` .\n\n### Steps To Reproduce\n\nCreate a rabbit resource:\n\n```\nvar rabbitUser = builder.AddParameter(\"RABBITUSER\");\nvar rabbitPass = builder.AddParameter(\"RABBITPASS\");\n\nvar rabbit = builder.AddRabbitMQ(\"rabbit\", rabbitUser, rabbitPass)\n                    .WithManagementPlugin()\n                    ;\n```\n\nand have a service be dependent on it:\n\n```\nbuilder.AddProject\u003cProjects.Start\u003e(\"start\")\n                   .WithReference(rabbit)\n                   .WaitFor(rabbit);\n```\n\nin the service use the connectionstring to connect to the resource (im using MassTransit here):\n\n```\nbuilder.Services.AddMassTransit(x =\u003e\n{\n    // A Transport\n    x.UsingRabbitMq((context, cfg) =\u003e\n    {\n        cfg.Host(builder.Configuration.GetConnectionString(\"rabbit\"));\n    });\n});\n```\n\nvarious different characters will cause different exceptions in different locations:\n\n1. RABBITPASS=\u0027b@r\u0027 will cause ```UriFormatException``` in the health check of the resource\n2. RABBITPASS=\u0027b%r\u0027 the resource will pass the health check, but dependant services will have a ```UriFormatException``` when trying to connect\n3. RABBITPASS=\u0027#bar\u0027 will have the health check never succeed and it will be stuck on ```BrokerUnreachableException```\n\n\n\n### Exceptions (if any)\n\nHealth check exception: \n```\nSystem.UriFormatException: Invalid URI: The hostname could not be parsed.\n   at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind, UriCreationOptions\u0026 creationOptions)\n   at System.Uri..ctor(String uriString)\n   at Aspire.Hosting.RabbitMQBuilderExtensions.\u003cAddRabbitMQ\u003eg__CreateConnection|0_3(String connectionString) in /_/src/Aspire.Hosting.RabbitMQ/RabbitMQBuilderExtensions.cs:line 66\n   at Aspire.Hosting.RabbitMQBuilderExtensions.\u003c\u003ec__DisplayClass0_0.\u003c\u003cAddRabbitMQ\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting.RabbitMQ/RabbitMQBuilderExtensions.cs:line 62\n--- End of stack trace from previous location ---\n   at HealthChecks.RabbitMQ.RabbitMQHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /home/runner/work/AspNetCore.Diagnostics.HealthChecks/AspNetCore.Diagnostics.HealthChecks/src/HealthChecks.Rabbitmq/RabbitMQHealthCheck.cs:line 31\n```\n\n\n### .NET Version info\n\n```\n.NET SDK:\n Version:           9.0.200\n Commit:            90e8b202f2\n Workload version:  9.0.200-manifests.69179adf\n MSBuild version:   17.13.8+cbc39bea8\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.200\\\n\n.NET workloads installed:\n [aspire]\n   Installation Source: VS 17.13.35818.85\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.2\n  Architecture: x64\n  Commit:       80aa709f5d\n\n.NET SDKs installed:\n  6.0.425 [C:\\Program Files\\dotnet\\sdk]\n  9.0.200 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.33 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n```\n\n### Anything else?\n\nAspire app host versions:\nAspire.AppHost.Sdk=9.0.0\nAspire.Hosting.AppHost=9.1.0\nAspire.Hosting.RabbitMQ=9.1.0\n\nService:\nMassTransit.RabbitMQ=8.3.4\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOoXXNjA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6gbp3D",
                                           "createdAt":  "2025-02-28T21:49:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Dupe of https://github.com/dotnet/aspire/issues/3117",
                                           "updatedAt":  "2025-02-28T21:49:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6hdc2M",
                                           "createdAt":  "2025-03-09T13:17:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Phelecks",
                                           "body":  "Same issue",
                                           "updatedAt":  "2025-03-09T13:17:27Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "RabbitMQ resource builder should properly encode passing parameters",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7848",
        "createdAt":  "2025-03-01T19:47:02Z",
        "number":  7848,
        "author":  "danmoseley",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-16T16:15:34Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nhttps://github.com/dotnet/aspire/actions/runs/13607752509/job/38041239255?pr=7575\nlooked at the hang dump, the following tasks are being awaited that seem relevant\n\n```\n\u003e\t[Async] System.Private.CoreLib.dll!System.Threading.Tasks.Task.WhenAny\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Configurations.WaitStrategy.WaitUntilAsync(System.Func\u003cSystem.Threading.Tasks.Task\u003cbool\u003e\u003e wait, System.TimeSpan interval, System.TimeSpan timeout, int retries, System.Threading.CancellationToken ct) Line 204\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Containers.DockerContainer.CheckReadinessAsync(System.Collections.Generic.IEnumerable\u003cDotNet.Testcontainers.Configurations.WaitStrategy\u003e waitStrategies, System.Threading.CancellationToken ct) Line 560\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Containers.DockerContainer.UnsafeStartAsync(System.Threading.CancellationToken ct) Line 480\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Containers.DockerContainer.StartAsync(System.Threading.CancellationToken ct) Line 283\tC#\n \t[Async] Aspire.Oracle.EntityFrameworkCore.Tests.dll!Aspire.Oracle.EntityFrameworkCore.Tests.OracleContainerFixture.InitializeAsync() Line 39\tC#\n\n```\n```\n \t[Async] System.Private.CoreLib.dll!System.Threading.Tasks.Task.Delay\tC#\n\u003e\t[Async] Testcontainers.dll!DotNet.Testcontainers.Configurations.WaitStrategy.WaitUntilAsync.__UntilAsync|0() Line 195\tC#\n \t[Async] System.Private.CoreLib.dll!System.Threading.Tasks.Task.WhenAny\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Configurations.WaitStrategy.WaitUntilAsync(System.Func\u003cSystem.Threading.Tasks.Task\u003cbool\u003e\u003e wait, System.TimeSpan interval, System.TimeSpan timeout, int retries, System.Threading.CancellationToken ct) Line 204\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Containers.DockerContainer.CheckReadinessAsync(System.Collections.Generic.IEnumerable\u003cDotNet.Testcontainers.Configurations.WaitStrategy\u003e waitStrategies, System.Threading.CancellationToken ct) Line 560\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Containers.DockerContainer.UnsafeStartAsync(System.Threading.CancellationToken ct) Line 480\tC#\n \t[Async] Testcontainers.dll!DotNet.Testcontainers.Containers.DockerContainer.StartAsync(System.Threading.CancellationToken ct) Line 283\tC#\n \t[Async] Aspire.Oracle.EntityFrameworkCore.Tests.dll!Aspire.Oracle.EntityFrameworkCore.Tests.OracleContainerFixture.InitializeAsync() Line 39\tC#\n```\n\nNumerous threads in one of these states. @mitchdenny this is a managed only dump of a single process -- I  guess the conclusion is \"Oracle test container didn\u0027t start in a reasonable time and we can\u0027t tell why without more logging\"?",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp35coQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6goZOv",
                                           "createdAt":  "2025-03-03T16:31:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danmoseley",
                                           "body":  "(and if so -- what logging can we add)",
                                           "updatedAt":  "2025-03-03T16:31:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iDi71",
                                           "createdAt":  "2025-03-12T19:00:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I am surprised we still have oracle tests using the containers, they should all be disabled already, they are too long to start. I remember that even TestContainers packages are using a non-official image that has way less features to circumvent that. As long as they work I assume that\u0027s fine...",
                                           "updatedAt":  "2025-03-12T19:00:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mTsON",
                                           "createdAt":  "2025-04-09T15:50:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Is this actionable?",
                                           "updatedAt":  "2025-04-09T15:50:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nY3w8",
                                           "createdAt":  "2025-04-16T05:09:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "@sebastienros what needs to be done here?",
                                           "updatedAt":  "2025-04-16T05:09:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nflyh",
                                           "createdAt":  "2025-04-16T16:15:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Rewrite Oracle",
                                           "updatedAt":  "2025-04-16T16:15:32Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Hanging tests: Aspire.Oracle.EntityFrameworkCore.Tests",
        "labels":  [
                       "area-integrations",
                       "oracle",
                       "flaky-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7883",
        "createdAt":  "2025-03-04T15:33:11Z",
        "number":  7883,
        "author":  "pwrreset",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-07T16:15:01Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen adding the service bus emulator in an aspire project and running the project, it will add its password to the secret.json file. While doing so, it will reformat, reorder and destroy some values.\n\nI can\u0027t really paste an example since my projects contains a lot of things I don\u0027t want to share publicly.\n\n### Expected Behavior\n\nAdds the value at the end of the file without messing with it.\n\n### Steps To Reproduce\n\n1-Have an aspire project that uses secret file.\n\n2-Add these lines to the project (with the necessary references):\nvar serviceBus = builder.AddAzureServiceBus(\"messaging\");\nserviceBus.AddServiceBusQueue(\"queue\");\nserviceBus.AddServiceBusTopic(\"topic\");\n\n3-Add your own configuration to the secret.json file.\n\n4-Run the project, the secret.json file will be rewritten, reordered and values will be changed as if it was done by some AI hallucinating.\n\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOowSV5w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6g0Pl3",
                                           "createdAt":  "2025-03-04T15:36:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e destroy some values.\n\nReformat is unfortunate and inconvenient but destroy is a bug. Do you have an example?",
                                           "updatedAt":  "2025-03-04T15:36:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6g0hcm",
                                           "createdAt":  "2025-03-04T15:54:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pwrreset",
                                           "body":  "Actually, I\u0027ve lost all my commented configuration.",
                                           "updatedAt":  "2025-03-04T15:54:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6g-nzu",
                                           "createdAt":  "2025-03-05T12:18:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pwrreset",
                                           "body":  "And it altered all the boolean config into strings and capitalized it.",
                                           "updatedAt":  "2025-03-05T12:18:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6jBJXn",
                                           "createdAt":  "2025-03-19T00:05:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I think it\u0027s not limited to service bus emulator, but any azure resource that is provisioned:\n\nhttps://github.com/dotnet/aspire/blob/7b7356077e91f99612e893fe340f61b90d2b6089/src/Aspire.Hosting.Azure/Provisioning/Provisioners/AzureProvisioner.cs#L195-L198\n\nWhat I also experienced is that configuration keys are collapsed in `\"Aspire:Azure:TenantId\": \"...\"` and then if the current deployment adds an `{ \"Aspire\": { \"Azure\" : { \"TenantId\" } } }` then file won\u0027t be loaded because there are conflicting configuration entries.",
                                           "updatedAt":  "2025-04-01T23:52:35Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Azure service bus emulator destroys secret.json file when adding its own configuration",
        "labels":  [
                       "area-integrations",
                       "azure-servicebus"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7931",
        "createdAt":  "2025-03-06T16:09:54Z",
        "number":  7931,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-28T06:29:46Z",
        "body":  "Today our OpenAI (Azure and non) enable 2 experimental tracing - OpenAI\u0027s and Microsoft.Extensions.AI\u0027s. We should decide:\r\n\r\n* if we really want both by default\r\n* or if we should have separate switches to control them\r\n* or if we should just have built in support for 1 of them, and let the user disable it and manually configure the other\r\n\r\n\r\n\u003e You probably want one or the other, but not both. The experimental tracing in OpenAI implements the otel standard convention for genai (or, at least, an older version of it), just as UseOpenTelemetry does.\r\n\r\n_Originally posted by @stephentoub in https://github.com/dotnet/docs-aspire/pull/2722#discussion_r1983649254_\r\n            ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Tracing for OpenAI integrations",
        "labels":  [
                       "area-integrations",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7995",
        "createdAt":  "2025-03-11T06:24:43Z",
        "number":  7995,
        "author":  "bgelens",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-10T19:37:13Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI\u0027m trying to use a container image with the integration that has replicaset enabled. As it is a single node replicaset, I need to add a connectionString option of `directConnection=true`. As it is not possible to add additional connectionString options using the integration, it is now unable to complete the healthcheck and provide the desired connection string to the application.\n\nThere are many more connectionString options available: https://www.mongodb.com/docs/manual/reference/connection-string-options/\n\nAs a workaround I now use AddContainer instead.\n\n### Describe the solution you\u0027d like\n\nAdd a way to provide additional connectionString options to the integration\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOppfbmg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6h1RzU",
                                           "createdAt":  "2025-03-11T17:05:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@davidfowl @mitchdenny @sebastienros  - I imagine if we had `ConnectionStringRedirectAnnotation` everywhere, we could support this generally. Someone could \"replace\" the connection string on any resource and add more connection string properties if they wanted.\n\nThoughts?",
                                           "updatedAt":  "2025-03-11T17:05:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iFCnj",
                                           "createdAt":  "2025-03-12T22:02:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEJpHSA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2025-03-12T22:08:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think we need something that is more builder like that enables mutation of these connection strings, not just replacement.",
                                           "updatedAt":  "2025-03-12T22:02:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ml9ua",
                                           "createdAt":  "2025-04-10T19:37:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Other connection string work: https://github.com/dotnet/aspire/issues/8588",
                                           "updatedAt":  "2025-04-10T19:37:12Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "MongoDB integration - connectionstring parameters",
        "labels":  [
                       "area-integrations",
                       "mongodb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8034",
        "createdAt":  "2025-03-12T10:27:28Z",
        "number":  8034,
        "author":  "ekomsctr",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T19:09:31Z",
        "body":  "Hello,\n\ni\u0027m trying to deploy my Aspire solution to the Azure cloud. I\u0027m having some trouble when configuring Keycloak environment variables to connect to the deployed Azure PostgreSql (also a resource of the same solution).\n\nI made a simple extension method for the KeycloakResource, which accepts the AzurePostgresFlexibleServerDatabaseResource i\u0027m trying to configure:\n\n```\npublic static IResourceBuilder\u003cKeycloakResource\u003e WithDatabase(this IResourceBuilder\u003cKeycloakResource\u003e builder, IResourceBuilder\u003cAzurePostgresFlexibleServerDatabaseResource\u003e source)\n{\n    builder.WithEnvironment(async context =\u003e\n     {\n         if (context.ExecutionContext.IsPublishMode)\n         {\n             context.EnvironmentVariables.Add(\"TEST_KC_DB\", \"\");\n             context.EnvironmentVariables.Add(\"TEST_KC_DB_PASSWORD\", \"\");\n             context.EnvironmentVariables.Add(\"TEST_KC_DB_URL\", \"\");\n             context.EnvironmentVariables.Add(\"TEST_KC_DB_USERNAME\", \"\");\n             context.EnvironmentVariables.Add(\"TEST_KC_HOSTNAME\", \"\");\n         }\n         else\n         {\n             var dbConnection = await source.Resource.ConnectionStringExpression.GetValueAsync(CancellationToken.None);\n             var connStringBuilder = new Npgsql.NpgsqlConnectionStringBuilder(dbConnection);\n             var keycloakDb = source.Resource;\n\n             context.EnvironmentVariables.Add(\"KC_DB\", \"postgres\");\n             context.EnvironmentVariables.Add(\"KC_DB_PASSWORD\", connStringBuilder.Password);\n             context.EnvironmentVariables.Add(\"KC_DB_URL\", $\"jdbc:postgresql://pgsql:5432/{keycloakDb.DatabaseName}\");\n             context.EnvironmentVariables.Add(\"KC_DB_USERNAME\", connStringBuilder.Username);\n             context.EnvironmentVariables.Add(\"KC_HOSTNAME\", connStringBuilder.Host);\n         }\n     });\n\n    return builder;\n}\n```\n\nFor local development, i\u0027ve retrieved successfully the connection string at runtime, and everything runs smoothly, but i\u0027m having trouble doing the same for when the solution gets deployed (using Visual Studio publish profile at this moment).\n\nFor reference, here are the configured resources in the AppHost:\n\nKeycloakResource\n```\nvar keycloak = builder.AddKeycloak(\"keycloak\", port: 8080)\n    .WithDataVolume()\n    .WithAnnotation(new CommandLineArgsCallbackAnnotation(args =\u003e\n    {\n        if (!builder.ExecutionContext.IsPublishMode)\n        {\n            args.Add(\"--log-level=DEBUG\");\n            args.Add(\"--log-console-color=true\");\n            args.Add(\"--log=console,file\");\n            args.Add(\"--features=scripts\");\n        }\n    }))\n    .WithExternalHttpEndpoints()\n    .WithProxyEdgeConfiguration()\n    .WithDatabase(keycloakdb)\n    .WithLifetime(ContainerLifetime.Persistent)\n    .WaitFor(keycloakdb);\n```\n\nAzurePostgresFlexibleServerDatabaseResource\n```\nvar sql = builder.ExecutionContext.IsPublishMode ?\n    builder.AddAzurePostgresFlexibleServer(\"pgsql\").WithPasswordAuthentication() :\n    builder.AddAzurePostgresFlexibleServer(\"pgsql\").RunAsContainer(container =\u003e\n    {\n        container\n            .WithLifetime(ContainerLifetime.Persistent)\n            .WithDataVolume(isReadOnly: false)\n            .WithPgWeb(pgWeb =\u003e pgWeb.WithExternalHttpEndpoints().PublishAsContainer());\n    });\n\nvar keycloakdb = sql.AddDatabase(\"keycloakdb\", \"KeycloakDb\")\n    .WithCreateCommand(true);\n```\n\nAny tips on improving this implementation and how to get the parameters i need when publishing?\n\nThank you in advance,\nRoberto",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxLIfTw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6iWSYx",
                                           "createdAt":  "2025-03-14T06:21:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Let me know if this helps https://github.com/dotnet/docs-aspire/issues/2340#issuecomment-2566057406",
                                           "updatedAt":  "2025-03-14T06:21:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iv-WO",
                                           "createdAt":  "2025-03-17T18:31:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "\u003e Let me know if this helps [dotnet/docs-aspire#2340 (comment)](https://github.com/dotnet/docs-aspire/issues/2340#issuecomment-2566057406)\n\nHi David,\n\ni will look into it and let you know ASAP! But atleast in the \"local environment\", is that the right way to go or should i still use endpoints when working with a container? I\u0027m looking for the most \"standard\" way, and building the connection string (like a did in the WithDatabase extension method) didn\u0027t convince me enough to not classify it as a \"workaround\".\n\nThanks in advance!",
                                           "updatedAt":  "2025-03-17T18:31:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iv_nA",
                                           "createdAt":  "2025-03-17T18:33:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEKmlMw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ekomsctr",
                                                                               "createdAt":  "2025-03-19T20:31:31Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "If you use the right expression it\u0027ll work in both cases.",
                                           "updatedAt":  "2025-03-17T18:33:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6jP6eJ",
                                           "createdAt":  "2025-03-20T01:58:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "So, reading the article you linked surely helped me understand better how to use the endpoints, so it\u0027s a great piece! Unfortunately, that didn\u0027t help (or better, didn\u0027t go deep enough) for my topic, or better, maybe the Aspire Azure Postgres Flexible Server resource documentation needs some more guidance. Anyway, i\u0027ll summarize where i\u0027ve been going:\n\n**Aspire Resource Configuration**\n```\n//  Database credential secrets\nvar dbUsername = builder.AddParameter(\"DatabaseUsername\", true);\nvar dbPassword = builder.AddParameter(\"DatabasePassword\", true);\n\n//  Declare the database endpoint reference\nEndpointReference postgresEndpoint = null;\n\n//  Azure Postgres resource; run locally in a container with PgWeb, published on Azure using password authentication\nvar postgres = builder.ExecutionContext.IsPublishMode ?\n    builder.AddAzurePostgresFlexibleServer(\"postgres\")\n        .WithPasswordAuthentication(dbUsername, dbPassword) :\n    builder.AddAzurePostgresFlexibleServer(\"postgres\")\n        .WithPasswordAuthentication(dbUsername, dbPassword)\n        .RunAsContainer(container =\u003e\n        {\n            container\n                .WithLifetime(ContainerLifetime.Persistent)\n                .WithDataVolume()\n                .WithPgWeb();\n\n            postgresEndpoint = container.GetEndpoint(\"tcp\");\n        });\n```\n\n**KeyCloakResource WithDatabase extension method**\n```\npublic static IResourceBuilder\u003cKeycloakResource\u003e WithDatabase(this IResourceBuilder\u003cKeycloakResource\u003e builder, EndpointReference? postgresEndpoint = null, IResourceBuilder\u003cParameterResource\u003e? dbUsername = null, IResourceBuilder\u003cParameterResource\u003e? dbPassword = null)\n{\n    builder.WithAnnotation(new CommandLineArgsCallbackAnnotation(args =\u003e\n    {\n        if (builder.ApplicationBuilder.ExecutionContext.IsRunMode)\n        {\n            args.Add(\"--log-level=DEBUG\");\n            args.Add(\"--log-console-color=true\");\n            args.Add(\"--features=scripts\");\n        }\n        else\n        {\n            args.Add(\"start-dev\");\n            args.Add(\"--log-console-color=true\");\n            args.Add(\"--proxy-headers=xforwarded\");\n            args.Add(\"--features=scripts\");\n        }\n    }));\n\n    if (dbUsername != null)\n        builder.WithEnvironment(\"KC_DB_USERNAME\", dbUsername);\n    if (dbPassword != null)\n        builder.WithEnvironment(\"KC_DB_PASSWORD\", dbPassword);\n    if (postgresEndpoint != null)\n        builder.WithEnvironment(\"KC_DB_URL\", postgresEndpoint);\n    builder.WithEnvironment(\"KC_HOSTNAME\", \"localhost\");\n    builder.WithEnvironment(\"KC_DB\", \"postgres\");\n\n    return builder;\n}\n```\n\nHowever, i can\u0027t find a way to pass the endpoint when not running as container, since neither IResourceBuilder\u003cAzurePostgresFlexibleServerDatabaseResource\u003e nor IResourceBuilder\u003cAzurePostgresFlexibleServerResource\u003e expose the `GetEndpoint()` method.",
                                           "updatedAt":  "2025-03-20T01:58:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6jw0iT",
                                           "createdAt":  "2025-03-24T09:40:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "Any insight on how to handle this? In any case, even locally, the only endpoint available is the TCP endpoint, it would be nice to get a way (if available, maybe not everything when working locally, but ideally everything when deploying on Azure) to retrieve these settings:\n\n![Image](https://github.com/user-attachments/assets/20cf8eb8-1062-4a19-aa41-adbb5230e36e)",
                                           "updatedAt":  "2025-03-24T09:40:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6o5WHf",
                                           "createdAt":  "2025-04-27T19:26:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "The one thing here missing is that the azure Postgres flexible server resource does not expose the host name of the postgres server as a separate value you can use in keycloak. \n\nYou can manipulate the bicep so that the hostname is exposed (we should probably just do that natively) and then you can pass that reference to the environment variable of keycloak. Instead of taking an EndpointReference for the postgresEndpoint make it a `ReferenceExpression`. That\u0027ll make it easier to switch between an endpoint or bicep output.\n\n\n```C#\nvar dbUsername = builder.AddParameter(\"DatabaseUsername\", true);\nvar dbPassword = builder.AddParameter(\"DatabasePassword\", true);\n\nReferenceExpression? hostEndpoint = null;\n\nvar pg = builder.AddAzurePostgresFlexibleServer(\"azpg\")\n                    .WithPasswordAuthentication(dbUsername, dbPassword)\n                    .ConfigureInfrastructure(infra =\u003e\n                    {\n                        // Get the postgres flexible server resource\n                        var pg = infra.GetProvisionableResources().OfType\u003cPostgreSqlFlexibleServer\u003e().Single();\n\n                        // Add the host name as an output to the bicep module\n                        infra.Add(new ProvisioningOutput(\"hostname\", typeof(string))\n                        {\n                            Value = pg.FullyQualifiedDomainName\n                        });\n                    })\n                    .RunAsContainer(c =\u003e\n                    {\n                        hostEndpoint = ReferenceExpression.Create($\"{c.Resource.PrimaryEndpoint}\");\n                    });\n\nhostEndpoint ??= ReferenceExpression.Create($\"{pg.GetOutput(\"hostname\")}\");\n\nvar db = pg.AddDatabase(\"db\");\n\n// Wire up keycloak now...\n```",
                                           "updatedAt":  "2025-04-27T19:26:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pCeBk",
                                           "createdAt":  "2025-04-28T17:36:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "\u003e The one thing here missing is that the azure Postgres flexible server resource does not expose the host name of the postgres server as a separate value you can use in keycloak.\n\u003e \n\u003e You can manipulate the bicep so that the hostname is exposed (we should probably just do that natively) and then you can pass that reference to the environment variable of keycloak. Instead of taking an EndpointReference for the postgresEndpoint make it a `ReferenceExpression`. That\u0027ll make it easier to switch between an endpoint or bicep output.\n\u003e \n\u003e var dbUsername = builder.AddParameter(\"DatabaseUsername\", true);\n\u003e var dbPassword = builder.AddParameter(\"DatabasePassword\", true);\n\u003e \n\u003e ReferenceExpression? hostEndpoint = null;\n\u003e \n\u003e var pg = builder.AddAzurePostgresFlexibleServer(\"azpg\")\n\u003e                     .WithPasswordAuthentication(dbUsername, dbPassword)\n\u003e                     .ConfigureInfrastructure(infra =\u003e\n\u003e                     {\n\u003e                         // Get the postgres flexible server resource\n\u003e                         var pg = infra.GetProvisionableResources().OfType\u003cPostgreSqlFlexibleServer\u003e().Single();\n\u003e \n\u003e                         // Add the host name as an output to the bicep module\n\u003e                         infra.Add(new ProvisioningOutput(\"hostname\", typeof(string))\n\u003e                         {\n\u003e                             Value = pg.FullyQualifiedDomainName\n\u003e                         });\n\u003e                     })\n\u003e                     .RunAsContainer(c =\u003e\n\u003e                     {\n\u003e                         hostEndpoint = ReferenceExpression.Create($\"{c.Resource.PrimaryEndpoint}\");\n\u003e                     });\n\u003e \n\u003e hostEndpoint ??= ReferenceExpression.Create($\"{pg.GetOutput(\"hostname\")}\");\n\u003e \n\u003e var db = pg.AddDatabase(\"db\");\n\u003e \n\u003e // Wire up keycloak now...\n\nNice, thank you for the insight! Perhaps, this same solution would work both when running locally and when deploying to Azure?\n\nEdit: i see how that would work when running locally (missed the RunAsContainer part), but how will hostEndpoint be populated when deploying to Azure? (i\u0027m using the publish feature of Visual Studio 2022)",
                                           "updatedAt":  "2025-04-28T17:53:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pFG8A",
                                           "createdAt":  "2025-04-28T21:12:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This code:\n\n```\nhostEndpoint ??= ReferenceExpression.Create($\"{pg.GetOutput(\"hostname\")}\");\n```\n",
                                           "updatedAt":  "2025-04-28T21:12:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pFYbA",
                                           "createdAt":  "2025-04-28T21:29:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "\u003e This code:\n\u003e \n\u003e ```\n\u003e hostEndpoint ??= ReferenceExpression.Create($\"{pg.GetOutput(\"hostname\")}\");\n\u003e ```\n\nOh ok, so let me clarify if i understood this correctly: if i\u0027m in RunMode, the hostEndpoint variable is allocated from the PrimaryEndpoint of the postgres container, meanwhile if the context is in PublishMode, the variable gets allocated from the Bicep output (which we added in the ConfigureInfrastructure method (but only if the hostEndpoint variable is null, which means the RunAsContainer method should have not run). \n\nIs this right?\n\nThis way, i shouldn\u0027t even need to do a check for the environment, as this would work both in RunMode and PublishMode, right?\n\nThank you in advance! This has been really helpful",
                                           "updatedAt":  "2025-04-28T21:29:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pSlsN",
                                           "createdAt":  "2025-04-29T20:54:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEQRrng==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ekomsctr",
                                                                               "createdAt":  "2025-04-30T10:47:41Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You got it!",
                                           "updatedAt":  "2025-04-29T20:54:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_tS9f",
                                           "createdAt":  "2025-08-23T05:47:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This change should make it easier https://github.com/dotnet/aspire/pull/11051 to resolve the host username password and db.",
                                           "updatedAt":  "2025-08-23T05:47:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DPCq6",
                                           "createdAt":  "2025-09-10T15:34:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "Hello, is this already available in .NET Aspire 9.4.2?",
                                           "updatedAt":  "2025-09-10T15:34:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DPqhO",
                                           "createdAt":  "2025-09-10T16:23:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Is https://github.com/dotnet/aspire/pull/11051 available? Or are you asking about something else?",
                                           "updatedAt":  "2025-09-10T16:23:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DguDl",
                                           "createdAt":  "2025-09-11T11:39:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "\u003e Is [#11051](https://github.com/dotnet/aspire/pull/11051) available? Or are you asking about something else?\n\nYes, the \"simplified\" retrieval of the Azure Postgres instance parameters like HostName, UserName, Password, etc..",
                                           "updatedAt":  "2025-09-11T11:39:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Dj9ky",
                                           "createdAt":  "2025-09-11T14:13:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "It’s in the next version 9.5. \n\nYou can look at the milestone of the PR.",
                                           "updatedAt":  "2025-09-11T14:13:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Esh9P",
                                           "createdAt":  "2025-09-16T19:09:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "\u003e It’s in the next version 9.5.\n\u003e \n\u003e You can look at the milestone of the PR.\n\nThank you very much!",
                                           "updatedAt":  "2025-09-16T19:09:31Z"
                                       }
                                   ],
                         "totalCount":  16
                     },
        "title":  "[Keycloak Integration] How to setup database connection for Keycloak when deploying to Azure",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8064",
        "createdAt":  "2025-03-13T20:31:23Z",
        "number":  8064,
        "author":  "robobrown",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-14T08:45:28Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nPlease assist in updating the code in the method:    public static IResourceBuilder\u003cKeycloakResource\u003e AddKeycloak(\n\nWe are required to run keycloak on HTTPs endpoints and the code is hardcoded to add HTTP endpoints\nif we do not change the scheme, health checks fail and then the code does not run correctly.\n\n    public static IResourceBuilder\u003cKeycloakResource\u003e AddKeycloak(\n        this IDistributedApplicationBuilder builder,\n        string name,\n        int? port = null,\n        string scheme = \"http\",\n        IResourceBuilder\u003cParameterResource\u003e? adminUsername = null,\n        IResourceBuilder\u003cParameterResource\u003e? adminPassword = null)\n\n.........\n\n        if (scheme.Equals(\"https\", StringComparison.OrdinalIgnoreCase))\n        {\n            keycloak\n                .WithHttpsEndpoint(port: port, targetPort: DefaultContainerPortHttps)\n                .WithHttpsEndpoint(targetPort: ManagementInterfaceContainerPort, name: ManagementEndpointName)\n                .WithHttpsHealthCheck(endpointName: ManagementEndpointName, path: \"/health/ready\");\n        }\n        else\n        {\n            keycloak\n                .WithHttpEndpoint(port: port, targetPort: DefaultContainerPort)\n                .WithHttpEndpoint(targetPort: ManagementInterfaceContainerPort, name: ManagementEndpointName)\n                .WithHttpHealthCheck(endpointName: ManagementEndpointName, path: \"/health/ready\");\n        }\n\n\n### Expected Behavior\n\nWhen adding KeyCloak, the developer is able to select HTTP or HTTPS schemes.\nI\u0027ve attached the sample changes I made to the class, and have tested it is working as expected.\n\nNB. \nI am using the RunWithHttpsDevCertificate for the Development Certs and for Production I am using a custom wildcard signed certificate\n\nhttps://github.com/dotnet/aspire-samples/blob/b741f5e78a86539bc9ab12cd7f4a5afea7aa54c4/samples/Keycloak/Keycloak.AppHost/KeycloakExtensions.cs\n\n\n[KeycloakResourceBuilderExtensions.txt](https://github.com/user-attachments/files/19236254/KeycloakResourceBuilderExtensions.txt)\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\nACI is giving some challenges with running KeyCloak on HTTPS with custom certificates, it seems like the Controller cannot connect to the Application Ports on port 8443, and giving the generic upstream error message. To work around this for now we are running the deployed environment on HTTP, and use ACI to convert it to HTTPS, we set the KC_HOSTNAME parameter to the full URL https://your.domain.name/admin  all works well.\n\nour other apps using back channel are using HTTPS, going out of the container environment and then back in via the HTTPS port until we can resolve running KeyCloke on ACI with HTTPS configuration.\n\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "KeyCloak - Allow selection of Http/Https Schemes for the URL\u0027s this is for running KeyCloak on HTTPs",
        "labels":  [
                       "area-integrations",
                       "keycloak"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8090",
        "createdAt":  "2025-03-15T12:35:51Z",
        "number":  8090,
        "author":  "neos7m",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-18T14:55:51Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI downloaded the sample Aspire project at https://github.com/MicrosoftDocs/aspire-docs-samples/ and ran it. It worked just fine. I then added a migration as per the tutorial at [this page](https://learn.microsoft.com/en-us/dotnet/aspire/database/ef-core-migrations) (i.e. with the commands `cd .\\SupportTicketApi.Api` and `dotnet ef migrations add InitialCreate --project ..\\SupportTicketApi.Data\\SupportTicketApi.Data.csproj`), and this worked just fine as well.\n\nI then deleted the project and downloaded it again. This time, before adding a migration, I went around the project and changed all references to SqlServer to MySql. In particular:\n\n- I replaced the NuGet package `Aspire.Hosting.SqlServer` with `Aspire.Hosting.MySql` in all the projects where it was referenced (AppHost)\n- I replaced the NuGet package `Aspire.Microsoft.EntityFrameworkCore.SqlServer` with `Aspire.Pomelo.EntityFrameworkCore.MySql` in all the rpojects where it was referenced (Api, AppHost, Data)\n- In the AppHost project, I replaced the `AddSqlServer` function call with `AddMySql`, without changing any of the parameters\n- In the Api project, I replaced the `AddSqlServerDbContextˋ function call with `AddMySqlDbContext`, without changing any of the parameters\n\nI then built and ran the application without issues.\n\nAt this point, I tried creating a migration with the same command as before. However, this time I got an error:\n```\nThe exception \u0027Host \u0027DESKTOP-\u003cmy computer name\u003e\u0027 is not allowed to connect to this MySQL server\u0027 was thrown while attempting to find \u0027DbContext\u0027 types. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\n```\n\n### Expected Behavior\n\nThe migration should be correctly added for MySQL just like it is for SqlServer.\n\n### Steps To Reproduce\n\n[Minimal project to reproduce](https://github.com/neos7m/MinimalReproduc-Issue-AspireMySql)\n\n### Exceptions (if any)\n\n```\ninfo: Polly[3]\n      Execution attempt. Source: \u0027Microsoft.Extensions.Hosting.AspireEFMySqlExtensions.ServerVersion/(null)/Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027Host \u0027DESKTOP-\u003cmy computer name\u003e\u0027 is not allowed to connect to this MySQL server\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 43,2392ms\n      MySqlConnector.MySqlException (0x80004005): Host \u0027DESKTOP-\u003cmy computer name\u003e\u0027 is not allowed to connect to this MySQL server\n         at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 894\n         at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 445\n         at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 932\n         at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 938\n         at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419\n         at MySqlConnector.MySqlConnection.Open() in /_/src/MySqlConnector/MySqlConnection.cs:line 381\n         at Microsoft.EntityFrameworkCore.ServerVersion.AutoDetect(String connectionString)\n         at Microsoft.Extensions.Hosting.AspireEFMySqlExtensions.\u003c\u003ec__2`1.\u003cAddMySqlDbContext\u003eb__2_5(String cs) in /_/src/Components/Aspire.Pomelo.EntityFrameworkCore.MySql/AspireEFMySqlExtensions.cs:line 108\n         at Polly.ResiliencePipeline.\u003c\u003ec__36`2.\u003cExecute\u003eb__36_0(ResilienceContext _, ValueTuple`2 state)\nThe exception \u0027Host \u0027DESKTOP-\u003cmy computer name\u003e\u0027 is not allowed to connect to this MySQL server\u0027 was thrown while attempting to find \u0027DbContext\u0027 types. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\n```\n\n### .NET Version info\n\n.NET version 9.0.201\n\n### Anything else?\n\nAspire version 9.1.0\nDocker version 28.0.1 (fresh install) \nVisual Studio 2022 version 17.13.3\n`dotnet-ef` tool version 9.0.3",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvpKPvQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6jOcA2",
                                           "createdAt":  "2025-03-19T23:12:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "callumeveratt",
                                           "body":  "Same error here, also followed the guide but replaced references with MySql references.\n\n```\n Execution attempt. Source: \u0027Microsoft.Extensions.Hosting.AspireEFMySqlExtensions.ServerVersion/(null)/Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027Access denied for user \u0027\u0027@\u0027172.17.0.1\u0027 (using password: NO)\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 87.4547ms\n      MySqlConnector.MySqlException (0x80004005): Access denied for user \u0027\u0027@\u0027172.17.0.1\u0027 (using password: NO)\n         at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 892\n         at MySqlConnector.Core.ServerSession.SwitchAuthenticationAsync(ConnectionSettings cs, String password, PayloadData payload, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 690\n         at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 537\n         at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 1067\n         at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 1073\n         at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 554\n         at MySqlConnector.MySqlConnection.Open() in /_/src/MySqlConnector/MySqlConnection.cs:line 516\n         at Microsoft.EntityFrameworkCore.ServerVersion.AutoDetect(String connectionString)\n         at Microsoft.Extensions.Hosting.AspireEFMySqlExtensions.\u003c\u003ec__2`1.\u003cAddMySqlDbContext\u003eb__2_5(String cs) in /_/src/Components/Aspire.Pomelo.EntityFrameworkCore.MySql/AspireEFMySqlExtensions.cs:line 108\n         at Polly.ResiliencePipeline.\u003c\u003ec__36`2.\u003cExecute\u003eb__36_0(ResilienceContext _, ValueTuple`2 state)\nThe exception \u0027Access denied for user \u0027\u0027@\u0027172.17.0.1\u0027 (using password: NO)\u0027 was thrown while attempting to find \u0027DbContext\u0027 types. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\nPS C:\\Users\\callu\\source\\repos\\WheelieWatch.V2\\WheelieWatch.V2.ApiService\u003e",
                                           "updatedAt":  "2025-03-19T23:12:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ml5DT",
                                           "createdAt":  "2025-04-10T19:29:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@DamianEdwards do you know if there were recent samples/docs updates that would relate to this case?",
                                           "updatedAt":  "2025-04-10T19:29:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmHyv",
                                           "createdAt":  "2025-04-10T19:50:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Seems like the Aspire MySql integration is attempting to auto-detect the server version during app startup and that requires connecting to the database which is failing because there isn\u0027t a connection string configured (which is typical when using Aspire). This is similar to #8678 where Npgsql itself requires a well-formed connection string to exist when creating a migration, but in this case it\u0027s caused by the Aspire integration. That said, it looks as if the MySQL EF Core provider requires a `ServerVersion` to be passed when configuring EF Core so I don\u0027t think there\u0027s anyway we can avoid it.\n\n@neos7m @callumeveratt if you set a `ServerVersion` in Aspire configuration in the app\u0027s `appettings.json` file, that should avoid this code path, e.g.:\n\n```json\n{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\"\n    }\n  },\n  \"AllowedHosts\": \"*\",\n  \"Aspire\": {\n    \"Pomelo\": {\n      \"EntityFrameworkCore\": {\n        \"MySql\": {\n          \"ServerVersion\": \"8.0.40\"\n        }\n      }\n    }\n  }\n}\n\n```\n\n/Cc @eerhardt",
                                           "updatedAt":  "2025-04-10T19:50:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmIuW",
                                           "createdAt":  "2025-04-10T19:52:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "We had this converstion when the change happened: https://github.com/dotnet/aspire/pull/2386#discussion_r1501185224\n\ncc @bgrainger ",
                                           "updatedAt":  "2025-04-10T19:52:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmUEG",
                                           "createdAt":  "2025-04-10T20:14:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOENwnkQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2025-04-10T20:40:21Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "neos7m",
                                           "body":  "\u003e Seems like the Aspire MySql integration is attempting to auto-detect the server version during app startup and that requires connecting to the database which is failing because there isn\u0027t a connection string configured (which is typical when using Aspire). This is similar to [#8678](https://github.com/dotnet/aspire/issues/8678) where Npgsql itself requires a well-formed connection string to exist when creating a migration, but in this case it\u0027s caused by the Aspire integration. That said, it looks as if the MySQL EF Core provider requires a `ServerVersion` to be passed when configuring EF Core so I don\u0027t think there\u0027s anyway we can avoid it.\n\u003e \n\u003e [@neos7m](https://github.com/neos7m) [@callumeveratt](https://github.com/callumeveratt) if you set a `ServerVersion` in Aspire configuration in the app\u0027s `appettings.json` file, that should avoid this code path, e.g.:\n\u003e \n\u003e {\n\u003e   \"Logging\": {\n\u003e     \"LogLevel\": {\n\u003e       \"Default\": \"Information\",\n\u003e       \"Microsoft.AspNetCore\": \"Warning\"\n\u003e     }\n\u003e   },\n\u003e   \"AllowedHosts\": \"*\",\n\u003e   \"Aspire\": {\n\u003e     \"Pomelo\": {\n\u003e       \"EntityFrameworkCore\": {\n\u003e         \"MySql\": {\n\u003e           \"ServerVersion\": \"8.0.40\"\n\u003e         }\n\u003e       }\n\u003e     }\n\u003e   }\n\u003e }\n\u003e \n\u003e /Cc [@eerhardt](https://github.com/eerhardt)\n\nThank you for your reply @DamianEdwards. I\u0027m assuming this change should be done on the `SupportTicketApi.Api` project (where I execute the command from), since there is no appsettings file in `SupportTicketApi.Data` (the project holding the context class).\n\nWhen I replace the content of the appsettings file with your suggestion, the error changes to\n\n\u003e The exception \u0027The string argument \u0027connectionString\u0027 cannot be empty.\u0027 was thrown while attempting to find \u0027DbContext\u0027 types. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\n\nSo, unfortunately, this does not solve it, but I do believe it is a step forward.",
                                           "updatedAt":  "2025-04-10T20:14:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6whkdZ",
                                           "createdAt":  "2025-06-11T07:44:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @DamianEdwards ",
                                           "updatedAt":  "2025-06-11T07:44:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62koR7",
                                           "createdAt":  "2025-07-11T16:59:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DevTKSS",
                                           "body":  "Pomelo nuget is still using 8.0 dependencys which results in warning of incompartibility:\n\nwarn : NU1608: Erkannte Paketversion außerhalb der Abhängigkeitseinschränkung: \"Pomelo.EntityFrameworkCore.MySql 8.0.3\" erfordert Microsoft.EntityFrameworkCore.Relational (\u003e= 8.0.13 \u0026\u0026 \u003c= 8.0.999), aber es wurde Version Microsoft.EntityFrameworkCore.Relational 9.0.7 aufgelöst.\n\nwhich nuget is a proper replacement to use?",
                                           "updatedAt":  "2025-07-11T16:59:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62kyE0",
                                           "createdAt":  "2025-07-11T17:11:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@eerhardt do we need to do a package dependency update for the MySQL client integration? Or this an issue with the MySQL client itself? ",
                                           "updatedAt":  "2025-07-11T17:11:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62lraL",
                                           "createdAt":  "2025-07-11T18:34:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Looks like there isn\u0027t a 9.0.0 version yet. https://www.nuget.org/packages/Pomelo.EntityFrameworkCore.MySql/\n\ncc @bgrainger ",
                                           "updatedAt":  "2025-07-11T18:34:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62l3Sb",
                                           "createdAt":  "2025-07-11T18:50:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DevTKSS",
                                           "body":  "As I looked at their repo, it looked like their integration tests were failing and there is only a preview package out... Maybe the aspire team could help them with last steps to stable 9.0 release, might be the smallest effort way beside searching for and choosing another package 😅🤷",
                                           "updatedAt":  "2025-07-11T18:50:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63BNyh",
                                           "createdAt":  "2025-07-14T18:23:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DevTKSS",
                                           "body":  "@eerhardt @bgrainger for you to follow up, look into and hopefully enable some decision on their side, which seems like not to happen... This Issue here seems to block the Pomelo stable release\nhttps://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql/issues/1841",
                                           "updatedAt":  "2025-07-14T18:23:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63BPR3",
                                           "createdAt":  "2025-07-14T18:25:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEahA1A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "DevTKSS",
                                                                               "createdAt":  "2025-07-14T18:26:05Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "bgrainger",
                                           "body":  "FWIW, I started on a PR to update Pomelo to 9.x, but it\u0027s blocked on that project not shipping a stable release: https://github.com/dotnet/aspire/pull/6948.",
                                           "updatedAt":  "2025-07-14T18:25:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63BU_Z",
                                           "createdAt":  "2025-07-14T18:34:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DevTKSS",
                                           "body":  "@bgrainger so, that will mean, this will not be a option to use in asp net core or aspire context for the forsee able future I would guess? I searched the nuget gallery but beside the MySql.EntityFrameworkCore Package itself I was not able to spot a nuget that does provide the same (looking at the naming) and does not just implement the Pomelo package as dependency. E.g. the https://www.nuget.org/packages/IdentitySuite.EntityFrameworkCore.MySql does even use the prerelease of the named pomelo Package.\nI am just a beginner with all of this, but I would like to maybe understand, what is that blocking detail? I mean, some compiled query the 1841 issue is about, I would honestly think beeing a feature and not something thats blocking a stable release 🤔\n",
                                           "updatedAt":  "2025-07-14T18:34:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63Dqv4",
                                           "createdAt":  "2025-07-14T22:13:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "It\u0027s blocking for us because we have a policy of not shipping stable packages with dependency on non-stable (i.e. pre-release) versioned packages.",
                                           "updatedAt":  "2025-07-14T22:13:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63EgfN",
                                           "createdAt":  "2025-07-15T00:23:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DevTKSS",
                                           "body":  "@DamianEdwards which is a good way to do! May you see from your knowledge if there is any option to speak with the maintainers to somehow get theirs to stable, or do you know of some workaround or alternative package to use with aspire and mysql for this?",
                                           "updatedAt":  "2025-07-15T00:23:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63swbx",
                                           "createdAt":  "2025-07-17T00:38:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mguinness",
                                           "body":  "@roji Would you be able to reach out to Laurents to see if he has the bandwidth to complete the GA release?",
                                           "updatedAt":  "2025-07-17T00:38:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63z7Cf",
                                           "createdAt":  "2025-07-17T12:14:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "roji",
                                           "body":  "/cc @lauxjpn\n",
                                           "updatedAt":  "2025-07-17T12:14:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66XfJq",
                                           "createdAt":  "2025-07-28T11:07:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEcMEPA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "roji",
                                                                               "createdAt":  "2025-07-28T12:45:13Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "mguinness",
                                                                               "createdAt":  "2025-07-28T14:14:12Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "DevTKSS",
                                                                               "createdAt":  "2025-07-28T15:15:05Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "lauxjpn",
                                           "body":  "Thanks for pining me! We will release the our RC version now. Shortly after that, we will release the GA version.",
                                           "updatedAt":  "2025-07-28T11:07:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-ko-9",
                                           "createdAt":  "2025-08-18T14:55:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mguinness",
                                           "body":  "\u003e Looks like there isn\u0027t a 9.0.0 version yet. https://www.nuget.org/packages/Pomelo.EntityFrameworkCore.MySql/\n\n@bgrainger - Laurents has released [9.0.0](https://github.com/PomeloFoundation/Pomelo.EntityFrameworkCore.MySql/releases/tag/9.0.0) so you could now reopen https://github.com/dotnet/aspire/pull/6948 if you have the time.",
                                           "updatedAt":  "2025-08-18T14:55:51Z"
                                       }
                                   ],
                         "totalCount":  19
                     },
        "title":  "Unable to add a migration with Aspire.Pomelo.EntityFrameworkCore.MySql",
        "labels":  [
                       "area-integrations",
                       "entityframework"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8116",
        "createdAt":  "2025-03-17T17:15:57Z",
        "number":  8116,
        "author":  "mattchenderson",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-07T06:31:28Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAspire will set `AZURE_CLIENT_ID` to inform connections of the client ID to use. When exploring scale rules setup for Azure Functions, it appears that KEDA is one example of a component that doesn\u0027t process `AZURE_CLIENT_ID` yet.\n\n\n\n### Describe the solution you\u0027d like\n\nFunctions also offers a combination of two other parameters, and this is the typical recommendation for setting up connections with a user-assigned identity: `\u003cCONNECTION_NAME_PREFIX\u003e__credential` (always set to \"managedidentity\") and `\u003cCONNECTION_NAME_PREFIX\u003e__clientId` (set to the client ID). These are documented [here](https://learn.microsoft.com/azure/azure-functions/functions-reference?pivots=programming-language-csharp#common-properties-for-identity-based-connections).\n\nThis combination of settings should be valid for all existing implementers of `IResourceWithAzureFunctionsConfig`, but this should be approached on a case-by-case basis.\n\nThere\u0027s a bit of repetition and verbosity here, but it ensures the components will work as expected. Longer-term, KEDA could be updated to process `AZURE_CLIENT_ID`, and we could explore removing some of the repetition if needed.\n\n\n\n### Additional context\n\nTriggers and bindings will _mostly_ be set up to consume `AZURE_CLIENT_ID`, but there may be some variance in the overall config approach. Ensuring we capture a complete setup within each `IResourceWithAzureFunctionsConfig` will improve resilience to this.\n\nThis would also be preferable if there were to be support for multiple identities in the distributed application.\n\nNote that these settings should be set together. Setting only one will not have the desired effect. Today, the integration uses `DefaultAzureCredential`, which during probing picks up `AZURE_CLIENT_ID` to use for MI. Just setting the connection-level client ID would be ignored. By setting the credential property, though, we force the system to instead use `ManagedIdentityCredential`, and without the client ID setting, it would just attempt to resolve a system-assigned managed identity, which would not exist in normal Aspire configurations.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqk5wEQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6iwUtK",
                                           "createdAt":  "2025-03-17T19:12:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e This combination of settings should be valid for all existing implementers of IResourceWithAzureFunctionsConfig, but this should be approached on a case-by-case basis.\n\nWhat do we need to consider when evaluating case-by-case for the existing resources we have?",
                                           "updatedAt":  "2025-03-17T19:12:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6iyh1T",
                                           "createdAt":  "2025-03-17T23:07:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mattchenderson",
                                           "body":  "Apologies - I didn\u0027t phrase that well. If implemented in the expected way, all of our triggers and bindings should do the right thing here. There have, however, been some hiccups in the past, so this was me flagging a \"something to think about / check on\" for the future as we expand the integration set. I can assert that the existing integration set complies with this correctly, and there should be nothing blocking those.\n\nTyping that prompted me to consider if we would set this centrally or ask this of each `IResourceWithAzureFunctionsConfig` implementation. I think having it within each allows us to handle deviation if ever needed. That\u0027s also just aligned better with the way things are in the code base today. We\u0027d lose out on enforcement and could have mistaken omissions, but it should be easy enough to catch this in review.",
                                           "updatedAt":  "2025-03-17T23:07:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6izarj",
                                           "createdAt":  "2025-03-18T02:00:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think I know how this should work. @eerhardt , it’s similar to known parameters though I’d want it to be a sentinel  value though",
                                           "updatedAt":  "2025-03-18T02:00:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nw2oE",
                                           "createdAt":  "2025-04-18T05:47:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We may need to tweak IResourceWithAzureFunctionsConfig, we need the target resource to do this inside of the resource itself.",
                                           "updatedAt":  "2025-04-18T05:47:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nxTp4",
                                           "createdAt":  "2025-04-18T07:03:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Actually, it might be possible to do this without API changes, see https://github.com/dotnet/aspire/pull/8868\n",
                                           "updatedAt":  "2025-04-18T07:03:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6p_8no",
                                           "createdAt":  "2025-05-05T19:28:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danmoseley",
                                           "body":  "@davidfowl sounds like we can close this",
                                           "updatedAt":  "2025-05-05T19:28:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qTnAR",
                                           "createdAt":  "2025-05-07T06:31:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is being fixed in keda, I will punt this @mattchenderson as it\u0027s no longer required for functions GA.",
                                           "updatedAt":  "2025-05-07T06:31:23Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Implementors of `IResourceWithAzureFunctionsConfig` should set additional params for identity-based configuration.",
        "labels":  [
                       "area-integrations",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8152",
        "createdAt":  "2025-03-18T23:34:40Z",
        "number":  8152,
        "author":  "re2cc",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-29T14:56:12Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nFollowing the example at the [Microsoft documentation](https://learn.microsoft.com/en-us/dotnet/aspire/get-started/build-aspire-apps-with-python?tabs=powershell) everything works as expected until you add OpenTelemetry. It starts the application correctly, but it is unable to stop the project afterwards (neither from the Dashboard nor by stopping the whole project).\nYou can verify that the application is still running in the task manager.\n\n### Expected Behavior\n\nPython application stops\n\n### Steps To Reproduce\n\nFollow the example at the [Microsoft documentation](https://learn.microsoft.com/en-us/dotnet/aspire/get-started/build-aspire-apps-with-python?tabs=powershell), everything works until you add OpenTelemetry\n\nHere is a repository in case you prefer to clone it directly [AspireTest](https://github.com/re2cc/AspireTest)\n\n### Exceptions (if any)\n\nThe AppHost terminal shows an error\n\n![Image](https://github.com/user-attachments/assets/dde305bd-6e91-4681-91bb-f0f2e13b9b6e)\n\nAnd the Aspire Dashboard shows the application status as unknown.\n\n![Image](https://github.com/user-attachments/assets/5a255204-02c3-4512-81c0-47c612a67798)\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.201\n Commit:            071aaccdc2\n Workload version:  9.0.200-manifests.a3a1a094\n MSBuild version:   17.13.13+1c2026462\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.201\\\n\n.NET workloads installed:\n [aspire]\n   Installation Source: VS 17.13.35828.75\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [wasm-tools]\n   Installation Source: VS 17.13.35828.75\n   Manifest Version:    9.0.3/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.workload.mono.toolchain.current\\9.0.3\\WorkloadManifest.json\n   Install Type:              Msi\n\n [android]\n   Installation Source: VS 17.13.35828.75\n   Manifest Version:    35.0.39/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.39\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: VS 17.13.35828.75\n   Manifest Version:    18.2.9180/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.2.9180\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.13.35828.75\n   Manifest Version:    9.0.14/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.14\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: VS 17.13.35828.75\n   Manifest Version:    18.2.9180/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.2.9180\\WorkloadManifest.json\n   Install Type:              Msi\n\n\n### Anything else?\n\n- The example does not use ASP.NET Core\n- .NET Aspire version is 9.1.0\n- Python version is 3.13.2\n- I\u0027m using Rider",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwPXITQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ltTce",
                                           "createdAt":  "2025-04-05T01:28:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "CZEMacLeod",
                                           "body":  "I found a similar issue when I was trying to get debugging to work. When you add OpenTelemetry it changes the run command to open-telemetry.exe with the original python.exe command as the parameter.\nThe open-telemetry command uses execl which \u0027replaces\u0027 the current process with the new one. The problem is this terminates the process launched by DCP, and the new process is not a child process which would be terminated with the parent process which would wait on the child process exit.\n\nI\u0027m not sure why it is implemented this way, and I am not a python developer, but I had got this far in my investigation. Hopefully this can help with working out a way forward.\n",
                                           "updatedAt":  "2025-04-05T01:28:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AzHV7",
                                           "createdAt":  "2025-08-28T19:04:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "@karolz-ms @danegsta thoughts?!",
                                           "updatedAt":  "2025-08-28T19:04:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A1h-8",
                                           "createdAt":  "2025-08-28T23:33:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgK_QA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-29T15:00:43Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "danegsta",
                                           "body":  "Short story: this should be fixed in Aspire 9.4.\n\nLong story: when running with the otel collector, python on Windows forks the app outside of the parent process tree. So when we stopped the app and its children _only_ the otel collector process was being terminated. In 9.4 we started running processes on Windows in [job groups](https://learn.microsoft.com/en-us/windows/win32/procthread/job-objects) which allows us to terminate all processes in a job (any child process started by a process in a job group inherits the same job group, regardless of whether it\u0027s forked outside of the parent\u0027s process tree).",
                                           "updatedAt":  "2025-08-28T23:33:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A6bdd",
                                           "createdAt":  "2025-08-29T10:24:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "CZEMacLeod",
                                           "body":  "@danegsta I haven\u0027t tried this yet, but does the job group get exposed as a resource property like the PID is?",
                                           "updatedAt":  "2025-08-29T10:24:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A9chN",
                                           "createdAt":  "2025-08-29T14:56:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "@CZEMacLeod no, the job group is currently treated as an opaque detail (it’s a Windows only concept and there’s no meaningful way to interact with job groups outside of low level Win32 APIs). References to the job group can show up in the orchestrator logs though (generally only at a debug level) usually described as the process cleanup job. ",
                                           "updatedAt":  "2025-08-29T14:56:12Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "AddPythonApp does not stop the Python application if you use OpenTelemetry.",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8177",
        "createdAt":  "2025-03-19T15:28:07Z",
        "number":  8177,
        "author":  "christiannagel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-03-29T09:05:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI\u0027ve issues running my Codebreaker solution using the Azure Cosmos DB preview emulator with the Enrich API using EF Core - it\u0027s running with the local installed emulator, and in Azure. With the preview emulator it fails.\nNow I tried using @davidfowl project https://github.com/davidfowl/aspire-ai-chat-demo. With the code as it is, everything runs successfully.\nChanging it to use the .NET Aspire Enrich API, it fails.\n\n\n### Expected Behavior\n\nWhen changing ChatApi/Program.cs from\n\n```csharp\nbuilder.AddCosmosDbContext\u003cAppDbContext\u003e(\"conversations\", \"db\");\n```\n\nhttps://github.com/davidfowl/aspire-ai-chat-demo/blob/6296a504010e77fce550c8f2aba893ed0e4f34cf/ChatApi/Program.cs#L7\n\nto\n\n```csharp\nbuilder.Services.AddCosmos\u003cAppDbContext\u003e(\"conversations\", \"db\");\nbuilder.EnrichCosmosDbContext\u003cAppDbContext\u003e();\n```\n\nhttps://github.com/christiannagel/aspire-ai-chat-demo/blob/192969f0eb254b39639849b005f90db4ac5dcc84/ChatApi/Program.cs#L8-L9\n\nNo data is written to the database. I saw a `DbUpdateException`.\n\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n```\nMicrosoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the item with id \u00270195aee7-e4da-7a43-be30-78fcc1faaecb\u0027. See the inner exception for details.\n ---\u003e System.ArgumentException: Format of the initialization string does not conform to specification starting at index 0.\n   at System.Data.Common.DbConnectionOptions.GetKeyValuePair(String connectionString, Int32 currentPosition, StringBuilder buffer, Boolean useOdbcRules, String\u0026 keyname, String\u0026 keyvalue)\n   at System.Data.Common.DbConnectionOptions.ParseInternal(Dictionary`2 parsetable, String connectionString, Boolean buildChain, Dictionary`2 synonyms, Boolean firstKey)\n   at System.Data.Common.DbConnectionOptions..ctor(String connectionString, Dictionary`2 synonyms, Boolean useOdbcRules)\n   at System.Data.Common.DbConnectionStringBuilder.set_ConnectionString(String value)\n   at Microsoft.Azure.Cosmos.CosmosClientOptions.GetValueFromConnectionString[T](String connectionString, String keyName, T defaultValue)\n   at Microsoft.Azure.Cosmos.CosmosClientOptions.GetAccountEndpoint(String connectionString)\n   at Microsoft.Azure.Cosmos.CosmosClient..ctor(String connectionString, CosmosClientOptions clientOptions)\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.SingletonCosmosClientWrapper.get_Client()\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosClientWrapper.get_Client()\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosClientWrapper.CreateItemOnceAsync(DbContext _, ValueTuple`4 parameters, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosClientWrapper.CreateItemOnceAsync(DbContext _, ValueTuple`4 parameters, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosClientWrapper.CreateItemOnceAsync(DbContext _, ValueTuple`4 parameters, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosDatabaseWrapper.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at Microsoft.EntityFrameworkCore.Cosmos.Storage.Internal.CosmosDatabaseWrapper.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.\u003c\u003ec__DisplayClass30_0`2.\u003c\u003cExecuteAsync\u003eb__0\u003ed.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\n   at ChatExtensions.\u003c\u003ec.\u003c\u003cMapChatApi\u003eb__0_3\u003ed.MoveNext() in D:\\christian\\aspire-ai-chat-demo\\ChatApi\\ChatApi.cs:line 46\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.\u003c\u003ec__DisplayClass101_2.\u003c\u003cHandleRequestBodyAndCompileRequestDelegateForJson\u003eb__2\u003ed.MoveNext()\n```\n\nI don\u0027t know how this relates to changing the configuration to the Enrich API.\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpLPDCQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6krfjq",
                                           "createdAt":  "2025-03-28T23:42:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @sebastienros can you take a look?",
                                           "updatedAt":  "2025-03-28T23:42:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6krflk",
                                           "createdAt":  "2025-03-28T23:42:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@roji any ideas?",
                                           "updatedAt":  "2025-03-28T23:42:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6krgOH",
                                           "createdAt":  "2025-03-28T23:44:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@christiannagel I think you need to set the connection string\n\n```csharp\nvar connectionString = builder.Configuration.GetConnectionString(\"mydb\");\nbuilder.Services.AddDbContextPool\u003cMyDbContext\u003e(dbContextOptionsBuilder =\u003e dbContextOptionsBuilder.UseCosmos(connectionString, \"mydb\"));\nbuilder.EnrichCosmosDbContext\u003cMyDbContext\u003e();\n```",
                                           "updatedAt":  "2025-03-28T23:44:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6krhdg",
                                           "createdAt":  "2025-03-28T23:47:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I used the doc from the README: https://github.com/dotnet/aspire/tree/main/src/Components/Aspire.Microsoft.EntityFrameworkCore.Cosmos#usage-example\n\nBut I think this is missing from the docs website: https://learn.microsoft.com/en-us/dotnet/aspire/database/azure-cosmos-db-entity-framework-integration?tabs=dotnet-cli",
                                           "updatedAt":  "2025-03-28T23:47:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6krjHM",
                                           "createdAt":  "2025-03-28T23:52:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@IEvangelist ",
                                           "updatedAt":  "2025-03-28T23:52:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ks8MJ",
                                           "createdAt":  "2025-03-29T09:05:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "roji",
                                           "body":  "The usual way to configure Cosmos is actually without a connection string - there are some UseCosmos() which simply accept the required endpoint information, etc., [see these getting started docs](https://learn.microsoft.com/en-us/ef/core/providers/cosmos/?tabs=dotnet-core-cli#get-started). There\u0027s indeed also a UseCosmos() accepting a connection string, but I\u0027d recommend the other, more strongly-typed overloads.",
                                           "updatedAt":  "2025-03-29T09:05:54Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Azure Cosmos DB Preview Emulator with EF Core and Enrich API fails writing to the database",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8193",
        "createdAt":  "2025-03-20T00:13:35Z",
        "number":  8193,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-20T00:03:08Z",
        "body":  "## Build Information\nBuild: https://dev.azure.com/dnceng-public/cbb18261-c48f-4abb-8651-8cdcb5474649/_build/results?buildId=986701\nBuild error leg or test failing: Aspire.Pomelo.EntityFrameworkCore.MySql.Tests.ConformanceTests.CanRegisterMultipleInstancesUsingDifferentKeys\nPull request: N/A\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"System.IO.IOException : Unable to read data from the transport connection: Connection reset by peer\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\r\n\u003c!-- Known issue validation start --\u003e\r\n ### Known issue validation\r\n**Build: :mag_right:** https://dev.azure.com/dnceng-public/public/_build/results?buildId=986701\r\n**Error message validated:** `[System.IO.IOException : Unable to read data from the transport connection: Connection reset by peer`]\r\n**Result validation:** :white_check_mark: Known issue matched with the provided build.\r\n**Validation performed at:** 3/20/2025 12:13:49 AM UTC\r\n\u003c!-- Known issue validation end --\u003e\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/18/2025 9:42:23 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp1S9Rw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6jPBLr",
                                           "createdAt":  "2025-03-20T00:24:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "cc @sebastienros @captainsafia @eerhardt @joperezr ",
                                           "updatedAt":  "2025-03-20T00:24:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lKUJ6",
                                           "createdAt":  "2025-04-02T00:06:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Failing again.",
                                           "updatedAt":  "2025-04-02T00:06:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nVL1H",
                                           "createdAt":  "2025-04-15T20:01:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Conformance tests like this aren\u0027t quarantined because the tests are in the base class. In some test projects we can override the test method and Quarantine the test, but others have multiple derived classes which ends up quarantining the tests in these other classes too.",
                                           "updatedAt":  "2025-04-15T20:01:23Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Failing tests - `Aspire.Pomelo.EntityFrameworkCore.MySql.Tests.ConformanceTests.CanRegisterMultipleInstancesUsingDifferentKeys`",
        "labels":  [
                       "area-integrations",
                       "blocking-clean-ci",
                       "mysql",
                       "flaky-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8233",
        "createdAt":  "2025-03-21T10:41:23Z",
        "number":  8233,
        "author":  "Meir017",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODGnoEA==",
                          "nodes":  [
                                        {
                                            "content":  "HEART",
                                            "user":  "captainsafia",
                                            "createdAt":  "2025-03-21T16:38:34Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "MattKotsenas",
                                            "createdAt":  "2025-06-18T18:35:28Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "Tapanila",
                                            "createdAt":  "2025-07-11T08:40:20Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-03-23T22:23:54Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nConfiguring a service with a kusto dependency isn\u0027t trivial with aspire.\n\nprovisioning a kusto resource using the provisioning library - https://github.com/Azure/azure-sdk-for-net/issues/49031\nconfiguring client library - https://www.nuget.org/packages/Microsoft.Azure.Kusto.Data/\n\n### Describe the solution you\u0027d like\n\nSomething similar to \n- hosting - https://github.com/atc-net/atc-aspire/tree/main/src/Atc.Aspire.Hosting.Azure.Kusto\n    - and a `RunAsEmulator` method to integrate with https://learn.microsoft.com/en-us/azure/data-explorer/kusto-emulator-install\n- integration - https://github.com/atc-net/atc-aspire/tree/main/src/Atc.Aspire.Azure.Kusto\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Kusto hosting \u0026 integration libraries",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8342",
        "createdAt":  "2025-03-27T04:48:34Z",
        "number":  8342,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-20T00:03:13Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Build information\n\nBuild: https://github.com/dotnet/aspire/actions/runs/14097562651/job/39487742788?pr=8333\nBuild error leg or test failing: Aspire.Azure.Messaging.WebPubSub.Tests.ConformanceTests.LoggerFactoryIsUsedByRegisteredClient\nPull Request: #8333 \n\n\n### Fill in the error message template\n\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"Not found:  \\\"Azure.Core\\\"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n### Other info\n\n```\n  Failed Aspire.Azure.Messaging.WebPubSub.Tests.ConformanceTests.LoggerFactoryIsUsedByRegisteredClient(registerAfterLoggerFactory: False, useKey: True) [5 s]\n  Error Message:\n   Assert.Contains() Failure: Item not found in collection\nCollection: [\"Microsoft.Hosting.Lifetime\", \"Microsoft.Extensions.Hosting.Internal.Host\", \"Microsoft.Extensions.Hosting.Internal.ApplicationL\"···]\nNot found:  \"Azure.Core\"\n  Stack Trace:\n     at Aspire.Components.ConformanceTests.ConformanceTests`2.LoggerFactoryIsUsedByRegisteredClient(Boolean registerAfterLoggerFactory, Boolean useKey) in /_/tests/Aspire.Components.Common.Tests/ConformanceTests.cs:line 299\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\n   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)\n```\r\n\u003c!-- Known issue validation start --\u003e\r\n ### Known issue validation\r\n**Build: :mag_right:** \r\n**Result validation:** :warning: Validation could not be done without an Azure DevOps build URL on the issue. Please add it to the \"**Build:** :mag_right:\" line.\r\n**Validation performed at:** 9/18/2025 9:42:27 AM UTC\r\n\u003c!-- Known issue validation end --\u003e\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/18/2025 9:42:22 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp1TmSw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6nVOZL",
                                           "createdAt":  "2025-04-15T20:06:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Conformance tests like this aren\u0027t quarantined because the tests are in the base class. In some test projects we can override the test method and Quarantine the test, but others have multiple derived classes which ends up quarantining the tests in these other classes too.",
                                           "updatedAt":  "2025-04-15T20:06:27Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[Failing test]: Aspire.Azure.Messaging.WebPubSub.Tests.ConformanceTests.LoggerFactoryIsUsedByRegisteredClient",
        "labels":  [
                       "area-integrations",
                       "blocking-clean-ci",
                       "flaky-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8350",
        "createdAt":  "2025-03-27T11:28:52Z",
        "number":  8350,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPQQww==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "paule96",
                                            "createdAt":  "2025-03-27T12:13:27Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Meir017",
                                            "createdAt":  "2025-03-27T18:36:15Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "maddymontaquila",
                                            "createdAt":  "2025-04-02T18:30:33Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "antosubash",
                                            "createdAt":  "2025-04-02T20:14:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "KLuuKer",
                                            "createdAt":  "2025-04-03T06:49:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "KennethHoff",
                                            "createdAt":  "2025-04-04T13:58:25Z"
                                        },
                                        {
                                            "content":  "HOORAY",
                                            "user":  "kenotron",
                                            "createdAt":  "2025-08-15T22:50:25Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rmunn",
                                            "createdAt":  "2025-09-09T05:15:47Z"
                                        }
                                    ],
                          "totalCount":  8
                      },
        "updatedAt":  "2025-08-26T15:14:48Z",
        "body":  "The Aspire team wants to make Aspire more friendly to client-side JavaScript developers. Today we have APIs such as `AddNpmApp(...)` and `AddNodeApp(...)`. These are fairly thin wrappers around adding an executable.\n\nWhat we would like to do is add an API which is more squarely targetted at the client-side developer. Let\u0027s walk through what we are thinking by looking at some code:\n\n```csharp\nbuilder.AddClientsideJavaScriptApp(\"frontend\")\n       .WithHttpEndpoint(env: \"PORT\")\n       .WithRestoreCommand(\"npm install\")\n       .WithRunCommand(\"npm run dev\")\n       .WithPublishCommand(\"npm run build\", outputPath: \"dist\")\n       .WithHttpOtelCollector()\n       .WithEnvironmentPrefix(\"OTEL_\", \"VITE_OTEL_\")\n       .WithEnvironment(\"BACKEND\", api)\n       .WithReference(api, env: \"BACKEND\")\n       .WithReference(api, endpointName: \"http\", env: \"BACKEND\")\n       .PublishAsDockerfile()\n       .PublishAsNginx()\n       .PublishAsCaddyserver()\n       .PublishAsAzureBlobStorage(...);\n```\n\nLets look at each of these lines in a bit more detail:\n\n```csharp\nbuilder.AddClientsideJavaScriptApp(\"frontend\")\n       .WithRestoreCommand(\"npm install\")\n       .WithRunCommand(\"npm run dev\")\n       .WithPublishCommand(\"npm run build\", outputPath: \"dist\")\n```\n\nThis would be a new resource (ClientsideJavaScriptResource) which derives from executable resource (so similar to Node/NPM resources in that respect). Its type would enable the use of the `WithRunCommand(...)`, `WithRestoreComand(...)`, and `WithPublishCommand(...)`. This methods might hang off a common interface that we could use across different language ecosystems. For example we could do something similar with Python.\n\nThe effect of these methods in the dashboard is that the client-side JS resource would show the log output from invoking `npm run dev`. But there would be a child resource for the restore command. The parent resource would actually have a `WaitForCompletion(...)` on its child resource.\n\nThe publish command data would be stored in an annotation which is used by the code that publishes the app in the appropriate way (probably by creating a container image).\n\n# WithHttpOtelCollector(...)\n\n```csharp\n.WithHttpOtelCollector(...)\n```\n\nThis would add an annotation on the resource that signals that when the dashboard launches it should expose not just gRPC, but also the http collector (we\u0027ll need to do work to support that in the dashboard - /cc @JamesNK). Its likely that the `AddClientsideJavaScriptApp(...)` implicitly calls this method, its shown here so we could discuss the need for it.\n\n# Environment variable prefixes\n\nMany JavaScript tools use a prefixing mechanism to control a set of variables which are injected into the client-side code. For example Vite has a `VITE_` prefix. We will add a method that allows us to find existing variables on the resource and remap them.\n\n```csharp\n       .WithEnvironmentPrefix(\"OTEL_\", \"VITE_OTEL_\")\n```\n\nThis will probably need to be a specialized annotation that DCP supports so that it is always processed after all other environment variables have been generated.\n\n# Service discovery environment variables\n\nWe are having some debate on whether we should just get folks to use `WithEnvironment(\"name\", resource)` - or whether we make some extensions to `WithReference(...)`. There is a possibility of an NPM package which does service discovery integration. There will probably be a crawl-walk-run story here.\n\n# Publishing extensions\n\nWe want to make it easy to bundle up the client side JavaScript on a web server for deployment. We could have the following options:\n\n```csharp\n       .PublishAsDockerfile() // roll your own\n       .PublishAsNginx()\n       .PublishAsCaddyserver()\n       .PublishAsYarp()\n       .PublishAsAzureBlobStorage(...); // static CDN hosting scenarios\n```\n\nMore detail to follow.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwDOlJQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6kXz7w",
                                           "createdAt":  "2025-03-27T11:29:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "/cc @davidfowl @maddymontaquila @glennc @DamianEdwards @robrich ",
                                           "updatedAt":  "2025-03-27T11:29:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6kaVs6",
                                           "createdAt":  "2025-03-27T14:54:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOELyuhg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "mitchdenny",
                                                                               "createdAt":  "2025-03-27T21:13:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "robrich",
                                           "body":  "When we add `.WithHttpOtelCollector()` (implicitly in the `.AddBrowserJavaScriptApp()`) it not only needs to turn on the HTTP OTEL collector in the Aspire dashboard (`\"DOTNET_DASHBOARD_OTLP_HTTP_ENDPOINT_URL\": \"http...`), it also needs to send the env vars that use the HTTP protocol because browsers can\u0027t send gRPC.",
                                           "updatedAt":  "2025-03-27T18:21:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6knc9m",
                                           "createdAt":  "2025-03-28T16:12:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "CZEMacLeod",
                                           "body":  "@robrich I have a similar issue with net48 where the open telemetry client cannot support SSL certificates in GRPC mode but it can in HTTP mode. This means that we need to disable the `DOTNET_DASHBOARD_OTLP_ENDPOINT_URL` variable in the aspire host launch profile. If we could pass an option to `WithOtlpExporter` that could specify which endpoint to use per resource it would be very helpful.\nhttps://github.com/dotnet/aspire/blob/84d6e25c672f9d31bc09ee85102e29d53b0fe85e/src/Aspire.Hosting/OtlpConfigurationExtensions.cs#L46-L61\nThis would be a real help.\n",
                                           "updatedAt":  "2025-03-28T16:12:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lVfIe",
                                           "createdAt":  "2025-04-02T22:29:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "I\u0027ve got a few thoughts on this from having built some extensions in the Community Toolkit for the Node.js hosting package.\n\nFirst one, I think it should be `AddClient**S**ideJavaScriptApp` not `AddClient**s**ideJavaScriptApp` - I tackle the important stuff first 😜.\n\nRegarding the API:\n\n```js\n       .WithRunCommand(\"npm run dev\")\n       .WithPublishCommand(\"npm run build\", outputPath: \"dist\")\n```\n\nI don\u0027t really love this, as it feels like it\u0027s breaking from the standard design of Aspire and requiring you to make the client side app really special, rather than having it on the initial resource registration. For example, what if I don\u0027t include the `WithRunCommand`, what does it do? and is the run command only valid for dev but not in production? what about `WithPublishCommand` if I\u0027m using `PublishAsDockerfile`, aren\u0027t I doing two publish steps?\n\n```js\n       .WithEnvironmentPrefix(\"OTEL_\", \"VITE_OTEL_\")\n       .WithEnvironment(\"BACKEND\", api)\n       .WithReference(api, env: \"BACKEND\")\n       .WithReference(api, endpointName: \"http\", env: \"BACKEND\")\n```\n\nThese are great additions as the way environment variables are surfaced to apps currently is very foreign to a JS developer and as a result you either have to write a bunch of mapping code yourself or just accept that you\u0027re mixing ideas.\n\n```js\n.WithRestoreCommand(\"npm install\")\n```\n\nWith the extensions package in the Community Toolkit we\u0027ve essentially implemented this via the `WithNpmPackageInstallation` (and yarn + pnpm versions) method. While I think I understand the intent of your API proposal - allow the arbitrary command to be provided so there\u0027s flexibility in what it does (maybe run a \"cleanup\" script first), I think what it\u0027s doing is devaluing the role of `npm run-script` and the workflow that is common place in JavaScript apps. If there is \"other stuff\" to be done to complete an `npm install`, such as running pre/post scripts, then we do that with a `preinstall`/`postinstall` script definition.\n",
                                           "updatedAt":  "2025-04-02T22:29:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lYYxk",
                                           "createdAt":  "2025-04-03T06:36:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEMwG6Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "anfibiacreativa",
                                                                               "createdAt":  "2025-04-03T11:11:26Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "KLuuKer",
                                           "body":  "We use `yarn` instead of `npm` (just incase anybody was planning to hardcoding everything to use npm \"again\")\n\np.s. `pnpm` and `bun` \u0026 `deno` also exist, and the last 2 apparently have their own node.js runtime alternative (not sure if there needs to be a runtime flexibility but just to keep in mind alternatives exists)",
                                           "updatedAt":  "2025-04-03T06:47:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lYveL",
                                           "createdAt":  "2025-04-03T07:25:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KLuuKer",
                                           "body":  "Just because i want to run `webpack --watch` during development doesn\u0027t not mean i want that always...\nWhen deploying to production maybe i just want to publish files to disk instead.\nMaybe someone else publishes a whole container that gets an ingress attached to it.",
                                           "updatedAt":  "2025-04-03T07:25:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lbaFR",
                                           "createdAt":  "2025-04-03T11:17:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "anfibiacreativa",
                                           "body":  "\u003e We use `yarn` instead of `npm` (just incase anybody was planning to hardcoding everything to use npm \"again\")\n\u003e \n\u003e p.s. `pnpm` and `bun` \u0026 `deno` also exist, and the last 2 apparently have their own node.js runtime alternative (not sure if there needs to be a runtime flexibility but just to keep in mind alternatives exists)\n\nThis is a very valid concern that I have already expressed with previous feedback.\nThe JavaScript ecosystem is specially open and dynamic. \n\n\nI am going to go further with the important stuff Aaron pointed at :P, and ask,...what about SSR apps? Maybe just call it _AddFrontendApp_ (What if it\u0027s TS?). It may feel trivial but for those who work with these technologies, it may be confusing about constraints, limitations and even architecture decisions and references.\n",
                                           "updatedAt":  "2025-04-03T11:17:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lh-rC",
                                           "createdAt":  "2025-04-03T22:38:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "We must remember that there\u0027s a fine balance between Aspire supporting the common scenarios and supporting every scenario with how applications are built. I view the integrations provided by the Aspire repo as the ones that are the most common scenario (ie, using `npm`) while providing building blocks that allow support for an expanded array of scenarios (`yarn`, `pnpm`, etc.).\n\nThat is where the Community Toolkit comes in, with integrations like [Node.js extensions](https://learn.microsoft.com/dotnet/aspire/community-toolkit/hosting-nodejs-extensions?tabs=dotnet-cli%2Cyarn) (which provides methods for working with other package managers) as well as [Bun](https://learn.microsoft.com/dotnet/aspire/community-toolkit/hosting-bun) and [Deno](https://learn.microsoft.com/dotnet/aspire/community-toolkit/hosting-deno) support.\n\nWhat @mitchdenny outlines above, to me, really is building blocks with some opinionated defaults around a common scenario (a SPA using `npm`).\n\nRegarding SSR @anfibiacreativa - do you see them much different to the `AddNpmApp` resource model that exists today? I feel like there\u0027s some value in things like environment variable prefixing that is outlined in the proposal.",
                                           "updatedAt":  "2025-04-03T22:38:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6loNEi",
                                           "createdAt":  "2025-04-04T13:46:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "robrich",
                                           "body":  "I think part of the beauty of this solution is as a Node / React / Vue.js / etc developer, I\u0027m very familiar with the command line I must use to start the app.  Having to parse that into the correct field in a `.AddNpm(...)` command is awkward and confusing.  Just let me put the command into place.\n\nI do see the point though: without a `.WithRunCommand(...)` it wouldn\u0027t get off the ground.  Maybe this needs to be a named parameter of the initial command instead?  I do like that as a separate command the intent is very obvious though.",
                                           "updatedAt":  "2025-04-04T13:46:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mDL_T",
                                           "createdAt":  "2025-04-08T09:42:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "anfibiacreativa",
                                           "body":  "\u003e We must remember that there\u0027s a fine balance between Aspire supporting the common scenarios and supporting every scenario with how applications are built. I view the integrations provided by the Aspire repo as the ones that are the most common scenario (ie, using `npm`) while providing building blocks that allow support for an expanded array of scenarios (`yarn`, `pnpm`, etc.).\n\nI am all for supporting common scenarios with smart defaults: in this case my intuition is that they should be generic. \nI elaborated more about this here, over a year ago https://github.com/dotnet/aspire/issues/2332\n\nOn naming convention note, I know restore is a very common term for .NET developers, but `.WithRestoreCommand()` is very unintuitive for JS devs. Which makes me wonder what\u0027s the goal: \n- do we want to support .NET devs building frontend apps that are specifically clientside when they\u0027re using a specific set of tools, or\n- do we want to support the JavaScript/TypeScript ecosystem and their multiple tooling and architecture options, with a solution that is equally robust as it evolves to what it will be 5 years from now?\n",
                                           "updatedAt":  "2025-04-08T09:42:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mGn4Z",
                                           "createdAt":  "2025-04-08T15:02:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "Chatting with @anfibiacreativa -\n\nhow about `AddWebFrontend` , generically and redirect Blazor folks to AddProject? or whatever we make for dotnet? or `AddJSWebFrontend`\n\n\nInstead of `WithRestoreCommand` we should do `WithInstallCommand` - there isnt a concept of \"restore\" in JS land the way it is in .NET, restore is more for state management\n\n`WithBundler(\"vite\")` might be better of a generic method for extending the integrations too -  espec wiring up the OTEL env vars - vite, webpack\n\nFor service defaults - maybe we could start with a Vite plugin and say our \"opinion\" for automagic OTEL config is only if you use Vite",
                                           "updatedAt":  "2025-04-08T15:02:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6p_dJa",
                                           "createdAt":  "2025-05-05T18:40:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEZfo2w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "antoine-milochau-shift",
                                                                               "createdAt":  "2025-07-06T14:42:04Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "famda",
                                           "body":  "Visual studio has the SPA Templates. Any idea how I would set up the React with ASP Net Core template to work with aspire?\n\nI tried to create a new aspire project with it and add the AppHost and service defaults but the proxy doesn\u0027t work.",
                                           "updatedAt":  "2025-05-05T18:40:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AM6Ul",
                                           "createdAt":  "2025-08-26T15:14:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEi9XJQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "kmatz4b",
                                                                               "createdAt":  "2025-08-26T17:05:04Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "zokiz-eon",
                                                                               "createdAt":  "2025-09-19T05:56:54Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "tjwald",
                                           "body":  "For both frontend and backend node apps - we should make sure that it is easy to register the dotnet certs with node\u0027s system. \nWe currently are using NODE_EXTRA_CA_CERTS.\nPlease make sure that developers that have to go through the corporate proxy/firewall can register their proxy/firewall certs as well!",
                                           "updatedAt":  "2025-08-26T15:14:47Z"
                                       }
                                   ],
                         "totalCount":  13
                     },
        "title":  "Make Aspire better for client-side JavaScript developers.",
        "labels":  [
                       "area-integrations",
                       "javascript"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8377",
        "createdAt":  "2025-03-28T11:21:20Z",
        "number":  8377,
        "author":  "Meir017",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-11T06:18:26Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nConsider a sample service with a dependency\n```xml\n\u003cPackageReference Include=\"Aspire.Azure.Messaging.EventHubs\" /\u003e\n```\n\n![Image](https://github.com/user-attachments/assets/1de66b10-a0af-4b03-ae18-dde6c76c95ef)\n\nconsider I have the following code in my service\n```cs\nbuilder.AddAzureEventProcessorClient(\"hub1\");\n```\n\nIt would be nice having autocomplete in specific event hub configuration, maybe the generated json-schema should have an additional properties where they value can also be the mapping of the object?\n\nno autocomplete here\n![Image](https://github.com/user-attachments/assets/ae42916a-e577-475b-9011-9a04176cf7c6)\n\n### Expected Behavior\n\nautocomplete for named resource same as the common resource has.\n\nthe configuration pattern seems to not only be for azure but all resources\n\nredis:\nhttps://github.com/dotnet/aspire/blob/22d5ec4c07d614c6b5551acf95df4fa9b575d144/src/Components/Aspire.StackExchange.Redis/AspireRedisExtensions.cs\nnote the binding\n- `configSection.Bind(settings)` - the common configuration\n- `namedConfigSection.Bind(settings);` the named configuration\n![Image](https://github.com/user-attachments/assets/6b5d7e61-57e5-4fb9-871a-054221e91329)\n\nazure:\nhttps://github.com/dotnet/aspire/blob/f5e596bb038ac396487da4350f78223ebdb9dd26/src/Components/Common/AzureComponent.cs\n- `BindSettingsToConfiguration(settings, configSection);` - the common configuration\n- `BindSettingsToConfiguration(settings, configSection.GetSection(connectionName));` - the named configuration\n\n![Image](https://github.com/user-attachments/assets/1f6798b7-fef1-438b-8edc-96f01a71e537)\n\nthe gap is the only the common configuration has autocomplete, but the named configuration has no autocomplete\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpqaSTg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmHC4",
                                           "createdAt":  "2025-04-10T19:48:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Would json-schema be able to distinguish between the expected object definition (if there was no key) and a string? I have the feeling it would ... then it would require a way to define where the key is placed in the schema/model.",
                                           "updatedAt":  "2025-04-10T19:48:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mppJO",
                                           "createdAt":  "2025-04-11T06:16:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Meir017",
                                           "body":  "I think something like this could work:\n\n\n\u003cdetails\u003e\n  \u003csummary\u003eJson schema example\u003c/summary\u003e\n\n```json\n{\n    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n    \"definitions\": {\n        \"logLevel\": {\n            \"properties\": {\n                \"Azure\": {\n                    \"$ref\": \"#/definitions/logLevelThreshold\"\n                },\n                \"Azure.Core\": {\n                    \"$ref\": \"#/definitions/logLevelThreshold\"\n                },\n                \"Azure.Identity\": {\n                    \"$ref\": \"#/definitions/logLevelThreshold\"\n                },\n                \"Azure.Messaging.ServiceBus\": {\n                    \"$ref\": \"#/definitions/logLevelThreshold\"\n                }\n            }\n        },\n        \"AspireServiceBus\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"ClientOptions\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"ConnectionIdleTimeout\": {\n                            \"type\": \"string\",\n                            \"pattern\": \"^-?(\\\\d{1,7}|((\\\\d{1,7}[\\\\.:])?(([01]?\\\\d|2[0-3]):[0-5]?\\\\d|([01]?\\\\d|2[0-3]):[0-5]?\\\\d:[0-5]?\\\\d)(\\\\.\\\\d{1,7})?))$\",\n                            \"description\": \"The amount of time to allow a connection to have no observed traffic before considering it idle and eligible to close.\"\n                        },\n                        \"CustomEndpointAddress\": {\n                            \"type\": \"string\",\n                            \"format\": \"uri\",\n                            \"description\": \"A custom endpoint address that can be used when establishing the connection to the Service Bus service.\"\n                        },\n                        \"EnableCrossEntityTransactions\": {\n                            \"type\": \"boolean\",\n                            \"description\": \"Gets or sets a flag that indicates whether or not transactions may span multiple Service Bus entities.\"\n                        },\n                        \"Identifier\": {\n                            \"type\": \"string\",\n                            \"description\": \"A property used to set the \u0027Azure.Messaging.ServiceBus.ServiceBusClient\u0027 ID to identify the client. This can be used to correlate logs and exceptions. If null or empty, a random unique value will be used.\"\n                        },\n                        \"RetryOptions\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"Delay\": {\n                                    \"type\": \"string\",\n                                    \"pattern\": \"^-?(\\\\d{1,7}|((\\\\d{1,7}[\\\\.:])?(([01]?\\\\d|2[0-3]):[0-5]?\\\\d|([01]?\\\\d|2[0-3]):[0-5]?\\\\d:[0-5]?\\\\d)(\\\\.\\\\d{1,7})?))$\",\n                                    \"description\": \"The delay between retry attempts for a fixed approach or the delay on which to base calculations for a backoff-based approach.\"\n                                },\n                                \"MaxDelay\": {\n                                    \"type\": \"string\",\n                                    \"pattern\": \"^-?(\\\\d{1,7}|((\\\\d{1,7}[\\\\.:])?(([01]?\\\\d|2[0-3]):[0-5]?\\\\d|([01]?\\\\d|2[0-3]):[0-5]?\\\\d:[0-5]?\\\\d)(\\\\.\\\\d{1,7})?))$\",\n                                    \"description\": \"The maximum permissible delay between retry attempts.\"\n                                },\n                                \"MaxRetries\": {\n                                    \"type\": \"integer\",\n                                    \"description\": \"The maximum number of retry attempts before considering the associated operation to have failed.\"\n                                },\n                                \"Mode\": {\n                                    \"enum\": [\n                                        \"Fixed\",\n                                        \"Exponential\"\n                                    ],\n                                    \"description\": \"The approach to use for calculating retry delays.\"\n                                },\n                                \"TryTimeout\": {\n                                    \"type\": \"string\",\n                                    \"pattern\": \"^-?(\\\\d{1,7}|((\\\\d{1,7}[\\\\.:])?(([01]?\\\\d|2[0-3]):[0-5]?\\\\d|([01]?\\\\d|2[0-3]):[0-5]?\\\\d:[0-5]?\\\\d)(\\\\.\\\\d{1,7})?))$\",\n                                    \"description\": \"The maximum duration to wait for completion of a single attempt, whether the initial attempt or a retry.\"\n                                }\n                            },\n                            \"description\": \"The set of options to use for determining whether a failed service operation should be retried and, if so, the amount of time to wait between retry attempts.  These options also control the amount of time allowed for the individual network operations used for interactions with the Service Bus service.\"\n                        },\n                        \"TransportType\": {\n                            \"enum\": [\n                                \"AmqpTcp\",\n                                \"AmqpWebSockets\"\n                            ],\n                            \"description\": \"The type of protocol and transport that will be used for communicating with the Service Bus service.\"\n                        }\n                    },\n                    \"description\": \"The set of options that can be specified when creating an \u0027Azure.Messaging.ServiceBus.ServiceBusConnection\u0027 to configure its behavior.\"\n                },\n                \"ConnectionString\": {\n                    \"type\": \"string\",\n                    \"description\": \"Gets or sets the connection string used to connect to the Service Bus namespace.\"\n                },\n                \"DisableTracing\": {\n                    \"type\": \"boolean\",\n                    \"description\": \"Gets or sets a boolean value that indicates whether the OpenTelemetry tracing is disabled or not.\",\n                    \"default\": false\n                },\n                \"FullyQualifiedNamespace\": {\n                    \"type\": \"string\",\n                    \"description\": \"Gets or sets the fully qualified Service Bus namespace.\"\n                },\n                \"HealthCheckQueueName\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the queue used by the health check. Mandatory to get health checks enabled.\"\n                },\n                \"HealthCheckTopicName\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the topic used by the health check. Mandatory to get health checks enabled.\"\n                },\n                \"QueueOrTopicName\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the queue or topic associated with the connection string.\"\n                },\n                \"SubscriptionName\": {\n                    \"type\": \"string\",\n                    \"description\": \"Name of the subscription associated with the connection string.\"\n                }\n            }\n        }\n    },\n    \"type\": \"object\",\n    \"properties\": {\n        \"Aspire\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"Azure\": {\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"Messaging\": {\n                            \"type\": \"object\",\n                            \"properties\": {\n                                \"ServiceBus\": {\n                                    \"type\": \"object\",\n                                    \"$ref\": \"#/definitions/AspireServiceBus\",\n                                    \"description\": \"Provides the client configuration settings for connecting to Azure Service Bus.\",\n                                    \"additionalProperties\": {\n                                        \"$ref\": \"#/definitions/AspireServiceBus\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n```\n\n\u003c/details\u003e\n\nthis is basically the schema https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.Azure.Messaging.ServiceBus/ConfigurationSchema.json, where the definition of the service bus was extracted to a definition and then reused twice, for the schema and `additionalProperties`.\n\nthen using this works\n\n![Image](https://github.com/user-attachments/assets/793931da-ca46-4b39-8187-4d1aa3c645fb)",
                                           "updatedAt":  "2025-04-11T06:18:25Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "ConfigurationSchema only adds a schema for the main resource, not named resources",
        "labels":  [
                       "area-integrations",
                       "azure-eventhubs"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8379",
        "createdAt":  "2025-03-28T14:27:54Z",
        "number":  8379,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODAnYWg==",
                          "nodes":  [
                                        {
                                            "content":  "HEART",
                                            "user":  "captainsafia",
                                            "createdAt":  "2025-03-28T15:05:50Z"
                                        },
                                        {
                                            "content":  "HEART",
                                            "user":  "DamianEdwards",
                                            "createdAt":  "2025-03-28T15:25:20Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-03-28T14:27:54Z",
        "body":  "With #6161, the new WithRoleAssignments methods only work today when you enable ACA infrastructure via `Aspire.Hosting.Azure.AppContainers`. Future compute environments can also enable support as well, when they are implemented.\n\nWhen you call WithRoleAssignments without enabling a compute infrastructure that supports targeted role assignments, you get an exception at runtime saying it isn\u0027t supported and you need to enable something like our ACA infrastructure to make it supported.\n\nWe could consider writing an analyzer for this situation to \"shift left\" the error experience to a build time warning, and potential code fixer. Although, I\u0027m not sure if a code fixer can add a nuget package?\n\nOne consideration is that you will get an error at F5 time as soon as you call WithRoleAssignments, so you didn\u0027t get too far down the error path before finding out you need to add more to your app.\n\ncc @captainsafia @DamianEdwards ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add a Roslyn analyzer for WithRoleAssignments when not using targeted role assignments infrastructure",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8419",
        "createdAt":  "2025-03-30T16:26:42Z",
        "number":  8419,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T14:42:54Z",
        "body":  "\n### Discussed in https://github.com/dotnet/aspire/discussions/8051\n\n\u003cdiv type=\u0027discussions-op-text\u0027\u003e\n\n\u003csup\u003eOriginally posted by **DanielToft** March 13, 2025\u003c/sup\u003e\nHi\r\n\r\nI\u0027m not sure I understand the purpose of RunAsExisting. \r\n\r\nWhy is it deploying role assignments to the resource for the user running the aspire project? If the user running the aspire project does not have access to the resources, the bicep script will also not have access to deploy the role assignments.\r\n\r\nIs it possible to override this? I would like to have this feature, but I do not want all employees to have direct access to the resources. This will be impossible to control. We already have a model to give employees access to the right resources.\r\n\r\nToday I\u0027m using AddConnectionString, but I think it would be nice to have the resources shown in the dashboard as I would with RunAsExisting.\u003c/div\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxKQzAA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7EipVG",
                                           "createdAt":  "2025-09-16T10:13:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dersia",
                                           "body":  "I also came across this issue... the Problem that we are having is, that we access a ServiceBus that is owned by another Team and we don\u0027t have access to set  the `RoleAssignments` nor do we have the permissions to deploy on their `ResourceGroup`. That is a common case in some Enterprises, where Roles a very restrictive and only CI-Pipelines have those roles, or where you have to use PIM to get the access. In general I don\u0027t it\u0027s a good practice to do any deployments, when one is using `AsExisting` or `RunAsExisting`. However I do understand the concerns that were raised in the Discussion, that we need to make sure, that the Resources and Role Assignments are set correctly, but I would argue, that this should only be a warning when you are running a Project locally and should be promoted to an error in CI-Pipelines.\n\nFor now to avoid the `RoleAssignments` I have created an ExtensionMethod that helps with this. But the issue with the Deployments remain:\n\n```c#\nextension(IResourceBuilder\u003cAzureKeyVaultResource\u003e keyVaultResource)\n{\n    public IResourceBuilder\u003cAzureKeyVaultResource\u003e AsExistingWithoutRoleAssignments(IResourceBuilder\u003cParameterResource\u003e nameParameter, IResourceBuilder\u003cParameterResource\u003e? resourceGroupParameter)\n    {\n        var roleAssignment = keyVaultResource.Resource.Annotations.OfType\u003cAspire.Hosting.Azure.DefaultRoleAssignmentsAnnotation\u003e().FirstOrDefault();\n        if (roleAssignment is not null)\n        {\n            keyVaultResource.Resource.Annotations.Remove(roleAssignment);\n        }\n        return keyVaultResource.RunAsExisting(nameParameter, resourceGroupParameter);\n    }\n}\n```",
                                           "updatedAt":  "2025-09-16T10:13:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EpDMA",
                                           "createdAt":  "2025-09-16T14:40:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dersia",
                                           "body":  "I did some debugging and I found that aspire is using bicep deployments for Resources that are declared `(Run)AsExisting`, which can be problematic, if you have only `Reader` roles on the corresponding `ResourceGroup`.\nAnd to be honest, it is also a bit too heavy, if the goal is to just get the Servicebus Endpoint. The Azure Management Rest APIs for the ControlPlane are good enough for this and they also work if one has just a `Reader`-Role.\n\nSo I would suggest to change `AsExisting` to use the rest api and add another overload to `AsExisting` that takes another parameter `includeRoleAssignments` defaulted to `true`. I know it\u0027s for a code point of view easier to use the Bicep deployment, since it is also used for new Resources which don\u0027t exists yet, but again this won\u0027t work for environments where Roles and Access-Rights are restricted.\n\nAnd all the customers I am working with are very cautious of their environments and the access rights they are giving to devs. Often Devs have `Contributor`-Roles on their own resources, but when it comes to access another teams resources or connecting to a Staging/UAT environment, they aren\u0027t allowed to deploy anything, only the CI-Pipelines has those rights.\n\nI would be happy to contribute. I do have to do something about this anyway to get some of my clients running with aspire (and I really want them to use it)",
                                           "updatedAt":  "2025-09-16T14:42:54Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Add a way to disable role assignments when using *AsExisting API",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8466",
        "createdAt":  "2025-04-01T15:40:52Z",
        "number":  8466,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-20T00:03:15Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Build information\n\nBuild:https://github.com/dotnet/aspire/actions/runs/14199323953/job/39783331894?pr=8463\nBuild error leg or test failing: Aspire.Hosting.Python.Tests.AddPythonAppTests.PythonResourceFinishesSuccessfully\nPull Request: https://github.com/dotnet/aspire/pull/8463\n\n\n### Fill in the error message template\n\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n### Other info\n```\n  Failed Aspire.Hosting.Python.Tests.AddPythonAppTests.PythonResourceFinishesSuccessfully [1 m 5 s]\n  Error Message:\n   System.TimeoutException : The operation has timed out.\n  Stack Trace:\n     at Aspire.Hosting.Python.Tests.AddPythonAppTests.PythonResourceFinishesSuccessfully() in /_/tests/Aspire.Hosting.Python.Tests/AddPythonAppTests.cs:line 101\n--- End of stack trace from previous location ---\n  Standard Output Messages:\n Create Virtual Environment Standard Output:\n python -m venv .venv (Standard Output):\n\n\n python -m venv .venv (Standard Error):\n\n\n pip install -r requirements.txt (Standard Output):\n\n\n pip install -r requirements.txt (Standard Error):\n\nWARNING: You are using pip version 22.0.4; however, version 25.0.1 is available.\n You should consider upgrading via the \u0027C:\\Users\\runneradmin\\AppData\\Local\\Temp\\yfd0fd5e.0nf\\.venv\\Scripts\\python.exe -m pip install --upgrade pip\u0027 command.\n``` \n\n\u003c!--Known issue error report start --\u003e\n\n### Report\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|0|0|0|\n\u003c!--Known issue error report end --\u003e\n\n\n\u003c!--Known issue error report start --\u003e\n\n### Report\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|0|0|0|\n\u003c!--Known issue error report end --\u003e\n\n\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e\n\n\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 8/16/2025 3:05:52 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:14:03 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[Failing test]: Aspire.Hosting.Python.Tests.AddPythonAppTests.PythonResourceFinishesSuccessfully",
        "labels":  [
                       "area-integrations",
                       "blocking-clean-ci",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8480",
        "createdAt":  "2025-04-01T20:53:46Z",
        "number":  8480,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-02T04:07:52Z",
        "body":  "Today the Aspire.Hosting.Azure.ApplicationInsights hosting integration provisions an AppInsights instance and outputs the connection string for an app to connect to it:\n\nhttps://github.com/dotnet/aspire/blob/05545703a14e4970f49cc0af5d7add413d38dbd4/src/Aspire.Hosting.Azure.ApplicationInsights/AzureApplicationInsightsExtensions.cs#L43-L109\n\nHowever, we aren\u0027t enabling Entra authentication, nor are we connecting to it using Entra auth.\n\nSee https://learn.microsoft.com/azure/azure-monitor/app/azure-ad-authentication.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Aspire.Hosting.Azure.ApplicationInsights should configure Microsoft Entra authentication",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "security 🔐"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8501",
        "createdAt":  "2025-04-02T10:24:00Z",
        "number":  8501,
        "author":  "vmykagapuz",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-19T05:10:43Z",
        "body":  "**REGRESSION INFO**\n1. Worked in Aspire 9.1.0\n\n**INSTALL STEPS**\n\n1. Clean machine: Win11 x64 24h2 ENU\n2. Install VS 17.13.5\n3. Add dotnet9 feed for 9.2.0-preview.1\n4. Install the latest Aspire 9.2.0-preview.1 templates\n`dotnet new install Aspire.ProjectTemplates::9.2.0-preview.1.25201.19 --force`\n5. Install Docker Desktop\n\n**NOTE**\n1. This issue reproduces for both 8.0/9.0 framework\n\n**REPRO STEPS**\n\n1. New project \u003e .NET Aspire Starter App \u003e .NET 9.0 \u003e .NET Aspire version (9.2) \u003e Create \n2. Right click solution \u003e Add \u003e New Project \u003e Azure Functions \u003e .NET 9.0 Isolated \u003e Check \u0027Enlist in .NET Aspire orchestration\u0027 \u003e Create\n3. Repeat Step 1 and 2 to create another project\n4. Build and run the first project \u003e Check that all the projects are running in Resources\n5. Build and run the second project \u003e Check that the endpoint for \u0027functionapp1\u0027 project stops after few seconds\n\n**ACTUAL**\nThe \u0027functionapp1\u0027 for the second project will stop after few seconds.\n![Image](https://github.com/user-attachments/assets/aa3c0272-8204-4fea-934b-f1edd83d2525)\n\n**EXPECTED**\nThe \u0027functionapp\u0027 should run successfully when 2 different projects are run the same time.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp-EDUw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6lRJ5R",
                                           "createdAt":  "2025-04-02T14:25:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Did you look at the logs? Is there a port conflict?",
                                           "updatedAt":  "2025-04-02T14:25:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lYX-W",
                                           "createdAt":  "2025-04-03T06:34:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vmykagapuz",
                                           "body":  "I\u0027m not sure which logs I should check, but for the console logs of the project that has \u0027functionapp1\u0027 stopped, this is what it shows:\n![Image](https://github.com/user-attachments/assets/2e2367d5-9a30-479c-ade3-9c5cbfe5aee0)\n![Image](https://github.com/user-attachments/assets/0282f176-3364-4d18-adc9-a223eeb3364a)",
                                           "updatedAt":  "2025-04-03T06:34:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lYYog",
                                           "createdAt":  "2025-04-03T06:35:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Always the console logs. Download them an attach to the issue.\n\nThis is expected, there\u0027s a port conflict because the port is specified in the launch settings and you are launching the same project twice.",
                                           "updatedAt":  "2025-04-03T06:36:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lYs5W",
                                           "createdAt":  "2025-04-03T07:20:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vmykagapuz",
                                           "body":  "I launched 2 different projects and they dont share the same port for functionapp1\n\n![Image](https://github.com/user-attachments/assets/e46ab4ac-36c6-4458-9cb7-f6bdf903c70c)",
                                           "updatedAt":  "2025-04-03T07:20:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lfipe",
                                           "createdAt":  "2025-04-03T17:41:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@vmykagapuz Ditto the previous comments. Can you share the logs that are associated with the failure mode where two different ports were used?\n\nIf you can upload the code you are running to GH or somewhere that would help as well.",
                                           "updatedAt":  "2025-04-03T17:41:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6lkEjS",
                                           "createdAt":  "2025-04-04T06:46:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vmykagapuz",
                                           "body":  "Logs for 1st project with no failure:\n```\n2025-04-04T06:37:25.9420000Z \n2025-04-04T06:37:25.9480000Z Azure Functions Core Tools\n2025-04-04T06:37:25.9910000Z Core Tools Version:       4.0.7030 Commit hash: N/A +bb4c949899cd5659d6bfe8b92cc923453a2e8f88 (64-bit)\n2025-04-04T06:37:25.9960000Z Function Runtime Version: 4.1037.0.23568\n2025-04-04T06:37:26.0020000Z \n2025-04-04T06:37:27.2700000Z [2025-04-04T06:37:27.186Z] Found C:\\Users\\v-mykagapuz\\source\\repos\\Aspire9-Iso9\\FunctionApp1\\FunctionApp1.csproj. Using for user secrets file configuration.\n2025-04-04T06:37:27.4320000Z Skipping \u0027AzureWebJobsStorage\u0027 from local settings as it\u0027s already defined in current environment variables.\n2025-04-04T06:37:27.4620000Z Skipping \u0027FUNCTIONS_WORKER_RUNTIME\u0027 from local settings as it\u0027s already defined in current environment variables.\n2025-04-04T06:37:37.1720000Z [2025-04-04T06:37:37.019Z] Azure Functions .NET Worker (PID: 19936) initialized in debug mode. Waiting for debugger to attach...\n2025-04-04T06:37:37.2440000Z [2025-04-04T06:37:37.238Z] Worker process started and initialized.\n2025-04-04T06:37:37.4070000Z \n2025-04-04T06:37:37.4580000Z Functions:\n2025-04-04T06:37:37.4670000Z \n2025-04-04T06:37:37.4840000Z \tFunction1: [GET,POST] http://localhost:7071/api/Function1\n2025-04-04T06:37:37.4870000Z \n2025-04-04T06:37:37.4920000Z For detailed output, run func with --verbose flag.\n2025-04-04T06:37:42.6930000Z [2025-04-04T06:37:42.691Z] Host lock lease acquired by instance ID \u00270000000000000000000000003842D856\u0027.\n```\n\nLogs for 2nd project with failure:\n```\n2025-04-04T06:37:55.5790000Z Port 7071 is unavailable. Close the process using that port, or specify another port using --port [-p].\n2025-04-04T06:38:23.4170000Z Press any key to continue....\n```",
                                           "updatedAt":  "2025-04-04T06:46:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6l5NsY",
                                           "createdAt":  "2025-04-07T12:53:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "v-elenafeng",
                                           "body":  "@davidfowl @captainsafia @balachir I tried this scenario and found that\n\nFunction Apps use port 7071 by default, so when one starts, the other will automatically stop because the port is occupied. When I manually change the default port of one of them, both apps can keep running at the same time.\n\nFunctionApp1\n![Image](https://github.com/user-attachments/assets/f23aa8ec-bc92-44b4-95a0-a9fe4474df67)\n\nFunctionApp2\n![Image](https://github.com/user-attachments/assets/4e456f6f-e7fe-444f-8073-8b6feebea202)\n",
                                           "updatedAt":  "2025-04-07T12:53:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6l6fmg",
                                           "createdAt":  "2025-04-07T14:39:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEO7mzQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "fabiocav",
                                                                               "createdAt":  "2025-04-19T04:59:17Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Seems like an issue with the functions templates. Moving out of 9.2. We\u0027ll work with the functions team to see if we can do something here with the template.\n\ncc @fabiocav @mattchenderson ",
                                           "updatedAt":  "2025-04-07T14:39:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6n4QNT",
                                           "createdAt":  "2025-04-19T05:10:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "fabiocav",
                                           "body":  "Related to https://github.com/dotnet/aspire/issues/8589",
                                           "updatedAt":  "2025-04-19T05:10:42Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "[WebToolsE2E][Aspire] Running two Aspire projects with Azure Functions at the same time will cause the \u0027functionapp1\u0027 to stop after a few seconds for one of the projects.",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8554",
        "createdAt":  "2025-04-04T12:57:26Z",
        "number":  8554,
        "author":  "wertzui",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODBUkZw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "siavol",
                                            "createdAt":  "2025-04-17T15:11:41Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-04-10T21:01:23Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIn the official Kafka NuGet for Dotnet, the `MessageConsumer` is implemented in such a way that it has a background Thread listening for messages from Kafka.\nThe `MessageConsumer` itself has a blocking `Consume()` method which blocks the current thread until a message arrives on the background thread.\n\nThe `Aspire.Confluent.Kafka` package now adds tracing to this.\nThe problem is that the `Activity` starts just before the call to `Consume()`.\nIf no message is received for a long time (maybe because there just is no message in the topic), this will lead to a very long span, although nearly all of that time was just waiting and not actually receiving a message.\nWhatever is coming after that is now very disproportional.\n\n![Image](https://github.com/user-attachments/assets/70bc98f8-1de7-4b33-a042-3a11ece34f3a)\n\n### Expected Behavior\n\nUse the timestamp of the message itself to set the start time after it has been received this will then report the actual time the message took to travel to the consumer instead of just a long waiting time.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.201\n Commit:            071aaccdc2\n Workload version:  9.0.200-manifests.5c4e24dc\n MSBuild version:   17.13.13+1c2026462\n\n### Anything else?\n\nAspire.Confluent.Kafka 9.1.0",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOppq8ew==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmAal",
                                           "createdAt":  "2025-04-10T19:39:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@wertzui do you think it\u0027s a problem to solve in Aspire or in the Confluent.Kafka package?",
                                           "updatedAt":  "2025-04-10T19:39:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmrx7",
                                           "createdAt":  "2025-04-10T21:01:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "wertzui",
                                           "body":  "In Aspire, because the `Aspire.Confluent.Kafka` package adds the trace around the `Consume()` method.\n\nAfter thinking about it for a while, it might be best to start the Activity after the call to `Consume()`.\nThe benefit would be that it is then possible to extract the traceparent header of the message and set it as actual parent of the Activity (at the moment it is just set as a link, because you cannot modify the parent after the activity has started).\n\nIt would also be good to alter the way, how interaction with the caller is done so the Activity created here extends to whatever code is called after it, so this Activity shows up as parent for whatever is coming after it and not as sibbling, as it is currently (see my screenshot).\n\n",
                                           "updatedAt":  "2025-04-10T21:01:22Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Kafka Consumer traces show waiting time instead of actual receiving time",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8588",
        "createdAt":  "2025-04-07T15:22:33Z",
        "number":  8588,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-17T06:09:56Z",
        "body":  "There are a few places in Aspire integrations where we\u0027ve augmented a ConnectionString to include more information, or support alternative formats, than what the underlying client library supports. For example:\n\n* In general, the Azure integrations support just specifying the URL in the connection string.\n* Aspire.Azure.AI.OpenAI and Aspire.Azure.Search.Documents support `Endpoint` and `Key` connection string properties, while the underlying libraries don\u0027t support connection strings at all\n* CosmosDB client integrations support:\n    * A valid Uri\n    * AccountEndpoint={valid Uri} - optionally with [;Database={databaseName}[;Container={containerName}]]\n    * {valid CosmosDB ConnectionString} - optionally with [;Database={databaseName}[;Container={containerName}]]\n* EventHubs supports:\n    * A valid FullyQualifiedNamespace\n    * Endpoint={valid FullyQualifiedNamespace} - optionally with [;EntityPath={hubName}[;ConsumerGroup={groupName}]]\n    * {valid EventHub ConnectionString} - optionally with [;ConsumerGroup={groupName}]\n* ServiceBus supports:\n    * A valid FullyQualifiedNamespace\n    * Endpoint={valid FullyQualifiedNamespace} - optionally with [;EntityPath={queueOrTopicName}]\n    * {valid ServiceBus ConnectionString} - optionally with [;EntityPath={queueOrTopicName}]\n\nNot every developer using Aspire will use the simple `builder.AddXXClient` APIs in our client integrations. Because we\u0027ve augmented the connection string formats, it can be difficult to consume the connection strings passed by our Hosting integrations. To help allieviate this issue, we should add public APIs which parse/decompose the connection string into programmatic consumable objects. I think we can reuse the \"XXSettings\" objects in the client integrations and just add a static `Parse(string connectionString)` method to each.\n\nFor example:\n\n```diff\npublic sealed class MicrosoftAzureCosmosSettings\n{\n+   public static MicrosoftAzureCosmosSettings ParseConnectionString(string value) { throw null; }\n}\n```\n\nCallers can then get the decomposed values from the settings object, and use them to create clients themselves:\n\n```csharp\n\nvar connectionString = ...;\nvar settings = MicrosoftAzureCosmosSettings.ParseConnectionString(connectionString);\n\nif (settings.AccountEndpoint is not null)\n{\n   // use the URL to create a client\n}\nelse if (settings.ConnectionString is not null)\n{\n   // use the connection string to create a client\n}\n```\n\n### Considerations\n\nThe EventHubs integration has multiple Settings types. I think we would probably have a Parse method on the base `AzureMessagingEventHubsSettings` class, which wouldn\u0027t give you access to the `ConsumerGroup` (since the base doesn\u0027t know about ConsumerGroup). And then for the derived classes that have a `ConsumerGroup` property, we could add Parse methods on them as well.\n\ncc @davidfowl @sebastienros @joperezr ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsZDyyQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6xkPLJ",
                                           "createdAt":  "2025-06-17T06:09:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We want this for pretty much every integration that does custom connection string parsing yes?",
                                           "updatedAt":  "2025-06-17T06:09:56Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Add ConnectionString parse/decompe APIs",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8590",
        "createdAt":  "2025-04-07T15:35:48Z",
        "number":  8590,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-07T15:35:48Z",
        "body":  "Azure EventHubs has support for a base class for creating an event processor with custom processing logic to consume events. See https://learn.microsoft.com/en-us/dotnet/api/azure.messaging.eventhubs.primitives.pluggablecheckpointstoreeventprocessor-1?view=azure-dotnet.\n\nWe don\u0027t have support for this in our Azure EventHubs client integration.\n\nA design consideration is that since this is a base class, developers will need to derive their own class. We will need to figure out which constructors are available on the derived class, and pick the most appropriate one.\n\nOne other consideration here is that users of PluggableCheckpointStoreEventProcessor can create multiple instances and coordinate sharing partitions between them. As such, adding a single instance into DI doesn\u0027t support this scenario. So we may need to consider how to support it (if at all). It\u0027s possible the API doesn\u0027t add the processor to DI, but instead just return one when called.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add support for EventHubs PluggableCheckpointStoreEventProcessor",
        "labels":  [
                       "area-integrations",
                       "azure-eventhubs"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8678",
        "createdAt":  "2025-04-09T18:51:35Z",
        "number":  8678,
        "author":  "Zylvian",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-11T17:49:23Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIt seems that Entity Framework is unable to create migrations when it\u0027s expecting environment variables through .NET Aspire. \nI am unsure of why this is necessary.\n```\n~/Documents/CODE/identifisk/ApiService$ dotnet ef migrations add MigrationTest\nBuild started...\nBuild succeeded.\nAn error occurred while accessing the Microsoft.Extensions.Hosting services. Continuing without the application service provider. Error: PythonApiEndpoint not found\nUnable to create a \u0027DbContext\u0027 of type \u0027RuntimeType\u0027. The exception \u0027Unable to resolve service for type \u0027Microsoft.EntityFrameworkCore.DbContextOptions`1[ApiService.Persistence.ApiServiceDataContext]\u0027 while attempting to activate \u0027ApiService.Persistence.ApiServiceDataContext\u0027.\u0027 was thrown while attempting to create an instance. For the different patterns supported at design time, see https://go.microsoft.com/fwlink/?linkid=851728\n```\n\nApiService/Program.cs:\n```cs\n// Adds HTTP Client for communicating with Python.\nvar pythonApiEndpoint = builder.Configuration[\"PythonApiEndpoint\"] ??\n                        throw new InvalidOperationException(\"PythonApiEndpoint not found\");\n\nbuilder.Services.AddHttpClient\u003cIPythonApiService, PythonApiService\u003e(client =\u003e\n{\n    client.BaseAddress = new Uri(pythonApiEndpoint);\n});\n```\n\nAppHost/Program.cs:\n```cs\n// Register services\nvar pythonApi = builder\n    .AddContainer(\"pythonapi\", \"\u003c-- link to image container --\u003e\")\n    .WithHttpEndpoint(targetPort: 5000)\n    .WithImageTag(\"staging\");\n\nvar postgres = builder.AddPostgres(\"postgres\")\n    .WithDataVolume()\n    .WithPgWeb();\n\nvar postgresdb = postgres.AddDatabase(\"postgresdb\");\n\nbuilder.AddProject\u003cApiService\u003e(\"apiservice\")\n    .WithExternalHttpEndpoints()\n    .WithEnvironment(\"PythonApiEndpoint\", pythonApi.GetEndpoint(\"http\"))\n    .WithReference(postgresdb)\n    .WaitFor(pythonApi)\n    .WaitFor(postgresdb);\n\nbuilder.Build().Run();\n```\n\n### Expected Behavior\n\nI expect the environment variable pumped in through the AppHost to be inconsequential to Entity Framework being able to create a migration.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET 9\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpsCXog==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6mYFLT",
                                           "createdAt":  "2025-04-10T01:38:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEP3Tsw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "JIntrocaso",
                                                                               "createdAt":  "2025-04-27T20:46:44Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "The Npgsql EF Core provider requires a well-formed connection string to exist in the project configuration when creating a migration. When you run `dotnet ef migrations add MigrationTest`, Aspire did not launch the project, so there is no configuration injected that contains the connection string. To work around this you can put a placeholder connection string in the `appsettings.Development.json` file of your ApiService project, like [in this sample](https://github.com/dotnet/aspire-samples/blob/087130ce89c55f9e4ddbc598da15e829747529c6/samples/AspireShop/AspireShop.CatalogDbManager/appsettings.Development.json#L13).",
                                           "updatedAt":  "2025-04-10T01:38:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mZ5AF",
                                           "createdAt":  "2025-04-10T07:24:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Zylvian",
                                           "body":  "\u003e The Npgsql EF Core provider requires a well-formed connection string to exist in the project configuration when creating a migration. When you run `dotnet ef migrations add MigrationTest`, Aspire did not launch the project, so there is no configuration injected that contains the connection string. To work around this you can put a placeholder connection string in the `appsettings.Development.json` file of your ApiService project, like [in this sample](https://github.com/dotnet/aspire-samples/blob/087130ce89c55f9e4ddbc598da15e829747529c6/samples/AspireShop/AspireShop.CatalogDbManager/appsettings.Development.json#L13).\n\nInteresting, thanks for the reply!\nWould I have to extract the connection string on runtime of the specific Postgres resource in that case? Given that the port is randomized, I would assume I would have to:\n- run Aspire\n- figure out the Postgres connection string\n- insert into the appSettings, in order to run `ef database update` etc. ",
                                           "updatedAt":  "2025-04-10T07:24:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6miRp0",
                                           "createdAt":  "2025-04-10T14:48:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "No, the connection string doesn\u0027t need to be \"real\", it just needs to be well-formed so it parses successfully. The `dotnet ef migrations add` command doesn\u0027t actually attempt to connect to the database in the connection string. ",
                                           "updatedAt":  "2025-04-10T14:48:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmdj8",
                                           "createdAt":  "2025-04-10T20:34:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@Zylvian actually you appear to be hitting some other issue. Can you share the entire `Program.cs` of your ApiService please?",
                                           "updatedAt":  "2025-04-10T20:34:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mmxKX",
                                           "createdAt":  "2025-04-10T21:13:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Oh I see it now, that exception is yours. You\u0027ve written your app in a way that it will throw when running outside of Aspire (or without the configuration you\u0027re looking for):\n\n```csharp\n// Adds HTTP Client for communicating with Python.\nvar pythonApiEndpoint = builder.Configuration[\"PythonApiEndpoint\"] ??\n                        throw new InvalidOperationException(\"PythonApiEndpoint not found\");\n```\n\nIf you want to throw still, move it inside the configuration lambda for the `AddHttpClient` call so it\u0027s deferred.",
                                           "updatedAt":  "2025-04-10T21:13:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mwJei",
                                           "createdAt":  "2025-04-11T17:49:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Zylvian",
                                           "body":  "\u003e Oh I see it now, that exception is yours. You\u0027ve written your app in a way that it will throw when running outside of Aspire (or without the configuration you\u0027re looking for):\n\u003e \n\u003e // Adds HTTP Client for communicating with Python.\n\u003e var pythonApiEndpoint = builder.Configuration[\"PythonApiEndpoint\"] ??\n\u003e                         throw new InvalidOperationException(\"PythonApiEndpoint not found\");\n\u003e If you want to throw still, move it inside the configuration lambda for the `AddHttpClient` call so it\u0027s deferred.\n\nGood idea of moving it to the lambda! Will get back to you when updated.",
                                           "updatedAt":  "2025-04-11T17:49:23Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Not able to create EF migrations when using Aspire environment variables",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8693",
        "createdAt":  "2025-04-10T10:03:05Z",
        "number":  8693,
        "author":  "vmykagapuz",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-11T09:28:42Z",
        "body":  "**REGRESSION INFO**\n1. Worked in Aspire 9.1.0\n\n**INSTALL STEPS**\n\n1. Clean machine: Win11 x64 24h2 ENU\n2. Install VS 17.13.6\n3. Add dotnet9 feed for 9.2.0\n4. Install the latest Aspire 9.2.0\n`- dotnet new install Aspire.ProjectTemplates::9.2.0 --force`\n5. Install Docker/Podman Desktop\n\n**REPRO STEPS**\n\n1. New Project \u003e Aspire Starter App \u003e check \u0027Use Redis for caching (requires Docker)\u0027 \u003e .NET 9.0 (Standard-Term Support) \u003e Aspire version 9.2 \u003e Create\n2. Right-click xxx.web project \u003e Add \u003e .NET Aspire package \u003e Aspire.Azure.Messaging.ServiceBus \u003e  add a component and try to use it in the code\n3. In the Program.cs of web project, type following codes: \n`builder.AddAzureServiceBusClient(\"sb\");`\n\n4.Open appsettings.json of xxx.web project, add this code:\n```\n{\n  \"Aspire\": {\n    \"Azure\": {\n      \"Messaging\": {\n        \"ServiceBus\": {\n          \"HealthCheckQueueName\": \"myQueue\",\n          \"DisableTracing\": false,\n          \"ClientOptions\": {\n            \"Identifier\": \"CLIENT_ID\"\n          }\n        }\n      }\n    }\n  }\n}\n```\n5. In your AppHost project, install the \"Aspire.Hosting.Azure.ServiceBus\" \n6. Open appsettings.json of xxx.AppHost project, add ConnectionStrings configuration section:\n```\n{\n  \"ConnectionStrings\": {\n    \"serviceBusConnectionName\": \"{your_namespace}.servicebus.windows.net\"\n  }\n}\n```\n7. Open Program.cs of xxx.AppHost project, add following codes: \n```\nvar serviceBus = builder.ExecutionContext.IsPublishMode\n    ? builder.AddAzureServiceBus(\"sb\")\n    : builder.AddConnectionString(\"sb\");\n\nvar myService = builder.AddProject\u003cProjects.MyService\u003e()\n                       .WithReference(serviceBus);\n```\n8. Build and F5\n\n**ACTUAL**\nThe webfrontend remains in the \u0027Running(Unhealty)\u0027 state and has some errors in the Console logs:\n```\nfail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[1]\n      An unhandled exception has occurred while executing the request.\n      System.ArgumentNullException: Value cannot be null. (Parameter \u0027options.Credential\u0027)\n         at System.ArgumentNullException.Throw(String paramName)\n         at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)\n         at Guard.ThrowIfNull[T](T argument, Boolean throwOnEmptyString, String paramName) in /home/runner/work/AspNetCore.Diagnostics.HealthChecks/AspNetCore.Diagnostics.HealthChecks/src/CallerArgumentExpressionAttribute.cs:line 47\n         at HealthChecks.AzureServiceBus.AzureServiceBusHealthCheck`1..ctor(TOptions options, ServiceBusClientProvider clientProvider) in /home/runner/work/AspNetCore.Diagnostics.HealthChecks/AspNetCore.Diagnostics.HealthChecks/src/HealthChecks.AzureServiceBus/AzureServiceBusHealthCheck.cs:line 28\n         at HealthChecks.AzureServiceBus.AzureServiceBusQueueHealthCheck..ctor(AzureServiceBusQueueHealthCheckOptions options, ServiceBusClientProvider clientProvider) in /home/runner/work/AspNetCore.Diagnostics.HealthChecks/AspNetCore.Diagnostics.HealthChecks/src/HealthChecks.AzureServiceBus/AzureServiceBusQueueHealthCheck.cs:line 11\n         at HealthChecks.AzureServiceBus.AzureServiceBusQueueHealthCheck..ctor(AzureServiceBusQueueHealthCheckOptions options) in /home/runner/work/AspNetCore.Diagnostics.HealthChecks/AspNetCore.Diagnostics.HealthChecks/src/HealthChecks.AzureServiceBus/AzureServiceBusQueueHealthCheck.cs:line 19\n         at Microsoft.Extensions.Hosting.AspireServiceBusExtensions.MessageBusComponent.CreateHealthCheck(ServiceBusClient client, AzureMessagingServiceBusSettings settings) in /_/src/Components/Aspire.Azure.Messaging.ServiceBus/AspireServiceBusExtensions.cs:line 88\n         at Aspire.Azure.Common.AzureComponent`3.\u003c\u003ec__DisplayClass12_0.\u003cAddClient\u003eb__5(IServiceProvider serviceProvider) in /_/src/Components/Common/AzureComponent.cs:line 127\n         at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)\n         at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)\n         at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)\n         at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)\n         at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n         at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n```\n![Image](https://github.com/user-attachments/assets/25c77f48-bc77-427f-8b55-92aa08a2f1f4)\n\n![Image](https://github.com/user-attachments/assets/e8d6b3cb-d6b8-403b-8cbc-47eac3e170a3)\n\n**RESULT**\nThe webfrontend should run successfully without errrors in Console logs.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpqz3RQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6mc3M5",
                                           "createdAt":  "2025-04-10T12:30:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "balachir",
                                           "body":  "\u003e       An unhandled exception has occurred while executing the request.\n\u003e      System.ArgumentNullException: Value cannot be null. (Parameter \u0027options.Credential\u0027)\n\nBased on above errors, I suspect that the Service Bus connection was not configured properly. The difference in the Aspire 9.2 template is that there\u0027s a `.WithHttpsHealthCheck(\"/health\")` line now in Program.cs. So, the webfrontend will report errors like this one if your references are not configured properly.",
                                           "updatedAt":  "2025-04-10T12:30:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6mrPdF",
                                           "createdAt":  "2025-04-11T09:28:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vmykagapuz",
                                           "body":  "It is possible that the issue is due to the new health check added, but the Queue is not found. However, we tried some workarounds and found that the issue will not reproduce if the highlighted line in the code below is removed or if we skip step 4. Let me know your thought on this.\n\n![Image](https://github.com/user-attachments/assets/c86692aa-170d-4dd0-90db-9f0662e24da8)",
                                           "updatedAt":  "2025-04-11T09:28:28Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "[WebToolsE2E][Aspire] The webfrontend of the Aspire project with Azure Service Bus integration remains in the \u0027Running (Unhealthy)\u0027 state and has some errors in the console logs.",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8724",
        "createdAt":  "2025-04-11T08:00:17Z",
        "number":  8724,
        "author":  "FullStackChef",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-17T18:01:41Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nIt would be good if possible to add defaults for AddAzureSqlServer that set the SKU to the minimum available version if nothing is specified.\n\n\nThe reason for this is that not specifying it leads to azure auto creating the database at a general purpose vcore 2 with an estimated monthly cost of ~400\n![Image](https://github.com/user-attachments/assets/40db1ece-9de6-4a13-b620-935a008fcc3d)\n\n### Describe the solution you\u0027d like\n\n```csharp\nvar sql = builder.AddAzureSqlServer(\"sqlserver\").RunAsContainer(\n    container =\u003e container.WithLifetime(ContainerLifetime.Persistent)\n).ConfigureInfrastructure(c =\u003e\n{\n    if (c.GetProvisionableResources().OfType\u003cSqlDatabase\u003e().SingleOrDefault() is SqlDatabase db)\n    {\n        db.Sku = new SqlSku\n        {\n            Name = \"Basic\",\n            Tier = \"Basic\",\n            Capacity = 5\n        };\n    }\n}).AddDatabase(\"sqldb\", \"DatabaseName\");\n```\n\n### Additional context\n\nHappy to complete this work",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Set defaults on Sql server instances",
        "labels":  [
                       "area-integrations",
                       "breaking-change",
                       "azure-sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8766",
        "createdAt":  "2025-04-14T13:56:37Z",
        "number":  8766,
        "author":  "migoldfinger",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-15T02:47:20Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to load an rabbitMQ container into my Aspire solution, but there is no way to do that programmatically.\nWhat should be available\n1) Configure Exchanges\n2) Configure Users\n3) Configure Queues\n4) Configure Opt-In Features\n\nCurrently, this is a manual process.\nAfter starting the RabbitMQ container with ManagementPluging I log in into RabbitMQ. Activate the opt-in Feature and import the configuration I previously exported with the export function.\n\n### Describe the solution you\u0027d like\n\nI want to have an extension method at hand that I can add to `rabbitMq = builder.AddRabbitMQ(\"MessageBus\").WithManagementPlugin().WithDataVolume();` that will take care of the initial configuration.\n\n### Additional context\n\nThis is an example json config file exported from the ManagementPlugin using the export feature.\n[rabbitMQ.json](https://github.com/user-attachments/files/19736664/rabbitMQ.json)\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOpxsS6A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6nCYBn",
                                           "createdAt":  "2025-04-14T17:36:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "afscrome",
                                           "body":  "There are two ways you can achieve this today.  \n\n1. Use rabbitmq\u0027s ability to load definitions at startup.\n\n```cs\n    .WithBindMount(definitionPath, \"/mnt/host/rabbit.definitions.json\")\n    .WithEnvironment(\"RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\", $\"-rabbitmq_management load_definitions  \\\"/mnt/host/rabbit.definitions.json\\\"\")\n```\n\nNote, be careful if the definitions you load include Users / Credentials.  Importing these can override the credentials Aspire expects rabbitmq to use, which will break Aspire\u0027s connection string.\n\nAlternatively you can do this programmatically\n```cs\nbuilder.Eventing.Subscribe\u003cResourceReadyEvent\u003e(rabbitMq, async (evt, ct) =\u003e\n{\n   var connectionString = await rabbitMq.GetConnectionStringAsync();\n   // Do your initialisation against rabbitMq\n});\n```",
                                           "updatedAt":  "2025-04-14T17:36:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nGxLo",
                                           "createdAt":  "2025-04-15T02:19:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "migoldfinger",
                                           "body":  "I do not plan to add Users / Credentials into the definitions.\nI used this file\n[rabbitMQ.json](https://github.com/user-attachments/files/19746133/rabbitMQ.json)\n\nThis results in a lot of error messages.\n```\n2025-04-15T04:15:35 2025-04-15 02:15:35.294862+00:00 [error] \u003c0.792.0\u003e Error on AMQP connection \u003c0.792.0\u003e (172.19.0.1:36238 -\u003e 172.19.0.4:5672, state: starting):\n2025-04-15T04:15:35 2025-04-15 02:15:35.294862+00:00 [error] \u003c0.792.0\u003e PLAIN login refused: user \u0027guest\u0027 - invalid credentials\n```\n\nSince I did not include credentials, why is this error showing up?\nIt looks like if I do it that way with the json file, the users does not even get created in RabbitMQ and I think this is the reason: https://www.rabbitmq.com/docs/definitions#import-on-boot-nuances\n\nAny way to circumvent that?",
                                           "updatedAt":  "2025-04-15T02:47:20Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Add a way to load RabbitMQ container with a predefined configuration in AppHost.",
        "labels":  [
                       "area-integrations",
                       "rabbitmq"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8768",
        "createdAt":  "2025-04-14T15:40:11Z",
        "number":  8768,
        "author":  "PFAR",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-05T17:16:30Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nTried out the new Aspire 9.2 WithCreationScript feature to initialize database projects, switching from the technique used in https://github.com/JerryNixon/aspire-sqlserver/tree/main/202407-AspireDay. However I can\u0027t use the script built by the sqlproj as-is, loading it with File.ReadAllText and using the text in WithCreationScript gives the error message \n\n```\nFailed to create database \u0027XXXXXXX\u0027\nMicrosoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near \u0027:\u0027.\nAn object or column name is missing or empty. For SELECT INTO statements, verify each column has a name. For other statements, look for empty alias names. Aliases defined as \"\" or [] are not allowed. Change the alias to a valid name.\nAn object or column name is missing or empty. For SELECT INTO statements, verify each column has a name. For other statements, look for empty alias names. Aliases defined as \"\" or [] are not allowed. Change the alias to a valid name.\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean\u0026 dataReady)\n   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)\n   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)\n   at Microsoft.Data.SqlClient.SqlCommand.\u003c\u003ec.\u003cInternalExecuteNonQueryAsync\u003eb__193_1(IAsyncResult asyncResult)\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)\n--- End of stack trace from previous location ---\n   at Aspire.Hosting.SqlServerBuilderExtensions.CreateDatabaseAsync(SqlConnection sqlConnection, SqlServerDatabaseResource sqlDatabase, IServiceProvider serviceProvider, CancellationToken ct) in /_/src/Aspire.Hosting.SqlServer/SqlServerBuilderExtensions.cs:line 236\nClientConnectionId:15728cdb-b5d3-4429-895b-1524f66f929c\nError Number:102,State:1,Class:15\n```\n\n### Expected Behavior\n\nI could use the raw build output of a sqlproj to initialize a database instead of using Jerry Nixon\u0027s shellscript approach https://github.com/JerryNixon/aspire-sqlserver/tree/main/202407-AspireDay \n\n### Steps To Reproduce\n\nUse Jerry Nixon\u0027s repo at https://github.com/JerryNixon/aspire-sqlserver/tree/main/202407-AspireDay and change it to use WithCreationScript by passing the built sql file content as a string\n\n### Exceptions (if any)\n\nsee above callstack\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.203\n Commit:            dc7acfa194\n Workload version:  9.0.200-manifests.528db46d\n MSBuild version:   17.13.20+a4ef1e90f\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.203\\\n\n.NET workloads installed:\n [android]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    35.0.50/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.50\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    9.0.14/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.14\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    18.2.9180/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.2.9180\\WorkloadManifest.json\n   Install Type:              Msi\n\n [wasm-tools-net6]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    9.0.4/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.workload.mono.toolchain.net6\\9.0.4\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    18.2.9180/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.2.9180\\WorkloadManifest.json\n   Install Type:              Msi\n\n [wasm-tools]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    9.0.4/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.workload.mono.toolchain.current\\9.0.4\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: VS 17.13.35931.197, VS 17.14.35906.104\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [wasm-tools-net8]\n   Installation Source: VS 17.14.35906.104\n   Manifest Version:    9.0.4/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.workload.mono.toolchain.net8\\9.0.4\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.4\n  Architecture: x64\n  Commit:       f57e6dc747\n\n.NET SDKs installed:\n  8.0.408 [C:\\Program Files\\dotnet\\sdk]\n  9.0.200 [C:\\Program Files\\dotnet\\sdk]\n  9.0.203 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 5.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.13 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.4 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOp1CPSQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6nF0GR",
                                           "createdAt":  "2025-04-14T23:40:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "The SQL doesn\u0027t have any `CREATE DATABASE` statement, only an INSERT.\nHowever I don\u0027t understand where it finds the `:` mentioned in the exception message. ",
                                           "updatedAt":  "2025-04-14T23:40:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nH1WF",
                                           "createdAt":  "2025-04-15T05:28:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "PFAR",
                                           "body":  "Below is the SQL script that sqlproj generates in Jerry Nixon\u0027s project. It generates the same error when passed to .WithCreationScript. In Visual Studio you get red squiglly lines on the first `:setvar` line, unless you enable \"SQLCMD mode\" in the code editor. So it may require a dependency on https://github.com/rusanu/com.rusanu.dbutil to avoid having to rely behind the scenes on similar shell scripts for docker images or calling sqlcmd.exe for native instances...\n\n\n```\n/*\nDeployment script for Database\n\nThis code was generated by a tool.\nChanges to this file may cause incorrect behavior and will be lost if\nthe code is regenerated.\n*/\n\nGO\nSET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;\n\nSET NUMERIC_ROUNDABORT OFF;\n\n\nGO\n:setvar DatabaseName \"Database\"\n:setvar DefaultFilePrefix \"Database\"\n:setvar DefaultDataPath \"\"\n:setvar DefaultLogPath \"\"\n\nGO\n:on error exit\nGO\n/*\nDetect SQLCMD mode and disable script execution if SQLCMD mode is not supported.\nTo re-enable the script after enabling SQLCMD mode, execute the following:\nSET NOEXEC OFF; \n*/\n:setvar __IsSqlCmdEnabled \"True\"\nGO\nIF N\u0027$(__IsSqlCmdEnabled)\u0027 NOT LIKE N\u0027True\u0027\n    BEGIN\n        PRINT N\u0027SQLCMD mode must be enabled to successfully execute this script.\u0027;\n        SET NOEXEC ON;\n    END\n\n\nGO\nUSE [master];\n\n\nGO\n\nIF (DB_ID(N\u0027$(DatabaseName)\u0027) IS NOT NULL) \nBEGIN\n    ALTER DATABASE [$(DatabaseName)]\n    SET SINGLE_USER WITH ROLLBACK IMMEDIATE;\n    DROP DATABASE [$(DatabaseName)];\nEND\n\nGO\nPRINT N\u0027Creating database $(DatabaseName)...\u0027\nGO\nCREATE DATABASE [$(DatabaseName)] COLLATE SQL_Latin1_General_CP1_CI_AS\nGO\nUSE [$(DatabaseName)];\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET ANSI_NULLS ON,\n                ANSI_PADDING ON,\n                ANSI_WARNINGS ON,\n                ARITHABORT ON,\n                CONCAT_NULL_YIELDS_NULL ON,\n                NUMERIC_ROUNDABORT OFF,\n                QUOTED_IDENTIFIER ON,\n                ANSI_NULL_DEFAULT ON,\n                CURSOR_DEFAULT LOCAL,\n                RECOVERY FULL,\n                CURSOR_CLOSE_ON_COMMIT OFF,\n                AUTO_CREATE_STATISTICS ON,\n                AUTO_SHRINK OFF,\n                AUTO_UPDATE_STATISTICS ON,\n                RECURSIVE_TRIGGERS OFF \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET ALLOW_SNAPSHOT_ISOLATION OFF;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET READ_COMMITTED_SNAPSHOT OFF \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET AUTO_UPDATE_STATISTICS_ASYNC OFF,\n                PAGE_VERIFY CHECKSUM,\n                DATE_CORRELATION_OPTIMIZATION OFF,\n                DISABLE_BROKER,\n                PARAMETERIZATION SIMPLE,\n                SUPPLEMENTAL_LOGGING OFF \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF IS_SRVROLEMEMBER(N\u0027sysadmin\u0027) = 1\n    BEGIN\n        IF EXISTS (SELECT 1\n                   FROM   [master].[dbo].[sysdatabases]\n                   WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n            BEGIN\n                EXECUTE sp_executesql N\u0027ALTER DATABASE [$(DatabaseName)]\n    SET TRUSTWORTHY OFF,\n        DB_CHAINING OFF \n    WITH ROLLBACK IMMEDIATE\u0027;\n            END\n    END\nELSE\n    BEGIN\n        PRINT N\u0027The database settings cannot be modified. You must be a SysAdmin to apply these settings.\u0027;\n    END\n\n\nGO\nIF IS_SRVROLEMEMBER(N\u0027sysadmin\u0027) = 1\n    BEGIN\n        IF EXISTS (SELECT 1\n                   FROM   [master].[dbo].[sysdatabases]\n                   WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n            BEGIN\n                EXECUTE sp_executesql N\u0027ALTER DATABASE [$(DatabaseName)]\n    SET HONOR_BROKER_PRIORITY OFF \n    WITH ROLLBACK IMMEDIATE\u0027;\n            END\n    END\nELSE\n    BEGIN\n        PRINT N\u0027The database settings cannot be modified. You must be a SysAdmin to apply these settings.\u0027;\n    END\n\n\nGO\nALTER DATABASE [$(DatabaseName)]\n    SET TARGET_RECOVERY_TIME = 60 SECONDS \n    WITH ROLLBACK IMMEDIATE;\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET FILESTREAM(NON_TRANSACTED_ACCESS = OFF),\n                CONTAINMENT = NONE \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET AUTO_CREATE_STATISTICS ON(INCREMENTAL = OFF),\n                MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT = OFF,\n                DELAYED_DURABILITY = DISABLED \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET QUERY_STORE (QUERY_CAPTURE_MODE = AUTO, OPERATION_MODE = READ_WRITE, DATA_FLUSH_INTERVAL_SECONDS = 900, INTERVAL_LENGTH_MINUTES = 60, MAX_PLANS_PER_QUERY = 200, CLEANUP_POLICY = (STALE_QUERY_THRESHOLD_DAYS = 30), MAX_STORAGE_SIZE_MB = 1000) \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE SCOPED CONFIGURATION SET MAXDOP = 0;\n        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET MAXDOP = PRIMARY;\n        ALTER DATABASE SCOPED CONFIGURATION SET LEGACY_CARDINALITY_ESTIMATION = OFF;\n        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET LEGACY_CARDINALITY_ESTIMATION = PRIMARY;\n        ALTER DATABASE SCOPED CONFIGURATION SET PARAMETER_SNIFFING = ON;\n        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET PARAMETER_SNIFFING = PRIMARY;\n        ALTER DATABASE SCOPED CONFIGURATION SET QUERY_OPTIMIZER_HOTFIXES = OFF;\n        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET QUERY_OPTIMIZER_HOTFIXES = PRIMARY;\n    END\n\n\nGO\nIF EXISTS (SELECT 1\n           FROM   [master].[dbo].[sysdatabases]\n           WHERE  [name] = N\u0027$(DatabaseName)\u0027)\n    BEGIN\n        ALTER DATABASE [$(DatabaseName)]\n            SET TEMPORAL_HISTORY_RETENTION ON \n            WITH ROLLBACK IMMEDIATE;\n    END\n\n\nGO\nIF fulltextserviceproperty(N\u0027IsFulltextInstalled\u0027) = 1\n    EXECUTE sp_fulltext_database \u0027enable\u0027;\n\n\nGO\nPRINT N\u0027Creating Table [dbo].[Users]...\u0027;\n\n\nGO\nCREATE TABLE [dbo].[Users] (\n    [Id]        INT           NOT NULL,\n    [FirstName] NVARCHAR (50) NOT NULL,\n    [LastName]  NVARCHAR (50) NOT NULL,\n    PRIMARY KEY CLUSTERED ([Id] ASC)\n);\n\n\nGO\nIF NOT EXISTS(SELECT TOP 1 1 FROM dbo.Users)\n\t\tINSERT INTO users\n\t\t(Id, FirstName, LastName)\n\t\tVALUES \n\t\t(1, \u0027John\u0027, \u0027Doe\u0027),\n\t\t(2, \u0027Jane\u0027, \u0027Doe\u0027);\nGO\n\nGO\nDECLARE @VarDecimalSupported AS BIT;\n\nSELECT @VarDecimalSupported = 0;\n\nIF ((ServerProperty(N\u0027EngineEdition\u0027) = 3)\n    AND (((@@microsoftversion / power(2, 24) = 9)\n          AND (@@microsoftversion \u0026 0xffff \u003e= 3024))\n         OR ((@@microsoftversion / power(2, 24) = 10)\n             AND (@@microsoftversion \u0026 0xffff \u003e= 1600))))\n    SELECT @VarDecimalSupported = 1;\n\nIF (@VarDecimalSupported \u003e 0)\n    BEGIN\n        EXECUTE sp_db_vardecimal_storage_format N\u0027$(DatabaseName)\u0027, \u0027ON\u0027;\n    END\n\n\nGO\nALTER DATABASE [$(DatabaseName)]\n    SET MULTI_USER \n    WITH ROLLBACK IMMEDIATE;\n\n\nGO\nPRINT N\u0027Update complete.\u0027;\n\n\nGO\n\n```\n\nOn a different topic, currently sqlproj output generates \n```\nIF (DB_ID(N\u0027$(DatabaseName)\u0027) IS NOT NULL) \nBEGIN\n    ALTER DATABASE [$(DatabaseName)]\n    SET SINGLE_USER WITH ROLLBACK IMMEDIATE;\n    DROP DATABASE [$(DatabaseName)];\nEND\n```\nIs there any way to have it generate a return instead in the project options, in order to preserve the current database at all cost, besides a manual replace every time it builds?",
                                           "updatedAt":  "2025-04-15T05:28:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nT83q",
                                           "createdAt":  "2025-04-15T17:52:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@PFAR That\u0027s the issue, the aspire implementation only supports `GO` statements. There are other sqlcmd preprocessor case that would have to be handled to support your script. The library you are pointing to is trying to fill the gap but even this one doesn\u0027t handle all cases. We should make it clear that other statements are not supported, or investigate the cost of handling other ones. We may switch to using the internal init script support altogether and let sqlcmd handle this for us too, will probably be safer.",
                                           "updatedAt":  "2025-04-15T17:52:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nUEe1",
                                           "createdAt":  "2025-04-15T18:04:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "PFAR",
                                           "body":  "Well, technically it\u0027s your (Microsoft\u0027s) script generated by your (not yet fully Aspire supported) SQL project, it would be super convenient to have it supported natively with an optional SqlCmd=true parameter, either migrating the SqlCmd parser/interpreter logic from the SqlCmd.exe code base to C#, or taking a dependency on https://github.com/rusanu/com.rusanu.dbutil ",
                                           "updatedAt":  "2025-04-15T18:04:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nUI9J",
                                           "createdAt":  "2025-04-15T18:11:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "PFAR",
                                           "body":  "Perhaps it would be cleaner to introduce a .WithSQLProjectCreationScript\u003cProjects.Database\u003e() so you wouldn\u0027t need to even deal with path and file names... ",
                                           "updatedAt":  "2025-04-15T18:13:03Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "SQL AddDatabase WithCreationScript incompatible with sqlproj output",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8780",
        "createdAt":  "2025-04-15T12:02:51Z",
        "number":  8780,
        "author":  "Zguy",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODRUkoA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Mihier-Roy",
                                            "createdAt":  "2025-09-17T16:02:52Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-17T16:03:11Z",
        "body":  "## Background and Motivation\n\n\u003c!--\nWe welcome API proposals! We have a process to evaluate the value and shape of new API. There is an overview of our process [here](https://github.com/dotnet/aspnetcore/blob/main/docs/APIReviewProcess.md). This template will help us gather the information we need to start the review process.\nFirst, please describe the purpose and value of the new API here.\n--\u003e\nCurrently the healthchecks for Aspire.Confluent.Kafka writes to a hard-coded default topic name of \"healthchecks-topic\". In an enterprise setting there\u0027s often strict rules around topic names that the default name doesn\u0027t match. Therefore it would be a good idea to expose the topic name in the settings object.\n\n## Proposed API\n\n\u003c!--\nPlease provide the specific public API signature diff that you are proposing. For example:\n```diff\nnamespace Aspire.Hosting;\n\npublic static class ContainerResourceBuilderExtensions\n{\n+    public static IResourceBuilder\u003cT\u003e WithDockerfile\u003cT\u003e(this IResourceBuilder\u003cT\u003e builder, string contextPath, string? dockerfilePath = null) where T: ContainerResource\n}\n```\nYou may find the [Framework Design Guidelines](https://github.com/dotnet/runtime/blob/master/docs/coding-guidelines/framework-design-guidelines-digest.md) helpful.\n--\u003e\n\n```diff\npublic sealed class KafkaProducerSettings\n{\n+    /// \u003csummary\u003e\n+    /// Gets or sets the string value that indicates the Kafka topic that the health check will produce to.\n+    /// \u003c/summary\u003e\n+    /// \u003cvalue\u003e\n+    /// The default value is \"healthchecks-topic\",\n+    /// \u003c/value\u003e\n+    public string HealthChecksTopic { get; set; } = \"healthchecks-topic\";\n```\n\n```diff\npublic sealed class KafkaConsumerSettings\n{\n+    /// \u003csummary\u003e\n+    /// Gets or sets the string value that indicates the Kafka topic that the health check will produce to.\n+    /// \u003c/summary\u003e\n+    /// \u003cvalue\u003e\n+    /// The default value is \"healthchecks-topic\",\n+    /// \u003c/value\u003e\n+    public string HealthChecksTopic { get; set; } = \"healthchecks-topic\";\n```\n\n## Usage Examples\n\n\u003c!--\nPlease provide code examples that highlight how the proposed API additions are meant to be consumed.\nThis will help suggest whether the API has the right shape to be functional, performant and useable.\nYou can use code blocks like this:\n```csharp\n// some lines of code here\n```\n--\u003e\n\nappsettings.json\n```json\n{\n    \"Aspire\": {\n        \"Confluent\": {\n            \"Kafka\": {\n                \"Producer\": {\n                    \"HealthChecksTopic\": \"custom-healthchecks-topic\"\n                },\n                \"Consumer\": {\n                    \"HealthChecksTopic\": \"custom-healthchecks-topic\"\n                }\n```\n\n## Alternative Designs\n\n\u003c!--\nWere there other options you considered, such as alternative API shapes?\nHow does this compare to analogous APIs in other ecosystems and libraries?\n--\u003e\n\nNone. The proposed API seems like the obvious place where one would look for this setting.\n\n## Risks\n\n\u003c!--\nPlease mention any risks that to your knowledge the API proposal might entail, such as breaking changes, performance regressions, etc.\n--\u003e\n\nThe default setting would be the same as now, so it should not be breaking.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxOnpdg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6nduP_",
                                           "createdAt":  "2025-04-16T13:24:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Zguy",
                                           "body":  "If it\u0027s of interest I have an implementation here: https://github.com/Zguy/aspire/commit/ef4c6145e945b077fdfb289945ac893015bf4136",
                                           "updatedAt":  "2025-04-16T13:24:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7E6el2",
                                           "createdAt":  "2025-09-17T16:03:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Mihier-Roy",
                                           "body":  "I\u0027m interested in this proposal as well, it would be good to get this in",
                                           "updatedAt":  "2025-09-17T16:03:11Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Allow Kafka healthchecks to write to a custom topic name",
        "labels":  [
                       "area-integrations",
                       "kafka"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8870",
        "createdAt":  "2025-04-18T07:16:04Z",
        "number":  8870,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:46Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Build information\n\nBuild: https://github.com/dotnet/aspire/actions/runs/14477929461/job/40608113282\nBuild error leg or test failing: Aspire.Hosting.NodeJs.Tests.NodeFunctionalTests.VerifyNpmAppWorks\nPull Request: N/A\n\n\n### Fill in the error message template\n\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n```\n  failed Aspire.Hosting.NodeJs.Tests.NodeFunctionalTests.VerifyNpmAppWorks (0ms)\n    Xunit.Runner.InProc.SystemConsole.TestingPlatform.XunitException: Class fixture type \u0027Aspire.Hosting.NodeJs.Tests.NodeAppFixture\u0027 threw in InitializeAsync\n    ---- Polly.Timeout.TimeoutRejectedException : The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\n    -------- System.Threading.Tasks.TaskCanceledException : A task was canceled.\n      \n      ----- Inner Stack Trace -----\n      at Polly.Utils.ExceptionUtilities.TrySetStackTrace[T](T exception)\n      at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n      at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n      at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n      at System.Threading.Tasks.Task`1.TrySetResult(TResult result)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)\n      at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n      at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n      at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n      at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n      at System.Threading.Tasks.Task`1.TrySetResult(TResult result)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)\n      at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n      at Polly.ResiliencePipeline.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n      at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n      at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n      at System.Threading.Tasks.Task.TrySetCanceled(CancellationToken tokenToRecord, Object cancellationException)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n      at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass52_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:601\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:275\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:60\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+MoveNext()\n      at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n      at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n      at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n      at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n      at System.Threading.Tasks.Task.InternalCancel()\n      at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)\n      at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)\n      at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)\n      at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)\n      at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)\n      at System.Threading.TimerQueue.FireNextTimers()\n      at System.Threading.ThreadPoolWorkQueue.Dispatch()\n      at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()\n      --- End of stack trace from previous location ---\n      at Polly.Outcome`1.GetResultOrRethrow()\n      at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n      at Aspire.Hosting.Dcp.DcpExecutor.CreateServicesAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:598\n      at Aspire.Hosting.Dcp.DcpExecutor.RunApplicationAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:126\n      at Aspire.Hosting.Orchestrator.ApplicationOrchestrator.RunApplicationAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Orchestrator/ApplicationOrchestrator.cs:295\n      at Aspire.Hosting.Orchestrator.OrchestratorHostService.StartAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Orchestrator/OrchestratorHostService.cs:41\n      at Microsoft.Extensions.Hosting.Internal.Host.\u003cStartAsync\u003eb__15_1(IHostedService service, CancellationToken token)\n      at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)\n      at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)\n      at Aspire.Hosting.DistributedApplication.StartAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:369\n      at Aspire.Hosting.NodeJs.Tests.NodeAppFixture.InitializeAsync() in /_/tests/Aspire.Hosting.NodeJs.Tests/NodeAppFixture.cs:45\n      ----- Inner Stack Trace -----\n      at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+MoveNext()\n      at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:39\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:60\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:275\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:275\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n      at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass52_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:601\n      --- End of stack trace from previous location ---\n      at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass52_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:601\n      --- End of stack trace from previous location ---\n      at Polly.ResiliencePipeline.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\n```\n\n### Other info\n\n_No response_\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **macos** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **windows** (0/40) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n\n\n-- Updated on 9/6/2025 3:13:46 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:46 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrhP-JQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6nxb9B",
                                           "createdAt":  "2025-04-18T07:17:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "This is failing regularly on PRs with `    Xunit.Runner.InProc.SystemConsole.TestingPlatform.XunitException: Class fixture type \u0027Aspire.Hosting.NodeJs.Tests.NodeAppFixture\u0027 threw in InitializeAsync`\n```\n      at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+MoveNext()\n      at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:39\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:60\n      at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:275\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:275\n      at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n      at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass52_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:601\n      --- End of stack trace from previous location ---\n      at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass52_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:601\n```\n.. which suggests that something failed during the startup.",
                                           "updatedAt":  "2025-04-18T07:17:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6n3Icb",
                                           "createdAt":  "2025-04-18T21:51:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "`NodeAppFixture` writes its output to `diagnosticMessageSink`:\nhttps://github.com/dotnet/aspire/blob/44630f56ec00181ab87f97f01b045bf553df1514/tests/Aspire.Hosting.NodeJs.Tests/NodeAppFixture.cs#L30-L31\n\nBut I can\u0027t figure out how to get the output from that. Even using CWL doesn\u0027t show up anywhere. If I explicitly write to a file from `TestOutputWrapper` then I can see the messages.\nhttps://github.com/dotnet/aspire/blob/44630f56ec00181ab87f97f01b045bf553df1514/tests/Aspire.Hosting.NodeJs.Tests/NodeAppFixture.cs#L116-L126\n\nBut what is the correct way to get these logs? @Youssef1313 @RussKie \n",
                                           "updatedAt":  "2025-04-18T21:51:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6n3Il6",
                                           "createdAt":  "2025-04-18T21:52:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "I tried `/p:VSTestDiag=diag.log` also, but that doesn\u0027t have the messages logged via the `diagnosticMessageSink`.",
                                           "updatedAt":  "2025-04-18T21:52:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6n3PQp",
                                           "createdAt":  "2025-04-18T22:15:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Youssef1313",
                                           "body":  "Feels like more of a question for xunit.",
                                           "updatedAt":  "2025-04-18T22:15:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6oFFtC",
                                           "createdAt":  "2025-04-22T02:35:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RussKie",
                                           "body":  "According to https://github.com/xunit/xunit/discussions/2391 this is not possible\n\n\u003e `ITestOutputHelper` isn\u0027t compatible with any kind of fixture (class or collection). It\u0027s possible you\u0027re mis-using it in a way that accidentally works. The instance of the test output helper is strongly tied to one specific test, and will fail if you try to use it outside the context of that test.",
                                           "updatedAt":  "2025-04-22T02:35:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6oHG59",
                                           "createdAt":  "2025-04-22T07:40:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "\u003e According to [xunit/xunit#2391](https://github.com/xunit/xunit/discussions/2391) this is not possible\n\u003e \n\u003e \u003e `ITestOutputHelper` isn\u0027t compatible with any kind of fixture (class or collection). It\u0027s possible you\u0027re mis-using it in a way that accidentally works. The instance of the test output helper is strongly tied to one specific test, and will fail if you try to use it outside the context of that test.\n\nTrue. That\u0027s why we use `IMessageSink` but I\u0027m not able to get the messages from that out to the diagnostics log file. It would be useful to have the messages from the fixtures logged. We could write to the console but then that just messes up the output. Maybe writing to a file and just emitting the filename to console.",
                                           "updatedAt":  "2025-04-22T07:40:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uE_4l",
                                           "createdAt":  "2025-05-29T20:46:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "From [build](https://github.com/dotnet/aspire/actions/runs/15103027670):\n```\nnode:events:502\n      throw er; // Unhandled \u0027error\u0027 event\n      ^\n\nError: listen EADDRINUSE: address already in use :::49410\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at Server.listen (node:net:2067:7)\n    at Object.\u003canonymous\u003e (/private/var/folders/w5/_8wgjw3j5cg6mgrth3s2kg9m0000gn/T/aspire-nodejs-testsZ748IG/app.js:14:8)\n    at Module._compile (node:internal/modules/cjs/loader:1529:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1613:10)\n    at Module.load (node:internal/modules/cjs/loader:1275:32)\n    at Module._load (node:internal/modules/cjs/loader:1096:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)\n    at node:internal/main/run_main_module:28:49\nEmitted \u0027error\u0027 event on Server instance at:\n    at emitErrorNT (node:net:1944:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {\n  code: \u0027EADDRINUSE\u0027,\n  errno: -48,\n  syscall: \u0027listen\u0027,\n  address: \u0027::\u0027,\n  port: 49410\n}\n\nNode.js v20.19.0\n```",
                                           "updatedAt":  "2025-05-29T20:46:23Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "[Failing test]: Aspire.Hosting.NodeJs.Tests.NodeFunctionalTests.VerifyNpmAppWorks",
        "labels":  [
                       "area-integrations",
                       "needs-further-triage",
                       "testing ☑️",
                       "flaky-test",
                       "quarantined-test",
                       "test-timeout"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8890",
        "createdAt":  "2025-04-20T22:39:23Z",
        "number":  8890,
        "author":  "godefroi",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-04-20T22:39:40Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI have an existing project that I currently deploy via the `azd` tool, that I would like to migrate to Aspire. However, the `PostgreSqlFlexibleServerVersion` enum doesn\u0027t currently have an entry for PostgreSQL 16, the version I\u0027m currently using.\n\n### Describe the solution you\u0027d like\n\nI would like to see support added for PostgreSQL 16  in the Azure PostgreSQL Flexible Server tooling.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "PostgreSqlFlexibleServerVersion enum missing Ver16, PostgreSQL 16",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8906",
        "createdAt":  "2025-04-21T21:51:39Z",
        "number":  8906,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T09:39:26Z",
        "body":  "Today when we allocate the container port parameter for ACA apps we are using the default `typeof(string)`\n\nhttps://github.com/dotnet/aspire/blob/1994993c5442cf0f2866a02b3497cf9554757add/src/Aspire.Hosting.Azure.AppContainers/ContainerAppContext.cs#L706-L731\n\nInstead, this should be `typeof(int)`.\n\nhttps://github.com/dotnet/aspire/blob/1994993c5442cf0f2866a02b3497cf9554757add/playground/AzureContainerApps/AzureContainerApps.AppHost/api.module.bicep#L8\n\nhttps://github.com/dotnet/aspire/blob/1994993c5442cf0f2866a02b3497cf9554757add/playground/AzureContainerApps/AzureContainerApps.AppHost/api.module.bicep#L68\n\nhttps://learn.microsoft.com/en-us/azure/templates/microsoft.app/containerapps?pivots=deployment-language-bicep#resource-format\n\n```json\n      ingress: {\n        additionalPortMappings: [\n          {\n            exposedPort: int\n            external: bool\n            targetPort: int\n          }\n        ]\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqvuvxg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6pTpBS",
                                           "createdAt":  "2025-04-30T00:08:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "gabynevada",
                                           "body":  "This also seems to affect the probes port, the generated bicep fails when trying to deploy.\n\n```c#\n      app.Template.Containers[0]\n        .Value!.Probes.Add(\n          new ContainerAppProbe\n          {\n            ProbeType = ContainerAppProbeType.Startup,\n            HttpGet = new ContainerAppHttpRequestInfo\n            {\n              Path = \"/alive\",\n              Port = app.Configuration.Ingress.TargetPort,\n            },\n            InitialDelaySeconds = 5,\n            PeriodSeconds = 10,\n            FailureThreshold = 10,\n          }\n        );\n```\n\nIt generates\n\n```bicep\n      containers: [\n        {\n          probes: [\n            {\n              failureThreshold: 10\n              httpGet: {\n                path: \u0027/alive\u0027\n                port: biohelp_api_containerport // Error here\n              }\n              initialDelaySeconds: 5\n              periodSeconds: 10\n              type: \u0027Startup\u0027\n            }\n// More\n```",
                                           "updatedAt":  "2025-04-30T00:08:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6q-6_G",
                                           "createdAt":  "2025-05-10T08:10:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOER0yvQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-05-12T22:06:45Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@captainsafia changed this to a cast recently, that might solve this until we introduce non string parameter types",
                                           "updatedAt":  "2025-05-10T08:10:59Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Change ACA containerPort parameter to int instead of string",
        "labels":  [
                       "area-integrations",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8920",
        "createdAt":  "2025-04-22T19:51:31Z",
        "number":  8920,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:44Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/14523185759\nBuild error leg or test failing: Aspire.Hosting.NodeJs.Tests.NodeFunctionalTests.VerifyNodeAppWorks\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nClass fixture type \u0027Aspire.Hosting.NodeJs.Tests.NodeAppFixture\u0027 threw in InitializeAsync\r\n---- Polly.Timeout.TimeoutRejectedException : The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\r\n-------- System.Threading.Tasks.TaskCanceledException : A task was canceled.\r\n----- Inner Stack Trace -----\r\n   at Polly.Utils.ExceptionUtilities.TrySetStackTrace[T](T exception)\r\n   at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)\r\n   at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n   at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)\r\n   at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n   at Polly.ResiliencePipeline.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n   at System.Threading.Tasks.Task.TrySetCanceled(CancellationToken tokenToRecord, Object cancellationException)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n   at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass54_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:line 639\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:line 275\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:line 60\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+MoveNext()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n   at System.Threading.Tasks.Task.InternalCancel()\r\n   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)\r\n   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)\r\n   at System.Threading.CancellationTokenSource.Invoke(Delegate d, Object state, CancellationTokenSource source)\r\n   at System.Threading.CancellationTokenSource.ExecuteCallbackHandlers(Boolean throwOnFirstException)\r\n   at System.Threading.TimerQueueTimer.Fire(Boolean isThreadPool)\r\n   at System.Threading.TimerQueue.FireNextTimers()\r\n   at System.Threading.ThreadPoolWorkQueue.Dispatch()\r\n   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()\r\n--- End of stack trace from previous location ---\r\n   at Polly.Outcome`1.GetResultOrRethrow()\r\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\r\n   at Aspire.Hosting.Dcp.DcpExecutor.CreateServicesAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:line 636\r\n   at Aspire.Hosting.Dcp.DcpExecutor.RunApplicationAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:line 127\r\n   at Aspire.Hosting.Orchestrator.ApplicationOrchestrator.RunApplicationAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Orchestrator/ApplicationOrchestrator.cs:line 295\r\n   at Aspire.Hosting.Orchestrator.OrchestratorHostService.StartAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Orchestrator/OrchestratorHostService.cs:line 41\r\n   at Microsoft.Extensions.Hosting.Internal.Host.\u003cStartAsync\u003eb__15_1(IHostedService service, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)\r\n   at Aspire.Hosting.DistributedApplication.StartAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:line 369\r\n   at Aspire.Hosting.NodeJs.Tests.NodeAppFixture.InitializeAsync() in /_/tests/Aspire.Hosting.NodeJs.Tests/NodeAppFixture.cs:line 45\r\n----- Inner Stack Trace -----\r\n   at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+MoveNext()\r\n   at k8s.Watcher`1.CreateWatchEventEnumerator(Func`1 streamReaderCreator, Action`1 onError, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\r\n   at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:line 39\r\n   at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Utils/PeriodicRestartAsyncEnumerable.cs:line 60\r\n   at Aspire.Hosting.Utils.PeriodicRestartAsyncEnumerable.CreateAsync[T](Func`3 enumerableFactory, TimeSpan restartInterval, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\r\n   at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:line 275\r\n   at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/Dcp/KubernetesService.cs:line 275\r\n   at Aspire.Hosting.Dcp.KubernetesService.WatchAsync[T](String namespaceParameter, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\r\n   at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass54_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:line 639\r\n--- End of stack trace from previous location ---\r\n   at Aspire.Hosting.Dcp.DcpExecutor.\u003c\u003ec__DisplayClass54_0.\u003c\u003cCreateServicesAsync\u003eb__1\u003ed.MoveNext() in /_/src/Aspire.Hosting/Dcp/DcpExecutor.cs:line 639\r\n--- End of stack trace from previous location ---\r\n   at Polly.ResiliencePipeline.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **macos** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **windows** (0/40) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n\n\n-- Updated on 9/6/2025 3:13:43 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:43 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Flaky test: Aspire.Hosting.NodeJs.Tests.NodeFunctionalTests.VerifyNodeAppWorks",
        "labels":  [
                       "area-integrations",
                       "needs-further-triage",
                       "testing ☑️",
                       "flaky-test",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8926",
        "createdAt":  "2025-04-23T04:31:21Z",
        "number":  8926,
        "author":  "apilosofms",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODB9Ljw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jeremylcarter",
                                            "createdAt":  "2025-04-24T09:44:38Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "licon4812",
                                            "createdAt":  "2025-04-28T08:05:39Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "vegar",
                                            "createdAt":  "2025-05-02T08:36:49Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-05-13T22:04:48Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nMicrosoft recently released a self-contained Az resource to support Durable Task Framework/Functions:\nhttps://techcommunity.microsoft.com/blog/appsonazureblog/announcing-the-public-preview-launch-of-azure-functions-durable-task-scheduler/4389670\n\nI\u0027m hoping Aspire can add support for this.\n\n\n\n### Describe the solution you\u0027d like\n\nWhat I would expect/hope for:\n- Add a scheduler instance in AppHost\n- Have it deployed to my Azure dev instance\n  - [And/or] use the local emulator via docker\n- Add a dependency on this instance to my projects (it would bring across the connectionstring, etc)\n- Have the bicep for it generated\n\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOquqviA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6qR4c9",
                                           "createdAt":  "2025-05-07T02:09:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "@philliphoff has proposed the integration on the Aspire Community Toolkit (and has done the preliminary work on in too), so I think it\u0027s an important question to ask of where this integration should land, Aspire \"core\" or the Community Toolkit.\n\nCurrently, all Azure integrations, with the exception of Dapr, are in the Aspire repo, but is that going to be sustainable long term?",
                                           "updatedAt":  "2025-05-07T02:09:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qSQv1",
                                           "createdAt":  "2025-05-07T03:28:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes it is. The azure integrations long term will be owned by the azure/azure sdk teams and shouldn’t be in the toolkit.",
                                           "updatedAt":  "2025-05-07T03:28:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qbJSq",
                                           "createdAt":  "2025-05-07T16:31:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "philliphoff",
                                           "body":  "I don\u0027t have a huge preference, other than prefer it not be moved again like Dapr.  If it\u0027s preferred to have the DTS integration in `dotnet/aspire`, I\u0027ll port the bits and submit a PR there.",
                                           "updatedAt":  "2025-05-07T16:32:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qjj9C",
                                           "createdAt":  "2025-05-08T02:54:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "This is related to functions right? Maybe it becomes part of the functions package? Or is it something that can be used independently to functions?",
                                           "updatedAt":  "2025-05-08T02:54:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qkgc5",
                                           "createdAt":  "2025-05-08T04:14:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Dapr is not native to Azure the way that DTS is",
                                           "updatedAt":  "2025-05-08T04:14:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6q6q-I",
                                           "createdAt":  "2025-05-09T18:03:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "philliphoff",
                                           "body":  "\u003e This is related to functions right? Maybe it becomes part of the functions package? Or is it something that can be used independently to functions?\n\nIt\u0027s lumped together with Azure (Durable) Functions and is exposed as an additional backend option, but DTS *can* be used completely independent of Azure Functions (e.g. from one\u0027s own compute).  The extension for Azure Functions for VS Code contains the IDE integration for DTS, so it would *probably* be consistent to place it into the Azure Functions package.  That said, there\u0027s less overhead for new packages than IDE extensions so I could also see DTS in its own \"Durable Task\" package. too.",
                                           "updatedAt":  "2025-05-09T18:03:28Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Aspire Support for Durable Task Scheduler",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9000",
        "createdAt":  "2025-04-28T14:04:28Z",
        "number":  9000,
        "author":  "Yarkane",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-19T13:49:41Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nOn some configurations, we have an issue running the Azurite Azure Storage Emulator via Docker. It seems to launch without any issue (\"Azurite Blob service is starting at ...\"), but the other aspire services cannot start after it (\"Emulator start up probe unsuccessful\"). We got it working on similar configurations but not on specific ones.\n\nFor example, running an Event Hub emulator over the Azure Storage emulator : the Event Hub emulator never starts as the Azure Storage emulator start up probe is always unsuccessful.\n\n### Expected Behavior\n\nAs I instanciate a Azure Storage Emulator and then a Event Hub emulator, the two containers should start one after the another.\n\n### Steps To Reproduce\n\nThis code worked on some devices and not on another : \n\n```C#\nvar eventHub = () =\u003e builder\n\t.AddAzureEventHubs(\"eventhubnamespace\")\n\t.RunAsEmulator(x =\u003e x.WithDataBindMount().WithLifetime(ContainerLifetime.Persistent))\n\t.AddEventHub(\"eventhub\");\n```\n\nPlease note that the issue is not specific to Event Hub as the Blob Storage emulator have the same issue : \n\n```C#\n\nvar blobs = () =\u003e\n{\n\tvar storage = builder\n\t\t\t\t\t.AddAzureStorage(\"azurestorage\")\n\t\t\t\t\t.RunAsEmulator(x =\u003e x.WithLifetime(ContainerLifetime.Session).WithImageTag(\"3.33.0\"));\n\treturn storage.AddBlobs(\"blobstorage\");\n};\n```\n\n### Exceptions (if any)\n\nNo issue in the Azurite pod container : \n\n![Image](https://github.com/user-attachments/assets/209c34d9-f461-414a-b779-a24fa7ce1a6c)\n\nBut crash at launch for the Event Hub emulator : \n\n![Image](https://github.com/user-attachments/assets/04ad707c-5768-49aa-a0b9-6997eec9b250)\n\n\n### .NET Version info\n\n- ASP.NET Core version : 9.0.0\n- Aspire version : 9.0.0 (issue reproduced in 9.2.x too)\n- We use Docker Desktop as the backend for the containers of Aspire : v4.40.0\n- We use WSL as the backend for Docker Desktop : \n\n![Image](https://github.com/user-attachments/assets/ff1b194b-2d7a-437f-a338-38854ddfc49b)\n\n### Anything else?\n\nYou will maybe have some ideas about this bug, I know that it is hard / impossible to reproduce, but maybe have you already seen something like that ? We already got through basic debugging with Docker Desktop (reset, etc).\n\nHave a good day and thank you for reading !",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOshv6rg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6t4yE_",
                                           "createdAt":  "2025-05-28T19:08:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "oising",
                                           "body":  "I can repro this in 9.3 with net8 -- the container starts but the health check doesn\u0027t succeed. I have two storage emulators and many other projects. I\u0027m using custom static ports, not dynamic.\n\n![Image](https://github.com/user-attachments/assets/463b379d-1a62-4717-a44f-5c36ad562091)\n\n![Image](https://github.com/user-attachments/assets/802be0cf-3a2f-4389-bc92-bef53fddb20c)",
                                           "updatedAt":  "2025-05-28T19:09:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6t45H6",
                                           "createdAt":  "2025-05-28T19:20:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e  I\u0027m using custom static ports, not dynamic.\n\nDoes this work with dynamic ports?",
                                           "updatedAt":  "2025-05-28T19:22:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uE5wj",
                                           "createdAt":  "2025-05-29T20:34:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "oising",
                                           "body":  "\u003e \u003e  I\u0027m using custom static ports, not dynamic.\n\u003e \n\u003e Does this work with dynamic ports?\n\nI\u0027m trying to repro with a smaller solution and not succeeding yet. Will post back with more details. ",
                                           "updatedAt":  "2025-05-29T20:34:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uMphN",
                                           "createdAt":  "2025-05-30T14:27:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "oising",
                                           "body":  "I finally found out that via netsh interface ipv4 sh excludedportrange protocol=tcp the winnat service had reserved a bunch of random ranges of tcp ports. This is why it was so flaky. Each reboot, it would reserve slightly different ranges. When using static port assignments in Aspire, DCP tries to bind the proxy and throws out an error:\n\n```text\nfail: Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler[0]\n      could not start the proxy {\"ServiceName\": {\"name\":\"kafka\"}, \"Reconciliation\": 451, \"error\": \"could not start the proxy for the service: listen tcp [::1]:50301: bind: An attempt was made to access a socket in a way forbidden by its access permissions.\"}\n```\n\nThis fails because of:\n\n```text\nc:\\\u003e netsh interface ipv4\u003esh excludedportrange protocol=tcp\n\nProtocol tcp Port Exclusion Ranges\n\nStart Port    End Port\n----------    --------\n      5357        5357\n      5985        5985\n     47001       47001\n     49775       49874\n     49875       49974\n     50000       50059     *\n     50162       50261\n     50262       50361\n     50398       50497\n     52573       52672\n     52830       52929\n\n* - Administered port exclusions.\n ```\n\nMy requested static port falls into the range of 50262 -50361\nStopping the winnat service (not always going to be feasible depending on your setup) will release the majority of these ranges. After I did it:\n\n```text\nProtocol tcp Port Exclusion Ranges\n\nStart Port    End Port\n----------    --------\n      5357        5357\n      5985        5985\n     47001       47001\n     50000       50059     *\n```\n\nNow my static port will be assigned and the resources will be healthy, but there\u0027s still a change you\u0027ll conflict with the ranges listed here. Ideally DCP should validate against this information and give an informative error message back instead of the generic binding failure one. ",
                                           "updatedAt":  "2025-05-30T14:27:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6yBv8e",
                                           "createdAt":  "2025-06-19T06:34:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@danegsta @karolz-ms can we do anything here? I think we just need better diagnostics that show up in the dashboard.",
                                           "updatedAt":  "2025-06-19T06:34:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6yG_qu",
                                           "createdAt":  "2025-06-19T13:49:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEXZuag==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "karolz-ms",
                                                                               "createdAt":  "2025-06-19T15:36:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Yarkane",
                                                                               "createdAt":  "2025-06-20T07:18:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "oising",
                                                                               "createdAt":  "2025-06-20T14:30:15Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "danegsta",
                                           "body":  "My current thinking is to provide better messaging around cases where a user has a static port configured in the [ephemeral port range](https://en.m.wikipedia.org/wiki/Ephemeral_port). \n\nDynamic ports such as outgoing connections and servers launched with a random port (as well as winnat reserved ports) fall within a specific port range on a system; usually 49152-65535 (the end of the port range).\n\nMac uses the same default ephemeral port range as Windows, although Linux uses a slightly different range of 32768-60999. But the same concept of dynamic/random ports being assigned from the ephemeral range applies. \n\nUsing a static port in that range is asking for random and unpredictable port conflicts as the system may use it for another connection at any time (or reserved for winnat). \n\nMy current thinking is to start by warning the user immediately if they run into a service port collision in their ephemeral port range; I’d love if we could have an analyzer that detected this case and could warn users early, but that’d be hard to do since ports could come from launch profiles or other config files rather than source. ",
                                           "updatedAt":  "2025-06-19T13:49:41Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Unhealthy Azure Storage Emulator on some devices",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-storage"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9013",
        "createdAt":  "2025-04-29T03:25:16Z",
        "number":  9013,
        "author":  "foxminchan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-28T03:11:59Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nCurrently, the `AddAzurePostgresFlexibleServer(...).AddDatabase(...).WithCreationScript(...)` API works well, but it returns an `IResourceBuilder\u003cAzurePostgresFlexibleServerDatabaseResource\u003e` which is not compatible with `PostgresDatabaseResource`. This inconsistency makes it difficult to generalize database setup logic (e.g., if switching between local Postgres and Azure).\n\n**Screenshot of the error for reference:**\n\n![Image](https://github.com/user-attachments/assets/86709390-1818-4f43-b93e-290549b7dea2)\n\n![Image](https://github.com/user-attachments/assets/ca011aa9-bf96-4722-ba78-5358e8dafed3)\n\n### Describe the solution you\u0027d like\n\nIt would be helpful if:\n\n- **There was a unified interface for database resources.**\n- **Or better guidance/docs/examples for using `WithCreationScript` in the `AzurePostgresFlexibleServer` scenario.**\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqvg3Cg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6pHuCx",
                                           "createdAt":  "2025-04-29T03:51:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "It’s not clear how we’d generalize this yet. We did a minimum implementation for dev only. Running script in deployment environments is something we want to do but it’s non trivial ",
                                           "updatedAt":  "2025-04-29T03:51:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pHved",
                                           "createdAt":  "2025-04-29T03:57:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "foxminchan",
                                           "body":  "@davidfowl I understand — but in that case, would it be possible to support running the script in dev environments when using `RunAsContainer()` mode? That alone could really help improve the development experience.",
                                           "updatedAt":  "2025-04-29T03:57:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pH3z3",
                                           "createdAt":  "2025-04-29T04:23:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "That should already work if you do ```RunAsContainer(c =\u003e c.WithCreationScript(..))```",
                                           "updatedAt":  "2025-04-29T04:31:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pH-mj",
                                           "createdAt":  "2025-04-29T04:48:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "foxminchan",
                                           "body":  "@davidfowl It doesn’t seem to work as expected — when I try `RunAsContainer(cfg =\u003e cfg.WithCreationScript(...))`, I get a type mismatch error. The builder is for PostgresServerResource, but WithCreationScript appears to expect a PostgresDatabaseResource.\n\n![Image](https://github.com/user-attachments/assets/1dfcfe90-8fe1-49b3-82ab-814df6434128)\n\n**Error:**\n\n\u003e Cannot convert instance argument type \u0027Aspire.Hosting.ApplicationModel.IResourceBuilder\u003cAspire.Hosting.ApplicationModel.PostgresServerResource\u003e\u0027 to \u0027Aspire.Hosting.ApplicationModel.IResourceBuilder\u003cAspire.Hosting.ApplicationModel.PostgresDatabaseResource\u003e\u0027`",
                                           "updatedAt":  "2025-04-29T04:48:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pIBML",
                                           "createdAt":  "2025-04-29T04:57:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Ah, I see. \n\n@sebastienros @RussKie We should do this as part of the database work in 9.3",
                                           "updatedAt":  "2025-04-29T04:57:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pI4PQ",
                                           "createdAt":  "2025-04-29T06:51:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RussKie",
                                           "body":  "@foxminchan are you able to provide a small standalone repro?",
                                           "updatedAt":  "2025-04-29T06:51:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pL0hg",
                                           "createdAt":  "2025-04-29T11:22:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "foxminchan",
                                           "body":  "@RussKie  I’m not able to provide a standalone repro at the moment. However, I’ve created an issue in my project (a POC) that describes the scenario in detail: https://github.com/foxminchan/BookWorm/issues/34. If a standalone repro is necessary, I can prepare and share one later.",
                                           "updatedAt":  "2025-04-29T11:22:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6prtQG",
                                           "createdAt":  "2025-05-02T09:41:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I understand the problem and can talk to @RussKie ",
                                           "updatedAt":  "2025-05-02T09:41:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6q9lQ5",
                                           "createdAt":  "2025-05-10T03:01:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@sebastienros as part of this work we should make these annotations public",
                                           "updatedAt":  "2025-05-10T03:01:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6q-DcK",
                                           "createdAt":  "2025-05-10T05:07:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@davidfowl It used to be public ... https://github.com/dotnet/aspire/pull/8535",
                                           "updatedAt":  "2025-05-10T05:07:53Z"
                                       }
                                   ],
                         "totalCount":  10
                     },
        "title":  "Support altering the default script for AzurePostgresFlexibleServer in .NET Aspire",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9061",
        "createdAt":  "2025-05-01T20:02:55Z",
        "number":  9061,
        "author":  "KSemenenko",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-08T12:33:08Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nGitHub Actions error \nI have simple test, and local it works perfectly.\n\n```cs\n[Fact]\npublic async Task HealthTest()\n{\n    // Arrange\n    var appHost = await DistributedApplicationTestingBuilder.CreateAsync\u003cProjects.Server\u003e();\n    \n    appHost.Environment.EnvironmentName = \"Development\";\n    \n    await using var app = await appHost.BuildAsync();\n    await app.StartAsync();\n\n    // Act\n    var httpClient = app.CreateHttpClient(\"server\");\n    var response = await httpClient.GetAsync(\"/health\");\n\n    // Assert\n    Assert.Equal(HttpStatusCode.OK, response.StatusCode);\n}\n```\n\nBut on github actions:\n\n```\nTest run for /home/runner/work/DigitalCollections/DigitalCollections/Assistant.Tests/bin/Release/net9.0/Assistant.Tests.dll (.NETCoreApp,Version=v9.0)\nVSTest version 17.13.0 (x64)\nStarting test execution, please wait...\nA total of 1 test files matched the specified pattern.\n[xUnit.net 00:00:35.74]     Assistant.Tests.IntegrationTest1.HealthTest [FAIL]\n  Failed Assistant.Tests.IntegrationTest1.HealthTest [35 s]\n  Error Message:\n   System.Net.Http.HttpRequestException : The SSL connection could not be established, see inner exception.\n---- System.Security.Authentication.AuthenticationException : The remote certificate is invalid because of errors in the certificate chain: UntrustedRoot\n  Stack Trace:\n     at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)\n   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|4_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|4_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at System.Net.Http.HttpClient.\u003cSendAsync\u003eg__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n   at GoodLeapAssistant.Tests.IntegrationTest1.HealthTest() in /home/runner/work/DigitalCollections/DigitalCollections/Assistant.Tests/IntegrationTest1.cs:line 21\n   at Assistant.Tests.IntegrationTest1.HealthTest() in /home/runner/work/DigitalCollections/DigitalCollections/Assistant.Tests/IntegrationTest1.cs:line 24\n--- End of stack trace from previous location ---\n----- Inner Stack Trace -----\n   at System.Net.Security.SslStream.SendAuthResetSignal(ReadOnlySpan`1 alert, ExceptionDispatchInfo exception)\n   at System.Net.Security.SslStream.CompleteHandshake(SslAuthenticationOptions sslAuthenticationOptions)\n   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)\n   at System.Net.Http.ConnectHelper.EstablishSslConnectionAsync(SslClientAuthenticationOptions sslOptions, HttpRequestMessage request, Boolean async, Stream stream, CancellationToken cancellationToken)\n```\n\n### Expected Behavior\n\nthis test shoud works\n\n### Steps To Reproduce\n\nsimple aspire app\n\n```cs\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar postgres = builder.AddPostgres(\"postgres\")\n    .WithLifetime(ContainerLifetime.Persistent);\n\nvar postgresDb = postgres.AddDatabase(\"postgresdb\");\n\nvar api = builder.AddProject\u003cProjects.Server\u003e(\"server\")\n    .WithReference(postgresDb)\n    .WaitFor(postgresDb);\n\nbuilder.Build()\n    .Run();\n```\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n9.0.203\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvM_Lww==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6pp5KM",
                                           "createdAt":  "2025-05-02T05:15:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you share more of the call stack?",
                                           "updatedAt":  "2025-05-02T05:15:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6prAej",
                                           "createdAt":  "2025-05-02T08:11:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEQjOHA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-05-02T08:12:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "afscrome",
                                           "body":  "Have you trusted the dev cert in github actions - https://learn.microsoft.com/en-us/dotnet/aspire/troubleshooting/untrusted-localhost-certificate ?",
                                           "updatedAt":  "2025-05-02T08:11:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68z8vD",
                                           "createdAt":  "2025-08-08T12:33:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgRqRg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ElanHasson",
                                                                               "createdAt":  "2025-08-31T09:02:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "aalmada",
                                           "body":  "I added the following to my GitHub workflow, before the Test action:\n\n```yaml\n    - name: Clean HTTPS dev certs\n      run: dotnet dev-certs https --clean\n\n    - name: Trust HTTPS dev certs\n      run: dotnet dev-certs https --trust\n```\n\nIt did fix the issue!\nIt would be great if you could add it to the documentation or find a more elegant solution...",
                                           "updatedAt":  "2025-08-08T12:33:08Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "SSL client error in GitHub Actions for DistributedApplicationTesting test",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9083",
        "createdAt":  "2025-05-02T16:22:55Z",
        "number":  9083,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:14:06Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/14796786793\nBuild error leg or test failing: Aspire.Playground.Tests.ProjectSpecificTests.KafkaTest\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n## Stdout\n\u003cdetails\u003e\u003csummary\u003eStdout\u003c/summary\u003e\n\n```\n... (truncated) Worker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1828: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 908\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1829: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1830: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 909\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1831: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1832: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 910\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1833: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1834: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 911\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1835: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1836: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 912\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1837: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1838: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 913\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1839: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1840: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 914\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1841: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1842: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 915\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1843: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1844: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 916\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1845: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1846: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 917\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1847: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1848: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 918\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1849: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1850: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 919\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1851: 2025-05-02T14:15:15.9740000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1852: 2025-05-02T14:15:15.9740000Z       Consumed message [] = Hello, World! 920\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1853: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1854: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 921\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1855: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1856: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 922\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1857: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1858: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 923\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1859: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1860: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 924\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1861: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1862: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 925\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1863: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1864: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 926\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1865: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1866: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 927\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1867: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1868: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 928\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1869: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1870: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 929\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1871: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1872: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 930\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1873: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1874: 2025-05-02T14:15:15.9750000Z       Consumed message [] = Hello, World! 931\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1875: 2025-05-02T14:15:15.9750000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1876: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 932\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1877: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1878: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 933\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1879: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1880: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 934\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1881: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1882: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 935\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1883: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1884: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 936\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1885: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1886: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 937\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1887: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1888: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 938\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1889: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1890: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 939\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1891: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1892: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 940\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1893: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1894: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 941\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1895: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1896: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 942\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1897: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1898: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 943\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1899: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1900: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 944\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1901: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1902: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 945\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1903: 2025-05-02T14:15:15.9760000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1904: 2025-05-02T14:15:15.9760000Z       Consumed message [] = Hello, World! 946\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1905: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1906: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 947\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1907: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1908: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 948\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1909: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1910: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 949\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1911: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1912: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 950\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1913: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1914: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 951\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1915: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1916: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 952\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1917: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1918: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 953\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1919: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1920: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 954\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1921: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1922: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 955\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1923: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1924: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 956\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1925: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1926: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 957\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1927: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1928: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 958\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1929: 2025-05-02T14:15:15.9770000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1930: 2025-05-02T14:15:15.9770000Z       Consumed message [] = Hello, World! 959\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1931: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1932: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 960\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1933: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1934: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 961\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1935: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1936: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 962\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1937: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1938: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 963\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1939: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1940: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 964\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1941: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1942: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 965\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1943: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1944: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 966\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1945: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1946: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 967\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1947: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1948: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 968\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1949: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1950: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 969\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1951: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1952: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 970\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1953: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1954: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 971\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1955: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1956: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 972\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1957: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1958: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 973\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1959: 2025-05-02T14:15:15.9780000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1960: 2025-05-02T14:15:15.9780000Z       Consumed message [] = Hello, World! 974\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1961: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1962: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 975\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1963: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1964: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 976\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1965: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1966: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 977\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1967: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1968: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 978\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1969: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1970: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 979\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1971: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1972: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 980\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1973: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1974: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 981\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1975: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1976: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 982\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1977: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1978: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 983\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1979: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1980: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 984\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1981: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1982: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 985\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1983: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1984: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 986\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1985: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1986: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 987\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1987: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1988: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 988\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1989: 2025-05-02T14:15:15.9790000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1990: 2025-05-02T14:15:15.9790000Z       Consumed message [] = Hello, World! 989\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1991: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1992: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 990\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1993: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1994: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 991\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1995: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1996: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 992\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1997: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1998: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 993\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 1999: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2000: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 994\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2001: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2002: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 995\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2003: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2004: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 996\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2005: 2025-05-02T14:15:15.9800000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2006: 2025-05-02T14:15:15.9800000Z       Consumed message [] = Hello, World! 997\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2007: 2025-05-02T14:15:15.9810000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2008: 2025-05-02T14:15:15.9810000Z       Received 1000 messages. current offset is \u0027997\u0027\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2009: 2025-05-02T14:15:15.9810000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2010: 2025-05-02T14:15:15.9810000Z       Consumed message [] = Hello, World! 998\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2011: 2025-05-02T14:15:15.9810000Z \\u001b[40m\\u001b[32minfo\\u001b[39m\\u001b[22m\\u001b[49m: Consumer.ConsumerWorker[0]\n| [2025-05-02T14:15:16] KafkaBasic.AppHost.Resources.consumer Information: 2012: 2025-05-02T14:15:15.9810000Z       Consumed message [] = Hello, World! 999\n| [2025-05-02T14:15:28] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Error: could not stop the Executable\t{\"Executable\": {\"name\":\"consumer-zarwdngr\"}, \"Reconciliation\": 11, \"RunID\": \"9457\", \"error\": \"timed out waiting for process to stop\"}\n| [2025-05-02T14:15:28] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Error: could not stop the Executable\t{\"Executable\": {\"name\":\"producer-kvpxpqhb\"}, \"Reconciliation\": 12, \"RunID\": \"9471\", \"error\": \"timed out waiting for process to stop\"}\n\n```\n\u003c/details\u003e\n\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n\n\n-- Updated on 8/16/2025 3:05:55 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 8/16/2025 3:05:55 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n\n\n-- Updated on 9/6/2025 3:14:05 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:14:05 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Flaky test: Aspire.Playground.Tests.ProjectSpecificTests.KafkaTest",
        "labels":  [
                       "area-integrations",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9143",
        "createdAt":  "2025-05-07T15:05:40Z",
        "number":  9143,
        "author":  "lucas-morel-shift",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPXglA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "amilochau",
                                            "createdAt":  "2025-05-12T07:57:46Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AnthonySteele-NewDay",
                                            "createdAt":  "2025-07-28T08:53:58Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "zbarrier",
                                            "createdAt":  "2025-09-09T15:01:15Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-07-28T09:11:59Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to add Aspire to an existing project which requires composite indexes.\n\nAfter several tentative, with custom commands, snapshot (via initial state) or trying directly to use the builder\u0027s required services, I just went with the code in base project way.\nHowever in terms of design and separation of concerns, I\u0027m not very happy with modifying the structure of my CosmosDB containers after their creation and at run time of my application. \n\n\n### Describe the solution you\u0027d like\n\n\nI noticed a discussion here https://github.com/dotnet/aspire/discussions/8438 where it was suggested to add container options to pass along custom configuration. It seems like a good suggestion. \n\nAnother way could be to modify the API offering methods to add the values needed. \nIn my case for example it could look like:\n\n```C#\nvar container = cosmosDbDatabase.AddContainer(\"container\", \"/partitionKey\");\ncontainer.AddIndexingPolicy(new CompositePath() { Path = \"/path/path\", Order = CompositePathSortOrder.Descending });\n```\n\n\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOulcN3w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6vUeyS",
                                           "createdAt":  "2025-06-04T20:33:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "secheledelaruse",
                                           "body":  "just a heads up that today without intervention container.bicep omits the ``` $.defaultTtl: int ```\n \ni believe this omission in the bicep triggers the `if the TTL isn\u0027t set on a container` clause in the [documentation ](https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/time-to-live#time-to-live-configurations) which [means subsequent portal or sdk activity](https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/time-to-live#time-to-live-configurations) to enable ttl ",
                                           "updatedAt":  "2025-06-04T20:34:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66Vw3f",
                                           "createdAt":  "2025-07-28T09:05:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEd3QhA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "antoine-milochau-shift",
                                                                               "createdAt":  "2025-08-11T16:35:28Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "AnthonySteele-NewDay",
                                           "body":  "In my case I want to do something like `container.WithDefaultTimeToLive(600);` or `container.Configure(opts =\u003e opts.DefaultTimeToLive = TimeSpan.FromSeconds(600));` \nI don\u0027t mind the specific syntax so long as it\u0027s possible.\n\n[The `DefaultTimeToLive` has to be set on the container ,for item ttls to work](https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/time-to-live).\n\nI am trialing Aspire on existing code and running into this.\n\n",
                                           "updatedAt":  "2025-07-28T09:11:59Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Add support for custom configuration for CosmosDB",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9145",
        "createdAt":  "2025-05-07T18:56:12Z",
        "number":  9145,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:14:05Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/14890232046\nBuild error leg or test failing: Aspire.Hosting.Azure.Tests.AzureStorageEmulatorFunctionalTests.VerifyAzureStorageEmulator_blobcontainer_auto_created\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nBlob container should exist after starting the application.   at Aspire.Hosting.Azure.Tests.AzureStorageEmulatorFunctionalTests.VerifyAzureStorageEmulator_blobcontainer_auto_created() in /home/runner/work/aspire/aspire/tests/Aspire.Hosting.Azure.Tests/AzureStorageEmulatorFunctionalTests.cs:line 163\n--- End of stack trace from previous location ---\n```\n\n## Stdout\n\u003cdetails\u003e\u003csummary\u003eStdout\u003c/summary\u003e\n\n```\n... (truncated) Variables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 5, \"Network\": \"default-aspire-network-um0411mq3o\", \"Expected\": 1, \"Found\": 0}\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource storage with Container resource storage-fkwsazqq\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource storage/storage-fkwsazqq changed state: Starting -\u003e Running\n| [2025-05-07T18:16:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Starting health monitoring for resource \u0027storage\u0027.\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource BlobConnection/BlobConnection changed state: Starting -\u003e Running\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource testblobcontainer/testblobcontainer changed state: Starting -\u003e Running\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Starting health monitoring for resource \u0027BlobConnection\u0027.\n| [2025-05-07T18:16:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Starting health monitoring for resource \u0027testblobcontainer\u0027.\n| [2025-05-07T18:16:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027storage\u0027 health checks to monitor: storage_check\n| [2025-05-07T18:16:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027BlobConnection\u0027 health checks to monitor: storage_check\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler Information: service /storage-blob is now in state Ready\t{\"ServiceName\": {\"name\":\"storage-blob\"}, \"Reconciliation\": 10}\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler Information: service /storage-queue is now in state Ready\t{\"ServiceName\": {\"name\":\"storage-queue\"}, \"Reconciliation\": 12}\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler Information: service /storage-table is now in state Ready\t{\"ServiceName\": {\"name\":\"storage-table\"}, \"Reconciliation\": 13}\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 10 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027testblobcontainer\u0027 health checks to monitor: storage_check\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 10 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 10 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource storage with Container resource storage-fkwsazqq\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 11 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 11 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 11 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 12 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 12 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 12 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 13 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 13 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 13 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 14 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 14 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 14 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 15 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 15 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 15 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 16 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = (null) }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 16 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 16 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 6, \"Network\": \"default-aspire-network-um0411mq3o\", \"Expected\": 1, \"Found\": 1}\n| [2025-05-07T18:16:35] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 7, \"Network\": \"default-aspire-network-um0411mq3o\", \"Expected\": 1, \"Found\": 1}\n| [2025-05-07T18:16:36] Aspire.Hosting.Tests.Resources.storage Information: 52: 2025-05-07T18:16:36.4301076Z Azurite Blob service is starting at http://0.0.0.0:10000\n| [2025-05-07T18:16:36] Aspire.Hosting.Tests.Resources.storage Information: 53: 2025-05-07T18:16:36.4441116Z Azurite Blob service is successfully listening at http://0.0.0.0:10000\n| [2025-05-07T18:16:36] Aspire.Hosting.Tests.Resources.storage Information: 54: 2025-05-07T18:16:36.4441413Z Azurite Queue service is starting at http://0.0.0.0:10001\n| [2025-05-07T18:16:36] Aspire.Hosting.Tests.Resources.storage Information: 55: 2025-05-07T18:16:36.4502244Z Azurite Queue service is successfully listening at http://0.0.0.0:10001\n| [2025-05-07T18:16:36] Aspire.Hosting.Tests.Resources.storage Information: 56: 2025-05-07T18:16:36.4503899Z Azurite Table service is starting at http://0.0.0.0:10002\n| [2025-05-07T18:16:36] Aspire.Hosting.Tests.Resources.storage Information: 57: 2025-05-07T18:16:36.4525709Z Azurite Table service is successfully listening at http://0.0.0.0:10002\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health report status for \u0027testblobcontainer\u0027 is Healthy.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health report status for \u0027BlobConnection\u0027 is Healthy.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027testblobcontainer\u0027 is ready.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027BlobConnection\u0027 is ready.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing ResourceReadyEvent for \u0027BlobConnection\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing ResourceReadyEvent for \u0027testblobcontainer\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Waiting for ResourceReadyEvent for \u0027testblobcontainer\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Waiting for ResourceReadyEvent for \u0027BlobConnection\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: ResourceReadyEvent for \u0027testblobcontainer\u0027 completed.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: ResourceReadyEvent for \u0027BlobConnection\u0027 completed.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing the result of ResourceReadyEvent for \u0027BlobConnection\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing the result of ResourceReadyEvent for \u0027testblobcontainer\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 17 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = True, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:36] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 17 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = True, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = (null) }, Commands = {  }\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health reports for \u0027BlobConnection\u0027 have changed. Publishing updated reports.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health reports for \u0027testblobcontainer\u0027 have changed. Publishing updated reports.\n| [2025-05-07T18:16:36] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 18 Resource testblobcontainer/testblobcontainer update published: ResourceType = AzureBlobStorageContainerResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = BlobConnection }, HealthReports = { storage_check = Healthy }, Commands = {  }\n| [2025-05-07T18:16:36] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 18 Resource BlobConnection/BlobConnection update published: ResourceType = AzureBlobStorageResource, CreationTimeStamp = (null), State = { Text = Running, Style = (null) }, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = { resource.parentName = storage-fkwsazqq }, HealthReports = { storage_check = Healthy }, Commands = {  }\n| [2025-05-07T18:16:36] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Finished waiting for resource \u0027testblobcontainer\u0027.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Resource \u0027BlobConnection\u0027 health check monitoring loop starting delay of 00:00:30.\n| [2025-05-07T18:16:36] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Resource \u0027testblobcontainer\u0027 health check monitoring loop starting delay of 00:00:30.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Service resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Service resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Endpoint resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Endpoint resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Container resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Container resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Executable resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Executable resources.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for storage-fkwsazqq was cancelled.\n| [2025-05-07T18:16:36] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"Running\", \"NewStatus\": \"CleaningResources\"}\n| [2025-05-07T18:16:37] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 8, \"Network\": \"default-aspire-network-um0411mq3o\", \"Expected\": 1, \"Found\": 1}\n| [2025-05-07T18:16:39] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 4524}\n| [2025-05-07T18:16:39] Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler Information: no more Container resources are being watched, cancelling container watch\t{\"Container\": {\"name\":\"storage-fkwsazqq\"}, \"Reconciliation\": 16}\n| [2025-05-07T18:16:39] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 9, \"Network\": \"default-aspire-network-um0411mq3o\", \"Expected\": 0, \"Found\": 0}\n| [2025-05-07T18:16:39] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 10, \"Network\": \"default-aspire-network-um0411mq3o\", \"Expected\": 0, \"Found\": 0}\n| [2025-05-07T18:16:39] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 4044}\n| [2025-05-07T18:16:40] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: ContainerNetwork object is being deleted\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 11, \"NetworkName\": \"default-aspire-network-um0411mq3o\"}\n| [2025-05-07T18:16:40] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: no more ContainerNetwork resources are being watched, cancelling network watch\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 11}\n| [2025-05-07T18:16:41] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"CleanupComplete\", \"NewStatus\": \"Stopping\"}\n| [2025-05-07T18:16:41] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutting down...\n| [2025-05-07T18:16:41] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Service DCP controller host terminated gracefully\n| [2025-05-07T18:16:41] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutdown complete.\n| [2025-05-07T18:16:41] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health report status for \u0027storage\u0027 is Unhealthy.\n| [2025-05-07T18:16:41] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health reports for \u0027storage\u0027 have changed. Publishing updated reports.\n| [2025-05-07T18:16:41] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 17 Resource storage/storage-fkwsazqq update published: ResourceType = Container, CreationTimeStamp = 2025-05-07T18:16:25, State = { Text = Running, Style = (null) }, HeathStatus = Unhealthy, ResourceReady = False, ExitCode = (null), Urls = { blob = tcp://localhost:38439 queue = tcp://localhost:38973 table = tcp://localhost:40581 }, EnvironmentVariables = { NODE_ENV = production NODE_VERSION = 22.14.0 PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin YARN_VERSION = 1.22.22 }, Properties = { container.image = mcr.microsoft.com/azure-storage/azurite:3.34.0 container.id = ba92f66b9a64284564d1c19b40cabeb0ec92e9aa15dc6ebf04813c13ac304225 container.command = (null) container.args = docker-entrypoint.sh, azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck container.ports = 10000, 10001, 10002 container.lifetime = Session resource.appArgs = azurite, -l, /data, --blobHost, 0.0.0.0, --queueHost, 0.0.0.0, --tableHost, 0.0.0.0, --skipApiVersionCheck resource.appArgsSensitivity = 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, HealthReports = { storage_check = Unhealthy }, Commands = { Start (resource-start) = Hidden Stop (resource-stop) = Enabled Restart (resource-restart) = Enabled }\n| [2025-05-07T18:16:41] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Resource \u0027storage\u0027 health check monitoring loop starting delay of 00:00:01.\n\n```\n\u003c/details\u003e\n\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17002105771) |\n\n\n-- Updated on 8/16/2025 3:05:53 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 8/16/2025 3:05:53 AM UTC\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n\n\n-- Updated on 9/6/2025 3:14:04 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:14:04 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Flaky test: Aspire.Hosting.Azure.Tests.AzureStorageEmulatorFunctionalTests.VerifyAzureStorageEmulator_blobcontainer_auto_created",
        "labels":  [
                       "area-integrations",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9228",
        "createdAt":  "2025-05-10T10:34:54Z",
        "number":  9228,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-28T03:12:07Z",
        "body":  "![Image](https://github.com/user-attachments/assets/c8e18064-777f-4de2-9da0-95e35c57b6e3)\n\nAt the moment if I have a problem with my database creation script I don\u0027t get any feedback. We should show what block is being executed and what the result was.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqv1dTg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6q_V1O",
                                           "createdAt":  "2025-05-10T10:35:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "/cc @sebastienros ",
                                           "updatedAt":  "2025-05-10T10:35:18Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "`WithCreationScript(...)` should provide feedback in resource logger.",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9279",
        "createdAt":  "2025-05-13T11:35:55Z",
        "number":  9279,
        "author":  "pizerg",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODJ3gLA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ddizh",
                                            "createdAt":  "2025-05-14T00:00:28Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "amolenk",
                                            "createdAt":  "2025-07-01T09:58:02Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "18AX",
                                            "createdAt":  "2025-07-08T06:52:03Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "martincostello",
                                            "createdAt":  "2025-07-14T07:31:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "oystehei",
                                            "createdAt":  "2025-08-05T07:09:16Z"
                                        }
                                    ],
                          "totalCount":  5
                      },
        "updatedAt":  "2025-07-16T16:09:15Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nThe emulator is currently using sql-edge which is not compatible with the latest Linux kernel and (at least on ARM macos) crashes on start when using recent docker versions. Sql-edge is not going to be supported anymore.\n\n### Describe the solution you\u0027d like\n\nAzure Service Bus Integration should make the SQL instance configurable.\n\n### Additional context\n\nSee [this](https://github.com/Azure/azure-service-bus-emulator-installer/tree/main/Docker-Compose-Template) for some examples of Docker Compose templates",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOt4p6Wg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc63idZT",
                                           "createdAt":  "2025-07-16T15:58:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dmmusil",
                                           "body":  "Are there any plans to allow opting out of using a dedicated container for the database? It would be nice to be able to tell the emulator to use my existing SQL container that the rest of my app host is using and save the compute resources.",
                                           "updatedAt":  "2025-07-16T15:58:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63inpa",
                                           "createdAt":  "2025-07-16T16:09:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dmmusil",
                                           "body":  "```\nvar sqlEdgeToDelete = builder.Resources.First(r =\u003e r.Name == \"sb-emulator-sqledge\");\nbuilder.Resources.Remove(sqlEdgeToDelete);\n```\ndoes what I need 🚀 ",
                                           "updatedAt":  "2025-07-16T16:09:15Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Allow to choose Service Bus emulator SQL instance",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-servicebus"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9326",
        "createdAt":  "2025-05-15T10:23:02Z",
        "number":  9326,
        "author":  "soundaranbu",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCay9A==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "plaurin",
                                            "createdAt":  "2025-05-15T14:09:48Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-07-28T03:12:15Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nHi, I\u0027ve tried the Aspire 9.2.1 with Cosmos DB hosting integration with the preview emulator. But the following code does not create databases and containers when we check in the data explorer. I\u0027m wondering if it\u0027s a bug or this is not supported yet\n\n```cs\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar cosmos = builder.AddAzureCosmosDB(\"cosmos-db\")\n                    .RunAsPreviewEmulator(emulator =\u003e\n                     {\n                         emulator.WithDataExplorer();\n                     });\n\nvar customers = cosmos.AddCosmosDatabase(\"customers\");\nvar profiles = customers.AddContainer(\"profiles\", \"/id\");\n\nvar orders = cosmos.AddCosmosDatabase(\"orders\");\nvar details = orders.AddContainer(\"details\", \"/id\");\nvar history = orders.AddContainer(\"history\", \"/id\");\n\nbuilder.Build().Run();\n```\n\nDashboard:\n\n![Image](https://github.com/user-attachments/assets/6c6ec2e2-b1c2-4121-91d3-2d0c84a7ed64)\n\nData Explorer:\n\n![Image](https://github.com/user-attachments/assets/f195022b-d085-4ce4-85c7-5ac816bd8cf5)\n\n### Expected Behavior\n\nShould create the cosmos database and containers when using the preview emulator\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n9.0.203\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtq5Uug==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6r5dvd",
                                           "createdAt":  "2025-05-15T14:13:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESV2AA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "soundaranbu",
                                                                               "createdAt":  "2025-05-16T06:30:24Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "kefran06",
                                           "body":  "I kinda bypass this problem if you add \n\n.WithReference(orders).WaitFor(orders)\n.WithReference(details).WaitFor(details)\n.WithReference(history).WaitFor(history)\n\nto your projectRefence, but in your exemple you don\u0027t seem to have a project ( .AddProject\u003c\u003e)",
                                           "updatedAt":  "2025-05-15T14:13:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r5gzn",
                                           "createdAt":  "2025-05-15T14:16:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @sebastienros ",
                                           "updatedAt":  "2025-05-15T14:16:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r8ew2",
                                           "createdAt":  "2025-05-15T18:43:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "It\u0027s working for me with your sample:\n\n![Image](https://github.com/user-attachments/assets/589884e4-29b8-4a89-90cf-d74c008d4621)\n\nMaybe it\u0027s a timing issue, assuming the explorer could start before the containers are actually created. Could you try the refresh icon here:\n\n![Image](https://github.com/user-attachments/assets/9d8f93cd-7145-4b1c-9fde-95e0070c0c24)",
                                           "updatedAt":  "2025-05-15T18:43:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r8pdh",
                                           "createdAt":  "2025-05-15T19:02:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kefran06",
                                           "body":  "I have the same problem it\u0027s  look like a race condition not working 100%, if you try with a microsoft devbox I don\u0027t know why but it\u0027s easily reproducible. I recommended to try this like 10 times in a row\n",
                                           "updatedAt":  "2025-05-15T19:02:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r8qP_",
                                           "createdAt":  "2025-05-15T19:04:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@kefran06 And refresh doesn\u0027t do anything?",
                                           "updatedAt":  "2025-05-15T19:04:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r8s1m",
                                           "createdAt":  "2025-05-15T19:09:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kefran06",
                                           "body":  "@sebastienros  no I tried multiple times the database just do not exist and my app crash with a database container not found. When I look at the RunASEmulator code it\u0027s look like a subscription.\n\nmy guest is the ReadAccountAsync() is triggered too late or too soon\n\n```builder.ApplicationBuilder.Eventing.Subscribe\u003cResourceReadyEvent\u003e(builder.Resource, async (@event, ct) =\u003e\n        {\n            if (cosmosClient is null)\n            {\n                throw new InvalidOperationException(\"CosmosClient is not initialized.\");\n            }\n\n            await cosmosClient.ReadAccountAsync().WaitAsync(ct).ConfigureAwait(false);\n\n            foreach (var database in builder.Resource.Databases)\n            {\n                var db = (await cosmosClient.CreateDatabaseIfNotExistsAsync```\n\n",
                                           "updatedAt":  "2025-05-15T21:48:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r88GF",
                                           "createdAt":  "2025-05-15T19:38:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "soundaranbu",
                                           "body":  "@sebastienros no, the refresh button didn\u0027t help here unfortunately ",
                                           "updatedAt":  "2025-05-15T19:38:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r9FEe",
                                           "createdAt":  "2025-05-15T19:56:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESTbgA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "soundaranbu",
                                                                               "createdAt":  "2025-05-15T20:09:50Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "kefran06",
                                                                               "createdAt":  "2025-05-15T20:46:40Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I was able to reproduce it (once out of 15 attempts) and had added some log. I think a database auto-creation is failing and there is no log in the `ResourceReadyEvent` that is recorded. So the db/containers are not created at all and it\u0027s silent.\n\nBut the `ResourceReadyEvent` is triggered only when the health-check is successful. With an empty instance the health check is only invoking `cosmosClient.ReadAccountAsync()`. Maybe for this emulator it doesn\u0027t mean it\u0027s actually healthy or ready to accept new databases yet. I will raise the issue with the developers.",
                                           "updatedAt":  "2025-05-15T19:56:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r-CIg",
                                           "createdAt":  "2025-05-15T22:12:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESW7fQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "soundaranbu",
                                                                               "createdAt":  "2025-05-16T09:10:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "You can follow [this issue](https://github.com/Azure/azure-cosmos-db-emulator-docker/issues/199) and And also [this one](https://github.com/Azure/azure-cosmos-db-emulator-docker/issues/154) which arethe same as what we are hitting when trying to seed the databases/containers. 500 returned from the emulator even though the call to `ReadAccountAsync()` succeeded.",
                                           "updatedAt":  "2025-05-15T22:14:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62rlS6",
                                           "createdAt":  "2025-07-12T07:31:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@sebastienros https://github.com/dotnet/aspire/pull/9683 is a reasonable mitigation for now, can you review that PR?",
                                           "updatedAt":  "2025-07-12T07:31:45Z"
                                       }
                                   ],
                         "totalCount":  10
                     },
        "title":  "Aspire 9.2.1: Cosmos DB Preview Emulator not creating databases and containers",
        "labels":  [
                       "area-integrations",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9344",
        "createdAt":  "2025-05-15T22:33:30Z",
        "number":  9344,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:41Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15055602954\nBuild error leg or test failing: Aspire.Hosting.Yarp.Tests.YarpFunctionalTests.VerifyYarpResource\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nAssert.Equal() Failure: Values differ\nExpected: OK\nActual:   BadGateway   at Aspire.Hosting.Yarp.Tests.YarpFunctionalTests.VerifyYarpResource() in /_/tests/Aspire.Hosting.Yarp.Tests/YarpFunctionalTests.cs:line 41\n--- End of stack trace from previous location ---\n```\n\n## Stdout\n\u003cdetails\u003e\u003csummary\u003eStdout\u003c/summary\u003e\n\n```\n... (truncated) an async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| [2025-05-15T21:33:37] Polly Warning: Resilience event occurred. EventName: \u0027OnRetry\u0027, Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027An error occurred while sending the request.\u0027\n| System.Net.Http.HttpRequestException: An error occurred while sending the request.\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: Connection reset by peer.\n|  ---\u003e System.Net.Sockets.SocketException (104): Connection reset by peer\n|    --- End of inner exception stack trace ---\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    --- End of inner exception stack trace ---\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| [2025-05-15T21:33:37] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 6, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 2, \"Found\": 1}\n| [2025-05-15T21:33:37] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 7, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 2, \"Found\": 1}\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 41: 2025-05-15T21:33:37.5217536Z \n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 42: 2025-05-15T21:33:37.6165379Z warn: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[60]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 43: 2025-05-15T21:33:37.6165614Z       Storing keys in a directory \u0027/home/app/.aspnet/DataProtection-Keys\u0027 that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed. For more information go to https://aka.ms/aspnet/dataprotectionwarning\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 44: 2025-05-15T21:33:37.6204524Z info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[62]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 45: 2025-05-15T21:33:37.6204679Z       User profile is available. Using \u0027/home/app/.aspnet/DataProtection-Keys\u0027 as key repository; keys will not be encrypted at rest.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 46: 2025-05-15T21:33:37.6384857Z info: Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider[1]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 47: 2025-05-15T21:33:37.6385188Z       Loading proxy data from config.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 48: 2025-05-15T21:33:37.6561978Z dbug: Microsoft.Extensions.ServiceDiscovery.ServiceEndpointWatcher[1]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 49: 2025-05-15T21:33:37.6562232Z       Creating endpoint resolver for service \u0027http://backend\u0027 with 4 providers: Configuration, Configuration, Pass-through, Pass-through.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 50: 2025-05-15T21:33:37.6627573Z dbug: Microsoft.Extensions.ServiceDiscovery.ServiceEndpointWatcher[1]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 51: 2025-05-15T21:33:37.6627735Z       Resolving endpoints for service \u0027http://backend\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 52: 2025-05-15T21:33:37.6664985Z dbug: Microsoft.Extensions.ServiceDiscovery.Configuration.ConfigurationServiceEndpointProvider[2]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 53: 2025-05-15T21:33:37.6673964Z       Using configuration from path \u0027Services:backend:http\u0027 to resolve endpoint \u0027http\u0027 for service \u0027backend\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 54: 2025-05-15T21:33:37.6706013Z dbug: Microsoft.Extensions.ServiceDiscovery.Configuration.ConfigurationServiceEndpointProvider[4]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 55: 2025-05-15T21:33:37.6706134Z       Endpoints configured for service \u0027backend\u0027 from path \u0027Services:backend:http\u0027: http://backend:8080/.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 56: 2025-05-15T21:33:37.6729780Z dbug: Microsoft.Extensions.ServiceDiscovery.Configuration.ConfigurationServiceEndpointProvider[1]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 57: 2025-05-15T21:33:37.6730366Z       Skipping endpoint resolution for service \u0027backend\u0027: \u0027Collection has existing endpoints\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 58: 2025-05-15T21:33:37.6786489Z dbug: Microsoft.Extensions.ServiceDiscovery.ServiceEndpointWatcher[3]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 59: 2025-05-15T21:33:37.6786612Z       Resolved 1 endpoints for service \u0027http://backend\u0027: http://backend:8080/ (Configuration).\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 60: 2025-05-15T21:33:37.7008776Z dbug: Yarp.ReverseProxy.Management.ProxyConfigManager[24]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 61: 2025-05-15T21:33:37.7008981Z       Destination \u0027destination1[http://backend:8080/]\u0027 has been added.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 62: 2025-05-15T21:33:37.7035328Z dbug: Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory[45]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 63: 2025-05-15T21:33:37.7035455Z       New client created for cluster \u0027cluster1\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 64: 2025-05-15T21:33:37.7038548Z dbug: Yarp.ReverseProxy.Management.ProxyConfigManager[21]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 65: 2025-05-15T21:33:37.7038629Z       Cluster \u0027cluster1\u0027 has been added.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 66: 2025-05-15T21:33:37.7094468Z dbug: Yarp.ReverseProxy.Management.ProxyConfigManager[27]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 67: 2025-05-15T21:33:37.7094586Z       Route \u0027route1\u0027 has been added.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 68: 2025-05-15T21:33:37.7128575Z dbug: Microsoft.Extensions.Hosting.Internal.Host[1]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 69: 2025-05-15T21:33:37.7128703Z       Hosting starting\n| [2025-05-15T21:33:37] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 8, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 2, \"Found\": 1}\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 70: 2025-05-15T21:33:37.7735132Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver[53]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 71: 2025-05-15T21:33:37.7735375Z       Repository contains no viable default key. Caller should generate a key with immediate activation.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 72: 2025-05-15T21:33:37.7740585Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider[57]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 73: 2025-05-15T21:33:37.7740714Z       Policy resolution states that a new key should be added to the key ring.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 74: 2025-05-15T21:33:37.7764648Z info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[58]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 75: 2025-05-15T21:33:37.7764768Z       Creating key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} with creation date 2025-05-15 21:33:37Z, activation date 2025-05-15 21:33:37Z, and expiration date 2025-08-13 21:33:37Z.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 76: 2025-05-15T21:33:37.8068440Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[32]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 77: 2025-05-15T21:33:37.8068680Z       Descriptor deserializer type for key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} is \u0027Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 78: 2025-05-15T21:33:37.8118816Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[34]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 79: 2025-05-15T21:33:37.8118948Z       No key escrow sink found. Not writing key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} to escrow.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 80: 2025-05-15T21:33:37.8132549Z warn: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[35]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 81: 2025-05-15T21:33:37.8132669Z       No XML encryptor configured. Key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} may be persisted to storage in unencrypted form.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 82: 2025-05-15T21:33:37.8192392Z info: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[39]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 83: 2025-05-15T21:33:37.8192710Z       Writing data to file \u0027/home/app/.aspnet/DataProtection-Keys/key-f64ac08a-ad70-4c11-b3c0-43cc2f5593be.xml\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 84: 2025-05-15T21:33:37.8193876Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[23]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 85: 2025-05-15T21:33:37.8194100Z       Key cache expiration token triggered by \u0027CreateNewKey\u0027 operation.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 86: 2025-05-15T21:33:37.8215403Z dbug: Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository[37]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 87: 2025-05-15T21:33:37.8215520Z       Reading data from file \u0027/home/app/.aspnet/DataProtection-Keys/key-f64ac08a-ad70-4c11-b3c0-43cc2f5593be.xml\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 88: 2025-05-15T21:33:37.8242403Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[18]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 89: 2025-05-15T21:33:37.8242533Z       Found key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be}.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 90: 2025-05-15T21:33:37.8300386Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver[13]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 91: 2025-05-15T21:33:37.8300509Z       Considering key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} with expiration date 2025-08-13 21:33:37Z as default key.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 92: 2025-05-15T21:33:37.8361096Z dbug: Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory[11]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 93: 2025-05-15T21:33:37.8361329Z       Using managed symmetric algorithm \u0027System.Security.Cryptography.Aes\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 94: 2025-05-15T21:33:37.8361374Z dbug: Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ManagedAuthenticatedEncryptorFactory[10]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 95: 2025-05-15T21:33:37.8361411Z       Using managed keyed hash algorithm \u0027System.Security.Cryptography.HMACSHA256\u0027.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 96: 2025-05-15T21:33:37.8366627Z dbug: Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider[2]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 97: 2025-05-15T21:33:37.8366714Z       Using key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} as the default key.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 98: 2025-05-15T21:33:37.8374129Z dbug: Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService[65]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 99: 2025-05-15T21:33:37.8374250Z       Key ring with default key {f64ac08a-ad70-4c11-b3c0-43cc2f5593be} was loaded during application startup.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 100: 2025-05-15T21:33:37.8478016Z dbug: Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware[7]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 101: 2025-05-15T21:33:37.8478262Z       Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 102: 2025-05-15T21:33:37.8483438Z dbug: Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware[0]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 103: 2025-05-15T21:33:37.8483649Z       Wildcard detected, all requests with hosts will be allowed.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 104: 2025-05-15T21:33:37.8699590Z info: Microsoft.Hosting.Lifetime[14]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 105: 2025-05-15T21:33:37.8699798Z       Now listening on: http://[::]:5000\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 106: 2025-05-15T21:33:37.8701966Z dbug: Microsoft.AspNetCore.Hosting.Diagnostics[13]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 107: 2025-05-15T21:33:37.8702374Z       Loaded hosting startup assembly yarp\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 108: 2025-05-15T21:33:37.8705842Z info: Microsoft.Hosting.Lifetime[0]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 109: 2025-05-15T21:33:37.8705924Z       Application started. Press Ctrl+C to shut down.\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 110: 2025-05-15T21:33:37.8705965Z info: Microsoft.Hosting.Lifetime[0]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 111: 2025-05-15T21:33:37.8706003Z       Hosting environment: Production\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 112: 2025-05-15T21:33:37.8709969Z info: Microsoft.Hosting.Lifetime[0]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 113: 2025-05-15T21:33:37.8710046Z       Content root path: /\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 114: 2025-05-15T21:33:37.8710084Z dbug: Microsoft.Extensions.Hosting.Internal.Host[2]\n| [2025-05-15T21:33:37] Aspire.Hosting.Tests.Resources.yarp Information: 115: 2025-05-15T21:33:37.8710120Z       Hosting started\n| [2025-05-15T21:33:38] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027404\u0027, Handled: \u0027False\u0027, Attempt: \u00271\u0027, Execution Time: 90.3217ms\n| [2025-05-15T21:33:38] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027404\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 1211.99ms\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health report status for \u0027yarp\u0027 is Healthy.\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027yarp\u0027 is ready.\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Health reports for \u0027yarp\u0027 have changed. Publishing updated reports.\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing ResourceReadyEvent for \u0027yarp\u0027.\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Waiting for ResourceReadyEvent for \u0027yarp\u0027.\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Debug: ResourceReadyEvent for \u0027yarp\u0027 completed.\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing the result of ResourceReadyEvent for \u0027yarp\u0027.\n| [2025-05-15T21:33:38] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 14 Resource yarp/yarp-yezygqsh update published: ResourceType = Container, CreationTimeStamp = 2025-05-15T21:33:32, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:42895 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Production OTEL_EXPORTER_OTLP_ENDPOINT = http://host.docker.internal:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=yezygqsh OTEL_SERVICE_NAME = yarp YARP_UNSAFE_OLTP_CERT_ACCEPT_ANY_SERVER_CERTIFICATE = true services__backend__http__0 = http://backend:8080 }, Properties = { container.image = mcr.microsoft.com/dotnet/nightly/yarp:latest container.id = 0bd41f5d066cf93f685633b7b9e372d1372c5bd88142db25b981393f9d90c0c4 container.command = (null) container.args = dotnet, /app/yarp.dll, /etc/yarp.config container.ports = 5000 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { yarp_http_/heath_404_check = Healthy }, Commands = { resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-15T21:33:38] Aspire.Hosting.Health.ResourceHealthCheckService Trace: Resource \u0027yarp\u0027 health check monitoring loop starting delay of 00:00:30.\n| [2025-05-15T21:33:38] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Finished waiting for resource \u0027yarp\u0027.\n| [2025-05-15T21:33:38] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 15 Resource yarp/yarp-yezygqsh update published: ResourceType = Container, CreationTimeStamp = 2025-05-15T21:33:32, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:42895 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Production OTEL_EXPORTER_OTLP_ENDPOINT = http://host.docker.internal:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=yezygqsh OTEL_SERVICE_NAME = yarp YARP_UNSAFE_OLTP_CERT_ACCEPT_ANY_SERVER_CERTIFICATE = true services__backend__http__0 = http://backend:8080 }, Properties = { container.image = mcr.microsoft.com/dotnet/nightly/yarp:latest container.id = 0bd41f5d066cf93f685633b7b9e372d1372c5bd88142db25b981393f9d90c0c4 container.command = (null) container.args = dotnet, /app/yarp.dll, /etc/yarp.config container.ports = 5000 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { yarp_http_/heath_404_check = Healthy }, Commands = { resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 116: 2025-05-15T21:33:38.3543566Z dbug: Microsoft.AspNetCore.Server.Kestrel.Connections[39]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 117: 2025-05-15T21:33:38.3543802Z       Connection id \"0HNCJV0JR187A\" accepted.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 118: 2025-05-15T21:33:38.3694119Z dbug: Microsoft.AspNetCore.Server.Kestrel.Connections[1]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 119: 2025-05-15T21:33:38.3694259Z       Connection id \"0HNCJV0JR187A\" started.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 120: 2025-05-15T21:33:38.4115934Z info: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 121: 2025-05-15T21:33:38.4116423Z       Request starting HTTP/1.1 GET http://localhost:42895/heath - - -\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 122: 2025-05-15T21:33:38.4138063Z trce: Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware[2]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 123: 2025-05-15T21:33:38.4138179Z       All hosts are allowed.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 124: 2025-05-15T21:33:38.4224399Z dbug: Microsoft.AspNetCore.Routing.Matching.DfaMatcher[1000]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 125: 2025-05-15T21:33:38.4224595Z       No candidates found for the request path \u0027/heath\u0027\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 126: 2025-05-15T21:33:38.4227654Z dbug: Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware[2]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 127: 2025-05-15T21:33:38.4227720Z       Request did not match any endpoints\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 128: 2025-05-15T21:33:38.4270390Z dbug: Microsoft.AspNetCore.Server.Kestrel.Connections[9]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 129: 2025-05-15T21:33:38.4270488Z       Connection id \"0HNCJV0JR187A\" completed keep alive response.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 130: 2025-05-15T21:33:38.4456973Z info: Microsoft.AspNetCore.Hosting.Diagnostics[2]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 131: 2025-05-15T21:33:38.4457146Z       Request finished HTTP/1.1 GET http://localhost:42895/heath - 404 0 - 28.8130ms\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 132: 2025-05-15T21:33:38.4488332Z info: Microsoft.AspNetCore.Hosting.Diagnostics[16]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 133: 2025-05-15T21:33:38.4488459Z       Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:42895/heath, Response status code: 404\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 134: 2025-05-15T21:33:38.4571323Z dbug: Microsoft.AspNetCore.Server.Kestrel.Connections[39]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 135: 2025-05-15T21:33:38.4571462Z       Connection id \"0HNCJV0JR187B\" accepted.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 136: 2025-05-15T21:33:38.4601920Z dbug: Microsoft.AspNetCore.Server.Kestrel.Connections[1]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 137: 2025-05-15T21:33:38.4602058Z       Connection id \"0HNCJV0JR187B\" started.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 138: 2025-05-15T21:33:38.4605940Z info: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 139: 2025-05-15T21:33:38.4606013Z       Request starting HTTP/1.1 GET http://localhost:42895/aspnetapp - - -\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 140: 2025-05-15T21:33:38.4606049Z trce: Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware[2]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 141: 2025-05-15T21:33:38.4606080Z       All hosts are allowed.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 142: 2025-05-15T21:33:38.4658438Z dbug: Microsoft.AspNetCore.Routing.Matching.DfaMatcher[1001]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 143: 2025-05-15T21:33:38.4658576Z       1 candidate(s) found for the request path \u0027/aspnetapp\u0027\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 144: 2025-05-15T21:33:38.4689910Z dbug: Microsoft.AspNetCore.Routing.Matching.DfaMatcher[1005]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 145: 2025-05-15T21:33:38.4690033Z       Endpoint \u0027route1\u0027 with route pattern \u0027/aspnetapp/{**catch-all}\u0027 is valid for the request path \u0027/aspnetapp\u0027\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 146: 2025-05-15T21:33:38.4695144Z dbug: Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware[1]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 147: 2025-05-15T21:33:38.4695305Z       Request matched endpoint \u0027route1\u0027\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 148: 2025-05-15T21:33:38.4703965Z trce: Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware[8]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 149: 2025-05-15T21:33:38.4704083Z       The endpoint does not specify the IRequestSizeLimitMetadata.\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 150: 2025-05-15T21:33:38.4714910Z info: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 151: 2025-05-15T21:33:38.4715031Z       Executing endpoint \u0027route1\u0027\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 152: 2025-05-15T21:33:38.5017932Z info: Yarp.ReverseProxy.Forwarder.HttpForwarder[9]\n| [2025-05-15T21:33:38] Aspire.Hosting.Tests.Resources.yarp Information: 153: 2025-05-15T21:33:38.5018123Z       Proxying to http://backend:8080/ HTTP/2 RequestVersionOrLower \n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Container resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Container resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Service resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Service resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Executable resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Executable resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Endpoint resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Endpoint resources.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for backend-pkmzsxck was cancelled.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for yarp-yezygqsh was cancelled.\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"Running\", \"NewStatus\": \"CleaningResources\"}\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler Error: could not persist Endpoint object\t{\"Container\": {\"name\":\"backend-pkmzsxck\"}, \"Reconciliation\": 19, \"ServiceName\": \"backend\", \"Workload\": \"/backend-pkmzsxck\", \"error\": \"Endpoint.usvc-dev.developer.microsoft.com \\\"backend-pkmzsxck-ebtnu8i6d8\\\" is invalid: \u003cnil\u003e: Forbidden: new resources cannot be created because the API server is shutting down\"}\n| [2025-05-15T21:33:38] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 9, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 2, \"Found\": 2}\n| [2025-05-15T21:33:39] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 10, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 2, \"Found\": 2}\n| [2025-05-15T21:33:39] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 11, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 2, \"Found\": 0}\n| [2025-05-15T21:33:39] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 12, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 1, \"Found\": 0}\n| [2025-05-15T21:33:39] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: not all expected containers are connected to the network, retrying...\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 13, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 1, \"Found\": 0}\n| [2025-05-15T21:33:40] Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler Information: no more Container resources are being watched, cancelling container watch\t{\"Container\": {\"name\":\"backend-pkmzsxck\"}, \"Reconciliation\": 29}\n| [2025-05-15T21:33:40] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 14, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 0, \"Found\": 0}\n| [2025-05-15T21:33:40] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 15, \"Network\": \"default-aspire-network-2f000rbt9c\", \"Expected\": 0, \"Found\": 0}\n| [2025-05-15T21:33:40] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 3981}\n| [2025-05-15T21:33:41] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: ContainerNetwork object is being deleted\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 16, \"NetworkName\": \"default-aspire-network-2f000rbt9c\"}\n| [2025-05-15T21:33:41] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 4427}\n| [2025-05-15T21:33:41] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: no more ContainerNetwork resources are being watched, cancelling network watch\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 16}\n| [2025-05-15T21:33:42] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"CleanupComplete\", \"NewStatus\": \"Stopping\"}\n| [2025-05-15T21:33:42] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutting down...\n| [2025-05-15T21:33:42] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Service DCP controller host terminated gracefully\n| [2025-05-15T21:33:42] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutdown complete.\n\n```\n\u003c/details\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n\n\n-- Updated on 9/6/2025 3:13:40 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:40 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Flaky test: Aspire.Hosting.Yarp.Tests.YarpFunctionalTests.VerifyYarpResource",
        "labels":  [
                       "area-integrations",
                       "flaky-test",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9377",
        "createdAt":  "2025-05-17T22:29:40Z",
        "number":  9377,
        "author":  "mizrael",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-18T01:15:14Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI am not sure if this is actually by design or not, but in case, it probably just need more clarification. \nMy goal is to setup a persistent SQL container, using a volume and setting the container lifetime.\n\nBased on the docs, it looks like that all that is needed is something like this:\n\n```csharp\ndb = builder.AddSqlServer(\"sql\")\n            .WithDataVolume(\"my-sql-volume\", isReadOnly: false)\n            .WithLifetime(ContainerLifetime.Persistent)\n            .AddDatabase(\"sql-db\", databaseName: \"my-db\");\n```\n\nHowever, if done this way, Aspire will regenerate a random password at each host execution. Given that we\u0027re persisting the data volume, a new password will of course cause an auth fail for the `sa` user during sql container bootstrap.\n\nThe fix is to add a parameter:\n\n```csharp\nvar sqlPassword = builder.AddParameter(\"sql-password\", secret: true);\ndb = builder.AddSqlServer(\"sql\", password: sqlPassword)\n            .WithDataVolume(\"my-sql-volume\", isReadOnly: false)\n            .WithLifetime(ContainerLifetime.Persistent)\n            .AddDatabase(\"sql-db\", databaseName: \"my-db\");\n```\n\nNow, when running locally. user secrets are not automatically added to the builder, which will cause the SQL container to fail.\n\nI had to manually add a call to `builder.Configuration.AddUserSecrets\u003cProgram\u003e()` to make it work.\n\nIs this expected? If yes, it should probably be added to docs/samples\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrC3lJQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6sLN81",
                                           "createdAt":  "2025-05-17T22:55:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What version are you using? AFAIK we fixed the password generation (by storing it in user secrets).",
                                           "updatedAt":  "2025-05-17T22:55:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sLO-F",
                                           "createdAt":  "2025-05-17T22:59:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mizrael",
                                           "body":  "`\u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.2.0\" /\u003e`\n\n\nIf I don\u0027t pass the parameter to `AddSqlServer`, the password is regenerated at each execution (and the [docs](https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/persist-data-volumes#create-persistent-passwords) mention that )",
                                           "updatedAt":  "2025-05-17T22:59:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sLbO0",
                                           "createdAt":  "2025-05-18T00:38:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Does your project have a user secrets identifier?",
                                           "updatedAt":  "2025-05-18T00:38:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sLeUl",
                                           "createdAt":  "2025-05-18T01:08:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mizrael",
                                           "body":  "yes it does. Also, if I remove both the call to `AddUserSecrets`  and the password parameter to `AddSqlServer`, I can see the password being regenerated at each execution in the `secrets.json` file.\n\nIf I remove only `AddUserSecrets` instead, the sql password parameter is not loaded at all:\n\n![Image](https://github.com/user-attachments/assets/036394f2-5a66-44c9-aa57-ae743b3061ea)",
                                           "updatedAt":  "2025-05-18T01:15:13Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "SQL Persistent lifetime not respected",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9381",
        "createdAt":  "2025-05-18T21:38:12Z",
        "number":  9381,
        "author":  "MatthewSteeples",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-12T17:42:59Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nOur project causes the web browser to make requests directly to the Azure Storage (and therefore the emulator when running in dev mode). As the project is running on https, requests to the Emulator also need to be made over https.\n\nAzurite supports [listening over https](https://github.com/Azure/Azurite?tab=readme-ov-file#certificate-configuration-https), which solves this problem. We have this running in our Docker containers already and we\u0027re trying to work out how to enable this for Aspire.\n\n### Describe the solution you\u0027d like\n\nThere are 2 problems that need to be solved to get Azurite working on https\n1. Getting the certificate into the container\n2. Adding the command line arguments to configure the start up of the container\n\nThe two options (that I can think of) for getting the certificate into the container are\n1. Add a bind mount with the existing certificates that can be passed to the container manager\n2. Pass the contents of the certificates in to code and create them in the container (somehow, I\u0027m not sure how this one would work)\n\nIf there\u0027s a way to use a certificate provided by Aspire or ASPNET then that would be preferable as that\u0027s already likely to be trusted, and would remove the need to pass the location of the certificate to use in.\n\n### Additional context\n\nI\u0027m thinking something like the following\n\n```csharp\nprivate const string HttpsCertificateArgument = \"--cert /azurite/cert.pem --key /azurite/cert.pem.key\";\n\n/// \u003csummary\u003e\n/// Ensures the emulator checks that the requested API version is valid.\n/// \u003c/summary\u003e\n/// \u003cparam name=\"builder\"\u003eStorage emulator resource builder.\u003c/param\u003e\n/// \u003cparam name=\"certPath\"\u003eThe path of the public key to be used (in PEM format).\u003c/param\u003e\n/// \u003cparam name=\"keyPath\"\u003eThe path of the private key to be used (in PEM format).\u003c/param\u003e\n/// \u003creturns\u003eAn \u003csee cref=\"IResourceBuilder{T}\"/\u003e for the \u003csee cref=\"AzureStorageEmulatorResource\"/\u003e.\u003c/returns\u003e\npublic static IResourceBuilder\u003cAzureStorageEmulatorResource\u003e WithHttpsCertificate(this IResourceBuilder\u003cAzureStorageEmulatorResource\u003e builder, string certPath, string keyPath)\n{\n    ArgumentNullException.ThrowIfNull(builder);\n    ArgumentException.ThrowIfNullOrEmpty(certPath);\n    ArgumentException.ThrowIfNullOrEmpty(keyPath);\n\n    if (!File.Exists(certPath))\n    {\n        throw new FileNotFoundException($\"The certificate file \u0027{certPath}\u0027 does not exist.\", certPath);\n    }\n\n    if (!File.Exists(keyPath))\n    {\n        throw new FileNotFoundException($\"The key file \u0027{keyPath}\u0027 does not exist.\", keyPath);\n    }\n\n    builder\n        .WithBindMount(certPath, \"/azurite/cert.pem\", isReadOnly: true)\n        .WithBindMount(keyPath, \"/azurite/cert.pem.key\", isReadOnly: true);\n\n    builder.WithArgs(context =\u003e {\n        if (!context.Args.Contains(HttpsCertificateArgument))\n        {\n            context.Args.Add(HttpsCertificateArgument);\n        }\n    });\n\n    return builder;\n}\n```\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw-EI4A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6sNpSl",
                                           "createdAt":  "2025-05-18T22:57:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESjiIA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "MatthewSteeples",
                                                                               "createdAt":  "2025-05-18T23:17:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We have a work item to make https work generally for containers, see https://github.com/dotnet/aspire/issues/4131#issuecomment-2661098518",
                                           "updatedAt":  "2025-05-18T22:57:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sNryS",
                                           "createdAt":  "2025-05-18T23:17:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MatthewSteeples",
                                           "body":  "@davidfowl Looks good. I\u0027ll subscribe to that one and look at picking this up when that lands (if this doesn\u0027t get done by someone else as part of that).",
                                           "updatedAt":  "2025-05-18T23:17:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uEYIl",
                                           "createdAt":  "2025-05-29T19:33:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MatthewSteeples",
                                           "body":  "@davidfowl I\u0027ve created a PR for a prerequisite of getting Https enabled for Azurite if you or someone else wouldn\u0027t mind giving it a once over. The current set-up has `http` hardcoded into the connection string builder (which means you can\u0027t even configure Aspire to use Azurite over Https in the Host project).\n\nThis change removes that hard-coding, meaning that Azurite can be used over Https (providing you pass in your own certificate, pass in the ports etc, which can all be done as part of the Host configuration)",
                                           "updatedAt":  "2025-05-29T19:33:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6u2uWD",
                                           "createdAt":  "2025-06-03T05:52:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Thanks @MatthewSteeples it\u0027s merged!",
                                           "updatedAt":  "2025-06-03T05:52:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D3uWg",
                                           "createdAt":  "2025-09-12T17:12:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Ville-If",
                                           "body":  "@MatthewSteeples Where/how can I set EndpointReference.Scheme during AppHost build",
                                           "updatedAt":  "2025-09-12T17:12:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D34YM",
                                           "createdAt":  "2025-09-12T17:16:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@Ville-If if you could explain in more detail what you are trying to do, or show some code then we may be able to help.",
                                           "updatedAt":  "2025-09-12T17:16:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D4Mxf",
                                           "createdAt":  "2025-09-12T17:37:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MatthewSteeples",
                                           "body":  "@Ville-If We\u0027re currently using the following code to configure Azurite on https. I keep meaning to turn it into a pull request. I think the bit you\u0027re after is the `WithEndpoint` calls in the extension method\n\n**Extension Method**\n```csharp\ninternal static class AzuriteExtensions\n{\n\tprivate const string HttpsCertificateArgument = \"--cert /azurite/cert.pem\";\n\tprivate const string HttpsKeyArgument = \"--key /azurite/cert.pem.key\";\n\n\t/// \u003csummary\u003e\n\t/// Ensures the emulator checks that the requested API version is valid.\n\t/// \u003c/summary\u003e\n\t/// \u003cparam name=\"builder\"\u003eStorage emulator resource builder.\u003c/param\u003e\n\t/// \u003cparam name=\"certPath\"\u003eThe path of the public key to be used (in PEM format).\u003c/param\u003e\n\t/// \u003cparam name=\"keyPath\"\u003eThe path of the private key to be used (in PEM format).\u003c/param\u003e\n\t/// \u003creturns\u003eAn \u003csee cref=\"IResourceBuilder{T}\"/\u003e for the \u003csee cref=\"AzureStorageEmulatorResource\"/\u003e.\u003c/returns\u003e\n\tpublic static IResourceBuilder\u003cAzureStorageEmulatorResource\u003e WithHttpsCertificate(this IResourceBuilder\u003cAzureStorageEmulatorResource\u003e builder, string certPath, string keyPath)\n\t{\n\t\tArgumentNullException.ThrowIfNull(builder);\n\t\tArgumentException.ThrowIfNullOrEmpty(certPath);\n\t\tArgumentException.ThrowIfNullOrEmpty(keyPath);\n\n\t\tif (!File.Exists(certPath))\n\t\t{\n\t\t\tthrow new FileNotFoundException($\"The certificate file \u0027{certPath}\u0027 does not exist.\", certPath);\n\t\t}\n\n\t\tif (!File.Exists(keyPath))\n\t\t{\n\t\t\tthrow new FileNotFoundException($\"The key file \u0027{keyPath}\u0027 does not exist.\", keyPath);\n\t\t}\n\n\t\tbuilder\n\t\t\t.WithBindMount(certPath, \"/azurite/cert.pem\", isReadOnly: true)\n\t\t\t.WithBindMount(keyPath, \"/azurite/cert.pem.key\", isReadOnly: true);\n\n\t\tbuilder.WithArgs(context =\u003e\n\t\t{\n\t\t\tif (!context.Args.Contains(\"--cert\"))\n\t\t\t{\n\t\t\t\tcontext.Args.Add(\"--cert\");\n\t\t\t\tcontext.Args.Add(\"/azurite/cert.pem\");\n\n\t\t\t\tcontext.Args.Add(\"--key\");\n\t\t\t\tcontext.Args.Add(\"/azurite/cert.pem.key\");\n\t\t\t}\n\t\t});\n\n\t\tbuilder.WithArgs([\"--oauth\", \"basic\"]);\n\n\t\tbuilder.WithEndpoint(\"blob\", endpoint =\u003e\n\t\t{\n\t\t\tendpoint.UriScheme = \"https\";\n\t\t})\n\t\t.WithEndpoint(\"queue\", endpoint =\u003e\n\t\t{\n\t\t\tendpoint.UriScheme = \"https\";\n\t\t})\n\t\t.WithEndpoint(\"table\", endpoint =\u003e\n\t\t{\n\t\t\tendpoint.UriScheme = \"https\";\n\t\t});\n\n\t\treturn builder;\n\t}\n}\n```\n\n**Setup**\n```csharp\nvar storage = builder.AddAzureStorage(\"storage\")\n\t.RunAsEmulator(azurite =\u003e\n\t{\n\t\tazurite.WithLifetime(ContainerLifetime.Persistent);\n\t\tazurite.WithDataVolume();\n\t\tazurite.WithBlobPort(10443)\n\t\t\t.WithQueuePort(10444)\n\t\t\t.WithTablePort(10445);\n\n\t\tazurite.WithHttpsCertificate(@\"..\\..\\DeveloperResources\\Certificates\\127.0.0.1+2.pem\", @\"..\\..\\DeveloperResources\\Certificates\\127.0.0.1+2-key.pem\");\n\t});\n```",
                                           "updatedAt":  "2025-09-12T17:37:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D4Qjg",
                                           "createdAt":  "2025-09-12T17:42:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiEhAQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "MatthewSteeples",
                                                                               "createdAt":  "2025-09-12T17:53:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "Ville-If",
                                           "body":  "@MatthewSteeples Thank you! You totally read my mind, considering my poorly phrased question... :-) It was exactly the WithEndpoint stuff I was looking for.",
                                           "updatedAt":  "2025-09-12T17:42:59Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Allow custom https key to be specified for Azurite (and possibly other emulators)",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-storage"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9392",
        "createdAt":  "2025-05-19T17:38:53Z",
        "number":  9392,
        "author":  "trickyrat",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCkCMA==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-05-20T02:54:51Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-17T05:06:09Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIt shows Running(unhealthy) for mysql and redis even the container is running. I have tried Aspire 9.2.1 and 9.3. I can access to redis and mysql via external tools like redis-insight.\n  \n![Image](https://github.com/user-attachments/assets/9d4d5b01-4c20-4af2-bee3-211be5fc0135)\n\n![Image](https://github.com/user-attachments/assets/8ac04de7-a421-4c0b-b567-95323300e73a)\n\n![Image](https://github.com/user-attachments/assets/ef29d200-0eab-4d05-a56d-889ca006367a)\n\nhere is code\n![Image](https://github.com/user-attachments/assets/96ba91df-5534-4491-b84b-11895ad5d981)\n\n### Expected Behavior\n\nit should show Running for mysql and redis\n\n### Steps To Reproduce\n\nrefer to the screenshot of codes\n\n### Exceptions (if any)\n\nRedis: StackExchange.Redis.RedisConnectionException: It was not possible to connect to the redis server(s). Error connecting right now. To allow this multiplexer to continue retrying until it\u0027s able to connect, use abortConnect=false in your connection string or AbortOnConnectFail=false; in your code.\n\nMySql: MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.\n\n### .NET Version info\n\n9.0.300 \n\n### Anything else?\n\n.NET Aspire 9.2.1 \u0026 9.3.0",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxMYljg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6sYG06",
                                           "createdAt":  "2025-05-19T19:00:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "adamint",
                                           "body":  "@mitchdenny ",
                                           "updatedAt":  "2025-05-19T19:00:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sa_yA",
                                           "createdAt":  "2025-05-20T02:54:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "This is probably due to `WithEndpointProxySupport`.",
                                           "updatedAt":  "2025-05-20T02:54:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6soKLH",
                                           "createdAt":  "2025-05-21T01:35:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "@trickyrat I\u0027m having trouble reproducing this issue. You may observe that the container takes longer to get into a healthy state because without the proxy the TCP connection is not accepted immediately - whereas with proxy support the DCP proxy will accept the TCP connection and hold it until it can flow the request through to the underlying container.\n\n... but it should come healthy regardless.\n\nCan you possibly put together a minimal repro in a GitHub repo that demonstrates the problem that way we can use precisely the same code you are using to figure out the issue.",
                                           "updatedAt":  "2025-05-21T01:35:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6spHB_",
                                           "createdAt":  "2025-05-21T03:32:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "trickyrat",
                                           "body":  "hi @mitchdenny , you can find the code [here](https://github.com/trickyrat/AspireApp1). it is generated with Aspire App starter template. \n\n![Image](https://github.com/user-attachments/assets/ef0d26e5-67cd-49ef-b359-553f25e0a8cd)\n\n![Image](https://github.com/user-attachments/assets/c0bb67ed-6b7b-4e64-a4db-af99f17a8b50)\n\n![Image](https://github.com/user-attachments/assets/91a78b24-c339-4c09-a594-65924a4ec379)",
                                           "updatedAt":  "2025-05-21T03:32:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tZEUm",
                                           "createdAt":  "2025-05-26T09:12:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "trickyrat",
                                           "body":  "hi team, may I know any update for this issue pls?",
                                           "updatedAt":  "2025-05-26T09:12:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6udLKP",
                                           "createdAt":  "2025-06-01T09:18:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Are you using static ports for the ones that are stuck in this mode?",
                                           "updatedAt":  "2025-06-01T09:18:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BkaPs",
                                           "createdAt":  "2025-09-03T03:19:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I can no longer reproduce this on the latest daily builds. So I think that this has been resolved with some of the changes we\u0027ve made recently.",
                                           "updatedAt":  "2025-09-03T03:19:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Bkjpt",
                                           "createdAt":  "2025-09-03T03:47:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I don’t think so, I think it’s the blocked port range.\n\n@danegsta is working on surfacing errors to resource logs ",
                                           "updatedAt":  "2025-09-03T03:47:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7ExiWO",
                                           "createdAt":  "2025-09-17T05:06:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dotnet-policy-service",
                                           "body":  "This submission has been automatically marked as stale because it has been marked as requiring author action but has not had any activity for **14 days**.\nIt will be closed if no further activity occurs **within 7 days of this comment**.\n\u003c!-- Policy app identification https://img.shields.io/static/v1?label=PullRequestIssueManagement. --\u003e",
                                           "updatedAt":  "2025-09-17T05:06:09Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "Unhealthy redis and mysql even the container is running",
        "labels":  [
                       "area-integrations",
                       "needs-author-action",
                       "no-recent-activity"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9418",
        "createdAt":  "2025-05-20T10:53:14Z",
        "number":  9418,
        "author":  "tanuyru",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODCl-_g==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-05-20T16:01:54Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-05-20T16:01:51Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIf you have an empty connection-string the KafkaProducerSettings.Consolidate() only checks for null so it can overwrite the Config.BootstrapServers with an empty string, but the Validate() doesnt allow for an empty string so it will throw an exception.\n\n\n### Expected Behavior\n\nIf there is a reason to allow an empty string for the BootstrapServers property, the Validate() should only check for null, if not the Consolidate() should not overwrite the BootstrapServers.\n\n### Steps To Reproduce\n\nSet the BootstrapServers from config or in the configureSettings-action and have an empty string in the ConnectionString-section of the config and the Validate() method will throw the exception\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n8,9\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "The Consolidate() and Validate() methods on KafkaProducerSettings should both do null-checks or both check for empty string",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9426",
        "createdAt":  "2025-05-20T18:25:03Z",
        "number":  9426,
        "author":  "secheledelaruse",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T19:29:22Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\ni have a hybrid functions dev loop scenario not currently supported as per required\n* containerized python cosmos db (emulator) trigger function\n* python durable function that needs to write to blob storage emulator\n* blazor web app that needs to read what python durable function wrote to blob storage (emulator)\n* containerized c# isolated model durable function that needs to share cosmos db emulator with python cosmosdb (emulator) trigger\n\none cannot use the builder.AddAzureCosmosDB(\"cosmos-db\").RunAsPreviewEmulator() api to share the cosmos emulator among the resources listed above, because the network bridge doesn\u0027t seem to appropriately include azure functions  builder.AddDockerfile() scenarios\n\nthe same respectively applies for using storage emulator aspire api integration to power python functions and c# functions from the same storage emulator\n\nto be clear the issue is that the functions containers each see a different localhost:8081, localhost:10000 etc\n\nthe workaround is externally start the associated emulators and inject the host ip into the target environments\n\na cross cutting concern here is that by using the external emulators one loses the ability to use the associated IResourceBuilder apis such as builder.AddAzureCosmosDB(\"cosmos-db\").AddMoreStuff() to configure assets in the externally running emulators (UNLESS I\u0027M MISSING SOMETHING IN THE DOCS)\n\n\n### Describe the solution you\u0027d like\n\n\nwhat am i saying here as far as i can tell\n* azure python function containerized function apps do not seem to be able to reference the storage emulator resource on the default aspire bridge\n* aspire environment variables are not injected into orchestrated Dockerfile resources  \n\nwouldn\u0027t it be nice\n\n### Additional context\n\npython dockerfile resource visible os environment showing inject ip address in AzureWebjobsStorage and no ASPIRE* environment \n\n```\n      environ({\u0027ASPNET_VERSION\u0027: \u00276.0.36\u0027, \u0027ConnectionStrings__CosmosGlobalLockEndpoint\u0027: \u0027AccountEndpoint=http://cosmos-db:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;Database=LockDB;IgnoreEndpointCertificate=true;DisableServerCertificateValidation=true\u0027, \u0027DOTNET_RUNNING_IN_CONTAINER\u0027: \u0027true\u0027, \u0027FUNCTIONS_WORKER_RUNTIME_VERSION\u0027: \u00273.11\u0027, \u0027ASPNETCORE_URLS\u0027: \u0027http://+:80\u0027, \u0027AzureFunctionsJobHost__Logging__Console__IsEnabled\u0027: \u0027true\u0027, \u0027EMULATOR_ENDPOINT\u0027: \u0027AccountEndpoint=http://localhost:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;Database=LockDB;IgnoreEndpointCertificate=true;DisableServerCertificateValidation=true\u0027, \u0027ACCEPT_EULA\u0027: \u0027Y\u0027, \u0027AzureWebJobsStorage\u0027: \u0027DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://192.168.10.123:10000/devstoreaccount1;QueueEndpoint=http://192.168.10.123:10001/devstoreaccount1;TableEndpoint=http://192.168.10.123:10002/devstoreaccount1;\u0027, \u0027ASPNETCORE_CONTENTROOT\u0027: \u0027/azure-functions-host\u0027, \u0027HOSTNAME\u0027: \u002745a7338aa998\u0027, \u0027DOTNET_USE_POLLING_FILE_WATCHER\u0027: \u0027true\u0027, \u0027SHLVL\u0027: \u00271\u0027, \u0027HOST_VERSION\u0027: \u00274.1038.400.10\u0027, \u0027LANG\u0027: \u0027C.UTF-8\u0027, \u0027ConnectionStrings__cosmos-db\u0027: \u0027AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;AccountEndpoint=http://cosmos-db:8081\u0027, \u0027PATH\u0027: \u0027/home/sechele/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\u0027, \u0027_\u0027: \u0027/azure-functions-host/Microsoft.Azure.WebJobs.Script.WebHost\u0027, \u0027ConnectionStrings__blobs\u0027: \u0027DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://lockstorage:10000/devstoreaccount1;\u0027, \u0027HOME\u0027: \u0027/home\u0027, \u0027AzureWebJobsScriptRoot\u0027: \u0027/home/site/wwwroot\u0027, \u0027host__localHttpPort\u0027: \u00277072\u0027, \u0027CosmosGlobalLockEndpoint\u0027: \u0027AccountEndpoint=http://cosmos-db:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;Database=LockDB;IgnoreEndpointCertificate=true;DisableServerCertificateValidation=true\u0027, \u0027DOTNET_VERSION\u0027: \u00276.0.36\u0027, \u0027FUNCTIONS_WORKER_RUNTIME\u0027: \u0027python\u0027, \u0027ConnectionStrings__LockDB\u0027: \u0027AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;AccountEndpoint=http://cosmos-db:8081;Database=LockDB\u0027, \u0027PWD\u0027: \u0027/\u0027, \u0027FUNCTIONS_WORKER_DIRECTORY\u0027: \u0027/azure-functions-host/workers/python\u0027, \u0027FUNCTIONS_APPLICATION_DIRECTORY\u0027: \u0027/home/site/wwwroot\u0027, \u0027PYTHON_THREADPOOL_THREAD_COUNT\u0027: \u00271000\u0027, \u0027PYTHONPATH\u0027: \u0027/home/site/wwwroot/.python_packages/lib/site-packages:/azure-functions-host/workers/python/3.11/LINUX/X64\u0027})\ninfo: Function.timer_trigger.User[0]\n      Timer triggered: batch_paused_or_complete\n```\n\npython functions dockerfile setup\n```\n// After adding all resources, run the app...\nvar container = builder.AddDockerfile(\"python-funcs\", \"../HorselessDistributedLocking.Sample.AzureFunctions.PythonOrchestrations\", \"Dockerfile\")\n    .WithReference(cosmos)\n    .WithReference(locksDb) \n    .WithReference(blobStorage)\n    .WithEnvironment(\"CosmosGlobalLockEndpoint\", $\"AccountEndpoint=http://cosmos-db:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;Database=LockDB;IgnoreEndpointCertificate=true;DisableServerCertificateValidation=true\")\n    .WithEnvironment(\"ConnectionStrings__CosmosGlobalLockEndpoint\", $\"AccountEndpoint=http://cosmos-db:8081/;AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;Database=LockDB;IgnoreEndpointCertificate=true;DisableServerCertificateValidation=true\")\n    .WithEnvironment(\"EMULATOR_ENDPOINT\", cosmosConnectionString)\n    .WithEnvironment(\"AzureWebJobsStorage\", $\"DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://{ipAdd.ToString()}:10000/devstoreaccount1;QueueEndpoint=http://{ipAdd.ToString()}:10001/devstoreaccount1;TableEndpoint=http://{ipAdd.ToString()}:10002/devstoreaccount1;\")\n    .WaitFor(cosmos)\n    .WaitFor(blobStorage)\n    .WithReference(locksDb);\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrsHEXA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6tXb6c",
                                           "createdAt":  "2025-05-26T05:44:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e one cannot use the builder.AddAzureCosmosDB(\"cosmos-db\").RunAsPreviewEmulator() api to share the cosmos emulator among the resources listed above, because the network bridge doesn\u0027t seem to appropriately include azure functions builder.AddDockerfile() scenarios\n\nI think I\u0027m missing why this doesn\u0027t work.",
                                           "updatedAt":  "2025-05-26T05:44:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6telP-",
                                           "createdAt":  "2025-05-26T19:05:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vigouredelaruse",
                                           "body":  "at the top level when using cosmos emulator and storage emulator,  the associated python function triggers try to connect to localhost while running the container, which is a nonstarter because localhost in the container is different than localhost on the host\n\ni\u0027ve found that such python function dev scenarios function nominally on their own. it\u0027s just there\u0027s this issue if you try to orchestrate them side by side with c# assets in an aspire scenario\n\nso pairing the below trigger with the associated emulator uri won\u0027t work. the function works with func start from the command line, but not in a container. and i realize the emulators are unsupported scenarios\n\n```\n// assume storage env variable\nAzureWebJobsStorage=\"DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://localhost:10000/devstoreaccount1;QueueEndpoint=http://localhost:10001/devstoreaccount1;TableEndpoint=http://localhost:10002/devstoreaccount1;\" \n\n@bp.function_name(name=\"QueueFunc\")\n@bp.queue_trigger(arg_name=\"msg\", queue_name=\"inputqueue\",\n                   connection=\"AzureWebJobsStorage\")  # Queue trigger\n@bp.queue_output(arg_name=\"outputQueueItem\", queue_name=\"outqueue\",\n                 connection=\"AzureWebJobsStorage\")  # Queue output binding\ndef test_function(msg: func.QueueMessage,\n                  outputQueueItem: func.Out[str]) -\u003e None:\n    logging.info(\u0027Python queue trigger function processed a queue item: %s\u0027,\n                 msg.get_body().decode(\u0027utf-8\u0027))\n    outputQueueItem.set(\u0027hello\u0027) \n```\n\nif this scenario deviates too far from what\u0027s intended i\u0027d be fine with closing the issue\nregards\n",
                                           "updatedAt":  "2025-05-26T19:07:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tfGdL",
                                           "createdAt":  "2025-05-26T20:50:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Is don’t fully understand what that has to do with the python app not being able to reach the emulator. Can you explain?\n\nThe fact that you need to listen on all addresses instead of localhost makes sense but is unrelated to connecting to the emulators ",
                                           "updatedAt":  "2025-05-26T20:50:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tpwOt",
                                           "createdAt":  "2025-05-27T17:38:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vigouredelaruse",
                                           "body":  "working on a repro to sanity check what i think i\u0027m observing\n\nstarting from the aspire template the intention is to use storage emulator integration to share blob storage and for extra points queue storage among a python function dockerfile, a blazor webapp project and a c# function project\n\nplease stand by",
                                           "updatedAt":  "2025-05-27T17:40:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tq-tb",
                                           "createdAt":  "2025-05-27T19:19:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "secheledelaruse",
                                           "body":  "@davidfowl unfortunately the stripped down [repro ](https://github.com/secheledelaruse/HorselessRepro.PythonOrchestrator)fails with the listed below error\n\nwhere strippedDown == c# + timer triggered function attempting to share storage emulator\n\nif this functionality is expected to just work then i\u0027m missing something in the configuration of python functions asper \n``\nvar pythonFuncs = builder.AddDockerfile(\"repro-python-funcs\", \"../HorselessRepro.PythonOrchestrator.ReproFunctions.Python\")\n    .WithReference(blobs) \n    .WithReference(storageConnectionString)\n    .WaitFor(blobs);\n```\n\n```\nfail: Host.Startup[0]\n      The listener for function \u0027Functions.timer_trigger\u0027 was unable to start.\n      Microsoft.Azure.WebJobs.Host.Listeners.FunctionListenerException: The listener for function \u0027Functions.timer_trigger\u0027 was unable to start.\n       ---\u003e System.AggregateException: Retry failed after 6 tries. Retry settings can be adjusted in ClientOptions.Retry or by configuring a custom retry policy in ClientOptions.RetryPolicy. (Connection refused (127.0.0.1:10000)) (Connection refused (127.0.0.1:10000)) (Connection refused (127.0.0.1:10000)) (Connection refused (127.0.0.1:10000)) (Connection refused (127.0.0.1:10000)) (Connection refused (127.0.0.1:10000))\n       ---\u003e Azure.RequestFailedException: Connection refused (127.0.0.1:10000)\n       ---\u003e System.Net.Http.HttpRequestException: Connection refused (127.0.0.1:10000)\n       ---\u003e System.Net.Sockets.SocketException (111): Connection refused\n         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\n         at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n         --- End of inner exception stack trace ---\n         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)\n         at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n         at System.Net.Http.HttpClient.\u003cSendAsync\u003eg__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n\n```",
                                           "updatedAt":  "2025-05-27T19:19:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ttDrA",
                                           "createdAt":  "2025-05-27T22:04:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "secheledelaruse",
                                           "body":  "some progress to report after playing with azurite.WithContainerRuntimeArgs(\"-p\",\"0.0.0.0:10000:10000\") et al to include the ports for table and queue storage\n\nthe timer triggered funcs in both python and c# fire, but cannot connect to the queue on the host, which i\u0027m troubleshooting based on this docker state\n\n![Image](https://github.com/user-attachments/assets/ce4cbb25-eec9-4458-9bae-27a9e6885315)\n\n",
                                           "updatedAt":  "2025-05-27T22:04:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uNdtN",
                                           "createdAt":  "2025-05-30T15:54:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "secheledelaruse",
                                           "body":  "@davidfowl mkay i have been able to [repro ](https://github.com/secheledelaruse/HorselessRepro.PythonOrchestrator/tree/master) what i\u0027m claiming about .adddockerfile(); python funcs can access blob storage emulator on the host but not cosmosdb emulator as per this garish llm rendered dataflow diagram\n\n![Image](https://github.com/user-attachments/assets/88abf5d1-5c9f-4e2c-8e65-a7d46b5531e3)\n\nit shows python funcs can be triggered by blobs, update their content and save the update to a different blob with all blobs observable by a blazor component, and an aspire orchestrated api hosted service surfaced through a minimal api. but the cosmos side of the data flow doesn\u0027t terminate properly a this python func\n\n```\nbp = func.Blueprint() \n@bp.function_name(name=\"CosmosDBTrigger\")\n\n@bp.cosmos_db_trigger(arg_name=\"documents\", \n                       connection=\"cosmosdb\",\n                       database_name=\"reprodb\", \n                       container_name=\"entries\", \n                       lease_container_name=\"leases\",\n                       create_lease_container_if_not_exists=\"true\")\ndef cosmos_db_triggered(documents: func.DocumentList) -\u003e None:\n    if documents:\n        logging.info(\u0027Document id: %s\u0027, documents[0][\u0027id\u0027])\n        # Initialize Cosmos client\n        endpoint = \"\u003cCOSMOS_DB_ENDPOINT\u003e\"\n        key = \"\u003cCOSMOS_DB_KEY\u003e\"\n        client = CosmosClient(endpoint, key)\n        database_name = \"reprodb\"\n        container_name = \"pyentries\"\n        database = client.get_database_client(database_name)\n        container = database.get_container_client(container_name)\n        # Write all input documents to the output collection\n        for doc in documents:\n            container.upsert_item(doc.to_json()) \n\n```\n\ni withdraw any similar claims i may have made about the servicebus emulator because i haven\u0027t backed them up in this repro, but i\u0027m pretty sure i noticed service bus triggered python funcs didn\u0027t \u0027just work\u0027 right away\n\napologies for the elaborate repro architecture but this issue is currently tagged feature so the game has to level up accordingly\n\n![Image](https://github.com/user-attachments/assets/aa4bc100-639d-4515-84d3-2ad64cf4d5b6)",
                                           "updatedAt":  "2025-05-30T15:54:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uSo1N",
                                           "createdAt":  "2025-05-31T03:26:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I see lots of custom connection string construction, container runtime argument passing *and* adding custom endpoints everywhere. Can you remove all of your customizations and try to make the default experience work? I can take a look after that.",
                                           "updatedAt":  "2025-05-31T03:26:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uX3Yo",
                                           "createdAt":  "2025-05-31T17:38:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "secheledelaruse",
                                           "body":  "wilco. please stand by",
                                           "updatedAt":  "2025-05-31T17:38:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uwcRc",
                                           "createdAt":  "2025-06-02T18:22:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "secheledelaruse",
                                           "body":  "@davidfowl mkay i see you\u0027re ploughing ahead on this aspect\n\ni tidied up the apphost in the [repro ](https://github.com/secheledelaruse/HorselessRepro.PythonOrchestrator)to \n* leave the default experience in the main branch\n* configure apphost with hardcoded uris in a different [branch](https://github.com/secheledelaruse/HorselessRepro.PythonOrchestrator/tree/hardcoded)\n\nexpect\n* the default experience python .adddockerfile() to exit due to storage account issues. i haven\u0027t figured out how to fix this\n* the hardcoded experience python .adddockerfile() to connect to blobs and queues but not cosmosdb. i haven\u0027t figured out how to fix this\n* the dataflow console will render the missing python pythoncosmos node if you\n   * switch to the hardcoded branch\n   * cd to the python funcs folder and ```func start --port openone```; the unorchestrated python funcs will start and use the aspire storage account and cosmos as per the below, although this config is unstable due to 2 sets functions executing without appropriate measures \n\n![Image](https://github.com/user-attachments/assets/b25d5ab0-d43b-4576-87f6-ff42c3f666f2)\n\nin the interest of making the implicit explicit i should add that i tested the equivalent setup with .addcontainer() with similarly mixed results. \n\nand i do not have the azurite desktop app installed\n\nthanks\n\n ",
                                           "updatedAt":  "2025-06-02T19:29:21Z"
                                       }
                                   ],
                         "totalCount":  10
                     },
        "title":  "how to support python azure function developers with  builder.AddDockerfile()",
        "labels":  [
                       "area-integrations",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9463",
        "createdAt":  "2025-05-22T07:25:13Z",
        "number":  9463,
        "author":  null,
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-18T14:57:15Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI built an Aspire project with two HTTP triggered Azure Functions, and other resources. It works well.\nNow, when I want to test it using the `DistributedApplicationTestingBuilder` as explained here: https://learn.microsoft.com/en-us/dotnet/aspire/testing/write-your-first-test?pivots=xunit\nI get the following error:\n\n```\nSystem.Net.Http.HttpRequestException: No connection could be established because the target computer expressly refused it. (localhost:7072)\n ---\u003e System.Net.Sockets.SocketException (10061): No connection could be established because the target computer expressly refused it.\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\n   at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n   --- End of inner exception stack trace ---\n   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)\n   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)\n   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n```\n\n### Expected Behavior\n\nThe HttpClient for Azure Function resource should work the same as other resources.\n\n### Steps To Reproduce\n\nAppHost.Program.cs\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\nbuilder.AddAzureFunctionsProject\u003cProjects.AspireApp1_FunctionApp1\u003e(\"functionapp1\");\n\nbuilder.Build().Run();\n```\nWebTests.cs\n```\nprivate static readonly TimeSpan DefaultTimeout = TimeSpan.FromSeconds(300);\n\n[Fact]\npublic async Task GetWebResourceRootReturnsOkStatusCode()\n{\n    // Arrange\n    var cancellationToken = new CancellationTokenSource(DefaultTimeout).Token;\n\n    var appHost = await DistributedApplicationTestingBuilder.CreateAsync\u003cProjects.AspireApp1_AppHost\u003e(cancellationToken);\n    appHost.Services.AddLogging(logging =\u003e\n    {\n        logging.SetMinimumLevel(LogLevel.Debug);\n        // Override the logging filters from the app\u0027s configuration\n        logging.AddFilter(appHost.Environment.ApplicationName, LogLevel.Debug);\n        logging.AddFilter(\"Aspire.\", LogLevel.Debug);\n        // To output logs to the xUnit.net ITestOutputHelper, consider adding a package from https://www.nuget.org/packages?q=xunit+logging\n    });\n    appHost.Services.ConfigureHttpClientDefaults(clientBuilder =\u003e\n    {\n        clientBuilder.AddStandardResilienceHandler();\n    });\n\n    await using var app = await appHost.BuildAsync(cancellationToken).WaitAsync(DefaultTimeout, cancellationToken);\n    await app.StartAsync(cancellationToken).WaitAsync(DefaultTimeout, cancellationToken);\n\n    // Act\n    var httpClient = app.CreateHttpClient(\"functionapp1\");\n    await app.ResourceNotifications.WaitForResourceHealthyAsync(\"functionapp1\", cancellationToken).WaitAsync(DefaultTimeout, cancellationToken);\n    var response = await httpClient.GetAsync(\"/api/Function1\", cancellationToken);\n\n    // Assert\n    Assert.Equal(HttpStatusCode.OK, response.StatusCode);\n}\n```\n\n\n\n### Exceptions (if any)\n\n```\nSystem.Net.Http.HttpRequestException\nAucune connexion n’a pu être établie car l’ordinateur cible l’a expressément refusée. (localhost:7071)\n   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)\n   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.Outcome`1.ThrowIfException()\n   at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at System.Net.Http.HttpClient.\u003cSendAsync\u003eg__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n   at AspireApp1.Tests.WebTests.GetWebResourceRootReturnsOkStatusCode() in D:\\repos\\AspireApp1\\AspireApp1.Tests\\WebTests.cs:line 43\n   at AspireApp1.Tests.WebTests.GetWebResourceRootReturnsOkStatusCode() in D:\\repos\\AspireApp1\\AspireApp1.Tests\\WebTests.cs:line 46\n   at Xunit.Sdk.TestInvoker`1.\u003c\u003ec__DisplayClass47_0.\u003c\u003cInvokeTestMethodAsync\u003eb__1\u003ed.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 259\n--- End of stack trace from previous location ---\n   at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48\n   at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90\n\nSystem.Net.Sockets.SocketException\nAucune connexion n’a pu être établie car l’ordinateur cible l’a expressément refusée.\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\n   at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n```\n\n### .NET Version info\n\nSDK .NET :\n Version:           9.0.300\n Commit:            15606fe0a8\n Workload version:  9.0.300-manifests.af4147de\n MSBuild version:   17.14.5+edd3bbf37\n\nEnvironnement d\u0027exécution :\n OS Name:     Windows\n OS Version:  10.0.22631\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.300\\\n\nCharges de travail .NET installées :\nIl n\u0027y a aucune charge de travail installée à afficher.\nConfiguré pour utiliser loose manifests lors de l’installation de nouveaux manifestes.\n\nHost:\n  Version:      9.0.5\n  Architecture: x64\n  Commit:       e36e4d1a8f\n\n.NET SDKs installed:\n  9.0.300 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 8.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\n* .NET 8\n* Aspire 9.3.0\n* Aspire.Hosting.Azure.Functions 9.3.0-preview.1.25265.20\n* Visual Studio 17.14.1 Preview 1.0\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOseTFfw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6s6N85",
                                           "createdAt":  "2025-05-22T11:54:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Was85",
                                           "body":  "Not sure if this is the same. I encountered a similar problem while testing my app with Aspire and Playwright. To get a connection working, I had it listen on `0.0.0.0:\u003cport\u003e` instead of `localhost:\u003cport\u003e`. Keep in mind this isn’t a permanent fix—just a quick way to confirm the root issue.\n",
                                           "updatedAt":  "2025-05-22T11:54:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6s7D-J",
                                           "createdAt":  "2025-05-22T13:05:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  null,
                                           "body":  "\u003e Not sure if this is the same. I encountered a similar problem while testing my app with Aspire and Playwright. To get a connection working, I had it listen on `0.0.0.0:\u003cport\u003e` instead of `localhost:\u003cport\u003e`. Keep in mind this isn’t a permanent fix—just a quick way to confirm the root issue.\n\nCould you elaborate your workaround please? I don\u0027t understand where to change what you mentioned.",
                                           "updatedAt":  "2025-05-22T13:05:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xCxGe",
                                           "createdAt":  "2025-06-13T12:50:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "klimkjar",
                                           "body":  "I am also struggling with a test project that references an Azure function.\n\nFirst, I hit issue #8589 . This was worked around by deleting launchSettings.json, and my tests are now green when run from within Visual Studio. However they fail if testing with \u0027dotnet test\u0027, causing our CI builds to never succeed.\n\nLooking at the logs, it seems that the host.json file cannot be found where it\u0027s expected:\n\n```\ninfo: ...[0]\n      7: 2025-06-13T10:55:11.8780000Z [2025-06-13T10:55:11.879Z] No functions were found. A valid host.json file wasn\u0027t found in the package root. However, one was located at: \\win-x64\\host.json. This state indicates that your deployment package was created incorrectly. For deployment package requirements, see https://aka.ms/deployment-zip-push.\ninfo: ...[0]\n      8: 2025-06-13T10:55:11.9480000Z [2025-06-13T10:55:11.948Z] No job functions found. Try making your job classes and methods public. If you\u0027re using binding extensions (e.g. Azure Storage, ServiceBus, Timers, etc.) make sure you\u0027ve called the registration method for the extension(s) in your startup code (e.g. builder.AddAzureStorage(), builder.AddServiceBus(), builder.AddTimers(), etc.).\n```\n\nInitially I was using xUnit v3, however I tried to set up an equivalent MSTest test project and the result was the same. A health check call to the root endpoint of the Functions app will succeed, but any other calls will fail with a 404 status.\n\n```\n\u003cPackageVersion Include=\"Aspire.Hosting.AppHost\" Version=\"9.3.1\" /\u003e\n\u003cPackageVersion Include=\"Aspire.Hosting.Azure.Functions\" Version=\"9.3.1-preview.1.25305.6\" /\u003e\n\u003cPackageVersion Include=\"Aspire.Hosting.Testing\" Version=\"9.3.1\" /\u003e\n```",
                                           "updatedAt":  "2025-06-13T13:14:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xD7-j",
                                           "createdAt":  "2025-06-13T14:33:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "klimkjar",
                                           "body":  "Might be related to #9142 . I\u0027m trying to create a minimal repro but then it... works? My original project was a durable function. I\u0027ll post back here once the repro is ready.",
                                           "updatedAt":  "2025-06-13T15:29:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xFDrm",
                                           "createdAt":  "2025-06-13T16:24:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "klimkjar",
                                           "body":  "With a durable function it fails. Slightly different error message here but seems like a similar root cause:\n\n```\nfail: AspireAppHost.Resources.durablefunc[0]\n      1: 2025-06-13T16:14:15.2310000Z Unhandled exception: An error occurred trying to start process \u0027func\u0027 with working directory \u0027bin\\Release\\net9.0\\\u0027. The system cannot find the file specified.\n```\n\n~~Works in the Visual Studio test explorer but fails using dotnet test. Repro is here:~~\n~~https://github.com/klimkjar/durable-func-aspire-test-repro~~\n\nAfter a reinstall of Azure functions core tools and restart the durable function also works... Will retry my initial project.",
                                           "updatedAt":  "2025-06-18T12:05:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6x4ahO",
                                           "createdAt":  "2025-06-18T14:01:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "klimkjar",
                                           "body":  "OK, this is getting quite strange. I\u0027ve now gotten my initial project to work as well, however it only work if the build has been done from within Visual Studio...\n\nSo, the following works (from a clean working directory):\n\n1.  Build solution (Release configuration) in Visual Studio 2022\n2. `dotnet test path-to-test-project.csproj -c Release -f net9.0 -r win-x64 --no-build --no-restore -- --report-xunit-trx --results-directory path-to-test-results`\n\nThe following does *not* work (from a clean working directory):\n1. `dotnet restore -r win-x64`\n2. `dotnet build path-to-test-project.csproj -c Release -f net9.0 -r win-x64 --no-self-contained --no-restore`\n3. `dotnet test path-to-test-project.csproj -c Release -f net9.0 -r win-x64 --no-build --no-restore -- --report-xunit-trx --results-directory path-to-test-results`\n\nThe log file of the failing run contains the following line:\n`No functions were found. A valid host.json file wasn\u0027t found in the package root. However, one was located at: \\win-x64\\host.json. This state indicates that your deployment package was created incorrectly. For deployment package requirements, see https://aka.ms/deployment-zip-push.`\n\nThis is problematic as I can hardly run the VS build on the CI server... Will do some further testing to see if I can find a working dotnet build invocation.",
                                           "updatedAt":  "2025-06-18T14:01:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6x5MV_",
                                           "createdAt":  "2025-06-18T14:57:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "klimkjar",
                                           "body":  "OK, so the trick seems to be to leave out the runtime specifier from the `dotnet build` / `dotnet test` invocation. If I drop the `-r win-x64` from steps 2 and 3 above the tests complete successfully. Verified that it also works in the Azure DevOps CI pipeline now after removing `-r linux-64` from the build/test steps.\n\nIs this expected behaviour that is documented somewhere, or a bug?",
                                           "updatedAt":  "2025-06-18T14:57:15Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Unable to test HTTP triggered Azure Functions",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9468",
        "createdAt":  "2025-05-22T16:24:11Z",
        "number":  9468,
        "author":  "ricoprzybylski",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-22T21:18:52Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nHi \n\nI added azure redis to my host aspire project \nvar azureCache = builder.AddAzureRedis(\"azureRedis\")\n\njust like so. \n\nAnd after pushing everything to github deply is crash on provisioning redis instance. In portal a see status that is  stil running for ever.  \n\nWhat i can do with this ? \n\n\n### .NET Version info\n\n.Net 9 \n.Net Aspire 9.3\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrQIasg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6s9-qs",
                                           "createdAt":  "2025-05-22T16:50:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOETOsfw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "ricoprzybylski",
                                                                               "createdAt":  "2025-05-22T17:11:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Takes like 30 minutes to deploy this thing. That\u0027s an azure redis problem 😄 ",
                                           "updatedAt":  "2025-05-22T16:50:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6s-LCv",
                                           "createdAt":  "2025-05-22T17:08:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ricoprzybylski",
                                           "body":  "I already lots all my hairs today because of this ... and starting to have thought about jumping throw window This will go so long only for the first time ? \n",
                                           "updatedAt":  "2025-05-22T17:08:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tAhqy",
                                           "createdAt":  "2025-05-22T21:18:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e  This will go so long only for the first time ?\n\nYes",
                                           "updatedAt":  "2025-05-22T21:18:51Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "After add AzureRedis to my Host deploy freezies for ever.",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9478",
        "createdAt":  "2025-05-22T23:44:51Z",
        "number":  9478,
        "author":  "AlanGRutter",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODC1S0A==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "julioct",
                                            "createdAt":  "2025-05-26T22:43:22Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-07-28T03:11:52Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen transitioning from Aspire v9.1 to above, instead of having a single managed identity across all services, there are now separate managed identities per service.\n\nMy application uses MartenDb to perform event sourcing. This requires the logged in user to be the owner of the tables so that can make necessary changes. \n\nMy PostgreSQL Flexible server instance already has databases and tables that were created using the old managed identity. I have been unsuccessful in finding any way to change the ownership of the objects to the new managed identity.\n\n### Expected Behavior\n\nWhen the provisioning is done, there is a special superuser account azuresu which only MS can use. I am not sure if this is used to configure the PostgreSql instance. There needs to be some mechanism by which the ownership of objects can be changed.\n\n### Steps To Reproduce\n\nNo repro - try to change the ownership of database or table in Azure PostgreSql instance without using superuser.\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrd2Fkw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6tM_IF",
                                           "createdAt":  "2025-05-23T21:31:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Please tell me if I understand correctly. The previous user managed identity (from 9.1) created the database and the tables and is the owner. The new user managed identity can\u0027t update the existing tables (and created new ones?) because it doesn\u0027t have any permissions.\n\nSo you just need a way to make this new account own the database/tables, and ideally this should be done automatically during deployment so it\u0027s backward compatible.\n\n\n",
                                           "updatedAt":  "2025-05-23T21:31:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tOGXT",
                                           "createdAt":  "2025-05-24T00:48:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "AlanGRutter",
                                           "body":  "In some cases simply GRANTing various permissions would be sufficient, but if you are using something like MartenDb (which I and lots of others do), then it ideally requires ownership of the tables.\r\n\r\nI did come across several questions and answers on Microsoft forums suggesting that it is possible to change ownership by creating a role but I could not get these to work.\r\n\r\nOnly the owner of a database/table or superuser can change the ownership. At the moment I am having to create a separate app to run on Azure that logs in using the old credential and issue commands against the database/tables that way.\r\n\r\nObviously this is less than ideal. I am not privy to the details of how the provisioning or deployment works, but there is a azuresu superuser account on the Postgres instance which I think may be used to set up users etc.\r\n\r\nTo make things a lot easier, it would be helpful if the provisioning/deployment updated the ownership if the Azure Client Id is different to the existing owner.\r\n\r\nI am aware this is a bit of an edge case, but given the restrictions in Azure PAAS server, there is no easy workaround that I have been able to find.\r\n\r\nSent from my phone.\r\n\r\nOn 24/05/2025, at 9:31 AM, Sébastien Ros ***@***.***\u003e wrote:\r\n\r\n﻿\r\n[https://avatars.githubusercontent.com/u/1165805?s=20\u0026v=4]sebastienros left a comment (dotnet/aspire#9478)\u003chttps://github.com/dotnet/aspire/issues/9478#issuecomment-2905862661\u003e\r\n\r\nPlease tell me if I understand correctly. The previous user managed identity (from 9.1) created the database and the tables and is the owner. The new user managed identity can\u0027t update the existing tables (and created new ones?) because it doesn\u0027t have any permissions.\r\n\r\nSo you just need a way to make this new account own the database/tables, and ideally this should be done automatically during deployment so it\u0027s backward compatible.\r\n\r\n—\r\nReply to this email directly, view it on GitHub\u003chttps://github.com/dotnet/aspire/issues/9478#issuecomment-2905862661\u003e, or unsubscribe\u003chttps://github.com/notifications/unsubscribe-auth/ABMYA3PQ5OMKP76ZSLHZKO3276HUVAVCNFSM6AAAAAB5XK6IKWVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDSMBVHA3DENRWGE\u003e.\r\nYou are receiving this because you authored the thread.Message ID: ***@***.***\u003e\r\n",
                                           "updatedAt":  "2025-05-24T00:48:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tfiK1",
                                           "createdAt":  "2025-05-26T22:47:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "julioct",
                                           "body":  "I also faced this, and I think it is the same issue discussed [here for Azure SQL Server](https://github.com/dotnet/aspire/issues/8389).\n\nSince this was already fixed for SQL Server in 9.3 (I think), can we get a corresponding fix for Azure PostgreSQL?",
                                           "updatedAt":  "2025-05-26T22:47:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tf2Bp",
                                           "createdAt":  "2025-05-27T00:22:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "julioct",
                                           "body":  "To add more context, here\u0027s what I have tried (in 9.2):\n\n- An API project and a worker project, both using the same Azure PostgreSQL resource\n- Worker project runs DB migrations, same idea as in this docs page: https://learn.microsoft.com/en-us/dotnet/aspire/database/ef-core-migrations\n- Deploy to azure via AZD\n- Worker container app successfully runs migrations. DB and tables are created.\n- API container app can run queries against the DB\n- API container app cannot INSERT, UPDATE, DELETE on any of the created tables\n- PostgreSQL claims the user has no permissions to modify the DB\n\nThis was documented as a breaking change in 9.2 docs over here: https://learn.microsoft.com/en-us/dotnet/aspire/compatibility/9.2/managed-identity-per-app#azure-postgresql\n\nDocs say you are expected to run these manually to workaround (but you can\u0027t since your user won\u0027t have the powers):\n```sql\nGRANT INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO \u003cmanaged_identity_user\u003e;\n```",
                                           "updatedAt":  "2025-05-27T00:22:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6t1uPf",
                                           "createdAt":  "2025-05-28T14:21:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "In 9.4, one option you can use is to run your app as an existing User Assigned Identity.\n\n```C#\nvar postgresUser = builder.AddAzureUserAssignedIdentity(\"postgresUser\")\n    .PublishAsExisting(\"existingIdentityName\", \"existingResourceGroup\");\n\nbuilder.AddProject\u003cProjects.WebApplication1\u003e(\"api1\")\n    .WithAzureUserAssignedIdentity(postgresUser);\n```\n\nThis will allow your app to run as the same managed identity that was used in previous versions.",
                                           "updatedAt":  "2025-05-28T14:21:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6t2x4L",
                                           "createdAt":  "2025-05-28T15:45:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "julioct",
                                           "body":  "\u003e In 9.4, one option you can use is to run your app as an existing User Assigned Identity.\n\u003e \n\u003e var postgresUser = builder.AddAzureUserAssignedIdentity(\"postgresUser\")\n\u003e     .PublishAsExisting(\"existingIdentityName\", \"existingResourceGroup\");\n\u003e \n\u003e builder.AddProject\u003cProjects.WebApplication1\u003e(\"api1\")\n\u003e     .WithAzureUserAssignedIdentity(postgresUser);\n\u003e This will allow your app to run as the same managed identity that was used in previous versions.\n\nThis is a beautiful workaround. \n\nYet, hoping for a default behavior that just works when multiple projects need to use the same PostgreSQL DB.",
                                           "updatedAt":  "2025-05-28T15:45:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6t3PTQ",
                                           "createdAt":  "2025-05-28T16:27:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "The above code was for the case in the top post of this issue - an existing app that was upgraded to Aspire 9.2+.\n\nFor a brand new app, you can use the same code, but leave off the `PublishAsExisting` part. So you\u0027d create a single UserAssigned Identity, and assign it to all the projects that need to interact with the same PostgreSQL DB.\n\nUnfortunately, there isn\u0027t a way for Aspire to know which app is going to create the tables (and become the owner). So I don\u0027t see a way to automatically grant access to all the apps that are going to connect to the DB. A workaround is to do it yourself in the app that runs the DB migration. Once the migration is done, run the `GRANT` statement for the other apps.\n\nFor example, in your AppHost, you can grab the other project\u0027s principal names and pass them into the migration project:\n\n```C#\n// The ApiService project provides backend HTTP APIs for the web frontend.\nvar apiService = builder.AddProject\u003cProjects.AspireStarterDb_ApiService\u003e(\"apiservice\")\n    .WithReference(todosDb);\n\n// The MigrationDbService project is responsible for managing the database schema and seeding data.\nvar migrationDbService = builder.AddProject\u003cProjects.AspireStarterDb_MigrationDbService\u003e(\"migrationdbservice\")\n    .WithReference(todosDb)\n    .WaitFor(todosDb)\n    .WithEnvironment(context =\u003e\n    {\n        if (apiService.Resource.TryGetLastAnnotation\u003cAppIdentityAnnotation\u003e(out var appIdentity))\n        {\n            context.EnvironmentVariables[\"EXTRA_APP_IDENTITY\"] = appIdentity.IdentityResource.PrincipalName;\n        }\n    });\n```\n\nThen in the Migration project:\n\n```C#\n        if (Environment.GetEnvironmentVariable(\"EXTRA_APP_IDENTITY\") is { } user)\n        {\n            logger.LogInformation(\"Granting access to user {User}\", user);\n\n            var commandText = $\"\"\"GRANT INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO \"{user}\";\"\"\";\n            await dbContext.Database.ExecuteSqlRawAsync(commandText, cancellationToken);\n        }\n```",
                                           "updatedAt":  "2025-05-28T16:27:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6t3YWT",
                                           "createdAt":  "2025-05-28T16:41:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEUJXNQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "eerhardt",
                                                                               "createdAt":  "2025-05-28T16:42:09Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "julioct",
                                           "body":  "Thank you @eerhardt, I think the `AddAzureUserAssignedIdentity` + `WithAzureUserAssignedIdentity` mix will work great for this scenario.",
                                           "updatedAt":  "2025-05-28T16:41:41Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "PostgreSql Unable to change ownership of database or tables",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "postgres",
                       "‼️regression-from-last-release"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9486",
        "createdAt":  "2025-05-23T09:38:00Z",
        "number":  9486,
        "author":  "domenichelfenstein",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODRLtxA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TimurRybakov",
                                            "createdAt":  "2025-09-09T18:44:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "suugbut",
                                            "createdAt":  "2025-09-14T15:23:26Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ms-mayya",
                                            "createdAt":  "2025-09-17T07:40:32Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-09-18T15:56:29Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nOn Aspire.AppHost 9.3.0, given the following `Program.cs`:\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar api = builder.AddProject\u003cProjects.API\u003e(\"bike-rental-api\")\n    .WithReplicas(2)\n    .WithHttpEndpoint(7001);\n\nbuilder.AddYarp(\"apigateway\")\n    .WithConfigFile(\"yarp.json\")\n    .WithReference(api).WaitFor(api);\n\nbuilder.Build().Run();\n```\n\nand the following `yarp.json`:\n\n```\n{\n    \"ReverseProxy\": {\n        \"Routes\": {\n            \"apiRoutes\": {\n                \"ClusterId\": \"bike-rental-api\",\n                \"Match\": {\n                    \"Path\": \"/api/{**catch-all}\"\n                }\n            }\n        },\n        \"Clusters\": {\n            \"bike-rental-api\": {\n                \"LoadBalancingPolicy\": \"RoundRobin\",\n                \"Destinations\": {\n                    \"all\": {\n                        \"Address\": \"http+https://bike-rental-api\"\n                    }\n                }\n            }\n        }\n    }\n}\n```\n\nall requests I make on `apigateway` are forwarded to the same `bike-rental-api` instance.\n\n### Expected Behavior\n\nBecause I set `LoadBalancingPolicy` to `RoundRobin` I expect the requests to be evenly split to the two instances of `bike-rental-api`.\n\n### Steps To Reproduce\n\n- Create a new Solution\n- Create an api project with a simple endpoint (stands for bike-renatal-api)\n- Generate service defaults and use it in the api project\n- Generate an appHost and copy my code (Program and Yarp)\n- Start the solution\n- Open the dashboard and open the reverse proxy (yarp)\n- Make several calls to the endpoint you created on the api\n- Go to the traces view in the aspire dashboard and look where the calls are forwarded to\n\n-\u003e The calls are all forwarded to the same instance\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\nIn the console of the yarp instance I can see something like\n```\nWaiting for resource \u0027bike-rental-api\u0027 to enter the \u0027Running\u0027 state.\nWaiting for resource ready to execute for \u0027bike-rental-api-szdevtvq\u0027.\nFinished waiting for resource \u0027bike-rental-api-szdevtvq\u0027.\nWaiting for resource ready to execute for \u0027bike-rental-api-hgkqrvga\u0027.\nFinished waiting for resource \u0027bike-rental-api-hgkqrvga\u0027.\n```\n\nSo, it looks like somehow yarp knows about the two instances.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwwUMew==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6tQhCv",
                                           "createdAt":  "2025-05-24T11:40:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "domenichelfenstein",
                                           "body":  "I\u0027ve recognized, the described behavior most likely stems from this issue: https://github.com/dotnet/aspire/issues/6640\n\nWhat happens:\nMy custom reverse proxy (yarp) forwards to the automatically generated proxy of aspire (aspire creates a proxy for every service and forwards the calls to the service). So yarp calls the aspire proxy which calls my api. The problem: The aspire proxy doesn\u0027t switch instances.\n\nI could, of course create multple instances of my api like so:\n```\nvar apiInstance1 = builder.AddProject\u003cProjects.API\u003e(\"bike-rental-api-001\")\n    .WithHttpEndpoint(port: 7001);\nvar apiInstance2 = builder.AddProject\u003cProjects.API\u003e(\"bike-rental-api-002\")\n    .WithHttpEndpoint(port: 7002);\n```\n\nand then I could use those instances in yarp:\n```\n\"Clusters\": {\n            \"bike-rental-api\": {\n                \"LoadBalancingPolicy\": \"RoundRobin\",\n                \"Destinations\": {\n                    \"001\": {\n                        \"Address\": \"http+https://bike-rental-api-001\"\n                    },\n                    \"002\": {\n                        \"Address\": \"http+https://bike-rental-api-002\"\n                    }\n                }\n            }\n        }\n```\n\nThis would work.\n\nBut now comes the tricky part:\nHow would I build auto-scalling features using this approach?\nAlso how would a thing like aspirate know that I was only deploying replicas (not different services)?\n\nIs this the approach Microsoft wants me to use?\nIf so, that doesn\u0027t feel mature to me.\n\nIf not (what I hope), what should I do instead?",
                                           "updatedAt":  "2025-05-24T11:40:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tRLeO",
                                           "createdAt":  "2025-05-24T18:16:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "A better way to do this is to discover the endpoints dynamically via YARP’s configuration extensibility. The YARP code would pull configuration from the apphost instead of pushing configuration into it from the outside.\n\nThat’s a model that works both locally and deployed model would be similar and it’ll work for one or N instances.\n\nNow someone just needs to build it 😅",
                                           "updatedAt":  "2025-05-24T18:16:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DBQx7",
                                           "createdAt":  "2025-09-09T18:47:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "TimurRybakov",
                                           "body":  "Got into the same issue, WithReplicas seems hardly applicable...",
                                           "updatedAt":  "2025-09-09T18:47:37Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Yarp with Replicas does not distribute requests",
        "labels":  [
                       "area-integrations",
                       "yarp"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9540",
        "createdAt":  "2025-05-28T01:11:00Z",
        "number":  9540,
        "author":  "smmauck-msft",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDX6YQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NapalmCodes",
                                            "createdAt":  "2025-06-06T16:41:04Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-05-28T02:08:51Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nHi,\n\nI am trying to use the Cosmos DB EFCore integrations with Aspire. Per the documentation here:\n\nhttps://learn.microsoft.com/en-us/dotnet/aspire/database/azure-cosmos-db-entity-framework-integration?tabs=dotnet-cli#add-cosmos-db-context\n\nIf you call `AddCosmosDbContext` without specifying the `databaseName` parameter, it should automatically be inferred as long as your connection string has the database name in it. In your app host, if you call `AddCosmosDatabase`, this adds a connection string with the database name.\n\nHowever, this appears to not be functional when adding the database reference to an Azure Functions project.\n\n### Expected Behavior\n\nDbContext is correctly configured, and the database name is inferred from the connection string.\n\n### Steps To Reproduce\n\nApp host:\n\n```csharp\nusing Azure.Provisioning.Storage;\nusing Microsoft.Extensions.Hosting;\n\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar hostStorageAccount = builder.AddAzureStorage(\"cprphoststorage\");\n\n// Setup CosmosDB\nvar cosmos = builder.AddAzureCosmosDB(\"cprpcosmos\");\nvar database = cosmos.AddCosmosDatabase(\"cprpcosmosdb\");\n\nif (builder.Environment.IsDevelopment())\n{\n    hostStorageAccount.RunAsEmulator();\n    \n    #pragma warning disable ASPIRECOSMOSDB001\n    cosmos.RunAsPreviewEmulator(\n            emulator =\u003e\n            {\n                emulator\n                    .WithDataExplorer()\n                    .WithLifetime(ContainerLifetime.Persistent);\n            });\n}\n\nvar functions = builder.AddAzureFunctionsProject\u003cProjects.CPRP_Functions\u003e(\"cprpfunctions\")\n    .WaitFor(hostStorageAccount)\n    .WithRoleAssignments(hostStorageAccount, StorageBuiltInRole.StorageBlobDataOwner)\n    .WithHostStorage(hostStorageAccount)\n    .WaitFor(cosmos).WithReference(database)\n    .WithExternalHttpEndpoints();\n\nawait builder.Build().RunAsync();\n```\n\nFunctions `Program.cs`:\n\n```csharp\nusing CPRP.Functions.Storage;\nusing Microsoft.Azure.Functions.Worker.Builder;\nusing Microsoft.Extensions.Hosting;\n\nvar builder = FunctionsApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults()\n    .ConfigureFunctionsWebApplication()\n    .AddCosmosDbContext\u003cDataRepository\u003e(\"cprpcosmosdb\");\n\nawait builder.Build().RunAsync();\n```\n\nIn the `FunctionsApplicationBuilder` configuration I _can_ see the connection string being passed through:\n\n![Image](https://github.com/user-attachments/assets/a7c160e5-c43c-4a3e-b471-3fd7100125b9)\n![Image](https://github.com/user-attachments/assets/a359227c-453e-4338-bfa9-6cb3d7cf5592)\n\nHowever, the call to `GetConnectionString` here:\n\nhttps://github.com/dotnet/aspire/blob/c8522bcdad5d092358f55e88af568a8c879b3147/src/Components/Aspire.Microsoft.EntityFrameworkCore.Cosmos/AspireAzureEFCoreCosmosExtensions.cs#L47\n\nReturns null, resulting in the exception below.\n\nInstead, if you call the `AddCosmosDbContext` with the database name overload like so:\n\n```csharp\n.AddCosmosDbContext\u003cDataRepository\u003e(\"cprpcosmosdb\", \"cprpcosmosdb\");\n```\n\nThe call to `GetDbContextSettings`:\n\nhttps://github.com/dotnet/aspire/blob/c8522bcdad5d092358f55e88af568a8c879b3147/src/Components/Aspire.Microsoft.EntityFrameworkCore.Cosmos/AspireAzureEFCoreCosmosExtensions.cs#L93\n\n_Does_ return an `EntityFrameworkCoreCosmosSettings` with the connection string populated, but again the subsequent call to `builder.Configuration.GetConnectionString` returns null, and we just happen to be saved by the fact that we set the database name to the parameter passed in if we failed to parse the connections string:\n\nhttps://github.com/dotnet/aspire/blob/c8522bcdad5d092358f55e88af568a8c879b3147/src/Components/Aspire.Microsoft.EntityFrameworkCore.Cosmos/AspireAzureEFCoreCosmosExtensions.cs#L119\n\nIf you need a full GitHub repo repro please let me know and I can provide one.\n\n### Exceptions (if any)\n\n```\nSystem.InvalidOperationException: A DbContext could not be configured with this AddCosmosDbContext overload. Ensure the connection string \u0027cprpcosmosdb\u0027 contains a database name or use the overload that takes a database name as a parameter.\n   at Microsoft.Extensions.Hosting.AspireAzureEFCoreCosmosExtensions.AddCosmosDbContext[TContext](IHostApplicationBuilder builder, String connectionName, Action`1 configureSettings, Action`1 configureDbContextOptions) in /_/src/Components/Aspire.Microsoft.EntityFrameworkCore.Cosmos/AspireAzureEFCoreCosmosExtensions.cs:line 55\n   at Program.\u003cMain\u003e$(String[] args)\n```\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.204\n Commit:            23062858b9\n Workload version:  9.0.200-manifests.5591ce44\n MSBuild version:   17.13.25+b1feb5ea6\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.204\\\n\n### Anything else?\n\nPackage versions:\n```xml\n    \u003cPackageVersion Include=\"Aspire.Hosting.AppHost\" Version=\"9.2.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Azure.Functions\" Version=\"9.2.1-preview.1.25222.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Azure.Storage\" Version=\"9.2.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Azure.CosmosDB\" Version=\"9.2.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Microsoft.Azure.Cosmos\" Version=\"9.2.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Microsoft.EntityFrameworkCore.Cosmos\" Version=\"9.2.1\" /\u003e\n```\n\nIDE info:\n\nJetBrains Rider 2025.1.2\nBuild #RD-251.25410.119, built on May 7, 2025\nSource revision: d31f38dce07eb\n.NET Aspire plugin 1.7.10",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "AddCosmosDbContext does not work with Azure Functions project without explicitly specifying database name",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9670",
        "createdAt":  "2025-06-03T18:50:51Z",
        "number":  9670,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:40Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15334118323\nBuild error leg or test failing: Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_ResultsInExpectedResultForStatusCode\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nAssert.Equal() Failure: Values differ\nExpected: True\nActual:   False   at Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_ResultsInExpectedResultForStatusCode(Int32 statusCode, Boolean expectSuccess) in /_/tests/Aspire.Hosting.Tests/WithHttpCommandTests.cs:line 200\n--- End of stack trace from previous location ---\n```\n\n\u003cdiv\u003e\n\n## Stdout\n\n\u003cdetails\u003e\u003csummary\u003eDetails\u003c/b\u003e\u003c/summary\u003e\n\n\n```yml\n\n| [2025-05-29T22:11:17] Aspire.Hosting.DistributedApplication Information: Aspire version: 9.4.0-ci\n| [2025-05-29T22:11:17] Aspire.Hosting.DistributedApplication Information: Distributed application starting.\n| [2025-05-29T22:11:17] Aspire.Hosting.DistributedApplication Information: Application host directory is: D:\\a\\aspire\\aspire\\tests\\Aspire.Hosting.Tests\n| [2025-05-29T22:11:17] Aspire.Hosting.Cli.BackchannelService Debug: Backchannel socket path was not specified.\n| [2025-05-29T22:11:17] Aspire.Hosting.Dcp.DcpHost Information: Starting DCP with arguments: start-apiserver --monitor 1244 --detach --kubeconfig \"C:\\Users\\runneradmin\\AppData\\Local\\Temp\\aspire.ihabnown.y15\\kubeconfig\"\n| [2025-05-29T22:11:17] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 1 Resource servicea/servicea-bfcyqexg update published: ResourceType = ProjectResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-05-29T22:11:17] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Endpoint resources.\n| [2025-05-29T22:11:17] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Executable resources.\n| [2025-05-29T22:11:17] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Service resources.\n| [2025-05-29T22:11:17] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Container resources.\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: Starting API server...\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: API server started\t{\"Address\": \"::1\", \"Port\": 62640}\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Starting DCP controller host\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Started all services\t{\"count\": 1}\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.KubernetesService Debug: Successfully read Kubernetes configuration from \u0027C:\\Users\\runneradmin\\AppData\\Local\\Temp\\aspire.ihabnown.y15\\kubeconfig\u0027 after 915 milliseconds.\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcpctrl.ContainerOrchestrator Information: runtime status\t{\"ContainerRuntime\": \"\", \"runtime\": \"podman\", \"status\": {\"Installed\":false,\"Running\":false,\"Error\":\"exec: \\\"podman\\\": executable file not found in %PATH%\\nfailed to start podman command \u0027Info\u0027\"}}\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcpctrl.ContainerOrchestrator Information: runtime status\t{\"ContainerRuntime\": \"\", \"runtime\": \"docker\", \"status\": {\"Installed\":true,\"Running\":true,\"Error\":\"\"}}\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcpctrl.IdeExecutableRunner Information: Executables cannot be started via IDE: missing required environment variable \u0027DEBUG_SESSION_PORT\u0027\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcpctrl Information: starting controller manager\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 2 Resource servicea/servicea-bfcyqexg update published: ResourceType = ProjectResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 3 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = (null) project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource servicea/servicea-bfcyqexg changed state: Starting\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 4 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = (null), State = { Text = Starting, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = (null) project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-bfcyqexg\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 5 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = , Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.Devcontainers.Codespaces.CodespacesResourceUrlRewriterService Trace: Not running in Codespaces, skipping URL rewriting.\n| [2025-05-29T22:11:18] Aspire.Hosting.DistributedApplication Information: Distributed application started. Press Ctrl+C to shut down.\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Waiting for resource \u0027servicea\u0027 to enter the \u0027Healthy\u0027 state.\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-bfcyqexg\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 6 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = , Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Information: starting process...\t{\"Executable\": {\"name\":\"servicea-bfcyqexg\"}, \"Reconciliation\": 2, \"executable\": \"C:\\\\Program Files\\\\dotnet\\\\dotnet.exe\"}\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Information: process started\t{\"Executable\": {\"name\":\"servicea-bfcyqexg\"}, \"Reconciliation\": 2, \"executable\": \"C:\\\\Program Files\\\\dotnet\\\\dotnet.exe\", \"PID\": 6868}\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-bfcyqexg\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource servicea/servicea-bfcyqexg changed state: Running\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 7 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:62646 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=bfcyqexg OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Starting health monitoring for resource \u0027servicea\u0027.\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027servicea\u0027 has no health checks to monitor.\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027servicea\u0027 is ready.\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing ResourceReadyEvent for \u0027servicea\u0027.\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Waiting for ResourceReadyEvent for \u0027servicea\u0027.\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: ResourceReadyEvent for \u0027servicea\u0027 completed.\n| [2025-05-29T22:11:18] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing the result of ResourceReadyEvent for \u0027servicea\u0027.\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 8 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:62646 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=bfcyqexg OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Finished waiting for resource \u0027servicea\u0027.\n| [2025-05-29T22:11:18] System.Net.Http.HttpClient.Default.LogicalHandler Information: Start processing HTTP request POST http://localhost:62645/status/200\n| [2025-05-29T22:11:18] System.Net.Http.HttpClient.Default.ClientHandler Information: Sending HTTP request POST http://localhost:62645/status/200\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Starting log streaming for servicea-bfcyqexg.\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:62646 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=bfcyqexg OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 10 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:62646 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=bfcyqexg OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-29T22:11:18] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-bfcyqexg\n| [2025-05-29T22:11:18] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 11 Resource servicea/servicea-bfcyqexg update published: ResourceType = Project, CreationTimeStamp = 2025-05-29T22:11:18, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:62645 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:62646 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=bfcyqexg OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 6868 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\n| [2025-05-29T22:11:28] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 10004.2169ms\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\n|    --- End of inner exception stack trace ---\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    --- End of inner exception stack trace ---\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| [2025-05-29T22:11:28] Polly Error: Resilience event occurred. EventName: \u0027OnTimeout\u0027, Source: \u0027-standard//Standard-AttemptTimeout\u0027, Operation Key: \u0027\u0027, Result: \u0027\u0027\n| [2025-05-29T22:11:28] Polly Warning: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\u0027, Handled: \u0027True\u0027, Attempt: \u00270\u0027, Execution Time: 10006.5571ms\n| Polly.Timeout.TimeoutRejectedException: The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\n|  ---\u003e System.Threading.Tasks.TaskCanceledException: The operation was canceled.\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\n|    --- End of inner exception stack trace ---\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    --- End of inner exception stack trace ---\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| --- End of stack trace from previous location ---\n|    at Polly.Outcome`1.ThrowIfException()\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n|    --- End of inner exception stack trace ---\n|    at Polly.Utils.ExceptionUtilities.TrySetStackTrace[T](T exception)\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n|    at Syste\n\n... (snip) ...\n\n... .Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.Pipeline.ExecutionTrackingComponent.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.Pipeline.CompositeComponent.ExecuteCoreWithTelemetry[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.RateLimiting.RateLimiterResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.Pipeline.BridgeComponent`1.\u003cConvertValueTask\u003eg__ConvertValueTaskAsync|5_0[TTo](ValueTask`1 valueTask, ResilienceContext resilienceContext)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Retry.RetryResilienceStrategy`1.ExecuteCore[TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.Pipeline.BridgeComponent`1.\u003cConvertValueTask\u003eg__ConvertValueTaskAsync|5_0[TTo](ValueTask`1 valueTask, ResilienceContext resilienceContext)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.CircuitBreaker.CircuitBreakerResilienceStrategy`1.ExecuteCore[TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\n|    at System.Threading.Tasks.Task.FinishSlow(Boolean userDelegateExecute)\n|    at System.Threading.Tasks.Task.TrySetException(Object exceptionObject)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\n|    at System.Net.Sockets.SocketAsyncEventArgs.FinishOperationAsyncFailure(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\n|    at System.Net.Sockets.SocketAsyncEventArgs.\u003c\u003ec.\u003c.cctor\u003eb__173_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\n|    at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()\n|    at System.Threading.ThreadPoolWorkQueue.Dispatch()\n|    at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()\n| --- End of stack trace from previous location ---\n| [2025-05-29T22:11:42] System.Net.Http.HttpClient.Default.ClientHandler Information: Sending HTTP request POST http://localhost:62645/status/200\n| [2025-05-29T22:11:48] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 6575.8576ms\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\n|    --- End of inner exception stack trace ---\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    --- End of inner exception stack trace ---\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| [2025-05-29T22:11:48] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00272\u0027, Execution Time: 6576.9899ms\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\n|    --- End of inner exception stack trace ---\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    --- End of inner exception stack trace ---\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| --- End of stack trace from previous location ---\n|    at Polly.Outcome`1.ThrowIfException()\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\n| [2025-05-29T22:11:48] Polly Error: Resilience event occurred. EventName: \u0027OnTimeout\u0027, Source: \u0027-standard//Standard-TotalRequestTimeout\u0027, Operation Key: \u0027\u0027, Result: \u0027\u0027\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Container resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Container resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Service resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Service resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Executable resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Executable resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Endpoint resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Endpoint resources.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for servicea-bfcyqexg was cancelled.\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"Running\", \"NewStatus\": \"CleaningResources\"}\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:62646: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:62646: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\n| [2025-05-29T22:11:48] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:62646: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\n| [2025-05-29T22:11:49] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 6868}\n| [2025-05-29T22:11:50] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"CleanupComplete\", \"NewStatus\": \"Stopping\"}\n| [2025-05-29T22:11:50] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutting down...\n| [2025-05-29T22:11:50] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Service DCP controller host terminated gracefully\n| [2025-05-29T22:11:50] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutdown complete.\n```\n\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/40) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **macos** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **windows** (0/39) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n\n\n-- Updated on 9/6/2025 3:13:39 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:39 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Flaky test: Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_ResultsInExpectedResultForStatusCode",
        "labels":  [
                       "area-integrations",
                       "testing ☑️",
                       "flaky-test",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9682",
        "createdAt":  "2025-06-04T08:52:23Z",
        "number":  9682,
        "author":  "NejcDrobnic",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODJd2Vw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "zhozjan",
                                            "createdAt":  "2025-08-01T06:22:33Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-04T16:58:03Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\ni have e2e test that rely on functions to work. when i run them locally, or when they are deployed, they work normally, but when trying to run them in github workflow, the functions don\u0027t trigger \n\n### Expected Behavior\n\nfunctions should trigger in workflow\n\n### Steps To Reproduce\n\nrun dotnet test -v=n, which should initialize functions\n\neverything else besides functions starts and runs normally\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.net 8.0\n\n### Anything else?\n\naspire version 9.0.0\njetbrains rider 2025.1.2\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOr0hjCg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6vSGMK",
                                           "createdAt":  "2025-06-04T16:58:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Do you have more information than this? A repo we can look at? Logs? ",
                                           "updatedAt":  "2025-06-04T16:58:02Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "azure functions not working while running aspire in github workflow",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9725",
        "createdAt":  "2025-06-06T02:39:13Z",
        "number":  9725,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:34Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15477190429\nBuild error leg or test failing: Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_ResultsInExpectedResultForHttpMethod\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nAssert.Equal() Failure: Values differ\r\nExpected: True\r\nActual:   False   at Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_ResultsInExpectedResultForHttpMethod(String httpMethod, Boolean expectSuccess) in /_/tests/Aspire.Hosting.Tests/WithHttpCommandTests.cs:line 231\r\n--- End of stack trace from previous location ---\n```\n\n\u003cdiv\u003e\n\n## Stdout\n\n\u003cdetails\u003e\u003csummary\u003eDetails\u003c/b\u003e\u003c/summary\u003e\n\n\n```yml\n\n| [2025-06-05T21:08:46] Aspire.Hosting.DistributedApplication Information: Aspire version: 9.4.0-ci\r\n| [2025-06-05T21:08:46] Aspire.Hosting.DistributedApplication Information: Distributed application starting.\r\n| [2025-06-05T21:08:46] Aspire.Hosting.DistributedApplication Information: Application host directory is: D:\\a\\aspire\\aspire\\tests\\Aspire.Hosting.Tests\r\n| [2025-06-05T21:08:46] Aspire.Hosting.Cli.BackchannelService Debug: Backchannel socket path was not specified.\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.DcpHost Information: Starting DCP with arguments: start-apiserver --monitor 6600 --detach --kubeconfig \"C:\\Users\\runneradmin\\AppData\\Local\\Temp\\aspire.zcxi4zse.s5w\\kubeconfig\"\r\n| [2025-06-05T21:08:47] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 1 Resource servicea/servicea-uwxvkccn update published: ResourceType = ProjectResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Endpoint resources.\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Executable resources.\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Service resources.\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Container resources.\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: Starting API server...\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: API server started\t{\"Address\": \"::1\", \"Port\": 56703}\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Starting DCP controller host\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Started all services\t{\"count\": 1}\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.KubernetesService Debug: Successfully read Kubernetes configuration from \u0027C:\\Users\\runneradmin\\AppData\\Local\\Temp\\aspire.zcxi4zse.s5w\\kubeconfig\u0027 after 854 milliseconds.\r\n| [2025-06-05T21:08:47] Aspire.Hosting.Dcp.dcpctrl.ContainerOrchestrator Information: runtime status\t{\"ContainerRuntime\": \"\", \"runtime\": \"podman\", \"status\": {\"Installed\":false,\"Running\":false,\"Error\":\"exec: \\\"podman\\\": executable file not found in %PATH%\\nfailed to start podman command \u0027Info\u0027\"}}\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.dcpctrl.ContainerOrchestrator Information: runtime status\t{\"ContainerRuntime\": \"\", \"runtime\": \"docker\", \"status\": {\"Installed\":true,\"Running\":true,\"Error\":\"\"}}\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.dcpctrl.IdeExecutableRunner Information: Executables cannot be started via IDE: missing required environment variable \u0027DEBUG_SESSION_PORT\u0027\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.dcpctrl Information: starting controller manager\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 2 Resource servicea/servicea-uwxvkccn update published: ResourceType = ProjectResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 3 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = (null) project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource servicea/servicea-uwxvkccn changed state: Starting\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 4 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = (null), State = { Text = Starting, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = (null) project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Devcontainers.Codespaces.CodespacesResourceUrlRewriterService Trace: Not running in Codespaces, skipping URL rewriting.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.DistributedApplication Information: Distributed application started. Press Ctrl+C to shut down.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Waiting for resource \u0027servicea\u0027 to enter the \u0027Healthy\u0027 state.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-uwxvkccn\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 5 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = , Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-uwxvkccn\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 6 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = , Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Information: starting process...\t{\"Executable\": {\"name\":\"servicea-uwxvkccn\"}, \"Reconciliation\": 2, \"executable\": \"C:\\\\Program Files\\\\dotnet\\\\dotnet.exe\"}\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Information: process started\t{\"Executable\": {\"name\":\"servicea-uwxvkccn\"}, \"Reconciliation\": 2, \"executable\": \"C:\\\\Program Files\\\\dotnet\\\\dotnet.exe\", \"PID\": 4748}\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-uwxvkccn\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource servicea/servicea-uwxvkccn changed state: Running\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 7 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:56710 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=uwxvkccn OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Starting health monitoring for resource \u0027servicea\u0027.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027servicea\u0027 has no health checks to monitor.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027servicea\u0027 is ready.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing ResourceReadyEvent for \u0027servicea\u0027.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Waiting for ResourceReadyEvent for \u0027servicea\u0027.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: ResourceReadyEvent for \u0027servicea\u0027 completed.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing the result of ResourceReadyEvent for \u0027servicea\u0027.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 8 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:56710 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=uwxvkccn OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Finished waiting for resource \u0027servicea\u0027.\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.DcpExecutor Debug: Starting log streaming for servicea-uwxvkccn.\r\n| [2025-06-05T21:08:48] System.Net.Http.HttpClient.Default.LogicalHandler Information: Start processing HTTP request get http://localhost:56709/get-only\r\n| [2025-06-05T21:08:48] System.Net.Http.HttpClient.Default.ClientHandler Information: Sending HTTP request get http://localhost:56709/get-only\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:56710 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=uwxvkccn OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 10 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:56710 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=uwxvkccn OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-05T21:08:48] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-uwxvkccn\r\n| [2025-06-05T21:08:48] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 11 Resource servicea/servicea-uwxvkccn update published: ResourceType = Project, CreationTimeStamp = 2025-06-05T21:08:48, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:56709 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:56710 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=uwxvkccn OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 4748 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-05T21:08:58] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 10007.4069ms\r\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| [2025-06-05T21:08:58] Polly Error: Resilience event occurred. EventName: \u0027OnTimeout\u0027, Source: \u0027-standard//Standard-AttemptTimeout\u0027, Operation Key: \u0027\u0027, Result: \u0027\u0027\r\n| [2025-06-05T21:08:58] Polly Warning: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\u0027, Handled: \u0027True\u0027, Attempt: \u00270\u0027, Execution Time: 10010.0416ms\r\n| Polly.Timeout.TimeoutRejectedException: The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\r\n|  ---\u003e System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| --- End of stack trace from previous location ---\r\n|    at Polly.Outcome`1.ThrowIfException()\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n|    --- End of inner exception stack trace ---\r\n|    at Polly.Utils.ExceptionUtilities.TrySetStackTrace[T](T exception)\r\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n|    at Syst\n\n... (snip) ...\n\n... x box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.ExecutionTrackingComponent.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.CompositeComponent.ExecuteCoreWithTelemetry[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.RateLimiting.RateLimiterResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.BridgeComponent`1.\u003cConvertValueTask\u003eg__ConvertValueTaskAsync|5_0[TTo](ValueTask`1 valueTask, ResilienceContext resilienceContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Retry.RetryResilienceStrategy`1.ExecuteCore[TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.BridgeComponent`1.\u003cConvertValueTask\u003eg__ConvertValueTaskAsync|5_0[TTo](ValueTask`1 valueTask, ResilienceContext resilienceContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.CircuitBreaker.CircuitBreakerResilienceStrategy`1.ExecuteCore[TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Threading.Tasks.Task.FinishSlow(Boolean userDelegateExecute)\r\n|    at System.Threading.Tasks.Task.TrySetException(Object exceptionObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Net.Sockets.SocketAsyncEventArgs.FinishOperationAsyncFailure(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\r\n|    at System.Net.Sockets.SocketAsyncEventArgs.\u003c\u003ec.\u003c.cctor\u003eb__173_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\r\n|    at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()\r\n|    at System.Threading.ThreadPoolWorkQueue.Dispatch()\r\n|    at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()\r\n| --- End of stack trace from previous location ---\r\n| [2025-06-05T21:09:13] System.Net.Http.HttpClient.Default.ClientHandler Information: Sending HTTP request get http://localhost:56709/get-only\r\n| [2025-06-05T21:09:18] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 5017.9757ms\r\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| [2025-06-05T21:09:18] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00272\u0027, Execution Time: 5018.9011ms\r\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| --- End of stack trace from previous location ---\r\n|    at Polly.Outcome`1.ThrowIfException()\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| [2025-06-05T21:09:18] Polly Error: Resilience event occurred. EventName: \u0027OnTimeout\u0027, Source: \u0027-standard//Standard-TotalRequestTimeout\u0027, Operation Key: \u0027\u0027, Result: \u0027\u0027\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Service resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Service resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Container resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Container resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Executable resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Executable resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Endpoint resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Endpoint resources.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for servicea-uwxvkccn was cancelled.\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"Running\", \"NewStatus\": \"CleaningResources\"}\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:56710: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:56710: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:56710: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\r\n| [2025-06-05T21:09:18] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 4748}\r\n| [2025-06-05T21:09:19] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"CleanupComplete\", \"NewStatus\": \"Stopping\"}\r\n| [2025-06-05T21:09:19] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutting down...\r\n| [2025-06-05T21:09:19] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Service DCP controller host terminated gracefully\r\n| [2025-06-05T21:09:19] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutdown complete.\r\n```\n\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:33 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOr7hrpA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6vuGuk",
                                           "createdAt":  "2025-06-06T05:02:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "cc @joperezr @DamianEdwards @davidfowl ",
                                           "updatedAt":  "2025-06-06T05:02:35Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Failing test: Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_ResultsInExpectedResultForHttpMethod",
        "labels":  [
                       "area-integrations",
                       "disabled-tests",
                       "flaky-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9755",
        "createdAt":  "2025-06-08T07:18:35Z",
        "number":  9755,
        "author":  "Alirexaa",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDeDWw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "aradalvand",
                                            "createdAt":  "2025-06-09T14:26:35Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-08T07:18:49Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n Redis provides a range of persistence options: [RDB](https://redis.io/docs/latest/operate/oss_and_stack/management/persistence/#snapshotting),[AOF](https://redis.io/docs/latest/operate/oss_and_stack/management/persistence/#append-only-file) and RDB+AOF.\n\nThe `WithPersistence` in Redis resource configures `redis-server` to use RDB.\n\nWe should add `WithRDBPersistence` and `WithAOFPersistence` and consider deprecating `WithPersistence` in favor of `WithRDBPersistence`.\n\ndiscussion: #9738\n \n\n\n### Describe the solution you\u0027d like\n\nAdd `WithRDBPersistence` that is the same as `WithPersistence` and add `WithAOFPersistence` that configure `redis-server` to use the `AOF` option.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add `WithRDBPersistence` and `WithAOFPersistence` to Redis resource",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9768",
        "createdAt":  "2025-06-09T14:35:01Z",
        "number":  9768,
        "author":  "aradalvand",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDyR3w==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sravimohan",
                                            "createdAt":  "2025-06-09T21:33:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "dmillerkeyfive",
                                            "createdAt":  "2025-06-09T22:29:38Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "kevin-s-diaz",
                                            "createdAt":  "2025-06-09T22:30:02Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "aradalvand",
                                            "createdAt":  "2025-06-12T20:48:25Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-06-14T11:28:41Z",
        "body":  "To reproduce:\n```cs\nvar builder = DistributedApplication.CreateBuilder(args);\n\n// Infra:\nvar redisServer = builder.AddRedis(InfraConstants.RedisResourceName)\n\t.WithImageTag(\"8.0.2\")\n\t.WithDataVolume()\n\t.WithLifetime(ContainerLifetime.Persistent);\n```\nRun `redis-cli -p [the-host-port]` on the host, try the command `FT._LIST`, you\u0027ll get:\n```\n(error) ERR unknown command \u0027FT._LIST\u0027\n```\n\nRedis v8 [comes with built-in modules](https://redis.io/blog/redis-8-ga/) like search, JSON, etc. — the [default `docker-entrypoint.sh` in the official image](https://github.com/redis/docker-library-redis/blob/5151eacdaf46f588f330c2e45fbed7fa0a7c192e/debian/docker-entrypoint.sh#L179) makes sure to include the existing set of modules via the `--loadmodule` flag. `Aspire.Hosting.Redis`, however, doesn\u0027t.\n\n`Aspire.Hosting.Redis` should either run `docker-entrypoint.sh`, or include the default set of modules, and ideally also provide a `WithModule` extension method to enable fine-grained customization.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsSROWQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6wQeWd",
                                           "createdAt":  "2025-06-09T21:45:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sravimohan",
                                           "body":  "Trying to do the same. My research so far,\n\nLooks like you need to specify the conf file in the command argument to enable modules.\n\n[https://redis.io/docs/latest/operate/oss_and_stack/install/install-stack/docker/](https://redis.io/docs/latest/operate/oss_and_stack/install/install-stack/docker/)\n\n[https://redis.io/docs/latest/operate/oss_and_stack/management/config/](https://redis.io/docs/latest/operate/oss_and_stack/management/config/)\n\nTrying with Dockerfile using WithDockerfile,\n\n```\nFROM redis:8\nCOPY redis.conf /etc/redis/redis.conf\nCMD [ \"redis-server\", \"/etc/redis/redis.conf\" ]\n\n```\nBut aspire does not to use the command specified in the Dockerfile and is specifying its own with password.\n\nTrying to override (hack) the arguments to see if I can get it working,\n\n```\nvar db = builder.AddRedis(\"db\")\n    .WithDockerfile(\"redis\")\n    .WithRedisInsight()\n    .WithEndpoint(\"tcp\", endpoint =\u003e\n    {\n        endpoint.Port = 6379;\n        endpoint.TargetPort = 6379;\n    }).WithArgs(context =\u003e\n    {\n        if (context.Args[1] is string arg \u0026\u0026 arg.Contains(\"redis-server\"))\n        {\n            context.Args[1] = arg.Replace(\"redis-server\", \"redis-server /etc/redis/redis.conf\");\n        }\n        return Task.CompletedTask;\n    });\n```\n\nBut for whatever reason the health checks are failing.\n\nFor reference, the below docker compose works,\n\n```\nservices:\n  redis:\n    image: redis:8\n    container_name: redis-server\n    network_mode: host\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - ./config/redis.conf:/etc/redis/redis.conf\n      - ./data:/data\n      - ./logs:/var/log/redis\n    command: redis-server /etc/redis/redis.conf --appendonly yes\n    restart: always\n\n  redisinsight:\n    image: redislabs/redisinsight:latest\n    container_name: redisinsight\n    network_mode: host\n    ports:\n      - \"5540:5540\"\n    restart: always\n```\n\n\n",
                                           "updatedAt":  "2025-06-09T21:45:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wRzRU",
                                           "createdAt":  "2025-06-10T01:46:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sravimohan",
                                           "body":  "Got a POC working with custom Docker file and modified AddRedis extenstion method which takes in the config file path.\n\nPOC: [https://github.com/sravimohan/RedisBuilderExtensionsForV8/tree/7daa07fa9dbaf584b91c503e4958e7f6c963bdb4](https://github.com/sravimohan/RedisBuilderExtensionsForV8/tree/7daa07fa9dbaf584b91c503e4958e7f6c963bdb4) \n\nNot sure how we make it work without a custom docker file.",
                                           "updatedAt":  "2025-06-12T20:21:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wr9hj",
                                           "createdAt":  "2025-06-11T21:16:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWRqBw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "aradalvand",
                                                                               "createdAt":  "2025-06-12T00:49:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sravimohan",
                                           "body":  "**UPDATE** \n\nYou can get your modules loaded by appending the loadmodule commandline arguments.  This negates the need for a custom dockerfile and a conf file. Although feels a bit hacky, would love to know if there is a better approach.  Ideally AddRedis would take optional arguments.\n\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar redis = builder\n    .AddRedis(\"db\")\n    .WithImageTag(tag: \"8\")\n    .WithArgs(context =\u003e\n    {\n        context.Args[1] = $\"{context.Args[1]} --loadmodule /usr/local/lib/redis/modules/redisearch.so --loadmodule /usr/local/lib/redis/modules/rejson.so\";\n    })\n    .WithRedisInsight();\n\nbuilder.Build().Run();\n```\n\nAnother thing to note, AddRedis  adds `.WithEntrypoint(\"/bin/sh\")` [ref AddRedis](https://github.com/dotnet/aspire/blob/557d070078e5c0f949a8bd9635f09a3333c7c561/src/Aspire.Hosting.Redis/RedisBuilderExtensions.cs#L93).  Hence, we are not able to just add to the argument list instead of string concat. Wonder if `/bin/sh` is necessary?\n",
                                           "updatedAt":  "2025-06-11T21:20:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6w6O-8",
                                           "createdAt":  "2025-06-12T20:21:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sravimohan",
                                           "body":  "This might be relevant here,\n[https://github.com/dotnet/aspire/issues/3838#issuecomment-2657099794](https://github.com/dotnet/aspire/issues/3838#issuecomment-2657099794)\n\ntagging @eerhardt @Alirexaa @DamianEdwards ",
                                           "updatedAt":  "2025-06-12T20:21:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6w6Td-",
                                           "createdAt":  "2025-06-12T20:28:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWcHHg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "sravimohan",
                                                                               "createdAt":  "2025-06-12T22:47:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Wonder if /bin/sh is necessary?\n\nYes this was necessary in order to password protect the Redis server. https://github.com/dotnet/aspire/issues/3838#issuecomment-2655175621 has the context for what was done in order to use a password.",
                                           "updatedAt":  "2025-06-12T20:28:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6w7azS",
                                           "createdAt":  "2025-06-12T22:50:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sravimohan",
                                           "body":  "Thank you @eerhardt, The option is to add an optional parameter to add additional Redis arguments to AddRedis, I guess.",
                                           "updatedAt":  "2025-06-12T22:51:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xImLc",
                                           "createdAt":  "2025-06-13T22:00:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWlOCg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "sravimohan",
                                                                               "createdAt":  "2025-06-13T22:56:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "If utilizing features of the Redis container image is primarily based around passing arguments to the entrypoint, then as @sravimohan suggests, perhaps we should have more first-class support in the Redis hosting integration for configuring these features from code so that the arguments are configured appropriately.",
                                           "updatedAt":  "2025-06-13T22:00:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xJE5Z",
                                           "createdAt":  "2025-06-13T23:20:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWluYw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "aradalvand",
                                                                               "createdAt":  "2025-06-14T02:12:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sravimohan",
                                           "body":  "Recapping ways to configure Redis,\n\nref: [https://redis.io/docs/latest/operate/oss_and_stack/management/config/]( https://redis.io/docs/latest/operate/oss_and_stack/management/config/)\n\n1.  Conf file: This would be the best option if there is lot of items to configure.  In this case, we need to pass the conf file as argument. For example, `redis-server /path/to/redis.conf` with the conf file volume mounted.\n\n2. Command line arguments:  Everything in the conf file can be passed as arguments in the command line, \nFor example, `redis-server --port 6380 --replicaof 127.0.0.1 6379`\n\nWill be great to have options for both these scenarios.\n\n",
                                           "updatedAt":  "2025-06-14T11:28:41Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Redis v8\u0027s default modules aren\u0027t loaded",
        "labels":  [
                       "area-integrations",
                       "redis"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9772",
        "createdAt":  "2025-06-09T18:56:06Z",
        "number":  9772,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:33Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15538477430\nBuild error leg or test failing: Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_CallsGetResponseCallback_AfterSendingRequest\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nAssert.True() Failure\r\nExpected: True\r\nActual:   False   at Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_CallsGetResponseCallback_AfterSendingRequest() in /_/tests/Aspire.Hosting.Tests/WithHttpCommandTests.cs:line 393\r\n--- End of stack trace from previous location ---\n```\n\n\u003cdiv\u003e\n\n## Stdout\n\n\u003cdetails\u003e\u003csummary\u003eDetails\u003c/b\u003e\u003c/summary\u003e\n\n\n```yml\n\n| [2025-06-09T15:47:33] Aspire.Hosting.DistributedApplication Information: Aspire version: 9.4.0-ci\r\n| [2025-06-09T15:47:33] Aspire.Hosting.DistributedApplication Information: Distributed application starting.\r\n| [2025-06-09T15:47:33] Aspire.Hosting.DistributedApplication Information: Application host directory is: D:\\a\\aspire\\aspire\\tests\\Aspire.Hosting.Tests\r\n| [2025-06-09T15:47:33] Aspire.Hosting.Cli.BackchannelService Debug: Backchannel socket path was not specified.\r\n| [2025-06-09T15:47:33] Aspire.Hosting.Dcp.DcpHost Information: Starting DCP with arguments: start-apiserver --monitor 6944 --detach --kubeconfig \"C:\\Users\\runneradmin\\AppData\\Local\\Temp\\aspire.xtasr105.mti\\kubeconfig\"\r\n| [2025-06-09T15:47:33] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 1 Resource servicea/servicea-qwrxvyne update published: ResourceType = ProjectResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-09T15:47:33] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Endpoint resources.\r\n| [2025-06-09T15:47:33] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Service resources.\r\n| [2025-06-09T15:47:33] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Container resources.\r\n| [2025-06-09T15:47:33] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Executable resources.\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: Starting API server...\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.KubernetesService Debug: Successfully read Kubernetes configuration from \u0027C:\\Users\\runneradmin\\AppData\\Local\\Temp\\aspire.xtasr105.mti\\kubeconfig\u0027 after 822 milliseconds.\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: API server started\t{\"Address\": \"::1\", \"Port\": 55103}\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Starting DCP controller host\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Started all services\t{\"count\": 1}\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcpctrl.ContainerOrchestrator Information: runtime status\t{\"ContainerRuntime\": \"\", \"runtime\": \"podman\", \"status\": {\"Installed\":false,\"Running\":false,\"Error\":\"exec: \\\"podman\\\": executable file not found in %PATH%\\nfailed to start podman command \u0027Info\u0027\"}}\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcpctrl.ContainerOrchestrator Information: runtime status\t{\"ContainerRuntime\": \"\", \"runtime\": \"docker\", \"status\": {\"Installed\":true,\"Running\":true,\"Error\":\"\"}}\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcpctrl.IdeExecutableRunner Information: Executables cannot be started via IDE: missing required environment variable \u0027DEBUG_SESSION_PORT\u0027\r\n| [2025-06-09T15:47:34] Aspire.Hosting.Dcp.dcpctrl Information: starting controller manager\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 2 Resource servicea/servicea-qwrxvyne update published: ResourceType = ProjectResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 3 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = (null) project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource servicea/servicea-qwrxvyne changed state: Starting\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 4 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = (null), State = { Text = Starting, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = (null) project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Devcontainers.Codespaces.CodespacesResourceUrlRewriterService Trace: Not running in Codespaces, skipping URL rewriting.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-qwrxvyne\r\n| [2025-06-09T15:47:35] Aspire.Hosting.DistributedApplication Information: Distributed application started. Press Ctrl+C to shut down.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 5 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = , Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Waiting for resource \u0027servicea\u0027 to enter the \u0027Healthy\u0027 state.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-qwrxvyne\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 6 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = , Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = {  }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args =  executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Information: starting process...\t{\"Executable\": {\"name\":\"servicea-qwrxvyne\"}, \"Reconciliation\": 2, \"executable\": \"C:\\\\Program Files\\\\dotnet\\\\dotnet.exe\"}\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.dcpctrl.ExecutableReconciler Information: process started\t{\"Executable\": {\"name\":\"servicea-qwrxvyne\"}, \"Reconciliation\": 2, \"executable\": \"C:\\\\Program Files\\\\dotnet\\\\dotnet.exe\", \"PID\": 4716}\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-qwrxvyne\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource servicea/servicea-qwrxvyne changed state: Running\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 7 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = False, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:55109 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=qwrxvyne OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Starting health monitoring for resource \u0027servicea\u0027.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027servicea\u0027 has no health checks to monitor.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Resource \u0027servicea\u0027 is ready.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing ResourceReadyEvent for \u0027servicea\u0027.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Waiting for ResourceReadyEvent for \u0027servicea\u0027.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: ResourceReadyEvent for \u0027servicea\u0027 completed.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Health.ResourceHealthCheckService Debug: Publishing the result of ResourceReadyEvent for \u0027servicea\u0027.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 8 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:55109 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=qwrxvyne OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Disabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Finished waiting for resource \u0027servicea\u0027.\r\n| [2025-06-09T15:47:35] System.Net.Http.HttpClient.Default.LogicalHandler Information: Start processing HTTP request POST http://localhost:55108/status/200\r\n| [2025-06-09T15:47:35] System.Net.Http.HttpClient.Default.ClientHandler Information: Sending HTTP request POST http://localhost:55108/status/200\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.DcpExecutor Debug: Starting log streaming for servicea-qwrxvyne.\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:55109 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=qwrxvyne OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 10 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:55109 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=qwrxvyne OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 0 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-09T15:47:35] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource servicea with Executable resource servicea-qwrxvyne\r\n| [2025-06-09T15:47:35] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 11 Resource servicea/servicea-qwrxvyne update published: ResourceType = Project, CreationTimeStamp = 2025-06-09T15:47:35, State = { Text = Running, Style = (null) }, IsHidden = False, HeathStatus = Healthy, ResourceReady = True, ExitCode = (null), Urls = { http = http://localhost:55108 }, EnvironmentVariables = { ASPNETCORE_ENVIRONMENT = Development ASPNETCORE_URLS = http://localhost:55109 DOTNET_LAUNCH_PROFILE = http DOTNET_SYSTEM_CONSOLE_ALLOW_ANSI_COLOR_REDIRECTION = true LOGGING__CONSOLE__FORMATTERNAME = simple OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES = true OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY = in_memory OTEL_EXPORTER_OTLP_ENDPOINT = http://localhost:4317 OTEL_EXPORTER_OTLP_PROTOCOL = grpc OTEL_RESOURCE_ATTRIBUTES = service.instance.id=qwrxvyne OTEL_SERVICE_NAME = servicea }, Properties = { executable.path = dotnet executable.workDir = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA executable.args = run, --no-build, --project, D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj, -c, Debug, --no-launch-profile, --test1, --test2 executable.pid = 4716 project.path = D:\\a\\aspire\\aspire\\tests\\testproject\\TestProject.ServiceA\\TestProject.ServiceA.csproj resource.appArgs = --test1, --test2 resource.appArgsSensitivity = 0, 0 }, HealthReports = {  }, Commands = { mycommand (Do The Thing) = Enabled resource-start (Start) = Hidden resource-stop (Stop) = Enabled resource-restart (Restart) = Enabled }\r\n| [2025-06-09T15:47:45] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 10000.4411ms\r\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| [2025-06-09T15:47:45] Polly Error: Resilience event occurred. EventName: \u0027OnTimeout\u0027, Source: \u0027-standard//Standard-AttemptTimeout\u0027, Operation Key: \u0027\u0027, Result: \u0027\u0027\r\n| [2025-06-09T15:47:45] Polly Warning: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\u0027, Handled: \u0027True\u0027, Attempt: \u00270\u0027, Execution Time: 10003.421ms\r\n| Polly.Timeout.TimeoutRejectedException: The operation didn\u0027t complete within the allowed timeout of \u002700:00:10\u0027.\r\n|  ---\u003e System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| --- End of stack trace from previous location ---\r\n|    at Polly.Outcome`1.ThrowIfException()\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n|    --- End of inner exception stack trace ---\r\n|    at Polly.Utils.ExceptionUtilities.TrySetStackTrace[T](T exception)\r\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n|    a\n\n... (snip) ...\n\n... .Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.ExecutionTrackingComponent.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.CompositeComponent.ExecuteCoreWithTelemetry[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.RateLimiting.RateLimiterResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.BridgeComponent`1.\u003cConvertValueTask\u003eg__ConvertValueTaskAsync|5_0[TTo](ValueTask`1 valueTask, ResilienceContext resilienceContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Retry.RetryResilienceStrategy`1.ExecuteCore[TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.Pipeline.BridgeComponent`1.\u003cConvertValueTask\u003eg__ConvertValueTaskAsync|5_0[TTo](ValueTask`1 valueTask, ResilienceContext resilienceContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.CircuitBreaker.CircuitBreakerResilienceStrategy`1.ExecuteCore[TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Timeout.TimeoutResilienceStrategy.ExecuteCore[TResult,TState](Func`3 callback, ResilienceContext context, TState state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Polly.Utils.StrategyHelper.\u003cExecuteCallbackSafeAsync\u003eg__AwaitTask|0_0[TResult,TState,T](ValueTask`1 task, Boolean continueOnCapturedContext)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncValueTaskMethodBuilder`1.SetResult(TResult result)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)\r\n|    at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)\r\n|    at System.Threading.Tasks.Task.FinishSlow(Boolean userDelegateExecute)\r\n|    at System.Threading.Tasks.Task.TrySetException(Object exceptionObject)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetException(Exception exception, Task`1\u0026 taskField)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)\r\n|    at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)\r\n|    at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()\r\n|    at System.Net.Sockets.SocketAsyncEventArgs.FinishOperationAsyncFailure(SocketError socketError, Int32 bytesTransferred, SocketFlags flags)\r\n|    at System.Net.Sockets.SocketAsyncEventArgs.\u003c\u003ec.\u003c.cctor\u003eb__173_0(UInt32 errorCode, UInt32 numBytes, NativeOverlapped* nativeOverlapped)\r\n|    at System.Threading.ThreadPoolTypedWorkItemQueue`2.System.Threading.IThreadPoolWorkItem.Execute()\r\n|    at System.Threading.ThreadPoolWorkQueue.Dispatch()\r\n|    at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()\r\n| --- End of stack trace from previous location ---\r\n| [2025-06-09T15:47:58] System.Net.Http.HttpClient.Default.ClientHandler Information: Sending HTTP request POST http://localhost:55108/status/200\r\n| [2025-06-09T15:48:05] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00270\u0027, Execution Time: 6764.6899ms\r\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| [2025-06-09T15:48:05] Polly Information: Execution attempt. Source: \u0027-standard//Standard-Retry\u0027, Operation Key: \u0027\u0027, Result: \u0027The operation was canceled.\u0027, Handled: \u0027False\u0027, Attempt: \u00272\u0027, Execution Time: 6765.5886ms\r\n| System.Threading.Tasks.TaskCanceledException: The operation was canceled.\r\n|  ---\u003e System.IO.IOException: Unable to read data from the transport connection: The I/O operation has been aborted because of either a thread exit or an application request..\r\n|  ---\u003e System.Net.Sockets.SocketException (995): The I/O operation has been aborted because of either a thread exit or an application request.\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\r\n|    at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    --- End of inner exception stack trace ---\r\n|    at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\r\n|    at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| --- End of stack trace from previous location ---\r\n|    at Polly.Outcome`1.ThrowIfException()\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\r\n|    at Microsoft.Extensions.Http.Resilience.ResilienceHandler.\u003c\u003ec.\u003c\u003cSendAsync\u003eb__3_0\u003ed.MoveNext()\r\n| [2025-06-09T15:48:05] Polly Error: Resilience event occurred. EventName: \u0027OnTimeout\u0027, Source: \u0027-standard//Standard-TotalRequestTimeout\u0027, Operation Key: \u0027\u0027, Result: \u0027\u0027\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Executable resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Executable resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Container resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Container resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Service resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Service resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Endpoint resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Endpoint resources.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for servicea-qwrxvyne was cancelled.\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"Running\", \"NewStatus\": \"CleaningResources\"}\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:55109: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:55109: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\r\n| [2025-06-09T15:48:05] Aspire.Hosting.Dcp.dcpctrl.ServiceReconciler.Proxy Error: Error handling TCP connection\t{\"Service\": {\"name\":\"servicea\"}, \"error\": \"Could not establish TCP connection to endpoint: dial tcp [::1]:55109: connectex: No connection could be made because the target machine actively refused it.\\ncontext canceled\"}\r\n| [2025-06-09T15:48:11] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 4716}\r\n| [2025-06-09T15:48:12] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"CleanupComplete\", \"NewStatus\": \"Stopping\"}\r\n| [2025-06-09T15:48:12] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutting down...\r\n| [2025-06-09T15:48:12] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Service DCP controller host terminated gracefully\r\n| [2025-06-09T15:48:12] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutdown complete.\r\n```\n\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/40) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **macos** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **windows** (0/39) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n\n\n-- Updated on 9/6/2025 3:13:32 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:32 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Failing test: Aspire.Hosting.Tests.WithHttpCommandTests.WithHttpCommand_CallsGetResponseCallback_AfterSendingRequest",
        "labels":  [
                       "area-integrations",
                       "flaky-test",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9782",
        "createdAt":  "2025-06-10T08:44:24Z",
        "number":  9782,
        "author":  "Kumima",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODJ6Btg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tommasodotNET",
                                            "createdAt":  "2025-08-05T12:06:43Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-05T12:07:45Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n# Description\nMy Azure subscription is using my personal Microsoft account. When I was trying to use the Azure local provisioning, I get this: `Azure.RequestFailedException: The access token is from the wrong issuer \u0027https://sts.windows.net/f8cdef31-a31e-4b4a-93e4-5f571e91255a/\u0027. It must match the tenant \u0027https://sts.windows.net/xxxxxxxxxxxxxxxxx/\u0027`.\n\nThe token source is from my Visual Studio. I think it requests the access token from Microsoft Personal Public Tenant, but not my subscription tenant. And I\u0027ve found a workaround: With ENV: AZURE_TENANT_ID , which sets the `DefaultAzureCredentialOptions.TenantId`.\n\n### Describe the solution you\u0027d like\n\nProvide ability to specify the azure tenant id for local provisioning or can there be an automatic way to determine the tenant id? May related, `DefaultAzureCredentialOptions.AdditionallyAllowedTenants`\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvAyyYg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6yIm8p",
                                           "createdAt":  "2025-06-19T16:07:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "@captainsafia cc on this too",
                                           "updatedAt":  "2025-06-19T16:07:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68DLJi",
                                           "createdAt":  "2025-08-05T12:07:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "tommasodotNET",
                                           "body":  "Might I add, the ability to use specific service principal to authenticate on azure and provision/reference existing resources?",
                                           "updatedAt":  "2025-08-05T12:07:44Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Provide ability to specify the azure tenant id for local provisioning",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9795",
        "createdAt":  "2025-06-10T18:57:26Z",
        "number":  9795,
        "author":  "Mrxx99",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-11T10:00:47Z",
        "body":  "## Background and Motivation\n\nNats supports a monitoring endpoint when starting with command line argument \"-m {port}\". Not only can it be used by other dashboards or connected to tracings. It also provides a simplistic UI that provide stats in json format. Additional it also provides an explicit health check route (the current health check periodically propes an connection) which can be used to optionally (?) use it as aspire health check.\n\n\u003cimg width=\"292\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/89e27a62-1f82-44f5-95f2-72b0086f864d\" /\u003e\n\n\u003cimg width=\"433\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/698b5986-a25b-40c7-b40c-b8d39de2c016\" /\u003e\n\n\u003cimg width=\"232\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d7fca406-7b7a-4695-892b-94d2353e6a84\" /\u003e\n\nI have implementation ready and can send a PR.\n\n## Proposed API\n```diff\nnamespace Aspire.Hosting;\n\npublic static class NatsBuilderExtensions\n{\n+    public static IResourceBuilder\u003cNatsServerResource\u003e WithMonitoringEndpoint(this IResourceBuilder\u003cNatsServerResource\u003e builder, int? port = null, bool addHealthCheckUsingMonitoringEndpoint = true)\n}\n```\n\n## Usage Examples\n```csharp\nvar nats = builder.AddNats(\"nats\")\n    .WithMonitoringEndpoint();\n```\n\n## Alternative Designs\n\nDon\u0027t know of useful alternative forms\n\n## Risks\n\nNote from [monitoring documentation](https://docs.nats.io/running-a-nats-service/nats_admin/monitoring):\n\n\u003e nats-server does not have authentication/authorization for the monitoring endpoint. When you plan to open your nats-server to the internet make sure to not expose the monitoring port as well. By default, monitoring binds to every interface 0.0.0.0 so consider setting monitoring to localhost or have appropriate firewall rules.\n\n\u003cbr\u003e\n\u003cbr\u003e\n\nBtw. can someone please reopen the PR https://github.com/dotnet/aspire/pull/6056, I don\u0027t have permission to do it.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add WithMonitoringEndpoint to NatsServerResource",
        "labels":  [
                       "area-integrations",
                       "nats"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9796",
        "createdAt":  "2025-06-10T19:12:10Z",
        "number":  9796,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-11T10:00:34Z",
        "body":  "We have a goal to disable local auth by default in our Azure integrations and only use managed identity.\n\n`AddAzureApplicationInsights` should set the `ApplicationInsightsComponent` to have `DisableLocalAuth=true` by default.\n\nhttps://learn.microsoft.com/en-us/azure/templates/microsoft.insights/components?pivots=deployment-language-bicep#resource-format\n\nhttps://github.com/dotnet/aspire/blob/fe64638b9f7bd1f1e3a5ad704f00cf72b24e5162/src/Aspire.Hosting.Azure.ApplicationInsights/AzureApplicationInsightsExtensions.cs#L68-L73\n\nThis may require changes to docs or other code, since the way the application gets the connection is via a \"ConnectionString\" output that contains information about the app.\n\nWhen doing this, we should verify that the Azure Monitor SDK and similar work out of the box. If code changes are needed we should add them to our docs.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Disable Local Auth on Azure ApplicationInsights",
        "labels":  [
                       "area-integrations",
                       "breaking-change",
                       "azure",
                       "security 🔐"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9797",
        "createdAt":  "2025-06-10T19:17:58Z",
        "number":  9797,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-11T10:00:35Z",
        "body":  "We have a goal to disable local auth by default in our Azure integrations and only use managed identity.\n\n`AddAzureLogAnalyticsWorkspace` should set the `OperationalInsightsWorkspace` to have `Features.IsLocalAuthDisabled=true` by default.\n\nhttps://learn.microsoft.com/en-us/azure/templates/microsoft.operationalinsights/workspaces?pivots=deployment-language-bicep#resource-format\n\nhttps://github.com/dotnet/aspire/blob/fe64638b9f7bd1f1e3a5ad704f00cf72b24e5162/src/Aspire.Hosting.Azure.OperationalInsights/AzureLogAnalyticsWorkspaceExtensions.cs#L38-L45\n\nWe should also disable local auth when we create a Log Analytics Workspace for ACA:\n\nhttps://github.com/dotnet/aspire/blob/fe64638b9f7bd1f1e3a5ad704f00cf72b24e5162/src/Aspire.Hosting.Azure.AppContainers/AzureContainerAppExtensions.cs#L133-L137\n\nThis may require changes to docs or other code.\n\nWhen doing this, we should verify that ACA and Application Insights works out of the box. If code changes are needed we should add them to our docs.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Disable Local Auth on Azure LogAnalyticsWorkspace",
        "labels":  [
                       "area-integrations",
                       "breaking-change",
                       "azure",
                       "security 🔐"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9831",
        "createdAt":  "2025-06-11T16:36:25Z",
        "number":  9831,
        "author":  "msivers",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODJTfFw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Mivaweb",
                                            "createdAt":  "2025-07-31T09:09:30Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-07-31T11:20:56Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI am fairly new to Aspire and trying to leverage Azure Functions + Cosmos DB. \nI have the following AppHost.cs code...\n\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\n// Cosmos DB\nvar cosmos = builder.AddAzureCosmosDB(\"cosmos\")\n    .RunAsPreviewEmulator(emulator =\u003e\n    {\n        emulator.WithDataExplorer();\n    });\nvar database = cosmos.AddCosmosDatabase(\"database\");\nvar container = database.AddContainer(\"container\", \"/id\");\n\n// Functions Storage\nvar hostStorage = builder.AddAzureStorage(\"hoststorage\").RunAsEmulator();\n\n// Add Azure Functions project\nbuilder.AddAzureFunctionsProject\u003cProjects.FunctionService\u003e(\"function\")\n    .WithHostStorage(hostStorage)\n    .WithReference(container);\n\nbuilder.Build().Run();\n```\n\nand the following Program.cs code in my Functions app project...\n\n```\nusing Microsoft.Azure.Functions.Worker;\nusing Microsoft.Azure.Functions.Worker.Builder;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\n\nvar builder = FunctionsApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults();\n\nbuilder.AddAzureCosmosContainer(\"container\");\n\nbuilder.ConfigureFunctionsWebApplication();\n\nbuilder.Services\n    .AddApplicationInsightsTelemetryWorkerService()\n    .ConfigureFunctionsApplicationInsights();\n\nbuilder.Build().Run();\n\n```\n\n~Note: I have also tried just using builder.AddAzureCosmosClient in the above Program.cs and get similar error.~\nUpdate: CosmosClient does passthough - it\u0027s database and container that does not.\n\n![Image](https://github.com/user-attachments/assets/3b6b6dd9-2d6d-4c6c-9b10-5f28c12a61c3)\n\nEverything starts up fine and everything looks healthy in the AppHost, but as soon as I run the httptrigger function I get the following error message...\n\n`An exception of type \u0027System.InvalidOperationException\u0027 occurred in System.Private.CoreLib.dll but was not handled in user code: \u0027The connection string \u0027container\u0027 does not exist or is missing the container name or database name.\u0027`\n\nThis seems to match the Aspire docs for Cosmos with Web API but I\u0027m clearly missing something on the function app side?!... do I need to define something on MicrosoftAzureCosmosSettings and pass into AddAzureCosmosContainer?\n\nPlease note that this is all on Mac (ARM) with Visual Studio Code and Docker Desktop. Also note that I\u0027m using the Linux-based emulator for cosmos rather than the normal .RunAsEmulator as it didn\u0027t seem to be working for me? - although I don\u0027t know if this is emulator related as it probably doesn\u0027t work when deployed to Azure either). \n\n### Expected Behavior\n\nI simply expect the function httptrigger to run and not throw an exception.\n\n### Steps To Reproduce\n\nCreate Aspire project and add a basic HttpTrigger function app and use code above.\n\n### Exceptions (if any)\n\nAn exception of type \u0027System.InvalidOperationException\u0027 occurred in System.Private.CoreLib.dll but was not handled in user code: \u0027The connection string \u0027container\u0027 does not exist or is missing the container name or database name.\u0027\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.300\n Commit:            15606fe0a8\n Workload version:  9.0.300-manifests.19ff842e\n MSBuild version:   17.14.5+edd3bbf37\n\nRuntime Environment:\n OS Name:     Mac OS X\n OS Version:  15.5\n OS Platform: Darwin\n RID:         osx-arm64\n Base Path:   /usr/local/share/dotnet/sdk/9.0.300/\n\n.NET workloads installed:\n [maui-ios]\n   Installation Source: SDK 9.0.300\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       /usr/local/share/dotnet/sdk-manifests/9.0.100/microsoft.net.sdk.maui/9.0.51/WorkloadManifest.json\n   Install Type:        FileBased\n\n [maui-android]\n   Installation Source: SDK 9.0.300\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       /usr/local/share/dotnet/sdk-manifests/9.0.100/microsoft.net.sdk.maui/9.0.51/WorkloadManifest.json\n   Install Type:        FileBased\n\n [maui]\n   Installation Source: SDK 9.0.300\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       /usr/local/share/dotnet/sdk-manifests/9.0.100/microsoft.net.sdk.maui/9.0.51/WorkloadManifest.json\n   Install Type:        FileBased\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      10.0.0-preview.3.25171.5\n  Architecture: arm64\n  Commit:       0a33e18a0b\n\n.NET SDKs installed:\n  9.0.300 [/usr/local/share/dotnet/sdk]\n\n### Anything else?\n\nApple M1 Max - MacOS 15.5\nDocker Desktop 4.41.2\n.NET 9.0.300\nms-azuretools.vscode-azurefunctions 1.17.3\nms-dotnettools.csdevkit 1.20.35\n\nAppHost Project Packages:\n```\n\u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.3.0\" /\u003e\n\u003cPackageReference Include=\"Aspire.Hosting.Azure.Functions\" Version=\"(9.3-*,9.4]\" /\u003e\n\u003cPackageReference Include=\"Aspire.Hosting.Azure.CosmosDB\" Version=\"9.3.0\" /\u003e\n\u003cPackageReference Include=\"Aspire.Hosting.Azure.KeyVault\" Version=\"9.3.0\" /\u003e\n\u003cPackageReference Include=\"Aspire.Hosting.Azure.Storage\" Version=\"9.3.0\" /\u003e\n```\n\nFunction Project Packages:\n```\n\u003cPackageReference Include=\"Aspire.Microsoft.Azure.Cosmos\" Version=\"9.3.0\" /\u003e\n\u003cPackageReference Include=\"Microsoft.ApplicationInsights.WorkerService\" Version=\"2.23.0\" /\u003e\n\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.ApplicationInsights\" Version=\"2.0.0\" /\u003e\n\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Extensions.Http.AspNetCore\" Version=\"2.0.1\" /\u003e\n\u003cPackageReference Include=\"Microsoft.Azure.Functions.Worker.Sdk\" Version=\"2.0.2\" /\u003e\n```\n    ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuxvJAg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6wqKfE",
                                           "createdAt":  "2025-06-11T18:51:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "I have hit the same issue.\n\nthe CosmosDb details can get \u0027passed through\u0027 , but not databases or containers.\n\nIt works fine for non azure functions projects.\n\nif you check my discussion I started on this, I have posted a possible workaround in it https://github.com/dotnet/aspire/discussions/9829. ",
                                           "updatedAt":  "2025-06-11T18:51:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wy8Xo",
                                           "createdAt":  "2025-06-12T10:57:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "msivers",
                                           "body":  "@VistianOpenSource thanks for the comment and I can confirm that I can successfully pass the CosmosClient through (I thought this failed too), but as you\u0027ve pointed out it\u0027s the database and container that doesn\u0027t work and results in an exception. \n\nIt\u0027s not the end of the world but it\u0027s not the intended behaviour with Aspire and does mean that I have to do unnecessary work to define database/container at the client. I should be able to define my containers in the AppHost and just pass them through to the client application as I can with a Web API.\n\nHopefully this is already a known issue, or is picked up and resolved ASAP... or a workaround provided more in keeping with the objective.",
                                           "updatedAt":  "2025-06-12T10:57:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wzIOW",
                                           "createdAt":  "2025-06-12T11:09:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWW-Ww==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "msivers",
                                                                               "createdAt":  "2025-06-12T11:34:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "Yeah, I\u0027ve changed the code for the durable functions project to register the required singletons for the containers based upon the CosmosClient that does get correctly setup via Aspire.\n\nI think a lot of the things with Aspire are moving quite quickly, with new features capabilities being added (e.g. app configuration) and others like storage that, imho, need additional work since its rather confusing in its current form. If i remember rightly Azure Functions only quite recently became available within Aspire (end of Feb / March).",
                                           "updatedAt":  "2025-06-12T11:09:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc610Mm4",
                                           "createdAt":  "2025-07-08T21:34:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "This should work. What does your Http Trigger look like?",
                                           "updatedAt":  "2025-07-08T21:34:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc616Qvd",
                                           "createdAt":  "2025-07-09T09:53:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VistianOpenSource",
                                           "body":  "\u003e This should work. What does your Http Trigger look like?\n\nSample project with the issue can be found here https://github.com/VistianOpenSource/AspireCosmosDb-basic\n\nprogram.cs looks like this\n\n```\nusing Microsoft.Azure.Functions.Worker.Builder;\nusing Microsoft.Extensions.Hosting;\n\nvar builder = FunctionsApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults();\n\nbuilder.ConfigureFunctionsWebApplication();\n\n// add the cosmos container\nbuilder.AddAzureCosmosContainer(\"container\");\n\n// Application Insights isn\u0027t enabled by default. See https://aka.ms/AAt8mw4.\n// builder.Services\n//     .AddApplicationInsightsTelemetryWorkerService()\n//     .ConfigureFunctionsApplicationInsights();\n\nbuilder.Build().Run();\n```\n\nAzure function looks like this\n\n```\nusing Microsoft.AspNetCore.Http;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Azure.Functions.Worker;\nusing Microsoft.Extensions.Logging;\nusing System.ComponentModel;\n\nnamespace AspireCosmosDb.Functions\n{\n    public class Function1\n    {\n        private readonly ILogger\u003cFunction1\u003e _logger;\n\n        public Function1(ILogger\u003cFunction1\u003e logger,Microsoft.Azure.Cosmos.Container container)\n        {\n            _logger = logger;\n        }\n\n        [Function(\"Function1\")]\n        public IActionResult Run([HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequest req)\n        {\n            _logger.LogInformation(\"C# HTTP trigger function processed a request.\");\n            return new OkObjectResult(\"Welcome to Azure Functions!\");\n        }\n    }\n}\n```",
                                           "updatedAt":  "2025-07-09T10:06:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67G8kC",
                                           "createdAt":  "2025-07-31T09:12:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Mivaweb",
                                           "body":  "Got the same issue here.\n\n**AppHost**\n\n```\nvar tasksCosmosDbContainer = builder\n    .AddAzureCosmosDB(\"cosmosdb\")\n    .RunAsEmulator(configure =\u003e\n    {\n        configure.WithGatewayPort(50754);\n        configure.WithLifetime(ContainerLifetime.Persistent);\n    })\n    .AddCosmosDatabase(\"cosmosdb-database\", \"app\")\n    .AddContainer(\"cosmosdb-container\", containerName: \"tasks\", partitionKeyPath: \"/id\");\n\nbuilder\n    .AddAzureFunctionsProject\u003cProjects.FirstAspireProjectFunctions\u003e(\"functions\")\n    .WithReference(tasksCosmosDbContainer)\n    .WaitFor(tasksCosmosDbContainer);\n```\n\n**Function App**\n\n`builder.AddAzureCosmosContainer(\"cosmosdb-container\");`\n\nWhen running the App it takes a long time before the cosmos resources are running and healthy even when the console of the cosmos client says its started.\n\nThen firing a HTTP request to do something with the cosmosdb container results in an exception.\n\nWhen I look on the function I can see the cosmosdb-container environment setting.\n\nException:\n\n```\nSystem.InvalidOperationException: The connection string \u0027cosmosdb-container\u0027 does not exist or is missing the container name or database name.\n   at Microsoft.Extensions.Hosting.AspireMicrosoftAzureCosmosExtensions.\u003c\u003ec__DisplayClass2_0.\u003cAddAzureCosmosContainer\u003eb__0(IServiceProvider sp)\n```\n",
                                           "updatedAt":  "2025-07-31T11:20:56Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Not able to get Azure Functions + Cosmos DB working when using emulator",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9860",
        "createdAt":  "2025-06-12T17:00:20Z",
        "number":  9860,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:24Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15613784544\nBuild error leg or test failing: Aspire.Hosting.Azure.Tests.AzureSignalREmulatorFunctionalTest.VerifyAzureSignalREmulatorResource\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nSystem.Threading.Tasks.TaskCanceledException : The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.\n---- System.TimeoutException : The operation was canceled.\n-------- System.Threading.Tasks.TaskCanceledException : The operation was canceled.\n------------ System.IO.IOException : Unable to read data from the transport connection: Operation canceled.\n---------------- System.Net.Sockets.SocketException : Operation canceled   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)\n   at System.Net.Http.HttpClient.\u003cSendAsync\u003eg__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n   at Microsoft.Azure.SignalR.RestClient.SendAsyncCore(String httpClientName, RestApiEndpoint api, HttpMethod httpMethod, HubMessage body, Type typeHint, Func`2 handleExpectedResponseAsync, CancellationToken cancellationToken)\n   at Microsoft.Azure.SignalR.Management.ServiceManagerImpl.IsServiceHealthy(CancellationToken cancellationToken)\n   at Aspire.Hosting.Azure.Tests.AzureSignalREmulatorFunctionalTest.\u003c\u003ec__DisplayClass4_0.\u003c\u003cVerifyAzureSignalREmulatorResource\u003eb__0\u003ed.MoveNext() in /home/runner/work/aspire/aspire/tests/Aspire.Hosting.Azure.Tests/AzureSignalREmulatorFunctionalTest.cs:line 102\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Aspire.Hosting.Azure.Tests.AzureSignalREmulatorFunctionalTest.VerifyAzureSignalREmulatorResource() in /home/runner/work/aspire/aspire/tests/Aspire.Hosting.Azure.Tests/AzureSignalREmulatorFunctionalTest.cs:line 96\n--- End of stack trace from previous location ---\n----- Inner Stack Trace -----\n\n----- Inner Stack Trace -----\n   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.\u003cSendCoreAsync\u003eg__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)\n   at System.Net.Http.HttpClient.\u003cSendAsync\u003eg__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)\n----- Inner Stack Trace -----\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Int32\u003e.GetResult(Int16 token)\n   at System.Net.Http.HttpConnection.InitialFillAsync(Boolean async)\n   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n----- Inner Stack Trace -----\n\n```\n\n\u003cdiv\u003e\n\n## Stdout\n\n\u003cdetails\u003e\u003csummary\u003eDetails\u003c/b\u003e\u003c/summary\u003e\n\n\n```yml\n\n| [2025-06-12T14:51:04] Aspire.Hosting.DistributedApplication Information: Aspire version: 9.4.0-ci\n| [2025-06-12T14:51:04] Aspire.Hosting.DistributedApplication Information: Distributed application starting.\n| [2025-06-12T14:51:04] Aspire.Hosting.DistributedApplication Information: Application host directory is: /home/runner/work/aspire/aspire/tests/Aspire.Hosting.Tests\n| [2025-06-12T14:51:04] Aspire.Hosting.Cli.BackchannelService Debug: Backchannel socket path was not specified.\n| [2025-06-12T14:51:04] Aspire.Hosting.Dcp.DcpHost Information: Starting DCP with arguments: start-apiserver --monitor 3866 --detach --kubeconfig \"/tmp/aspire.qrSsAq/kubeconfig\"\n| [2025-06-12T14:51:04] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 1 Resource signalR/signalR-erweavsg update published: ResourceType = AzureSignalRResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = {  }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:04] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Endpoint resources.\n| [2025-06-12T14:51:04] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Executable resources.\n| [2025-06-12T14:51:04] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Container resources.\n| [2025-06-12T14:51:04] Aspire.Hosting.Dcp.DcpExecutor Debug: Watching over DCP Service resources.\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: Starting API server...\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.KubernetesService Debug: Successfully read Kubernetes configuration from \u0027/tmp/aspire.qrSsAq/kubeconfig\u0027 after 3841 milliseconds.\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server Information: API server started\t{\"Address\": \"::1\", \"Port\": 45887}\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Starting DCP controller host\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Started all services\t{\"count\": 1}\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.dcpctrl.IdeExecutableRunner Information: Executables cannot be started via IDE: missing required environment variable \u0027DEBUG_SESSION_PORT\u0027\n| [2025-06-12T14:51:08] Aspire.Hosting.Dcp.dcpctrl Information: starting controller manager\n| [2025-06-12T14:51:08] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 2 Resource signalR/signalR-erweavsg update published: ResourceType = AzureSignalRResource, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = {  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:08] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 3 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = (null), State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports =  container.lifetime = Session resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:08] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource signalR/signalR-erweavsg changed state: Starting\n| [2025-06-12T14:51:09] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 4 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = (null), State = { Text = Starting, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports =  container.lifetime = Session resource.appArgs = (null) resource.appArgsSensitivity = (null) }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource signalR with Container resource signalR-erweavsg\n| [2025-06-12T14:51:09] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 5 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = 2025-06-12T14:51:09, State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports = 8888 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource signalR with Container resource signalR-erweavsg\n| [2025-06-12T14:51:09] Aspire.Hosting.Devcontainers.Codespaces.CodespacesResourceUrlRewriterService Trace: Not running in Codespaces, skipping URL rewriting.\n| [2025-06-12T14:51:09] Aspire.Hosting.DistributedApplication Information: Distributed application started. Press Ctrl+C to shut down.\n| [2025-06-12T14:51:09] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 6 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = 2025-06-12T14:51:09, State = { Text = (null), Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports = 8888 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource signalR with Container resource signalR-erweavsg\n| [2025-06-12T14:51:09] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource signalR/signalR-erweavsg changed state: Starting\n| [2025-06-12T14:51:09] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 7 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = 2025-06-12T14:51:09, State = { Text = Starting, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports = 8888 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource signalR with Container resource signalR-erweavsg\n| [2025-06-12T14:51:09] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 8 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = 2025-06-12T14:51:09, State = { Text = Starting, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports = 8888 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Disabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.DcpExecutor Debug: Starting log streaming for signalR-erweavsg.\n| [2025-06-12T14:51:09] Aspire.Hosting.Tests.Resources.signalR Information: 1: 2025-06-12T14:51:09.1620000Z Unable to find image \u0027mcr.microsoft.com/signalr/signalr-emulator:latest\u0027 locally\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: network created\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 2, \"Network\": \"default-aspire-network-0k0dg20mas\"}\n| [2025-06-12T14:51:09] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 3, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 2: 2025-06-12T14:51:09.8780000Z latest: Pulling from signalr/signalr-emulator\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 3: 2025-06-12T14:51:09.8780000Z 8cf9fb7a0b56: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 4: 2025-06-12T14:51:09.8780000Z dea5c5081fa0: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 5: 2025-06-12T14:51:09.8780000Z 8484524c83d0: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 6: 2025-06-12T14:51:09.8780000Z c34bb5eec04e: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 7: 2025-06-12T14:51:09.8780000Z 5892c35ff1bf: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 8: 2025-06-12T14:51:09.8780000Z 4d2e5eaad0d3: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 9: 2025-06-12T14:51:09.8780000Z b802f4318716: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 10: 2025-06-12T14:51:09.8780000Z 0133317f7551: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 11: 2025-06-12T14:51:09.8780000Z 265d2ea18713: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 12: 2025-06-12T14:51:09.8780000Z 4486a179d9a1: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 13: 2025-06-12T14:51:09.8780000Z cb2173353237: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 14: 2025-06-12T14:51:09.8780000Z e9624544d54a: Pulling fs layer\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 15: 2025-06-12T14:51:09.8780000Z b802f4318716: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 16: 2025-06-12T14:51:09.8780000Z 0133317f7551: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 17: 2025-06-12T14:51:09.8780000Z 265d2ea18713: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 18: 2025-06-12T14:51:09.8780000Z 4486a179d9a1: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 19: 2025-06-12T14:51:09.8780000Z cb2173353237: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 20: 2025-06-12T14:51:09.8780000Z e9624544d54a: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 21: 2025-06-12T14:51:09.8780000Z c34bb5eec04e: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 22: 2025-06-12T14:51:09.8780000Z 5892c35ff1bf: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 23: 2025-06-12T14:51:09.8780000Z 4d2e5eaad0d3: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 24: 2025-06-12T14:51:09.8780000Z 8484524c83d0: Waiting\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 25: 2025-06-12T14:51:10.0930000Z 8484524c83d0: Verifying Checksum\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 26: 2025-06-12T14:51:10.0930000Z 8484524c83d0: Download complete\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 27: 2025-06-12T14:51:10.1420000Z dea5c5081fa0: Verifying Checksum\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 28: 2025-06-12T14:51:10.1420000Z dea5c5081fa0: Download complete\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 29: 2025-06-12T14:51:10.3040000Z 5892c35ff1bf: Download complete\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 30: 2025-06-12T14:51:10.3500000Z 8cf9fb7a0b56: Retrying in 5 seconds\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 31: 2025-06-12T14:51:10.6060000Z c34bb5eec04e: Verifying Checksum\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 32: 2025-06-12T14:51:10.6060000Z c34bb5eec04e: Download complete\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 33: 2025-06-12T14:51:10.6060000Z 4d2e5eaad0d3: Verifying Checksum\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 34: 2025-06-12T14:51:10.6080000Z 4d2e5eaad0d3: Download complete\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 35: 2025-06-12T14:51:10.9580000Z 0133317f7551: Retrying in 5 seconds\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 36: 2025-06-12T14:51:10.9960000Z b802f4318716: Verifying Checksum\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 37: 2025-06-12T14:51:10.9960000Z b802f4318716: Download complete\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 38: 2025-06-12T14:51:11.3510000Z 8cf9fb7a0b56: Retrying in 4 seconds\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 39: 2025-06-12T14:51:11.4080000Z 265d2ea18713: Retrying in 5 seconds\n| [2025-06-12T14:51:12] Aspire.Hosting.Tests.Resources.signalR Information: 40: 2025-06-12T14:51:11.9580000Z 0133317f7551: Retrying in 4 seconds\n| [2025-06-12T14:51:12] Aspire.Hosting.Tests.Resources.signalR Information: 41: 2025-06-12T14:51:12.3510000Z 8cf9fb7a0b56: Retrying in 3 seconds\n| [2025-06-12T14:51:12] Aspire.Hosting.Tests.Resources.signalR Information: 42: 2025-06-12T14:51:12.4080000Z 265d2ea18713: Retrying in 4 seconds\n| [2025-06-12T14:51:13] Aspire.Hosting.Tests.Resources.signalR Information: 43: 2025-06-12T14:51:12.9610000Z 0133317f7551: Retrying in 3 seconds\n| [2025-06-12T14:51:13] Aspire.Hosting.Tests.Resources.signalR Information: 44: 2025-06-12T14:51:13.3500000Z 8cf9fb7a0b56: Retrying in 2 seconds\n| [2025-06-12T14:51:13] Aspire.Hosting.Tests.Resources.signalR Information: 45: 2025-06-12T14:51:13.4080000Z 265d2ea18713: Retrying in 3 seconds\n| [2025-06-12T14:51:14] Aspire.Hosting.Tests.Resources.signalR Information: 46: 2025-06-12T14:51:13.9630000Z 0133317f7551: Retrying in 2 seconds\n| [2025-06-12T14:51:14] Aspire.Hosting.Tests.Resources.signalR Information: 47: 2025-06-12T14:51:14.3500000Z 8cf9fb7a0b56: Retrying in 1 second\n| [2025-06-12T14:51:14] Aspire.Hosting.Tests.Resources.signalR Information: 48: 2025-06-12T14:51:14.4080000Z 265d2ea18713: Retrying in 2 seconds\n| [2025-06-12T14:51:15] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 4, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:15] Aspire.Hosting.Tests.Resources.signalR Information: 49: 2025-06-12T14:51:14.9580000Z 0133317f7551: Retrying in 1 second\n| [2025-06-12T14:51:15] Aspire.Hosting.Tests.Resources.signalR Information: 50: 2025-06-12T14:51:15.4090000Z 265d2ea18713: Retrying in 1 second\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 51: 2025-06-12T14:51:15.9010000Z 8cf9fb7a0b56: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 52: 2025-06-12T14:51:15.9010000Z 8cf9fb7a0b56: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 53: 2025-06-12T14:51:16.0690000Z 4486a179d9a1: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 54: 2025-06-12T14:51:16.0690000Z 4486a179d9a1: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 55: 2025-06-12T14:51:16.2000000Z 0133317f7551: Retrying in 10 seconds\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 56: 2025-06-12T14:51:16.2810000Z cb2173353237: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 57: 2025-06-12T14:51:16.2810000Z cb2173353237: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 58: 2025-06-12T14:51:16.6630000Z e9624544d54a: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 59: 2025-06-12T14:51:16.6630000Z e9624544d54a: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 60: 2025-06-12T14:51:16.6680000Z 265d2ea18713: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 61: 2025-06-12T14:51:16.6680000Z 265d2ea18713: Download complete\n| [2025-06-12T14:51:17] Aspire.Hosting.Tests.Resources.signalR Information: 62: 2025-06-12T14:51:17.2000000Z 0133317f7551: Retrying in 9 seconds\n| [2025-06-12T14:51:18] Aspire.Hosting.Tests.Resources.signalR Information: 63: 2025-06-12T14:51:18.2000000Z 0133317f7551: Retrying in 8 seconds\n| [2025-06-12T14:51:19] Aspire.Hosting.Tests.Resources.signalR Information: 64: 2025-06-12T14:51:19.2000000Z 0133317f7551: Retrying in 7 seconds\n| [2025-06-12T14:51:20] Aspire.Hosting.Tests.Resources.signalR Information: 65: 2025-06-12T14:51:20.1320000Z 8cf9fb7a0b56: Pull complete\n| [2025-06-12T14:51:20] Aspire.Hosting.Tests.Resources.signalR Information: 66: 2025-06-12T14:51:20.2000000Z 0133317f7551: Retrying in 6 seconds\n| [2025-06-12T14:51:21] Aspire.Hosting.Tests.Resources.signalR Information: 67: 2025-06-12T14:51:21.2000000Z 0133317f7551: Retrying in 5 seconds\n| [2025-06-12T14:51:22] Aspire.Hosting.Tests.Resources.signalR Inform\n\n... (snip) ...\n\n...  in 5 seconds\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 31: 2025-06-12T14:51:10.6060000Z c34bb5eec04e: Verifying Checksum\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 32: 2025-06-12T14:51:10.6060000Z c34bb5eec04e: Download complete\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 33: 2025-06-12T14:51:10.6060000Z 4d2e5eaad0d3: Verifying Checksum\n| [2025-06-12T14:51:10] Aspire.Hosting.Tests.Resources.signalR Information: 34: 2025-06-12T14:51:10.6080000Z 4d2e5eaad0d3: Download complete\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 35: 2025-06-12T14:51:10.9580000Z 0133317f7551: Retrying in 5 seconds\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 36: 2025-06-12T14:51:10.9960000Z b802f4318716: Verifying Checksum\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 37: 2025-06-12T14:51:10.9960000Z b802f4318716: Download complete\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 38: 2025-06-12T14:51:11.3510000Z 8cf9fb7a0b56: Retrying in 4 seconds\n| [2025-06-12T14:51:11] Aspire.Hosting.Tests.Resources.signalR Information: 39: 2025-06-12T14:51:11.4080000Z 265d2ea18713: Retrying in 5 seconds\n| [2025-06-12T14:51:12] Aspire.Hosting.Tests.Resources.signalR Information: 40: 2025-06-12T14:51:11.9580000Z 0133317f7551: Retrying in 4 seconds\n| [2025-06-12T14:51:12] Aspire.Hosting.Tests.Resources.signalR Information: 41: 2025-06-12T14:51:12.3510000Z 8cf9fb7a0b56: Retrying in 3 seconds\n| [2025-06-12T14:51:12] Aspire.Hosting.Tests.Resources.signalR Information: 42: 2025-06-12T14:51:12.4080000Z 265d2ea18713: Retrying in 4 seconds\n| [2025-06-12T14:51:13] Aspire.Hosting.Tests.Resources.signalR Information: 43: 2025-06-12T14:51:12.9610000Z 0133317f7551: Retrying in 3 seconds\n| [2025-06-12T14:51:13] Aspire.Hosting.Tests.Resources.signalR Information: 44: 2025-06-12T14:51:13.3500000Z 8cf9fb7a0b56: Retrying in 2 seconds\n| [2025-06-12T14:51:13] Aspire.Hosting.Tests.Resources.signalR Information: 45: 2025-06-12T14:51:13.4080000Z 265d2ea18713: Retrying in 3 seconds\n| [2025-06-12T14:51:14] Aspire.Hosting.Tests.Resources.signalR Information: 46: 2025-06-12T14:51:13.9630000Z 0133317f7551: Retrying in 2 seconds\n| [2025-06-12T14:51:14] Aspire.Hosting.Tests.Resources.signalR Information: 47: 2025-06-12T14:51:14.3500000Z 8cf9fb7a0b56: Retrying in 1 second\n| [2025-06-12T14:51:14] Aspire.Hosting.Tests.Resources.signalR Information: 48: 2025-06-12T14:51:14.4080000Z 265d2ea18713: Retrying in 2 seconds\n| [2025-06-12T14:51:15] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 4, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:15] Aspire.Hosting.Tests.Resources.signalR Information: 49: 2025-06-12T14:51:14.9580000Z 0133317f7551: Retrying in 1 second\n| [2025-06-12T14:51:15] Aspire.Hosting.Tests.Resources.signalR Information: 50: 2025-06-12T14:51:15.4090000Z 265d2ea18713: Retrying in 1 second\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 51: 2025-06-12T14:51:15.9010000Z 8cf9fb7a0b56: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 52: 2025-06-12T14:51:15.9010000Z 8cf9fb7a0b56: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 53: 2025-06-12T14:51:16.0690000Z 4486a179d9a1: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 54: 2025-06-12T14:51:16.0690000Z 4486a179d9a1: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 55: 2025-06-12T14:51:16.2000000Z 0133317f7551: Retrying in 10 seconds\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 56: 2025-06-12T14:51:16.2810000Z cb2173353237: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 57: 2025-06-12T14:51:16.2810000Z cb2173353237: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 58: 2025-06-12T14:51:16.6630000Z e9624544d54a: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 59: 2025-06-12T14:51:16.6630000Z e9624544d54a: Download complete\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 60: 2025-06-12T14:51:16.6680000Z 265d2ea18713: Verifying Checksum\n| [2025-06-12T14:51:16] Aspire.Hosting.Tests.Resources.signalR Information: 61: 2025-06-12T14:51:16.6680000Z 265d2ea18713: Download complete\n| [2025-06-12T14:51:17] Aspire.Hosting.Tests.Resources.signalR Information: 62: 2025-06-12T14:51:17.2000000Z 0133317f7551: Retrying in 9 seconds\n| [2025-06-12T14:51:18] Aspire.Hosting.Tests.Resources.signalR Information: 63: 2025-06-12T14:51:18.2000000Z 0133317f7551: Retrying in 8 seconds\n| [2025-06-12T14:51:19] Aspire.Hosting.Tests.Resources.signalR Information: 64: 2025-06-12T14:51:19.2000000Z 0133317f7551: Retrying in 7 seconds\n| [2025-06-12T14:51:20] Aspire.Hosting.Tests.Resources.signalR Information: 65: 2025-06-12T14:51:20.1320000Z 8cf9fb7a0b56: Pull complete\n| [2025-06-12T14:51:20] Aspire.Hosting.Tests.Resources.signalR Information: 66: 2025-06-12T14:51:20.2000000Z 0133317f7551: Retrying in 6 seconds\n| [2025-06-12T14:51:21] Aspire.Hosting.Tests.Resources.signalR Information: 67: 2025-06-12T14:51:21.2000000Z 0133317f7551: Retrying in 5 seconds\n| [2025-06-12T14:51:22] Aspire.Hosting.Tests.Resources.signalR Information: 68: 2025-06-12T14:51:22.1990000Z 0133317f7551: Retrying in 4 seconds\n| [2025-06-12T14:51:23] Aspire.Hosting.Tests.Resources.signalR Information: 69: 2025-06-12T14:51:23.2000000Z 0133317f7551: Retrying in 3 seconds\n| [2025-06-12T14:51:23] Aspire.Hosting.Tests.Resources.signalR Information: 70: 2025-06-12T14:51:23.7840000Z dea5c5081fa0: Pull complete\n| [2025-06-12T14:51:23] Aspire.Hosting.Tests.Resources.signalR Information: 71: 2025-06-12T14:51:23.8390000Z 8484524c83d0: Pull complete\n| [2025-06-12T14:51:24] Aspire.Hosting.Tests.Resources.signalR Information: 72: 2025-06-12T14:51:24.2000000Z 0133317f7551: Retrying in 2 seconds\n| [2025-06-12T14:51:24] Aspire.Hosting.Tests.Resources.signalR Information: 73: 2025-06-12T14:51:24.6350000Z c34bb5eec04e: Pull complete\n| [2025-06-12T14:51:24] Aspire.Hosting.Tests.Resources.signalR Information: 74: 2025-06-12T14:51:24.6560000Z 5892c35ff1bf: Pull complete\n| [2025-06-12T14:51:24] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 5, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:25] Aspire.Hosting.Tests.Resources.signalR Information: 75: 2025-06-12T14:51:24.9840000Z 4d2e5eaad0d3: Pull complete\n| [2025-06-12T14:51:25] Aspire.Hosting.Tests.Resources.signalR Information: 76: 2025-06-12T14:51:25.2000000Z 0133317f7551: Retrying in 1 second\n| [2025-06-12T14:51:26] Aspire.Hosting.Tests.Resources.signalR Information: 77: 2025-06-12T14:51:26.6130000Z 0133317f7551: Retrying in 15 seconds\n| [2025-06-12T14:51:27] Aspire.Hosting.Tests.Resources.signalR Information: 78: 2025-06-12T14:51:27.6130000Z 0133317f7551: Retrying in 14 seconds\n| [2025-06-12T14:51:28] Aspire.Hosting.Tests.Resources.signalR Information: 79: 2025-06-12T14:51:28.0830000Z b802f4318716: Pull complete\n| [2025-06-12T14:51:28] Aspire.Hosting.Tests.Resources.signalR Information: 80: 2025-06-12T14:51:28.6140000Z 0133317f7551: Retrying in 13 seconds\n| [2025-06-12T14:51:29] Aspire.Hosting.Tests.Resources.signalR Information: 81: 2025-06-12T14:51:29.6130000Z 0133317f7551: Retrying in 12 seconds\n| [2025-06-12T14:51:30] Aspire.Hosting.Tests.Resources.signalR Information: 82: 2025-06-12T14:51:30.6140000Z 0133317f7551: Retrying in 11 seconds\n| [2025-06-12T14:51:31] Aspire.Hosting.Tests.Resources.signalR Information: 83: 2025-06-12T14:51:31.6130000Z 0133317f7551: Retrying in 10 seconds\n| [2025-06-12T14:51:32] Aspire.Hosting.Tests.Resources.signalR Information: 84: 2025-06-12T14:51:32.6130000Z 0133317f7551: Retrying in 9 seconds\n| [2025-06-12T14:51:33] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 6, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:33] Aspire.Hosting.Tests.Resources.signalR Information: 85: 2025-06-12T14:51:33.8140000Z 0133317f7551: Retrying in 8 seconds\n| [2025-06-12T14:51:34] Aspire.Hosting.Tests.Resources.signalR Information: 86: 2025-06-12T14:51:34.6130000Z 0133317f7551: Retrying in 7 seconds\n| [2025-06-12T14:51:35] Aspire.Hosting.Tests.Resources.signalR Information: 87: 2025-06-12T14:51:35.6140000Z 0133317f7551: Retrying in 6 seconds\n| [2025-06-12T14:51:36] Aspire.Hosting.Tests.Resources.signalR Information: 88: 2025-06-12T14:51:36.6130000Z 0133317f7551: Retrying in 5 seconds\n| [2025-06-12T14:51:37] Aspire.Hosting.Tests.Resources.signalR Information: 89: 2025-06-12T14:51:37.6140000Z 0133317f7551: Retrying in 4 seconds\n| [2025-06-12T14:51:38] Aspire.Hosting.Tests.Resources.signalR Information: 90: 2025-06-12T14:51:38.6130000Z 0133317f7551: Retrying in 3 seconds\n| [2025-06-12T14:51:39] Aspire.Hosting.Tests.Resources.signalR Information: 91: 2025-06-12T14:51:39.6140000Z 0133317f7551: Retrying in 2 seconds\n| [2025-06-12T14:51:40] Aspire.Hosting.Tests.Resources.signalR Information: 92: 2025-06-12T14:51:40.6180000Z 0133317f7551: Retrying in 1 second\n| [2025-06-12T14:51:41] Aspire.Hosting.Tests.Resources.signalR Information: 93: 2025-06-12T14:51:41.7990000Z 0133317f7551: Retrying in 20 seconds\n| [2025-06-12T14:51:43] Aspire.Hosting.Tests.Resources.signalR Information: 94: 2025-06-12T14:51:42.7990000Z 0133317f7551: Retrying in 19 seconds\n| [2025-06-12T14:51:43] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 7, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:43] Aspire.Hosting.Tests.Resources.signalR Information: 95: 2025-06-12T14:51:43.7990000Z 0133317f7551: Retrying in 18 seconds\n| [2025-06-12T14:51:44] Aspire.Hosting.Tests.Resources.signalR Information: 96: 2025-06-12T14:51:44.8000000Z 0133317f7551: Retrying in 17 seconds\n| [2025-06-12T14:51:45] Aspire.Hosting.Tests.Resources.signalR Information: 97: 2025-06-12T14:51:45.8000000Z 0133317f7551: Retrying in 16 seconds\n| [2025-06-12T14:51:46] Aspire.Hosting.Tests.Resources.signalR Information: 98: 2025-06-12T14:51:46.8000000Z 0133317f7551: Retrying in 15 seconds\n| [2025-06-12T14:51:47] Aspire.Hosting.Tests.Resources.signalR Information: 99: 2025-06-12T14:51:47.8000000Z 0133317f7551: Retrying in 14 seconds\n| [2025-06-12T14:51:48] Aspire.Hosting.Tests.Resources.signalR Information: 100: 2025-06-12T14:51:48.8010000Z 0133317f7551: Retrying in 13 seconds\n| [2025-06-12T14:51:49] Aspire.Hosting.Tests.Resources.signalR Information: 101: 2025-06-12T14:51:49.8000000Z 0133317f7551: Retrying in 12 seconds\n| [2025-06-12T14:51:50] Aspire.Hosting.Tests.Resources.signalR Information: 102: 2025-06-12T14:51:50.7990000Z 0133317f7551: Retrying in 11 seconds\n| [2025-06-12T14:51:51] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 8, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:51:51] Aspire.Hosting.Tests.Resources.signalR Information: 103: 2025-06-12T14:51:51.8000000Z 0133317f7551: Retrying in 10 seconds\n| [2025-06-12T14:51:52] Aspire.Hosting.Tests.Resources.signalR Information: 104: 2025-06-12T14:51:52.8000000Z 0133317f7551: Retrying in 9 seconds\n| [2025-06-12T14:51:53] Aspire.Hosting.Tests.Resources.signalR Information: 105: 2025-06-12T14:51:53.8020000Z 0133317f7551: Retrying in 8 seconds\n| [2025-06-12T14:51:54] Aspire.Hosting.Tests.Resources.signalR Information: 106: 2025-06-12T14:51:54.8000000Z 0133317f7551: Retrying in 7 seconds\n| [2025-06-12T14:51:55] Aspire.Hosting.Tests.Resources.signalR Information: 107: 2025-06-12T14:51:55.8000000Z 0133317f7551: Retrying in 6 seconds\n| [2025-06-12T14:51:56] Aspire.Hosting.Tests.Resources.signalR Information: 108: 2025-06-12T14:51:56.7990000Z 0133317f7551: Retrying in 5 seconds\n| [2025-06-12T14:51:57] Aspire.Hosting.Tests.Resources.signalR Information: 109: 2025-06-12T14:51:57.8000000Z 0133317f7551: Retrying in 4 seconds\n| [2025-06-12T14:51:58] Aspire.Hosting.Tests.Resources.signalR Information: 110: 2025-06-12T14:51:58.7990000Z 0133317f7551: Retrying in 3 seconds\n| [2025-06-12T14:51:59] Aspire.Hosting.Tests.Resources.signalR Information: 111: 2025-06-12T14:51:59.8000000Z 0133317f7551: Retrying in 2 seconds\n| [2025-06-12T14:52:00] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 9, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:00] Aspire.Hosting.Tests.Resources.signalR Information: 112: 2025-06-12T14:52:00.8000000Z 0133317f7551: Retrying in 1 second\n| [2025-06-12T14:52:02] Aspire.Hosting.Tests.Resources.signalR Information: 113: 2025-06-12T14:52:02.0200000Z unexpected EOF\n| [2025-06-12T14:52:06] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 10, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:13] Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler Error: could not create the container\t{\"Container\": {\"name\":\"signalR-erweavsg\"}, \"Reconciliation\": 3, \"ContainerName\": \"signalR-erweavsg\", \"error\": \"docker command \u0027InspectContainers\u0027 returned with non-zero exit code 1\\nobject not found\\ncontainer not found\\nError response from daemon: No such container: signalR-erweavsg\\nnot all requested objects were returned\\nonly 0 out of 1 containers were successfully inspected\\ndocker command \u0027CreateContainer\u0027 returned with non-zero exit code -1\"}\n| [2025-06-12T14:52:13] Aspire.Hosting.Dcp.DcpExecutor Trace: Updating application model resource signalR with Container resource signalR-erweavsg\n| [2025-06-12T14:52:13] Aspire.Hosting.ApplicationModel.ResourceNotificationService Debug: Resource signalR/signalR-erweavsg changed state: Starting -\u003e FailedToStart\n| [2025-06-12T14:52:13] Aspire.Hosting.ApplicationModel.ResourceNotificationService Trace: Version: 9 Resource signalR/signalR-erweavsg update published: ResourceType = Container, CreationTimeStamp = 2025-06-12T14:51:09, State = { Text = FailedToStart, Style = (null) }, IsHidden = False, HeathStatus = (null), ResourceReady = False, ExitCode = (null), Urls = { emulator = http://localhost:40153 }, EnvironmentVariables = {  }, Properties = { container.image = mcr.microsoft.com/signalr/signalr-emulator:latest container.id = (null) container.command = (null) container.args =  container.ports = 8888 container.lifetime = Session resource.appArgs =  resource.appArgsSensitivity =  }, HealthReports = { signalR_emulator_/api/health_200_check = (null) }, Commands = { resource-start (Start) = Enabled resource-stop (Stop) = Hidden resource-restart (Restart) = Disabled }\n| [2025-06-12T14:52:14] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 11, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:19] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 12, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:28] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 13, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:36] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 14, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:44] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 15, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Service resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Service resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Container resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Container resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Executable resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Executable resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Cancellation received while watching Endpoint resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Stopped watching Endpoint resources.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.DcpExecutor Debug: Log streaming for signalR-erweavsg was cancelled.\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"Running\", \"NewStatus\": \"CleaningResources\"}\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler Information: no more Container resources are being watched, cancelling container watch\t{\"Container\": {\"name\":\"signalR-erweavsg\"}, \"Reconciliation\": 7}\n| [2025-06-12T14:52:49] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 16, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:50] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: ContainerNetwork object is being deleted\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 17, \"NetworkName\": \"default-aspire-network-0k0dg20mas\"}\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: no more ContainerNetwork resources are being watched, cancelling network watch\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 17}\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 5289}\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcpproc.monitor Information: monitor process exited, shutting down\t{\"pid\": 5307}\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcp.start-apiserver.api-server.adminHttpHandler Information: API server changed status\t{\"OldStatus\": \"CleanupComplete\", \"NewStatus\": \"Stopping\"}\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutting down...\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcp.start-apiserver.dcp-host Information: Service DCP controller host terminated gracefully\n| [2025-06-12T14:52:51] Aspire.Hosting.Dcp.dcp.start-apiserver Information: Shutdown complete.\n```\n\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:24 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsO24Sg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6w4eH_",
                                           "createdAt":  "2025-06-12T17:01:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "cc @davidfowl @sebastienros @eerhardt ",
                                           "updatedAt":  "2025-06-12T17:01:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6w4hlE",
                                           "createdAt":  "2025-06-12T17:06:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "From stdout: \n```\n| [2025-06-12T14:52:00] Aspire.Hosting.Dcp.dcpctrl.NetworkReconciler Information: all expected containers are connected to the network\t{\"NetworkName\": {\"name\":\"default-aspire-network\"}, \"Reconciliation\": 9, \"Network\": \"default-aspire-network-0k0dg20mas\", \"Expected\": 0, \"Found\": 0}\n| [2025-06-12T14:52:00] Aspire.Hosting.Tests.Resources.signalR Information: 112: 2025-06-12T14:52:00.8000000Z 0133317f7551: Retrying in 1 second\n```\n\n`| [2025-06-12T14:52:02] Aspire.Hosting.Tests.Resources.signalR Information: 113: 2025-06-12T14:52:02.0200000Z unexpected EOF`\n\n`| [2025-06-12T14:52:13] Aspire.Hosting.Dcp.dcpctrl.ContainerReconciler Error: could not create the container\t{\"Container\": {\"name\":\"signalR-erweavsg\"}, \"Reconciliation\": 3, \"ContainerName\": \"signalR-erweavsg\", \"error\": \"docker command \u0027InspectContainers\u0027 returned with non-zero exit code 1\\nobject not found\\ncontainer not found\\nError response from daemon: No such container: signalR-erweavsg\\nnot all requested objects were returned\\nonly 0 out of 1 containers were successfully inspected\\ndocker command \u0027CreateContainer\u0027 returned with non-zero exit code -1\"}`\n\nEDIT: also, it was pulling the docker image before that.",
                                           "updatedAt":  "2025-06-12T17:07:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6w4ncM",
                                           "createdAt":  "2025-06-12T17:16:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "Do IIUC that the docker image pull is failing here? @karolz-ms \n\nEDIT: or the image is getting pulled fully, but not being able to start.",
                                           "updatedAt":  "2025-06-12T17:18:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6w7bhK",
                                           "createdAt":  "2025-06-12T22:53:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "The image pull never completed successfully; the logs show multiple retries to pull various image layers and the connection was eventually closed. I wonder if it\u0027s tangentially related to the wider internet outages today?",
                                           "updatedAt":  "2025-06-12T22:53:04Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Failing test: Aspire.Hosting.Azure.Tests.AzureSignalREmulatorFunctionalTest.VerifyAzureSignalREmulatorResource",
        "labels":  [
                       "area-integrations",
                       "flaky-test",
                       "azure-signalr"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9916",
        "createdAt":  "2025-06-17T16:50:44Z",
        "number":  9916,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-06T03:13:22Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15695115919\nBuild error leg or test failing: Aspire.Azure.AI.OpenAI.Tests.ConformanceTests.TracingEnablesTheRightActivitySource_Keyed\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nMicrosoft.DotNet.RemoteExecutor.RemoteExecutionException : Half-way through waiting for remote process.\r\nMemory load: 17\r\n\r\nImage Name                     PID Services                                    \r\n========================= ======== ============================================\r\nsvchost.exe                    992 BrokerInfrastructure, DcomLaunch, PlugPlay, \r\n                                   Power, SystemEventsBroker                   \r\nsvchost.exe                    564 RpcEptMapper, RpcSs                         \r\nsvchost.exe                   1016 LSM                                         \r\nsvchost.exe                   1156 TermService                                 \r\nsvchost.exe                   1224 NcbService                                  \r\nsvchost.exe                   1260 HvHost                                      \r\nsvchost.exe                   1288 lmhosts                                     \r\nsvchost.exe                   1296 TimeBrokerSvc                               \r\nsvchost.exe                   1420 vmicheartbeat                               \r\nsvchost.exe                   1428 vmickvpexchange                             \r\nsvchost.exe                   1436 vmicshutdown                                \r\nsvchost.exe                   1444 EventLog                                    \r\nsvchost.exe                   1468 vmictimesync                                \r\nsvchost.exe                   1644 nsi                                         \r\nsvchost.exe                   1696 Dhcp                                        \r\nsvchost.exe                   1716 gpsvc                                       \r\nsvchost.exe                   1788 NlaSvc                                      \r\nsvchost.exe                   1796 Schedule                                    \r\nsvchost.exe                   1812 Dnscache                                    \r\nsvchost.exe                   1960 netprofm                                    \r\nsvchost.exe                   1992 Winmgmt                                     \r\nsvchost.exe                   1692 hns                                         \r\nsvchost.exe                   2068 WinHttpAutoProxySvc                         \r\nsvchost.exe                   2264 UmRdpService                                \r\nsvchost.exe                   2412 ProfSvc                                     \r\nsvchost.exe                   2420 CertPropSvc                                 \r\nsvchost.exe                   2492 UserManager                                 \r\nsvchost.exe                   2516 CoreMessagingRegistrar                      \r\nsvchost.exe                   2552 LanmanWorkstation                           \r\nsvchost.exe                   2664 nvagent                                     \r\nsvchost.exe                   2676 SessionEnv                                  \r\nsvchost.exe                   2800 DispBrokerDesktopSvc                        \r\nsvchost.exe                   2888 Themes                                      \r\nsvchost.exe                   2896 EventSystem                                 \r\nsvchost.exe                   2956 SENS                                        \r\nsvchost.exe                   2984 Wcmsvc                                      \r\nsvchost.exe                   3008 ShellHWDetection                            \r\nsvchost.exe                   3064 FontCache                                   \r\nsvchost.exe                   2976 BFE, mpssvc                                 \r\nsvchost.exe                   3280 AppHostSvc                                  \r\nsvchost.exe                   3292 CryptSvc                                    \r\nsvchost.exe                   3304 iphlpsvc                                    \r\nsvchost.exe                   3356 StateRepository                             \r\nsvchost.exe                   3368 W3SVC, WAS                                  \r\nsvchost.exe                   3376 RemoteRegistry                              \r\nsvchost.exe                   3384 W32Time                                     \r\nsvchost.exe                   3392 sacsvr                                      \r\nsvchost.exe                   3420 TrkWks                                      \r\nsvchost.exe                   3508 WinRM                                       \r\nsvchost.exe                   3516 WpnService                                  \r\nsvchost.exe                   4004 LanmanServer                                \r\nsvchost.exe                   5472 WpnUserService_7bb3a                        \r\nsvchost.exe                   5596 TabletInputService                          \r\nsvchost.exe                   5888 camsvc                                      \r\nsvchost.exe                   4808 AppReadiness                                \r\nsvchost.exe                   5168 AppXSvc                                     \r\nsvchost.exe                   7076 TokenBroker                                 \r\nsvchost.exe                   6836 pla                                         \r\nsvchost.exe                   6956 LicenseManager                              \r\nsvchost.exe                   1184 CDPSvc                                      \r\nsvchost.exe                   4452 DPS                                         \r\nsvchost.exe                   3620 WdiSystemHost                               \r\nsvchost.exe                   5380 UALSVC                                      \r\nsvchost.exe                   2656 UsoSvc                                      \r\nsvchost.exe                   1284 cbdhsvc_7bb3a                               \r\nsvchost.exe                   1092 LxssManager                                 \r\nTimed out at 6/17/2025 12:40:37 AM after 60000ms waiting for remote process.\r\n\tProcess ID: 5996\r\n\tHandle: 1332\r\n\tName: dotnet\r\n\tMainModule: D:\\a\\aspire\\aspire\\.dotnet\\dotnet.exe\r\n\tStartTime: 6/17/2025 12:39:37 AM\r\n\tTotalProcessorTime: 00:00:00.6406250\r\n   at Microsoft.DotNet.RemoteExecutor.RemoteInvokeHandle.Dispose(Boolean disposing) in /_/src/Microsoft.DotNet.RemoteExecutor/src/RemoteInvokeHandle.cs:line 225\r\n   at Microsoft.DotNet.RemoteExecutor.RemoteInvokeHandle.Dispose() in /_/src/Microsoft.DotNet.RemoteExecutor/src/RemoteInvokeHandle.cs:line 55\r\n   at Aspire.Azure.AI.OpenAI.Tests.ConformanceTests.TracingEnablesTheRightActivitySource_Keyed() in /_/tests/Aspire.Azure.AI.OpenAI.Tests/ConformanceTests.cs:line 91\r\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\r\n   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **macos** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n| **windows** (0/41) | No failures [✅](https://github.com/dotnet/aspire/actions/runs/17507445683) |\n\n\n-- Updated on 9/6/2025 3:13:21 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:21 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsbMnFw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6xr-96",
                                           "createdAt":  "2025-06-17T16:52:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "cc @sebastienros ",
                                           "updatedAt":  "2025-06-17T16:52:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xsB1c",
                                           "createdAt":  "2025-06-17T16:55:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "@sebastienros is there a area label for AI?",
                                           "updatedAt":  "2025-06-17T16:55:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xsycX",
                                           "createdAt":  "2025-06-17T17:57:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "There is a label named `ai` if you want one ;)",
                                           "updatedAt":  "2025-06-17T17:57:37Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Failing test: Aspire.Azure.AI.OpenAI.Tests.ConformanceTests.TracingEnablesTheRightActivitySource_Keyed",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "flaky-test",
                       "quarantined-test",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10011",
        "createdAt":  "2025-06-23T23:56:04Z",
        "number":  10011,
        "author":  "ssnseawolf",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-24T03:59:38Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAspire does not currently have an Azure Managed Grafana integration. There is a [demo app](https://github.com/dotnet/aspire-samples/tree/main/samples/Metrics) for local Grafana development, but an Azure Managed Grafana integration would offer some substantial benefits:\n\n* **Identity configuration**: There\u0027s a good security story around Aspire setting only the permissions required by Grafana. It\u0027s too easy to grant excessive permissions with Azure Managed Grafana manually.\n* **Dashboard configuration**: Aspire\u0027s intimate understanding of the project can allow it to auto-include dashboards based on the AppHost\u0027s resources.\n\nThere\u0027s a good story with Azure Managed Grafana owing to Aspire\u0027s knowledge of the project\u0027s resources, and how Aspire can configure the Grafana instance for the user.\n\n### Describe the solution you\u0027d like\n\nAn Azure Managed Grafana integration would best serve the community by offering:\n* Identity configuration that gives Azure Managed Grafana the minimum permissions necessary. \n* Auto-installed dashboards. These dashboards already exist and are configured for Azure Monitor, though a bit scattered.\n  * See here for Grafana\u0027s incomplete list: https://grafana.com/orgs/azure/dashboards\n  * More dashboards are (for reasons unclear) listed under Azure Cosmos DB in the Grafana library. For example, here\u0027s the [Azure Open AI dashboard](https://grafana.com/grafana/dashboards/22552-azure-openai/).\n\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add Azure Managed Grafana Integration",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10016",
        "createdAt":  "2025-06-24T10:07:19Z",
        "number":  10016,
        "author":  "SackMaggie",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-24T10:13:14Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen Yarp container is started, there was an error complaining missing config file when inspect the log from container.\nBut when in development mode (pressing F5 in VS) the container start just fine with no error.\n\nWith aspire publish\nhttps://github.com/user-attachments/assets/815a5b0f-fbf6-4be4-a18c-12ee0de53d31\n\nSame project in development mode\nhttps://github.com/user-attachments/assets/9be296ed-f80c-40a2-9b2a-d9c3f11ee990\n\n### Expected Behavior\n\nThe container can be started and yarp.config file was copied to the container.\n\n### Steps To Reproduce\n\nClone this repo https://github.com/SackMaggie/aspire-yarp-test.git\nBuild the image and compose using `aspire publish`\nUse podman compose up\nThe error `Could not find \u0027/etc/yarp.config\u0027.` should show up\n\n### Exceptions (if any)\n\nFrom yarp container\n`Could not find \u0027/etc/yarp.config\u0027.`\n\n### .NET Version info\n\n```\n.NET SDK:\n Version:           9.0.301\n Commit:            a596cd22e2\n Workload version:  9.0.300-manifests.e42facbb\n MSBuild version:   17.14.5+edd3bbf37\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.301\\\n\n.NET workloads installed:\n [android]\n   Installation Source: SDK 9.0.300, VS 17.14.36212.18\n   Manifest Version:    35.0.78/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.78\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: SDK 9.0.300, VS 17.14.36212.18\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: SDK 9.0.300, VS 17.14.36212.18\n   Manifest Version:    18.5.9199/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.5.9199\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: SDK 9.0.300, VS 17.14.36212.18\n   Manifest Version:    18.5.9199/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.5.9199\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: SDK 9.0.300, VS 17.14.36212.18\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.51\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.6\n  Architecture: x64\n  Commit:       3875b54e7b\n\n.NET SDKs installed:\n  8.0.411 [C:\\Program Files\\dotnet\\sdk]\n  9.0.301 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.17 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n```\n\n### Anything else?\n\nIDE : visual studio\nContainer runner : podman\n```\n// SDK for apphost\n\u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.3.1\" /\u003e\n// Packages used\n\u003cProject\u003e\n  \u003cPropertyGroup\u003e\n    \u003cManagePackageVersionsCentrally\u003etrue\u003c/ManagePackageVersionsCentrally\u003e\n    \u003cCentralPackageTransitivePinningEnabled\u003etrue\u003c/CentralPackageTransitivePinningEnabled\u003e\n    \u003cNoWarn\u003e$(NoWarn);NU1507\u003c/NoWarn\u003e\n  \u003c/PropertyGroup\u003e\n  \u003cItemGroup\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.AppHost\" Version=\"9.3.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Docker\" Version=\"9.3.1-preview.1.25305.6\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Redis\" Version=\"9.3.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Testing\" Version=\"9.3.1\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.Hosting.Yarp\" Version=\"9.3.1-preview.1.25305.6\" /\u003e\n    \u003cPackageVersion Include=\"Aspire.StackExchange.Redis.OutputCaching\" Version=\"9.3.1\" /\u003e\n    \u003cPackageVersion Include=\"coverlet.collector\" Version=\"6.0.2\" /\u003e\n    \u003cPackageVersion Include=\"Microsoft.Extensions.Http.Resilience\" Version=\"9.4.0\" /\u003e\n    \u003cPackageVersion Include=\"Microsoft.Extensions.ServiceDiscovery\" Version=\"9.3.1\" /\u003e\n    \u003cPackageVersion Include=\"Microsoft.Extensions.ServiceDiscovery.Yarp\" Version=\"9.3.1\" /\u003e\n    \u003cPackageVersion Include=\"Microsoft.NET.Test.Sdk\" Version=\"17.10.0\" /\u003e\n    \u003cPackageVersion Include=\"OpenTelemetry.Exporter.OpenTelemetryProtocol\" Version=\"1.9.0\" /\u003e\n    \u003cPackageVersion Include=\"OpenTelemetry.Extensions.Hosting\" Version=\"1.9.0\" /\u003e\n    \u003cPackageVersion Include=\"OpenTelemetry.Instrumentation.AspNetCore\" Version=\"1.9.0\" /\u003e\n    \u003cPackageVersion Include=\"OpenTelemetry.Instrumentation.Http\" Version=\"1.9.0\" /\u003e\n    \u003cPackageVersion Include=\"OpenTelemetry.Instrumentation.Runtime\" Version=\"1.9.0\" /\u003e\n    \u003cPackageVersion Include=\"xunit\" Version=\"2.9.0\" /\u003e\n    \u003cPackageVersion Include=\"xunit.runner.visualstudio\" Version=\"2.8.2\" /\u003e\n  \u003c/ItemGroup\u003e\n\u003c/Project\u003e\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Published Yarp doesn\u0027t copy config file",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10022",
        "createdAt":  "2025-06-24T17:18:28Z",
        "number":  10022,
        "author":  "JanKinable",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-28T02:42:50Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI am encountering an issue where builder.AddAzureAppConfiguration(\"config\").AsExisting(configName, configResourceGroupName) consistently fails with a \u0027missing subscription configuration\u0027 error, even when all required environment variables (AZURE_SUBSCRIPTION_ID, AZURE_LOCATION) are correctly set and visible to the AppHost process, and the Azure identity has confirmed management plane (ARM) read permissions for the resource.\n\n### Expected Behavior\n\n- The Aspire AppHost should successfully discover and register the existing Azure App Configuration resource by performing an Azure Resource Manager (ARM) lookup.\n- The application should start without any errors related to App Configuration discovery, and the App Configuration resource should be correctly integrated into the Aspire application model.\n\n### Steps To Reproduce\n\n1. Create a new .NET Aspire Starter Application (or integrate into an existing one).\n2. Add the Microsoft.Net.Aspire.Hosting.Azure NuGet package to the AppHost project.\n3. In the Azure subscription, create an Azure App Configuration resource named from an exisitng one within a existing resource group for the known location.\n4. Ensure the Azure CLI (or Azure PowerShell) is logged in with an account that has \"Owner\" or \"Contributor\" role on the subscription/resource group, or at least \"Reader\" on the App Configuration resource. (Crucially, confirm this identity has Microsoft.AppConfiguration/configurationStores/read permission).\n5. In the Aspire AppHost Program.cs, add the following code:\n```csharp\n// Program.cs in AppHost project\n\n// ... (any existing usings or builder initialization)\n\n// BEGIN Debugging Output - Confirming Environment Variables\nConsole.WriteLine(\"--- AppHost Environment Variables ---\");\nConsole.WriteLine($\"AZURE_SUBSCRIPTION_ID: {Environment.GetEnvironmentVariable(\"AZURE_SUBSCRIPTION_ID\")}\");\nConsole.WriteLine($\"AZURE_LOCATION: {Environment.GetEnvironmentVariable(\"AZURE_LOCATION\")}\");\nConsole.WriteLine($\"DOTNET_ENVIRONMENT: {Environment.GetEnvironmentVariable(\"DOTNET_ENVIRONMENT\")}\");\nConsole.WriteLine(\"--- End AppHost Environment Variables ---\");\n// END Debugging Output\n\nvar configName = builder.AddParameter(\"name-of-the-appconfiguration\");\nvar configResourceGroupName = builder.AddParameter(\"name-of-the-resourcegroup\");\nvar appConfig = builder.AddAzureAppConfiguration(\"config\")\n                        .AsExisting(configName, configResourceGroupName);\n\n// ... (rest of your AppHost setup)\n```\n6. Set the AZURE_SUBSCRIPTION_ID and AZURE_LOCATION environment variables for the AppHost process.\n  azd env set AZURE_SUBSCRIPTION_ID \"c1bcd...04a\"\n azd env set AZURE_LOCATION \"West Europe\" # Note exact casing and space\n\n\n### Exceptions (if any)\n\nResource could not be provisioned because Azure subscription, location, and resource group information is missing. See https://aka.ms/dotnet/aspire/azure/provisioning for more details.\n\n### .NET Version info\n\n- Aspire Version: 9.3.1\n- Target framework: net9.0\n- .net SDK version: 9.0.3\n- Operation system: Windows 11\n- IDE:  Microsoft Visual Studio Community 2022 (64-bit) - Version 17.14.7\n \n\n### Anything else?\n\n- Confirmation the env where correctly set (via console output)\n-  Confirmation of successful ARM Read Access by running the az resource show --name \u003cappconfig-name\u003e --resource-group \u003cresourcegroup-name\u003e --resource-type Microsoft.AppConfiguration/configurationStores --subscription c1bcd...1d04a",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOs7MWpw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6zCE0Z",
                                           "createdAt":  "2025-06-25T07:20:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Did you try setting the subscription id in configuration?",
                                           "updatedAt":  "2025-06-25T07:20:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zsidq",
                                           "createdAt":  "2025-06-28T01:18:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dsghi",
                                           "body":  "I ran into this trying to use an existing KeyVault and solved it by adding to appsettings.json\n\n```\n{\n  \"Azure\": {\n    \"SubscriptionId\": \"\u003cYour subscription id\u003e\",\n    \"ResourceGroup\": \"\u003cValid resource group name\u003e\",\n    \"Location\": \"\u003cValid Azure location\u003e\"\n  }\n}\n```",
                                           "updatedAt":  "2025-06-28T01:18:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zsxan",
                                           "createdAt":  "2025-06-28T02:42:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEbBbfQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "Harley-Adams",
                                                                               "createdAt":  "2025-07-18T00:13:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This will be much smoother in future versions ",
                                           "updatedAt":  "2025-06-28T02:42:50Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "AzureAppConfiguration().AsExisting fails with \"missing subscription configuration\" despite correct env vars and ARM read permissions",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10039",
        "createdAt":  "2025-06-25T07:39:02Z",
        "number":  10039,
        "author":  "snavarropino",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-26T08:30:43Z",
        "body":  "I\u0027m using Aspire to publish my API project to Azure Container Apps, and I need to customize some of the container resources like CPU and memory or scale configuration. I\u0027m doing so with the `.PublishAsAzureContainerApp()` method like this:\n\n```csharp\nvar api = builder\n    .AddProject\u003cProjects.Api\u003e(\"api\")\n    .WithHttpHealthCheck(\"health\")\n    .WithExternalHttpEndpoints()   \n    .WithReference(db)\n    .WaitFor(db)\n    .WithReference(qdrant)\n    .WaitFor(qdrant)\n    .PublishAsAzureContainerApp((module, app) =\u003e\n    {\n        app.Template.Scale.MinReplicas = 1;\n        app.Template.Scale.MaxReplicas = 2;\n    \n        var c = app.Template.Containers.FirstOrDefault()?.Value;\n        if (c != null)\n        {\n            c.Resources.Cpu = 0.25;\n            c.Resources.Memory = \"0.5Gi\";\n        }\n    });\n```\nThe problem I\u0027m seeing is that after this change, some environment variables that are normally injected by Aspire are missing or invalid. For example, my API expects service bindings (like connection strings to Qdrant), but these are either not present or incorrectly set (e.g., defaulting to localhost, which obviously doesn\u0027t work in the Azure Container App).\nFrom what I can tell, just by customizing CPU/Memory or scale, I lose all other auto-generated configuration for the container — as if setting Resources overrides the entire container definition, including environment variables\n\nI’d appreciate any clarification or guidance on the right pattern for customizing resources without breaking the default Aspire service wiring.\n\nThanks for your great work on Aspire!\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOs0Uewg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6zCuaR",
                                           "createdAt":  "2025-06-25T08:21:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you compare the bicep before and after your changes? That\u0027s an easy way to validate what you are seeing. If you are using azd, you can run `azd infra synth` to look at the generated bicep.",
                                           "updatedAt":  "2025-06-25T08:21:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zEPVN",
                                           "createdAt":  "2025-06-25T10:20:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "If I run `azd infra gen` without `.PublishAsAzureContainerApp`  only following files are generated:\n\n- api.tmpl.yaml\n- main.bicep\n- main.parameters.json\n- qdrant.tmpl.yaml\n- resources.bicep\n\nHowever, if I include this\n\n```csharp\n.PublishAsAzureContainerApp((module, app) =\u003e\n    {\n        app.Template.Scale.MinReplicas = 1;\n        app.Template.Scale.MaxReplicas = 2;\n    \n        var c = app.Template.Containers.FirstOrDefault()?.Value;\n        if (c != null)\n        {\n            c.Resources.Cpu = 0.25;\n            c.Resources.Memory = \"0.5Gi\";\n        }\n    });\n```\n\nthe created file structure is quite different. Templates are created inside a folder for each service:\n\n- main.bicep\n- main.parameters.json\n- resources.bicep\n- api/\n  - api.tmpl.bicepparam\n  - api.module.bicep\n\n- qdrant/\n  - qdrant.tmpl.bicepparam\n  - qdrant.module.bicep\n\nIt seems api bicep module now have proper environment variables pointing to secrets:\n\n```\nSecrets:\n{\n  name: \u0027connectionstrings--qdrant\u0027\n  value: \u0027Endpoint=${\u0027http://qdrant.internal.${outputs_azure_container_apps_environment_default_domain}\u0027};Key=${qdrant_key_value}\u0027\n}\n{\n  name: \u0027connectionstrings--qdrant-http\u0027\n  value: \u0027Endpoint=http://qdrant:6333;Key=${qdrant_key_value}\u0027\n}\n\nVariables:\n\n{\n  name: \u0027ConnectionStrings__qdrant\u0027\n  secretRef: \u0027connectionstrings--qdrant\u0027\n}\n{\n  name: \u0027ConnectionStrings__qdrant_http\u0027\n  secretRef: \u0027connectionstrings--qdrant-http\u0027\n}\n```\n\nHowever, trying again I notice that azd deploy fails, it seems the template is not valid (it was last time I tried). Some days ago there was a problem with environment variables and right know with the generated bicep itself\n\n![Image](https://github.com/user-attachments/assets/34dc440f-b57c-4d19-8b9b-acd7553f1ad6)\n\nThe bicep template is not ok, decimal separator is not ok in cpu or memory (the use different separator):\n\n```\ntemplate: {\n  containers: [\n    {\n      image: api_containerimage\n      name: \u0027api\u0027\n      env: [\n        {\n          name: \u0027OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES\u0027\n          value: \u0027true\u0027\n        }\n        {\n          name: \u0027OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES\u0027\n          value: \u0027true\u0027\n        }\n        {\n          name: \u0027OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY\u0027\n          value: \u0027in_memory\u0027\n        }\n        {\n          name: \u0027ASPNETCORE_FORWARDEDHEADERS_ENABLED\u0027\n          value: \u0027true\u0027\n        }\n        {\n          name: \u0027HTTP_PORTS\u0027\n          value: api_containerport\n        }\n        {\n          name: \u0027Endpoints__ChatCompletion__Endpoint\u0027\n          value: chat_completion_endpoint_value\n        }\n        {\n          name: \u0027Endpoints__ChatCompletion__ApiKey\u0027\n          secretRef: \u0027endpoints--chatcompletion--apikey\u0027\n        }\n        {\n          name: \u0027Endpoints__Embeddings__Endpoint\u0027\n          value: embeddings_endpoint_value\n        }\n        {\n          name: \u0027Endpoints__Embeddings__ApiKey\u0027\n          secretRef: \u0027endpoints--embeddings--apikey\u0027\n        }\n        {\n          name: \u0027ConnectionStrings__db\u0027\n          secretRef: \u0027connectionstrings--db\u0027\n        }\n        {\n          name: \u0027ConnectionStrings__qdrant\u0027\n          secretRef: \u0027connectionstrings--qdrant\u0027\n        }\n        {\n          name: \u0027ConnectionStrings__qdrant_http\u0027\n          secretRef: \u0027connectionstrings--qdrant-http\u0027\n        }\n      ]\n      resources: {\n        cpu: \u00270,25\u0027\n        memory: \u00270.5Gi\u0027\n      }\n    }\n  ]\n  scale: {\n    minReplicas: 1\n    maxReplicas: 2\n  }\n}\n```\n\nI am using Aspire.Hosting.Azure.AppContainers version 9.3.1",
                                           "updatedAt":  "2025-06-25T10:20:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zFhpZ",
                                           "createdAt":  "2025-06-25T12:20:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Ok, after some investigation I can confirm thar bicep is wrong: \n\n```\nresources: {\n        cpu: \u00270,25\u0027\n        memory: \u00270.5Gi\u0027\n      }\n```\n\nshould be \n\n```\nresources: {\n        cpu: \u00270.25\u0027\n        memory: \u00270.5Gi\u0027\n      }\n```\n\naz infra gen generates wrong bicep",
                                           "updatedAt":  "2025-06-25T12:20:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zG2Zw",
                                           "createdAt":  "2025-06-25T14:07:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Ok, once I know what happened with the container resources, I have a clear view about the problems with environment variables.\n\nI have a sql resource that is published as a connectionstring. This is the problematic point\n\n```csharp\nvar sql = builder\n    .AddSqlServer(\"sql\", port: 51580);\n\nvar db = sql\n    .AddDatabase(\"db\", \"dbname\")\n    .WithResetDataCommand()\n    .WithLifetime(ContainerLifetime.Persistent)\n    .WithDataVolume();\n\nsql.PublishAsConnectionString();\n```\n\nIf I don\u0027t define the container in c#, the secret for de database is well defined inside api.tmpl.yaml\n\n```\nsecrets:\n   - name: connectionstrings--db\n      value: \u0027{{ securedParameter \"sql\" }};Initial Catalog=Goldar\u0027\n```\n\nThe secret value is a parameter I set when I invoke azd provision\n\nHowever if I define the container, the secret for the database, defined inside api/api.module.bicep is not ok, because it ignores the parameter I set when I invoke azd provision\n\n```\nresource api \u0027Microsoft.App/containerApps@2024-03-01\u0027 = {\n  name: \u0027api\u0027\n  location: location\n  properties: {\n    configuration: {\n      secrets: [\n        {\n          name: \u0027connectionstrings--db\u0027\n          value: \u0027Server=sql,51580;User ID=sa;Password=${sql_password_value};TrustServerCertificate=true;Initial Catalog=Goldar\u0027\n        },\n        ...\n   ]\n}\n```\n**I don\u0027t know why but if I define the container in c# the bicep ignores sql.PublishAsConnectionString();**\n",
                                           "updatedAt":  "2025-06-25T14:07:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zH0kY",
                                           "createdAt":  "2025-06-25T15:17:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You might be running into this https://github.com/dotnet/aspire/issues/8409. The work around is to do \n\nvar db = builder.ExecutionContext.IsPublishMode ? buidler.AddConnectionString(\"db\") : \n               sql.AddDatabase(\"db\", \"dbname\")\n                    .WithResetDataCommand()\n                    .WithLifetime(ContainerLifetime.Persistent)\n                    .WithDataVolume();",
                                           "updatedAt":  "2025-06-25T15:17:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zQO7a",
                                           "createdAt":  "2025-06-26T06:54:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Yes I think I am facing same problem. Your work around is ok @davidfowl \n\nWhat about the wrong value in bicep for cpu? I am not able to deploy if I don\u0027t manually fix it.  Cpu is being generated with comma while a dot is expected\n\nresources: {\n        **cpu: \u00270,25\u0027**\n        memory: \u00270.5Gi\u0027\n      }\n\nI have check that the bug is present in following versions of Aspire.Hosting.Azure.AppContainers\n\n9.3.0\n9.3.1\n\n```csharp\n.PublishAsAzureContainerApp((module, app) =\u003e\n    {\n        app.Template.Scale.MinReplicas = 1;\n        app.Template.Scale.MaxReplicas = 2;\n    \n        var c = app.Template.Containers.FirstOrDefault()?.Value;\n        if (c != null)\n        {\n            c.Resources.Cpu = 0.25;\n            c.Resources.Memory = \"0.5Gi\";\n        }\n    });\n```\n",
                                           "updatedAt":  "2025-06-26T06:54:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zRR7C",
                                           "createdAt":  "2025-06-26T08:30:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "See https://github.com/dotnet/aspire/issues/8000#issuecomment-2956372617.",
                                           "updatedAt":  "2025-06-26T08:30:43Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Customizing container CPU/Memory with .PublishAsAzureContainerApp() causes environment variables to break",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10045",
        "createdAt":  "2025-06-25T17:22:34Z",
        "number":  10045,
        "author":  "max2020204",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-01T08:51:05Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen using builder.AddNpmApp(...) with a Next.js frontend project (in production mode), Aspire fails to run the app because the production build is missing. The startup log shows:\n\n`[Error: Could not find a production build in the \u0027.next\u0027 directory. Try building your app with \u0027next build\u0027 before starting the production server. https://nextjs.org/docs/messages/production-start-no-build-id]\n`\n\nEven though WithNpmPackageInstallation() is present, it seems that next build is not executed automatically before npm start.\n\n### Expected Behavior\n\nAspire should support typical production workflows for popular frontend frameworks like Next.js. If `npm start `requires next build, Aspire should either:\n\nrun `npm run build` automatically before npm start (when in production mode), or\n\nencourage developers to specify `.WithBuildCommand(\"npm run build\") `explicitly in documentation.\n\n### Steps To Reproduce\n\nbuilder.AddNpmApp(\"frontend\", \"../frontend\")\n    .WithEnvironment(\"NODE_ENV\", \"production\")\n    .WithNpmPackageInstallation()\n    .WithHttpEndpoint(env: \"PORT\")\n    .PublishAsDockerFile();\n\n\n### Exceptions (if any)\n\n[Error: Could not find a production build in the \u0027.next\u0027 directory. Try building your app with \u0027next build\u0027 before starting the production server. https://nextjs.org/docs/messages/production-start-no-build-id]\n\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n.NET SDK:\n Version:           9.0.301\n Commit:            a596cd22e2\n Workload version:  9.0.300-manifests.07067f5b\n MSBuild version:   17.14.5+edd3bbf37",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtCumWw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc60K6Zb",
                                           "createdAt":  "2025-07-01T08:51:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @maddymontaquila ",
                                           "updatedAt":  "2025-07-01T08:51:05Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "AddNpmApp does not build Next.js app before starting — missing \u0027.next\u0027 build directory",
        "labels":  [
                       "area-integrations",
                       "nodejs"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10065",
        "createdAt":  "2025-06-26T15:02:04Z",
        "number":  10065,
        "author":  "VladislavAntonyuk",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-26T15:02:58Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI want to allow configuring SqlServerDbContextOptions when calling AddSqlServerDbContext.\n\n### Describe the solution you\u0027d like\n\nAdd optional parameter `Action\u003cSqlServerDbContextOptionsBuilder\u003e? sqlServerOptionsAction = null`\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "AspireSqlServerEFCoreSqlClientExtensions: Allow to configure SqlServerDbContextOptions",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10087",
        "createdAt":  "2025-06-27T07:42:33Z",
        "number":  10087,
        "author":  "radical",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-20T00:03:48Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/15907899163\nBuild error leg or test failing: Aspire.Hosting.Azure.Tests.AzureEnvironmentResourceTests.WhenUsedWithAzureContainerAppsEnvironment_GeneratesProperBicep\nPull request: \n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nSystem.AggregateException : One or more errors occurred. (Unable to resolve service for type \u0027Aspire.Hosting.Dcp.DcpNameGenerator\u0027 while attempting to activate \u0027Aspire.Hosting.Exec.ExecResourceManager\u0027.)\n---- System.InvalidOperationException : Unable to resolve service for type \u0027Aspire.Hosting.Dcp.DcpNameGenerator\u0027 while attempting to activate \u0027Aspire.Hosting.Exec.ExecResourceManager\u0027.   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait()\n   at Aspire.Hosting.DistributedApplication.Run() in /_/src/Aspire.Hosting/DistributedApplication.cs:line 456\n   at Aspire.Hosting.Azure.Tests.AzureEnvironmentResourceTests.WhenUsedWithAzureContainerAppsEnvironment_GeneratesProperBicep() in /home/runner/work/aspire/aspire/tests/Aspire.Hosting.Azure.Tests/AzureEnvironmentResourceTests.cs:line 32\n--- End of stack trace from previous location ---\n----- Inner Stack Trace -----\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateEnumerable(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain)\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\n   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)\n   at Aspire.Hosting.DistributedApplication.RunAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:line 428\n```\n\n\u003cdiv\u003e\n\n## Stdout\n\n\u003cdetails\u003e\u003csummary\u003eDetails\u003c/b\u003e\u003c/summary\u003e\n\n\n```yml\n\nTemp directory: /tmp/.azure-environment-resource-testag80GB\n\n```\n\n\u003c/div\u003e\n\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 8/16/2025 3:05:46 AM UTC\n\n\n\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:56 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOs5jLPw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ziGtC",
                                           "createdAt":  "2025-06-27T07:46:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "radical",
                                           "body":  "`Unable to resolve service for type \u0027Aspire.Hosting.Dcp.DcpNameGenerator\u0027 while attempting to activate \u0027Aspire.Hosting.Exec.ExecResourceManager\u0027.`\n\nIs this something that got fixed? It doesn\u0027t sound like a flaky test but has been hit on multiple PRs. \n\ncc @mitchdenny @karolz-ms @davidfowl ",
                                           "updatedAt":  "2025-06-27T07:46:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zl697",
                                           "createdAt":  "2025-06-27T13:19:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "ExecResourceManager is not in main, it\u0027s in @DeagleGross\u0027s unmerged PR https://github.com/dotnet/aspire/pull/10061",
                                           "updatedAt":  "2025-06-27T13:19:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zmMs_",
                                           "createdAt":  "2025-06-27T13:42:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DeagleGross",
                                           "body":  "is there any actionable thing I can do to help resolve this? I am working on aspire exec, and that is coming from my PR\n\n@radical ",
                                           "updatedAt":  "2025-06-27T13:42:19Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Failing test: Aspire.Hosting.Azure.Tests.AzureEnvironmentResourceTests.WhenUsedWithAzureContainerAppsEnvironment_GeneratesProperBicep",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "blocking-clean-ci"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10174",
        "createdAt":  "2025-07-01T21:37:34Z",
        "number":  10174,
        "author":  "gabriel-systems",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-03T21:31:31Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nUsing the RabbitMQ Host with a Username \u0026 Password fails see https://github.com/bitnami/containers/issues/53771\n\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtNMh7g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc600yHu",
                                           "createdAt":  "2025-07-03T21:31:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "This seems to be a specific limitation of the [bitnami/rabbitmq](https://hub.docker.com/r/bitnami/rabbitmq) image. I don\u0027t see any issues accessing the container with the [rabbitmq](https://hub.docker.com/_/rabbitmq) image that Aspire uses. If you want to use a different container image for rabbitmq than the one scaffolded by Aspire by default, you\u0027ll likely need to do more of the configuration yourself as we only provide opinionated settings for a specific container image.",
                                           "updatedAt":  "2025-07-03T21:31:31Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "RabbitMQ Username/Password Issue",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10221",
        "createdAt":  "2025-07-02T18:39:42Z",
        "number":  10221,
        "author":  "benjaminpetit",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-09T21:23:27Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAspire applications using YARP currently lack built-in support for serving static files. This limits the ability to expose static assets (e.g., HTML, JS, CSS, images) directly through the reverse proxy, which is a common requirement for dashboards, documentation, or lightweight frontends.\n\nWhile the YARP container itself is capable of serving static files, Aspire does not yet expose a way to configure or enable this behavior within its application model. This creates a gap between what the underlying infrastructure can do and what Aspire makes accessible to developers.\n\nAdditionally, we face a related limitation in deployment scenarios: configuration via file is not currently supported. Specifically, WithContainerFiles and BindMount are not usable in deployment, which makes it difficult to provide static content or configuration assets in a portable and production-ready way.\n\n### Describe the solution you\u0027d like\n\n- For configuration: we could translate the configuration file as a set of environment variables.\n- For static files in general: we need a better support of \"container files\" or volumes in Aspire\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwwuP4g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc60i7VN",
                                           "createdAt":  "2025-07-02T19:16:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "Is there any specific feature for adding a volume or file that you think would be good to have for this scenario that\u0027s missing? We\u0027ve got a number of APIs for adding files to containers, but if there\u0027s pain points I\u0027d love to figure out how we can reduce them.",
                                           "updatedAt":  "2025-07-02T19:16:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DC4kD",
                                           "createdAt":  "2025-09-09T21:22:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "Related to https://github.com/dotnet/aspire/pull/11275 ?",
                                           "updatedAt":  "2025-09-09T21:22:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DC4_i",
                                           "createdAt":  "2025-09-09T21:23:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "cc @davidfowl ",
                                           "updatedAt":  "2025-09-09T21:23:27Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Enable static files and configuration file support in YARP integration",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10225",
        "createdAt":  "2025-07-02T20:55:32Z",
        "number":  10225,
        "author":  "DGAISmith",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODH4ScQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "hungbs-davies",
                                            "createdAt":  "2025-07-21T04:25:31Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tj-spyro",
                                            "createdAt":  "2025-07-21T22:29:29Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-09-08T14:45:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nThis is related to https://github.com/dotnet/aspire/issues/7901 and https://github.com/dotnet/aspire/issues/7586, both of which have been unfortunately closed.  \n\nHowever, the fix for excessive logging noise was apparently due in Functions Runtime 4.1038, and the problem persists:  \n\n![Image](https://github.com/user-attachments/assets/5e7f5ad8-1c9e-4ed3-8f67-b176fdde17c9)\n\nThere also appears to be a deeper configuration restriction that I just can\u0027t get my head around with the functions host and otel in general, related more to https://github.com/dotnet/aspire/issues/7901.  I know that was closed, and this might be more of a question for functions/otel rather than aspire, but I thought I\u0027d start here in case anyone has been able to solve it.  Let\u0027s say I wanted to filter the logging coming out of the functions host....\n\nVersions:\n\nVisual Studio 2022 17.14.7 Preview 1.0\nFunctions Runtime 4.1038.300.25164\nAspire 9.3.1\nAspire.Hosting.Azure.Functions 9.3.1-preview.1.25305.6\n\nSteps:\n\n1. Create a new Aspire Starter App.\n2. Add a function app to the solution with http trigger, include in aspire orchestration.\n3. See the structured logging in the dashboard.\n4. Attempt to set the minimum log level in host.json using usual OpenTelemetry approaches (this works with webapi apps):\n\n```    \n\"telemetryMode\": \"openTelemetry\",\n\"logging\": {\n      \"OpenTelemetry\": {\n        \"logLevel\": {\n          \"default\": \"Warning\",\n          \"Host\": \"Warning\",\n          \"Function\": \"Warning\",\n          \"Host.Aggregator\": \"Warning\"\n        }\n      },\n```\n\n5. Structured logging below level \"warning\" still appears in the dashboard.  Logging provider alias \"OpenTelemetry\" configuration seems to be ignored by the function host.\n6. Attempt to set the minimum log level using top-level function host approaches:\n\n```    \n    \"telemetryMode\": \"openTelemetry\",\n    \"logging\": {\n      \"logLevel\": {\n        \"default\": \"Warning\",\n        \"Host\": \"Warning\",\n        \"Function\": \"Warning\",\n        \"Host.Aggregator\": \"Warning\"\n      },\n      \"OpenTelemetry\": {\n        \"logLevel\": {\n          \"default\": \"Warning\",\n          \"Host\": \"Warning\",\n          \"Function\": \"Warning\",\n          \"Host.Aggregator\": \"Warning\"\n        }\n      }\n    }\n```\n\n7. Structured logging still appears in dashboard.\n\nLogging in function apps always seems to be odd in comparison to standard webapi apps.  I\u0027ve tried a lot of variations on this theme.  Note that the top-level function logging configuration does impact the logging that appears in the Console.  But I\u0027ve yet to find any way of filtering any otel logging coming out of the host.\n\nI can provide a sample repo if needed.\n\nMany thanks.\n\n### Expected Behavior\n\nFilter the opentelemetry structured logging coming out of the functions host by some means.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.301\n Commit:            a596cd22e2\n Workload version:  9.0.300-manifests.e42facbb\n MSBuild version:   17.14.5+edd3bbf37\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwrWFFw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc60xZ0m",
                                           "createdAt":  "2025-07-03T16:19:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEZLtPQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DGAISmith",
                                                                               "createdAt":  "2025-07-03T20:56:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@RohitRanjanMS Does anything look off to you about the host version or config the user is using here?\n\n@DGAISmith  Perhaps a quick sample app would help here as well!",
                                           "updatedAt":  "2025-07-03T16:19:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc600ZjS",
                                           "createdAt":  "2025-07-03T20:59:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DGAISmith",
                                           "body":  "Many thanks for the comment.  I\u0027ve created a sample repo that tries to show the problems we\u0027re having.  I\u0027ve tried to layer the commits to show how things progress:\n\nhttps://github.com/DGAISmith/AspireFunctionOtel\n\nNote that before I add the service bus trigger, I\u0027m unable to filter the otel structured logging coming from the host (although this may be because I simply don\u0027t know how to configure the otel behaviour in the host, it\u0027s not clear what my options are to be honest and I\u0027ve tried a lot of different methods).\n\nAfter I add the service bus trigger, you then get all the noise in the structured logs.  Which of course I\u0027m still unable to filter out due to the above.",
                                           "updatedAt":  "2025-07-03T20:59:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc601UJQ",
                                           "createdAt":  "2025-07-03T22:41:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEZSWlg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DGAISmith",
                                                                               "createdAt":  "2025-07-04T11:07:18Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "RohitRanjanMS",
                                           "body":  "Thanks for the sample, @DGAISmith. I will have a look at it. Meanwhile, can you configure Functions defaults and see if it makes any difference?\n\ndotnet add package Microsoft.Azure.Functions.Worker.OpenTelemetry --version 1.0.0-preview1 \n\n`builder.Services.AddOpenTelemetry().UseFunctionsWorkerDefaults();`",
                                           "updatedAt":  "2025-07-03T22:41:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc608PfR",
                                           "createdAt":  "2025-07-04T11:17:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DGAISmith",
                                           "body":  "\u003e Thanks for the sample, [@DGAISmith](https://github.com/DGAISmith). I will have a look at it. Meanwhile, can you configure Functions defaults and see if it makes any difference?\n\u003e \n\u003e dotnet add package Microsoft.Azure.Functions.Worker.OpenTelemetry --version 1.0.0-preview1\n\u003e \n\u003e `builder.Services.AddOpenTelemetry().UseFunctionsWorkerDefaults();`\n\nIf I add this (well, I\u0027ve used 1.1.0-preview6). in addition to the standard aspire service defaults (should I use it instead of?):\n\n```\nvar builder = FunctionsApplication.CreateBuilder(args);\n\nbuilder.AddServiceDefaults();\nbuilder.Services.AddOpenTelemetry().UseFunctionsWorkerDefaults();\n\nbuilder.ConfigureFunctionsWebApplication();\n\nbuilder.Build().Run();\n\n```\n\n...a lot of the noise in structured logging goes away from the service bus activity, and the duplicate logs are sorted.  However:\n\n- the name of the resource changes from \"functionservice\" (as defined in the aspire apphost) to AspireFunctionOtel.Function (the name of the function app assembly, presumably)\n- I\u0027m still seeing all log levels\n- I\u0027m still seeing a lot of noise in the Traces view\n\n![Image](https://github.com/user-attachments/assets/56cf7adc-d671-4a17-8525-2be35174d11a)\n\n![Image](https://github.com/user-attachments/assets/83b580c3-e9d9-4120-95ba-283ac29f29d1)\n",
                                           "updatedAt":  "2025-07-04T11:17:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6672or",
                                           "createdAt":  "2025-07-30T13:02:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgojRg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "biltongza",
                                                                               "createdAt":  "2025-09-03T08:36:47Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DGAISmith",
                                           "body":  "I\u0027ve done more digging around this.  I believe one part of the problem is a conflict between the ServiceDefaults code that gets scaffolded in to a new Aspire app and the necessary steps for Otel with Functions.  It just doesn\u0027t include extra bits needed for Function Apps.  \n\n**Duplicated Logs / Log Filtering**\n\nAs mentioned above, if you follow the guidance here - https://learn.microsoft.com/en-us/azure/azure-functions/opentelemetry-howto?tabs=otlp-export\u0026pivots=programming-language-csharp - you are instructed to add UseFunctionsWorkerDefaults(), which under the hood has the following really important line - \n\n```\n            builder.Services\n                // Tells the host to no longer emit telemetry on behalf of the worker.\n                .Configure\u003cWorkerOptions\u003e(workerOptions =\u003e workerOptions.Capabilities[\"WorkerOpenTelemetryEnabled\"] = bool.TrueString);\n```\n\nWithout this (and potentially the other bits in UseFunctionsWorkerDefaults(), which have interesting features in FunctionsResourceDetector) , the Aspire template with a new Function App with \"enlist in Aspire orchestration\" ticked simply isn\u0027t correct and things are missing, leading to the duplication and inability to filter.\n\nI think we can add our own workarounds for this part of the problem based on the above, but it\u0027s not a good experience out of the box at the moment.\n\n**Service Bus Trigger Trace Noise**\n\nUnfortunately, I haven\u0027t been able to resolve this one.  The traces look to be coming from the functions host, so I don\u0027t have a way to filter them out with a sampler in the worker code.  The aspire function hosting package switches the host\u0027s telemetryMode to OpenTelemetry, which is probably a good move.  But then you just get thousands of traces building up, similar to the issue logged previously about blobs and storage.  Is there a way of controlling this via environment variables or host.json?\n\nIt\u0027s an annoyance locally, but I\u0027m more concerned about when we deploy to azure.  That\u0027s a lot of unnecessary telemetry.\n\n@RohitRanjanMS any advice would be gratefully received",
                                           "updatedAt":  "2025-07-30T13:04:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69Qv1F",
                                           "createdAt":  "2025-08-11T15:06:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@RohitRanjanMS I think you came to the same conclusions as @DGAISmith above based on our other thread. Did you have any thoughts on what the ideal fix here would be?",
                                           "updatedAt":  "2025-08-11T15:06:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69dmjC",
                                           "createdAt":  "2025-08-12T09:59:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "earloc",
                                           "body":  "This is affecting us heavily as well, which makes it very hard to even grasp, if our logs are actually helping when identifying runtime issues. The sheer amount of traces quickly hits the ceiling of maximum number of entries aspire-dashboard keeps in-memory.\n\nIs there any workaround known so far, which let\u0027s us at least filter the noise based on some log-level, for now?",
                                           "updatedAt":  "2025-08-12T09:59:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69hR92",
                                           "createdAt":  "2025-08-12T14:33:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEenLlg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "earloc",
                                                                               "createdAt":  "2025-08-12T21:21:54Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "DGAISmith",
                                                                               "createdAt":  "2025-08-18T10:12:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "RohitRanjanMS",
                                           "body":  "Yes, I understand the pain. I am going to suppress the noise. Working on a PR for this.",
                                           "updatedAt":  "2025-08-12T14:33:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Cl5Jm",
                                           "createdAt":  "2025-09-08T05:54:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhUlKA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "earloc",
                                                                               "createdAt":  "2025-09-08T06:20:35Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "DGAISmith",
                                                                               "createdAt":  "2025-09-08T14:44:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "RohitRanjanMS",
                                           "body":  "This is fixed, will be available in the next host release (1043) - https://github.com/Azure/azure-functions-host/pull/11260",
                                           "updatedAt":  "2025-09-08T05:54:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CmIgH",
                                           "createdAt":  "2025-09-08T06:21:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "earloc",
                                           "body":  "Great, really looking forward to this!\n\nSo we would need to update our local `azure-functions-core-tools` for this to take effect? ",
                                           "updatedAt":  "2025-09-08T06:21:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CmKfF",
                                           "createdAt":  "2025-09-08T06:24:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RohitRanjanMS",
                                           "body":  "yes, it will take few weeks before we have a new core tools release.",
                                           "updatedAt":  "2025-09-08T06:24:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CtYUX",
                                           "createdAt":  "2025-09-08T14:45:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DGAISmith",
                                           "body":  "Wonderful, I\u0027ll keep an eye out for the new tools release.  This will help a lot, many thanks.",
                                           "updatedAt":  "2025-09-08T14:45:55Z"
                                       }
                                   ],
                         "totalCount":  12
                     },
        "title":  "Azure Functions - OpenTelemetry host.json log filtering and excessive log noise from host",
        "labels":  [
                       "area-integrations",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10282",
        "createdAt":  "2025-07-08T05:21:46Z",
        "number":  10282,
        "author":  "Meir017",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODNecAQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ernestasjuska",
                                            "createdAt":  "2025-07-31T17:02:19Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "yorek",
                                            "createdAt":  "2025-08-30T20:16:39Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-07-11T02:53:05Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\ncontinuing on https://github.com/dotnet/aspire/issues/6055#issuecomment-3044339466\n\nwe can generate a vscode URI that when triggered will open in vscode the sql-server extension and fill out all of the fields and have the user just click \"connect\"\n\nsomething like this:\n\n```cs\nvar sqlServer = builder.AddSqlServer(\"sql-server\")\n    .WithDataVolume(\"data\");\n\nsqlServer.WithCommand(\"open-in-vscode\", \"Open in VS Code\", async context =\u003e\n{\n    var rawConnectionString = await sqlServer.Resource.GetConnectionStringAsync();\n    if (string.IsNullOrEmpty(rawConnectionString))\n    {\n        return new ExecuteCommandResult\n        {\n            Success = false,\n            ErrorMessage = \"Connection string is not available.\"\n        };\n    }\n\n    VsCode.OpenSqlServerInVsCode(rawConnectionString);\n    return new ExecuteCommandResult { Success = true };\n});\n```\n\nand the magic:\n```cs\n\n\nusing System.Diagnostics;\n\nusing Microsoft.Data.SqlClient;\n\nnamespace Prevention.SecurityForAI;\n\npublic class VsCode\n{\n    public static void OpenSqlServerInVsCode(string rawConnectionString)\n    {\n        var connectionString = new SqlConnectionStringBuilder(rawConnectionString);\n        string server = Uri.EscapeDataString(connectionString.DataSource);\n        string database = Uri.EscapeDataString(connectionString.InitialCatalog);\n        string userId = Uri.EscapeDataString(connectionString.UserID);\n        string password = Uri.EscapeDataString(connectionString.Password);\n\n        var vscodeUri = new Uri($\"vscode://ms-mssql.mssql/connect?server={server}\u0026database={database}\u0026authenticationType=SqlLogin\u0026user={userId}\u0026password={password}\u0026trustServerCertificate=true\");\n        var process = Process.Start(new ProcessStartInfo\n        {\n            FileName = vscodeUri.ToString(),\n            UseShellExecute = true\n        });\n    }\n}\n```\n\nthis requires the https://marketplace.visualstudio.com/items?itemName=ms-mssql.mssql VsCode extension\n\n![Image](https://github.com/user-attachments/assets/fb449d1d-f122-438a-8258-51d8851ce3f2)\n\n@eerhardt / @eerhardt / @davidfowl is this out-of-scope here? should I create a separate issue for this? Maybe having a VsCode extention point that can open UI extensions for specific container based resources\n\n### Describe the solution you\u0027d like\n\nI think adding a URL for the resource would be more naturally but I wasn\u0027t sure how to get the connection-string to the `AddUrl` method since it doesn\u0027t seem to support async flows.\n\nMy current solution is to add a command on the SQL server resource that when invoked will open vscode.\n\npublic API (via extension method):\n```cs\npublic static IResourceBuilder\u003cSqlServerServerResource\u003e WithOpenInVsCodeCommand(this IResourceBuilder\u003cSqlServerServerResource\u003e builder);\n```\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtmYXNQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc61sEu4",
                                           "createdAt":  "2025-07-08T10:07:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I like this idea, and I\u0027ve lamented a few times the fact that we don\u0027t have a nice way to jump into admin tools for SQL Server as we do for Postgres (via PgAdmin or PgWeb). However, to make this work well we probably wouldn\u0027t want to use Process.Start(...) since that won\u0027t work well across all Aspire usage scenarios including DevContainers and Codespaces. \n\nThat said, I think an extension that adds a URL to the resource in the dashboard for SQL Server and SQL Server database resources would be pretty good.\n\nI think that there are some things to explore here:\n\n1. Can we detect if Aspire is launched in the context of VS Code so we can enable this functionality automatically.\n2. Can we make this work across the various SQL Server hosting scenarios (e.g. can we give it a URL that works with cloud hosted Azure SQL instances that might use Entra auth.\n\n",
                                           "updatedAt":  "2025-07-08T10:07:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61zgHo",
                                           "createdAt":  "2025-07-08T20:11:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Meir017",
                                           "body":  "\u003e 2. Can we make this work across the various SQL Server hosting scenarios (e.g. can we give it a URL that works with cloud hosted Azure SQL instances that might use Entra auth.\n\nI think that anything that is supported in the vscode URI `vscode://ms-mssql.mssql/connect?server=...` would work here, the sql-server extension does support entra-auth",
                                           "updatedAt":  "2025-07-08T20:11:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc611JXS",
                                           "createdAt":  "2025-07-08T23:54:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "CZEMacLeod",
                                           "body":  "The biggest problem that I have found is that a url with the scheme of `vscode` does not get enabled as a link (the display name shows and the address is correct, but it is not a hyperlink).\n\n```cs\n\npublic static class VsCodeExtensions\n{\n    public static IResourceBuilder\u003cSqlServerServerResource\u003e WithOpenInVsCode(this IResourceBuilder\u003cSqlServerServerResource\u003e builder) =\u003e builder\n            .WithUrls(async c =\u003e\n            {\n                var rawConnectionString = await builder.Resource.GetConnectionStringAsync();\n                if (string.IsNullOrEmpty(rawConnectionString))\n                {\n                    return;\n                }\n                var connectionString = new SqlConnectionStringBuilder(rawConnectionString);\n                var uriBuilder = new UriBuilder\n                {\n                    Scheme = \"vscode\",\n                    Host = \"ms-mssql.mssql\",\n                    Path = \"connect\"\n                };\n                var query = System.Web.HttpUtility.ParseQueryString(string.Empty);\n                query[\"server\"] = Uri.EscapeDataString(connectionString.DataSource);\n                query[\"database\"] = Uri.EscapeDataString(connectionString.InitialCatalog);\n                query[\"authenticationType\"] = \"SqlLogin\";\n                query[\"user\"] = Uri.EscapeDataString(connectionString.UserID);\n                query[\"password\"] = Uri.EscapeDataString(connectionString.Password);\n                query[\"trustServerCertificate\"] = \"true\";\n                uriBuilder.Query = query.ToString();\n\n                c.Urls.Add(new()\n                {\n                    DisplayLocation = UrlDisplayLocation.SummaryAndDetails,\n                    DisplayOrder = 100,\n                    Url = uriBuilder.ToString(),\n                    DisplayText = \"Open in VS Code\"\n                });\n\n                c.Urls.Add(new()\n                {\n                    DisplayLocation = UrlDisplayLocation.SummaryAndDetails,\n                    DisplayOrder = 99,\n                    Url = \"https://github.com/dotnet/aspire/issues/10282\",\n                    DisplayText = \"Github Issue\"\n                });\n            });\n}\n```\n\n\u003cimg width=\"2266\" height=\"160\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/ae8d369c-2262-4f3c-9dd1-ec42e56a3f66\" /\u003e\n\n\u003cimg width=\"1523\" height=\"699\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fb066cf2-f19c-4bce-a770-abfe44c14f57\" /\u003e\n",
                                           "updatedAt":  "2025-07-08T23:54:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc616UIL",
                                           "createdAt":  "2025-07-09T09:57:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEaJlgQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CZEMacLeod",
                                                                               "createdAt":  "2025-07-09T20:25:50Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Meir017",
                                                                               "createdAt":  "2025-07-10T20:44:00Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "afscrome",
                                           "body":  "\u003e The biggest problem that I have found is that a url with the scheme of `vscode` does not get enabled as a link (the display name shows and the address is correct, but it is not a hyperlink).\n\nThis is what\u0027s causing that:\nhttps://github.com/dotnet/aspire/blob/8c1f4d99f8816f4b66d6a9161a3621e41aead352/src/Aspire.Dashboard/Model/ResourceUrlHelpers.cs#L36\n\n",
                                           "updatedAt":  "2025-07-09T09:57:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc616ufi",
                                           "createdAt":  "2025-07-09T10:19:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "CZEMacLeod",
                                           "body":  "\u003e \u003e The biggest problem that I have found is that a url with the scheme of `vscode` does not get enabled as a link (the display name shows and the address is correct, but it is not a hyperlink).\n\u003e \n\u003e This is what\u0027s causing that:\n\u003e \n\u003e [aspire/src/Aspire.Dashboard/Model/ResourceUrlHelpers.cs](https://github.com/dotnet/aspire/blob/8c1f4d99f8816f4b66d6a9161a3621e41aead352/src/Aspire.Dashboard/Model/ResourceUrlHelpers.cs#L36)\n\u003e \n\u003e Line 36 in [8c1f4d9](/dotnet/aspire/commit/8c1f4d99f8816f4b66d6a9161a3621e41aead352)\n\u003e \n\u003e  Url = url.Url.Scheme is \"http\" or \"https\" ? url.Url.OriginalString : null,\n\nYeah - I\u0027m not sure what the best approach for this would be - either to deny-list `tcp:` and `udp:` for generic endpoints instead of allow-listing `http:` and `https:`, or to have some kind of allow-list which could be passed in by env var.\n\nI can see use cases for other types of links - telnet:, ssh:, scp:, rtsp:, etc.\n\nI think the latter would be relatively easy to implement, and the extension method could mod the dashboard resource to add `vscode:`.\n\nThis might need to be a separate issue though?",
                                           "updatedAt":  "2025-07-09T10:19:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62Zhc1",
                                           "createdAt":  "2025-07-11T02:53:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@JamesNK @adamint seems like an easy fix no?",
                                           "updatedAt":  "2025-07-11T02:53:05Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "User Interface for SqlServer via vscode extension",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10283",
        "createdAt":  "2025-07-08T05:53:25Z",
        "number":  10283,
        "author":  "digitaldias",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-18T17:15:25Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWe are loading up 15 apps/services with Aspire 9.3.0 and because some of them are quite heavy, we would love to skip auto-loading of the npm apps to new browser tabs. \n\n```csharp\nbuilder.AddNpmApp(\"MyPortal\", \"../../My.Portal/src\", \"start\",)    \n    .WithEndpoint(port: 11005, targetPort: 3000, scheme: \"http\")\n    .WithEnvironment(\"GENERATE_SOURCEMAP\", \"true\")\n    .WithOtlpExporter()\n    .WaitFor(firstApi)\n    .WaitFor(secondApi)\n    ;\n```\n\nThis npm app always starts up in a new tab alongside the Aspire Dashboard, which is something that we do not want. We only wish for the dashboard to load, and then select the things we want to work with from there. \n\n\n### Describe the solution you\u0027d like\n\nThis configuration, if it existed, would achieve that for us: \n\n```csharp\nbuilder.AddNpmApp(\"MyPortal\", \"../../My.Portal/src\", \"start\",)    \n    .WithEndpoint(port: 11005, targetPort: 3000, scheme: \"http\")\n    .WithEnvironment(\"GENERATE_SOURCEMAP\", \"true\")\n    .WithOtlpExporter()\n    .WaitFor(firstApi)\n    .WaitFor(secondApi)\n    .SuppressBrowserLaunch()  // This does not exist, but is the feature requested\n    ; \n```\n\n### Additional context\n\nWe would still want to see the npm app on the Aspire Dashboard. The only ask here is to prevent it from loading up in a separate tab and start the authentication/signin process. ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvfHAkA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc610RAN",
                                           "createdAt":  "2025-07-08T21:43:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KennethHoff",
                                           "body":  "If I understood this correctly, then I\u0027d personally go as far as to make this the default behaviour, as the current behavior feels off to me. ",
                                           "updatedAt":  "2025-07-08T21:43:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62FTyx",
                                           "createdAt":  "2025-07-10T01:20:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "IEvangelist",
                                           "body":  "I totally get where you\u0027re coming from — I actually ran into something really similar while building the .NET Aspire samples for [React, Vue, Angular, and Vite](https://learn.microsoft.com/en-us/samples/dotnet/aspire-samples/aspire-angular-react-vue/).\n\nThe good news is that this functionality already exists — and you don\u0027t need a dedicated method to enable it. Just to clarify, it\u0027s not actually .NET that\u0027s launching the browser; it\u0027s the underlying JavaScript framework (like [Create React App](https://create-react-app.dev/docs/advanced-configuration/)) doing that on its own. For example, when working with React, I was able to prevent the browser from launching by setting the environment variable like this:\n\n```csharp\n.WithEnvironment(\"BROWSER\", \"none\");\n```\n\nHere\u0027s a link to that sample in context:\n[https://github.com/dotnet/aspire-samples/blob/dc696fc520ad120c59b72bfc4b02826d37178c4c/samples/AspireWithJavaScript/AspireJavaScript.AppHost/AppHost.cs#L13-L19](https://github.com/dotnet/aspire-samples/blob/dc696fc520ad120c59b72bfc4b02826d37178c4c/samples/AspireWithJavaScript/AspireJavaScript.AppHost/AppHost.cs#L13-L19)\n\nWhile adding an API like `.SuppressBrowserLaunch()` might sound convenient, the challenge is that it would need to handle a variety of frontend frameworks, each with its own suppression mechanism. Because of that, the current `.WithEnvironment` approach gives you more control and flexibility for your specific stack — assuming it\u0027s environment variable based. If not, we can discuss that too.\n\nHope that helps clarify things!\n",
                                           "updatedAt":  "2025-07-10T01:20:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69ja03",
                                           "createdAt":  "2025-08-12T16:43:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "@IEvangelist @digitaldias does using `WithEnvironment` solve the issue for you? Like Pine said I would love to have a helper method but it would definitely be unwieldy. Maybe this is something we could do in the specific Community Toolkit integrations for it though (cc @aaronpowell ) so something like AddViteApp would have the helper on ot",
                                           "updatedAt":  "2025-08-12T16:43:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc698cCQ",
                                           "createdAt":  "2025-08-14T03:59:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "If setting an environment variable is all it takes, it wouldn\u0027t be hard to have the CT provide that. My only worry is there might not be consistency in what the variable is, so that would need to be considered.",
                                           "updatedAt":  "2025-08-14T03:59:28Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Would love a SuppressBrowserLaunch for .AddNpmApp",
        "labels":  [
                       "area-integrations",
                       "javascript"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10300",
        "createdAt":  "2025-07-09T14:38:18Z",
        "number":  10300,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-09T14:38:31Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nThere is a new emulator for Azure AppConfiguration at https://github.com/Azure/AppConfiguration-Emulator/.\n\nWhen this is released as a docker image, we should add `.RunAsEmulator` support to our Azure AppConfiguration hosting integration.\n\n### Describe the solution you\u0027d like\n\nWe should add `.RunAsEmulator` support to our Azure AppConfiguration hosting integration. That way developers can develop locally without needing azure resources deployed.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add Azure AppConfiguration emulator support",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10304",
        "createdAt":  "2025-07-09T22:00:45Z",
        "number":  10304,
        "author":  "JimGeersinga",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODNWOsQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "molostovvs",
                                            "createdAt":  "2025-08-29T18:51:55Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-28T19:02:11Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI have added `Aspire.Hosting.Yarp` to the apphost project. And followed the installation steps in the documentation.\nWhen I startup the apphost, the api gateway aka yarp starts normally. Whenever I do a request that should be redirected to a service i get the error  ` Request: An error was encountered before receiving a response.\n      System.Net.Http.HttpRequestException: Name or service not known (apiservice:443)\n       ---\u003e System.Net.Sockets.SocketException (0xFFFDFFFF): Name or service not known`\n\nCould this be an issue with ssl, or am I doing something wrong?\n\n\n\n### Expected Behavior\n\nYarp should return the page of the proxied api service\n\n### Steps To Reproduce\n\nMy yarp.json:\n```json\n{\n\t\"Logging\": {\n\t\t\"LogLevel\": {\n\t\t\t\"Default\": \"Information\",\n\t\t\t\"Microsoft.AspNetCore\": \"Information\"\n\t\t}\n\t},\n\t\"AllowedHosts\": \"*\",\n\t\"ReverseProxy\": {\n\t\t\"Routes\": {\n\t\t\t\"api\": {\n\t\t\t\t\"ClusterId\": \"api\",\n\t\t\t\t\"Match\": {\n\t\t\t\t\t\"Path\": \"/api/{**catch-all}\"\n\t\t\t\t},\n\t\t\t\t\"Transforms\": [\n\t\t\t\t\t{ \"PathRemovePrefix\": \"/api\" }\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\t\"Clusters\": {\n\t\t\t\"api\": {\n\t\t\t\t\"Destinations\": {\n\t\t\t\t\t\"api\": {\n\t\t\t\t\t\t\"Address\": \"https+http://apiservice\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\nMy aspire apphost:\n\n```csharp\nIResourceBuilder\u003cProjectResource\u003e apiService = builder.AddProject\u003cProjects.Api\u003e(\"apiservice\");\n\nbuilder.AddYarp(\"apigateway\")\n\t   .WithConfigFile(\"yarp.json\")\n\t   .WithReference(apiService);\n```\n\n\n1. Start AppHost\n2. go to the url `http://localhost:\u003capigateway port\u003e/api/scalar/v1`\n3. Watch the console in aspire of the apigateway\n\n### Exceptions (if any)\n\n```\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[1]\n      Request starting HTTP/1.1 GET http://localhost:60049/api/scalar/v1 - - -\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[0]\n      Executing endpoint \u0027api\u0027\ninfo: Yarp.ReverseProxy.Forwarder.HttpForwarder[9]\n      Proxying to https://apiservice/scalar/v1 HTTP/2 RequestVersionOrLower \nwarn: Yarp.ReverseProxy.Forwarder.HttpForwarder[48]\n      Request: An error was encountered before receiving a response.\n      System.Net.Http.HttpRequestException: Name or service not known (apiservice:443)\n       ---\u003e System.Net.Sockets.SocketException (0xFFFDFFFF): Name or service not known\n         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\n         at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n         --- End of inner exception stack trace ---\n         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.InjectNewHttp2ConnectionAsync(QueueItem queueItem)\n         at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)\n         at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n         at System.Net.Http.Metrics.MetricsHandler.SendAsyncWithMetrics(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at Yarp.ReverseProxy.Forwarder.HttpForwarder.SendAsync(HttpContext context, String destinationPrefix, HttpMessageInvoker httpClient, ForwarderRequestConfig requestConfig, HttpTransformer transformer, CancellationToken cancellationToken)\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]\n      Executed endpoint \u0027api\u0027\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[2]\n      Request finished HTTP/1.1 GET http://localhost:60049/api/scalar/v1 - 502 0 - 3997.6699ms\n```\n\n### .NET Version info\n\n.NET SDK:\n Version:           10.0.100-preview.5.25277.114\n Commit:            ddf39a1b46\n Workload version:  10.0.100-manifests.a07d1f1a\n MSBuild version:   17.15.0-preview-25277-114+ddf39a1b4\n\nProject version: net9.0\nyarp aspire version: 9.3.1-preview.1.25305.6\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwMxiWw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc62NYpJ",
                                           "createdAt":  "2025-07-10T11:06:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "SackMaggie",
                                           "body":  "What\u0027s your container runtime ? If using docker this wont be a problem.\nAssume your apiservice is a project resource and is run in development (F5) Since Yarp is running inside container and your service is running in process by host so there\u0027s this issue https://github.com/dotnet/aspire/issues/6547 to watch out.\n\nAs for configuration you could try https://github.com/dotnet/aspire/tree/v9.3.1/playground/TestShop project see if it work.\n\u003e I only use \u0027http\u0027 not sure if \u0027https+http\u0027 is related\n\nI have other minimal repo with yarp configured as well https://github.com/SackMaggie/aspire-yarp-test\n\u003e Working with docker, podman failed for me",
                                           "updatedAt":  "2025-07-10T11:06:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62NsGV",
                                           "createdAt":  "2025-07-10T11:26:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JimGeersinga",
                                           "body":  "I am using docker aswell, but I\u0027ll try with the TestShop project aswell to see if i get it to work.",
                                           "updatedAt":  "2025-07-10T11:26:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62OB7c",
                                           "createdAt":  "2025-07-10T11:53:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEaQ9AA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "berezovskyi",
                                                                               "createdAt":  "2025-07-11T14:43:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Just fyi there are some big changes coming to the yarp integration in the next version.\n\n@JimGeersinga are you using docker desktop or docker engine?\n\ncc @benjaminpetit ",
                                           "updatedAt":  "2025-07-10T11:53:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62ntPX",
                                           "createdAt":  "2025-07-11T21:15:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JimGeersinga",
                                           "body":  "I am using docker desktop.\n\nI got the TestShop to work and it works fine.\nThe test shop doesn\u0027t use the yarp.json configuration file tough",
                                           "updatedAt":  "2025-07-11T21:32:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62n-DZ",
                                           "createdAt":  "2025-07-11T21:39:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JimGeersinga",
                                           "body":  "It doesn\u0027t matter if I use a name or the localhost url it always fails in the non TestShop:\n```\ninfo: Yarp.ReverseProxy.Forwarder.HttpForwarder[9]\n      Proxying to http://localhost:5237/test HTTP/2 RequestVersionOrLower \nwarn: Yarp.ReverseProxy.Forwarder.HttpForwarder[48]\n      Request: An error was encountered before receiving a response.\n      System.Net.Http.HttpRequestException: Connection refused (localhost:5237)\n       ---\u003e System.Net.Sockets.SocketException (111): Connection refused\n         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\n         at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\n         at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n         --- End of inner exception stack trace ---\n         at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionPool.InjectNewHttp11ConnectionAsync(QueueItem queueItem)\n         at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)\n         at System.Net.Http.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)\n         at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)\n         at System.Net.Http.Metrics.MetricsHandler.SendAsyncWithMetrics(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at Yarp.ReverseProxy.Forwarder.HttpForwarder.SendAsync(HttpContext context, String destinationPrefix, HttpMessageInvoker httpClient, ForwarderRequestConfig requestConfig, HttpTransformer transformer, CancellationToken cancellationToken)\ninfo: Microsoft.AspNetCore.Routing.EndpointMiddleware[1]\n      Executed endpoint \u0027api\u0027\ninfo: Microsoft.AspNetCore.Hosting.Diagnostics[2]\n      Request finished HTTP/1.1 GET http://localhost:49449/api/test - 502 0 - 35.9248ms\n```\n\nSeeing it work in the TestShop, makes me think it is fixed in a newer version, but that version is not yet released.",
                                           "updatedAt":  "2025-07-11T21:39:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62oDsO",
                                           "createdAt":  "2025-07-11T21:44:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "SackMaggie",
                                           "body":  "You can checkout tag 9.3.1seeing if it still work.\nThe main brain is moved to code based.",
                                           "updatedAt":  "2025-07-11T21:44:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62oqXh",
                                           "createdAt":  "2025-07-11T22:50:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JimGeersinga",
                                           "body":  "It looks like its the issue with ports.\n\nI\u0027ve created a test project and aaded iissettings to the launchsettings like so:\n\n```\n{\n  \"$schema\": \"https://json.schemastore.org/launchsettings.json\",\n  \"iisSettings\": {\n    \"windowsAuthentication\": false,\n    \"anonymousAuthentication\": true,\n    \"iis\": {\n      \"applicationUrl\": \"https://apiservice.dev.local\",\n      \"sslPort\": 443\n    }\n  },\n\n  \"profiles\": {\n    \"IIS\": {\n      \"commandName\": \"IIS\",\n      \"launchBrowser\": true,\n      \"launchUrl\": \"https://apiservice.dev.local/\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    },\n    \"http\": {\n      \"commandName\": \"Project\",\n      \"dotnetRunMessages\": true,\n      \"launchBrowser\": false,\n      \"applicationUrl\": \"http://localhost:5446\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    },\n    \"https\": {\n      \"commandName\": \"Project\",\n      \"dotnetRunMessages\": true,\n      \"launchBrowser\": false,\n      \"applicationUrl\": \"https://localhost:7479;http://localhost:5446\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    }\n  }\n}\n\n```\n\nThis causes aspire to assign different ports to the resource instead of the ones defined in the apphost itself:\n\n```csharp\nvar apiService = builder.AddProject\u003cProjects.Aspire_Parent_App_ApiService\u003e(\"apiservice\");\n\nbuilder.AddProject\u003cProjects.Aspire_Parent_App_Web\u003e(\"webfrontend\")\n    .WithExternalHttpEndpoints()\n    .WithReference(apiService)\n    .WaitFor(apiService);\n\nbuilder.AddYarp(\"apigateway\")\n    .WithExternalHttpEndpoints()\n    .WithConfigFile(\"yarp.json\")\n    .WithReference(apiService)\n    .WaitFor(apiService);\n\nbuilder.Build().Run();\n```\n\n\u003cimg width=\"2270\" height=\"761\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/36bdb388-0f62-4dab-9f6a-f81917977e47\" /\u003e\n",
                                           "updatedAt":  "2025-07-11T22:50:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62uaxZ",
                                           "createdAt":  "2025-07-12T14:50:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "That\u0027s not a bug (the ports) see https://learn.microsoft.com/en-us/dotnet/aspire/fundamentals/networking-overview",
                                           "updatedAt":  "2025-07-12T14:50:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AzGJb",
                                           "createdAt":  "2025-08-28T19:02:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "@JimGeersinga this still repro\u0027ing on 9.4.1?",
                                           "updatedAt":  "2025-08-28T19:02:11Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "Yarp can not resolve service name",
        "labels":  [
                       "area-integrations",
                       "yarp"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10306",
        "createdAt":  "2025-07-09T23:41:55Z",
        "number":  10306,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODNY6nA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "afscrome",
                                            "createdAt":  "2025-07-10T09:43:45Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "SackMaggie",
                                            "createdAt":  "2025-07-10T10:16:56Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jdewera",
                                            "createdAt":  "2025-08-29T23:24:31Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-09-16T08:28:00Z",
        "body":  "Create a new hosting integration that provides integration with the `dotnet ef` global tool.\n\nPackage name: `Aspire.Hosting.dotnet-ef`\nAssembly name: `Aspire.Hosting.DotnetEf`\n\n## High-level feature outline\n\nThis isn\u0027t intended to be a final spec. Details should be discussed and iterated on as part of implementation and the shape and/or set of functionality may change:\n\n- Top-level resource for adding functionality associated with `dotnet ef`, e.g.: `builder.AddDotnetEf(\"dotnet-ef\")`;\n- Support for auto-acquiring the `dotnet-ef` tool package if not already installed (options for global vs. local install, default to install local if required version not already installed globally?)\n- Support for producing migration scripts and/or migration bundles as part of publishing the AppHost, e.g. `.PublishAsMigrationScript()`\n- Support for running migrations on AppHost start and having other resources wait on the migrations to complete, e.g.:\n    ```csharp\n    var ef = builder.AddDotnetEf(\"dotnet-ef\");\n    var api = builder.AddProject\u003cApi\u003e(\"api\");\n    var apiMigrations = api.AddEfMigrations(\"api-migrations\", ef).RunDatabaseUpdateOnStart();\n    ```\n- Adds resource commands for `dotnet ef` to resources that `AddEfMigrations` was called on:\n  - \"Update database\": Runs the `dotnet ef database update` command on the resource\n  - \"Drop database\": Runs the `dotnet ef database drop` command on the resource\n  - \"Reset database\": Runs `dotnet ef database drop` followed by `dotnet ef database update` on the resource\n  - \"Add migration...\": Prompts for a migration name (and some options from `dotnet ef migrations add`) before running `dotnet ef migrations add \u003cNAME\u003e` on the resource. If the resource is not stopped, we should pass the `--no-build` option.\n  - \"Remove migration\": Runs `dotnet ef migrations remove` on the resource to remove the last migration\n  - \"Remove migration (force)\": Prompts for confirmation and then runs `dotnet ef migrations remove -force` on the resource to remove the last migration and revert it from the database\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtku2HQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc62MMrZ",
                                           "createdAt":  "2025-07-10T09:49:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "afscrome",
                                           "body":  "\u003e Support for auto-acquiring the dotnet-ef\n\nCould this include making a more generic `dotnet tool` resource type that the EF resource could be built on, with the tool resource handling the tool acquisition - I have some other uses cases where I could make use of that portion.",
                                           "updatedAt":  "2025-07-10T09:49:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62NDY3",
                                           "createdAt":  "2025-07-10T10:43:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "SackMaggie",
                                           "body":  "Would love to have this implemented, Right now there are so many steps involve before db migrations can be done.\nWhen this https://github.com/dotnet/aspire/issues/10301 done, Some form of db backup could be integrated (e.g. running ``pg_dump`` into volume!)\n\nI know it mainly for development, but a backup is a backup (chore)",
                                           "updatedAt":  "2025-07-10T10:43:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62RC3m",
                                           "createdAt":  "2025-07-10T15:25:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003eCould this include making a more generic dotnet tool resource type that the EF resource could be built on, with the tool resource handling the tool acquisition - I have some other uses cases where I could make use of that portion.\n\nYep, although we can always factor that out later.",
                                           "updatedAt":  "2025-07-10T15:25:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62STT1",
                                           "createdAt":  "2025-07-10T17:01:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEaIWHw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2025-07-10T18:00:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "willdean",
                                           "body":  "Sounds like a good idea, now that I\u0027ve finished writing a separate migration project. :-)\n\nPlease don\u0027t forget to consider the use-case of solutions which have multiple DbContetxt types, in multiple libraries.   (i.e. those of us who never run `dotnet ef` without also including `--startup-project` and `--context` options)",
                                           "updatedAt":  "2025-07-10T17:01:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62S7Yd",
                                           "createdAt":  "2025-07-10T18:01:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEaJMDA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "willdean",
                                                                               "createdAt":  "2025-07-10T19:53:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003ePlease don\u0027t forget to consider the use-case of solutions which have multiple DbContetxt types, in multiple libraries. (i.e. those of us who never run dotnet ef without also including --startup-project and --context options)\n\nYep good point. I don\u0027t think `--startup-project` will be required as you\u0027ll only add app projects to the AppHost model, but for sure the `--context` option will need to be supported to allow for differentiating between multiple `DbContext` types.",
                                           "updatedAt":  "2025-07-10T18:01:57Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Add a hosting integration for the `dotnet ef` global tool",
        "labels":  [
                       "area-integrations",
                       "entityframework",
                       "pod-e2e"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10332",
        "createdAt":  "2025-07-11T14:24:43Z",
        "number":  10332,
        "author":  "fretje",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-11T15:07:58Z",
        "body":  "There is a bug in this code:\n\nhttps://github.com/dotnet/aspire/blob/00728f0f3cda5868f90b9efd03d43b6ae3366a80/src/Aspire.Hosting.SqlServer/SqlServerBuilderExtensions.cs#L261-L268\n\nWhen there are 2 consecutive lines with a \"GO\" statement in the creation script, the batchbuilder will be empty, which results in a\n\n```\nSystem.InvalidOperationException: BeginExecuteNonQuery: CommandText property has not been initialized\n   at Microsoft.Data.SqlClient.SqlCommand.ValidateCommand(Boolean isAsync, String method)\n   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean\u0026 usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)\n   at Microsoft.Data.SqlClient.SqlCommand.BeginExecuteNonQueryInternal(CommandBehavior behavior, AsyncCallback callback, Object stateObject, Int32 timeout, Boolean inRetry, Boolean asyncWrite)\n   at Microsoft.Data.SqlClient.SqlCommand.BeginExecuteNonQueryAsync(AsyncCallback callback, Object stateObject)\n   at Microsoft.Data.SqlClient.SqlCommand.\u003c\u003ec.\u003cInternalExecuteNonQueryAsync\u003eb__193_0(AsyncCallback callback, Object stateObject)\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl(Func`3 beginMethod, Func`2 endFunction, Action`1 endAction, Object state, TaskCreationOptions creationOptions)\n   at System.Threading.Tasks.TaskFactory`1.FromAsync(Func`3 beginMethod, Func`2 endMethod, Object state)\n   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQueryAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Aspire.Hosting.SqlServerBuilderExtensions.CreateDatabaseAsync(SqlConnection sqlConnection, SqlServerDatabaseResource sqlDatabase, IServiceProvider serviceProvider, CancellationToken ct) in /_/src/Aspire.Hosting.SqlServer/SqlServerBuilderExtensions.cs:line 270\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtoy18A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc62itzq",
                                           "createdAt":  "2025-07-11T14:28:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you provide a test case we can use",
                                           "updatedAt":  "2025-07-11T14:28:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62izEC",
                                           "createdAt":  "2025-07-11T14:35:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "fretje",
                                           "body":  "Sure, use the \".NET Aspire Empty App\" template with this code:\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nbuilder.AddSqlServer(\"sql\")\n    .AddDatabase(\"sqldb\")\n    .WithCreationScript(\"\"\"\n        GO\n        GO\n        \"\"\");\n\nbuilder.Build().Run();\n```\n\n*also add a reference to sqlserver hosting:\n\n```csproj\n    \u003cPackageReference Include=\"Aspire.Hosting.SqlServer\" Version=\"9.3.2\" /\u003e\n```\n\n\u003cimg width=\"924\" height=\"418\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fbce6ff6-705a-4239-aa3d-959f731726e1\" /\u003e",
                                           "updatedAt":  "2025-07-11T14:38:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62i7RF",
                                           "createdAt":  "2025-07-11T14:46:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "fretje",
                                           "body":  "Of course if you add a \"create database [sqldb]\" statement before the 2 GO statements, everything works fine... as the exception is catched and only logged, not rethrown.\n\nI only discovered this because there was a bug in our \"creation script generator\" which put 2 \"go\" statements somewhere in the middle of the script. \nWhich resulted in the script being only partially executed. So the app started fine, but there were other subtle bugs.\nAnd that log message with the invalidoperationexception was burried quite deep in all the other log messages, so took some time to find the source issue...",
                                           "updatedAt":  "2025-07-11T14:50:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62jLXw",
                                           "createdAt":  "2025-07-11T15:07:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Thanks, this context always helps!",
                                           "updatedAt":  "2025-07-11T15:07:58Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "InvalidOperationException \"CommandText property has not been initialized\" when creation script contains 2 consecutive GO statements",
        "labels":  [
                       "area-integrations",
                       "sqlserver"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10333",
        "createdAt":  "2025-07-11T15:11:47Z",
        "number":  10333,
        "author":  "berezovskyi",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-22T14:50:13Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen `Aspire.Hosting.Yarp` is configured to proxy to an HTTPS endpoint reference of an ASP.NET Core project, requests to proxied endpoints fail. Log (tried both `.WithReference(ourProject.GetEndpoint(\"https\"))` and `.WithReference(ourProject)`):\n\n```\n2025-07-11T16:57:02 info: Yarp.ReverseProxy.Forwarder.HttpForwarder[9]\n2025-07-11T16:57:02       Proxying to https://host.docker.internal:12345/OurSuffix HTTP/2 RequestVersionOrLower \n2025-07-11T16:57:02 warn: Yarp.ReverseProxy.Forwarder.HttpForwarder[48]\n2025-07-11T16:57:02       Request: An error was encountered before receiving a response.\n2025-07-11T16:57:02       System.Net.Http.HttpRequestException: The SSL connection could not be established, see inner exception.\n2025-07-11T16:57:02        ---\u003e System.Security.Authentication.AuthenticationException: The remote certificate is invalid according to the validation procedure: RemoteCertificateNameMismatch, RemoteCertificateChainErrors\n```\n\nFurther, attempts to configure an HTTPS endpoint on YARP itself fail. Trying to add an HTTPS endpoint via `.WithHttpsEndpoint(port: 8080)` fails with:\n\n\u003e   System.InvalidOperationException: The endpoint \u0027https\u0027 for container resource \u0027Ingress\u0027 must specify the TargetPort value\n\nAttempting to `.WithHttpsEndpoint(port: 8080, targetPort: 5000)`:\n\n\u003e failed to listen on TCP socket: address already in use\n\nWe currently use an approach similar to https://github.com/davidfowl/AspireYarp, which works fine with the HTTPS endpoints.\n\n### Expected Behavior\n\nPossible ideas:\n\n- Aspire.Hosting.Yarp runs on the host orchestrated directly by Aspire like https://github.com/davidfowl/AspireYarp\n- Alternatively, for the dotnet localhost certificate to also have `host.docker.internal` as a Common Name (not certain what would this entail, e.g. to allow Podman to be used instead in the future)\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n```\nPS C:\\Users\\abi\u003e dotnet --info\n.NET SDK:\n Version:           9.0.302\n Commit:            bb2550b9af\n Workload version:  9.0.300-manifests.183aaee6\n MSBuild version:   17.14.13+65391c53b\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.302\\\n\n.NET workloads installed:\n [aspire]\n   Installation Source: SDK 9.0.300, VS 17.14.36301.6\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.7\n  Architecture: x64\n  Commit:       3c298d9f00\n\n.NET SDKs installed:\n  8.0.412 [C:\\Program Files\\dotnet\\sdk]\n  9.0.302 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n```\n\n### Anything else?\n\n- `Aspire.Hosting.Yarp` version 9.3.1-preview.1.25305.6\n- Docker Desktop 4.43.1\n- Not certain if https://github.com/dotnet/aspire/issues/10304#issuecomment-3057131228 means this is on the roadmap\n- Looking at the Yarp integration code, seems like the overall issue is known - https://github.com/dotnet/aspire/blob/00728f0f3cda5868f90b9efd03d43b6ae3366a80/src/Aspire.Hosting.Yarp/YarpResourceExtensions.cs#L40-L43",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOv5u2qA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc62jcLX",
                                           "createdAt":  "2025-07-11T15:28:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiWkBg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "berezovskyi",
                                                                               "createdAt":  "2025-07-11T15:45:03Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CPedrini",
                                                                               "createdAt":  "2025-08-02T03:08:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "suugbut",
                                                                               "createdAt":  "2025-09-15T21:30:41Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes this is a limitation that will be lifted with the .NET 10 dev cert. The problem is that the host name host.docker.internal is not known by the asp.net dev cert (which is what is used) by the projects running on the host.",
                                           "updatedAt":  "2025-07-11T15:28:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62jzDS",
                                           "createdAt":  "2025-07-11T15:55:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "berezovskyi",
                                           "body":  "Thanks! Will this also be done with Podman in mind? E.g. to add `host.containers.internal` CN in addition to `host.docker.internal`? See https://github.com/containers/podman/issues/25152\n\nEdit: also, is this something I can readily test on 10.0.0-preview.5?",
                                           "updatedAt":  "2025-07-11T20:14:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62o3TT",
                                           "createdAt":  "2025-07-11T23:04:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEc4xgg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CPedrini",
                                                                               "createdAt":  "2025-08-02T14:36:14Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "danegsta",
                                           "body":  "Support for host.containers.internal is included as well; my understanding is the cert changes should land in preview 7.",
                                           "updatedAt":  "2025-07-11T23:04:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc62pApc",
                                           "createdAt":  "2025-07-11T23:26:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEaUiUg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "danegsta",
                                                                               "createdAt":  "2025-07-11T23:27:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "berezovskyi",
                                           "body":  "Thank you, David!",
                                           "updatedAt":  "2025-07-11T23:26:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-ZunN",
                                           "createdAt":  "2025-08-17T14:17:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEfSLTA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "berezovskyi",
                                                                               "createdAt":  "2025-08-22T15:45:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "JimGeersinga",
                                           "body":  "I am trying the same on preview 7, but no luck so far.\nWhere can we track the progress on the cert changes?",
                                           "updatedAt":  "2025-08-17T14:17:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_kTJU",
                                           "createdAt":  "2025-08-22T10:57:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEianDw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "GMouaad",
                                                                               "createdAt":  "2025-09-16T08:23:56Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "kovacsgellert",
                                           "body":  "EDIT: I found it:\n1. If the name of your API resource is `apiService`, then you have to set up YARP by calling `AddRoute()` with `apiService.GetEndpoint(\"http\")` instead of simply `apiService`.\n2. You have to remove `app.UseHttpsRedirection()` from the setup of the API project.\n\n\nHow could I configure YARP to proxy to the http endpoints of my services instead? Or is there another workaround to make this work? (I\u0027m on the latest Aspire.Hosting.Yarp 9.4.1-preview.1.25408.4)",
                                           "updatedAt":  "2025-08-22T13:07:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_m7ao",
                                           "createdAt":  "2025-08-22T14:50:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Your workaround looks right. Today it defaults to http+https for these urls, we could add an option to let you control the default globally.",
                                           "updatedAt":  "2025-08-22T14:50:13Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Aspire.Hosting.Yarp unable to proxy to https endpoints",
        "labels":  [
                       "area-integrations",
                       "yarp"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10344",
        "createdAt":  "2025-07-11T21:12:47Z",
        "number":  10344,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T08:28:10Z",
        "body":  "- [x] I have searched the existing issues\n\n**Is your feature request related to a problem? Please describe the problem.**\n\nIn the context of the discussion in PR #10038 (https://github.com/dotnet/aspire/pull/10038), it was suggested that we should query and display the list of Azure subscriptions available to the user as part of the provisioning user experience. Currently, users may have to manually enter their subscription, which can be cumbersome.\n\n**Describe the solution you\u0027d like**\n\nImplement functionality to retrieve the list of Azure subscriptions available to the user and present them in the UI as part of the provisioning flow. This would enhance usability by allowing users to select from their subscriptions, reducing friction and possible errors.\n\n**Additional context**\n\nFeature requested based on PR conversation: https://github.com/dotnet/aspire/pull/10038\n\nWe may need to wait for [Support InteractionInput.InputType with both freeform and suggested choices (useful for Azure Subscriptions) (dotnet/aspire#10343)](https://github.com/dotnet/aspire/issues/10343) in order to do this.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Query the list of available Azure subscriptions during provisioning prompting",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10364",
        "createdAt":  "2025-07-13T04:20:26Z",
        "number":  10364,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-13T04:20:26Z",
        "body":  "**Is your feature request related to a problem? Please describe the problem.**\n\nToday, Aspire assumes that the user is already logged into Visual Studio, VS Code, or Azure CLI for Azure local provisioning. The current experience does not detect which of these mechanisms (if any) are available, nor does it facilitate login or provide a UI for the user to choose their preferred credential provider. There is a configuration option for selecting a credential provider, but this is not surfaced in the user experience.\n\n**Describe the solution you\u0027d like**\n\n1. Detect available credential providers in the user\u0027s environment (VS, VS Code, az cli, etc) and present the user with a choice of which to use for login.\n2. If no login mechanism is detected, proactively facilitate or guide the user through the login process for one of the supported providers.\n3. Surface the credential provider configuration option in a user-friendly way.\n\n**Additional context**\nImproving this experience will make the first-time Azure login in Aspire smoother and more intuitive, especially for new users.\n\ncc @eerhardt \n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Improve Azure local provisioning: detect and facilitate first time login, show credential choices",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10376",
        "createdAt":  "2025-07-14T06:13:04Z",
        "number":  10376,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-07T02:23:20Z",
        "body":  "**Describe the bug**\nThe `AddPythonApp` method fails prematurely when there is no virtual environment present. This makes it impossible to build orchestration scenarios where the python environment is meant to be created as part of the app host startup process.\n\n**Expected Behavior**\n- It should be possible to defer the virtual environment creation to orchestration, rather than failing immediately.\n- Consider a way to optionally create the venv if not present, or allow the orchestration to handle it gracefully.\n\n**Steps To Reproduce**\n1. Attempt to use `AddPythonApp` with an app directory that does not yet contain a virtual environment.\n2. Observe that the exception below is thrown before orchestration can create the environment.\n\n**Exceptions (if any)**\n```\nUnhandled exception. Aspire.Hosting.DistributedApplicationException: The executable python could not be found in the\nvirtual environment at \u0027C:\\dev\\git\\dogfood\\WizardDemo\\pyapp\\../pyapp/venv\u0027 . Make sure the virtual environment is\ninitialized and the executable is installed.\n   at Aspire.Hosting.Python.VirtualEnvironment.GetRequiredExecutable(String name) in\n/_/src/Aspire.Hosting.Python/VirtualEnvironment.cs:line 54\n   at Aspire.Hosting.PythonAppResourceBuilderExtensions.AddPythonApp(IDistributedApplicationBuilder builder, String name,\nString appDirectory, String scriptPath, String virtualEnvironmentPath, String[] scriptArgs) in\n/_/src/Aspire.Hosting.Python/PythonAppResourceBuilderExtensions.cs:line 122\n   at Program.\u003cMain\u003e$(String[] args) in C:\\dev\\git\\dogfood\\WizardDemo\\WizardDemo.AppHost\\AppHost.cs:line 260\n```\n\n**Anything else?**\n- ASP.NET Core version:\n- .NET Aspire version (e.g. package versions): \n- The IDE (VS / VS Code / Rider / Other) you\u0027re running on, and its version (and any extension versions):\n\n_Links? References? Anything that will give more context about the issue you are encountering!_\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvHtZJw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc68dz9C",
                                           "createdAt":  "2025-08-06T23:44:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MedAnd",
                                           "body":  "Seems **AddPythonApp()** does not support Azure Function Apps written in Python?\n\nNot being a Python SME; cannot get **AddPythonApp()** to start my function using \"func start\", seems to also not have virtual environment context etc? ",
                                           "updatedAt":  "2025-08-06T23:44:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68esW0",
                                           "createdAt":  "2025-08-07T01:56:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Seems AddPythonApp() does not support Azure Function Apps written in Python?\n\nNo, we haven\u0027t even shipped non-preview functions support for .NET applications.",
                                           "updatedAt":  "2025-08-07T01:56:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68ewhO",
                                           "createdAt":  "2025-08-07T02:08:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MedAnd",
                                           "body":  "I\u0027m currently using **AddExecutable()** as per below as a workaround, but also having issues with .Net Aspire and the Python virtual environment context being ignored. For example, all the requirements.txt which have been installed are not used, as the Global Python context is invoked by .Net Aspire. \n\nDoes your team know of a workaround, can **AddExecutable()** somehow be set into using the correct Python virtual environment context until you add native support for Azure Functions in Python? \n\n\u003cimg width=\"1559\" height=\"672\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8419ab27-751c-4eea-9c4a-7b0e1402c49b\" /\u003e",
                                           "updatedAt":  "2025-08-07T02:10:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68eyeX",
                                           "createdAt":  "2025-08-07T02:14:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Not being a Python SME; cannot get AddPythonApp() to start my function using \"func start\", seems to also not have virtual environment context etc?\n\nTo make functions work with python you need both a python SME *and* a functions SME. I would start outside of aspire, get the end to end working without it and then figure out what you need to translate to get it working with aspire.\n\nI don\u0027t have enough context at the moment to get this working, maybe someone else can help, but our priority is to focus on the python integration before we focus on python + functions.",
                                           "updatedAt":  "2025-08-07T02:14:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68e0ZI",
                                           "createdAt":  "2025-08-07T02:19:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MedAnd",
                                           "body":  "Noted... anyone in the .NET Aspire team who works specifically on the Python support such as **AddPythonApp()** whom I can tag in this thread?\n\nThe above Azure Python Function works 100% when started via bash with **\"func start\"**. ",
                                           "updatedAt":  "2025-08-07T02:19:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68e1kn",
                                           "createdAt":  "2025-08-07T02:23:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You might have better luck finding someone else who is trying to make the same thing work on a more relevant issue or in discord.",
                                           "updatedAt":  "2025-08-07T02:23:20Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "AddPythonApp fails too early when there\u0027s no virtual environment",
        "labels":  [
                       "area-integrations",
                       "python"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10420",
        "createdAt":  "2025-07-15T10:42:30Z",
        "number":  10420,
        "author":  "vmykagapuz",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-05T07:06:00Z",
        "body":  "**INSTALL STEPS**\n1. Clean machine: Win11 x64 24h2 ENU\n2. Install VS 17.14.9\n3. Add dotnet9internalfeed\n4. Install the latest Aspire 9.4 build from release channel\n\n**NOTES**\n1. Run the project with the code as-is, without configuring it, so that the unresolved parameters will appear.\n\n**REPRO STEPS**\n1. Open VS \u003e Create a new project \u003e .NET Aspire Starter \u003e .NET 8.0/9.0 framework \u003e .NET Aspire version (9.4) \u003e Create\n2. Right-click xxx.web project \u003e Add \u003e .NET Aspire package \u003e **Aspire.Azure.Storage.Blobs**\n3. Open appsettings.json \u003e make changes related to Aspire component, verify you get intellisense for Aspire-related changes \n```\n{\n  \"Aspire\": {\n    \"Azure\": {\n      \"Storage\": {\n        \"Blobs\": {\n          \"DisableHealthChecks\": true,\n          \"DisableTracing\": false,\n          \"ClientOptions\": {\n            \"Diagnostics\": {\n              \"ApplicationId\": \"myapp\"\n            }\n          }\n        }\n      }\n    }\n  },\n```\n4. In the Program.cs of web project, type following codes: \n`builder.AddAzureBlobServiceClient(\"blobs\");`\n \n5. Open appsettings.json of xxx.AppHost project, add ConnectionStrings configuration section: \n```\n{\n  \"ConnectionStrings\": {\n    \"blobsConnectionName\": \"https://{account_name}.blob.core.windows.net/\"\n  },\n```\n6. In xxx.AppHost project, install the **Aspire.Hosting.Azure.Storage**\n7. Open Program.cs of xxx.AppHost project, add following codes: \n```\nvar blobs = builder.ExecutionContext.IsPublishMode\n    ? builder.AddAzureStorage(\"storage\").AddBlobs(\"blobs\")\n    : builder.AddConnectionString(\"blobs\");\n \nvar myService = builder.AddProject\u003cProjects.MyService\u003e()\n                       .WithReference(blobs);\n```\n8. Build and F5\n9. Verify that the Unresolved Parameters options are displayed \u003e enter values and check the buttons.\n\n**ACTUAL**\nThe following buttons doesnt have tooltip:\n\n1. Close button\n\u003cimg width=\"727\" height=\"468\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1c528f04-1773-4fc4-9b46-3790d7fde59f\" /\u003e\n\n2. User secrets link, Hide button, Save and Cancel\n\u003cimg width=\"714\" height=\"408\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b9e84fd4-1085-4d9c-b24f-3a75296e5864\" /\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[AspireE2E] Some buttons in the Unresolved Parameters option don\u0027t have tooltips.",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10488",
        "createdAt":  "2025-07-17T04:30:23Z",
        "number":  10488,
        "author":  "antiphon0",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODHVUTw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rrussell0",
                                            "createdAt":  "2025-07-17T04:36:27Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-07-17T21:21:54Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI recently added PublishAsAzureContainerApp to my AppHost project in order to configure specific settings for certain services that are deployed. \n\nHowever, when using azd infra generate, it generates the appropriate files, it just doesn\u0027t put them in the correct places. I\u0027ll post an example of my current file structure:\n\ninfra/            \n├── main.bicep\n├── main.parameters.json\n├── resources.bicep\n├── core-service/\n│   └── core-service.module.bicep\n├── core-service-identity/\n│   └── core-service-identity.module.bicep\n├── core-service-roles-server-sql/\n│   └── core-service-roles-ourservice-sql.module.bicep\n\naspire/OurSolution.Aspire.AppHost/infra/   \n├── core-service/\n│   └── core-service.tmpl.bicepparam\n \n(other files in root)\nazure.yaml\nOurSolution.sln\n\nThe generated .bicepparam files use a \u0027using \u0027./core-service.module.bicep\u0027 reference at the top - a reference to a file that does not exist (or rather, is in a different location). \n\nHere\u0027s the output of the azd infra generate command:\n\nazd infra generate\n  Warning: The following files would be overwritten by generated versions:\n * aspire\\OurService.Aspire.AppHost\\infra\\core-service\\core-service.tmpl.bicepparam\n * infra\\core-service\\core-service.module.bicep\n * infra\\core-service-identity\\core-service-identity.module.bicep\n * infra\\core-service-roles-ourservice-sql\\core-service-roles-ourservice-sql.module.bicep\n * infra\\main.bicep\n * infra\\main.parameters.json\n * infra\\ourservice-sql\\ourservice-sql.module.bicep\n * infra\\resources.bicep\n? What would you like to do with these files? Keep my existing files unchanged\n\n### Expected Behavior\n\nThe problem with this is that the .bicepparam files that are generated require that the module.bicep files be in the same infra folder as themselves. \n\nThe workaround is to manually move the generated files into the same folder as the .bicepparam files after generation.\n\n### Steps To Reproduce\n\nCreate a project that matches our project\u0027s file structure, initialize a new .NET project via aspire, then add .PublishAsAzureContainerApp with any config (like CPU/Memory) to its configuration. Then, run azd infra generate.\n\n### Exceptions (if any)\n\nThis worked well enough when we were using the previously generated .tmpl.yaml files that are generated when PublishAsAzureContainerApp is not used, because that all is contained in a single file (even though it was in a separate infra folder location).\n\n### .NET Version info\n\n9.0.301\n\n### Anything else?\n\n.NET Aspire version 9.3.2\n.NET 9",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOt-kdCA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc63uqRf",
                                           "createdAt":  "2025-07-17T04:36:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you provide a repro project?",
                                           "updatedAt":  "2025-07-17T04:36:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63u20a",
                                           "createdAt":  "2025-07-17T04:59:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "antiphon0",
                                           "body":  "\u003e Can you provide a repro project?\n\nUnfortunately, this project is hosted entirely in a private ADO repository by our company. \n\nI\u0027d be glad to provide you as much as I can, anonymized. ",
                                           "updatedAt":  "2025-07-17T04:59:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63u4Z5",
                                           "createdAt":  "2025-07-17T05:03:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "If you can make a project that reproduces the problem, that would be enough for us to figure out how to fix it. It doesn\u0027t reproduce with any project so figuring out the delta would be super helpful (and avoid us playing telephone 😄).",
                                           "updatedAt":  "2025-07-17T05:03:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63yQug",
                                           "createdAt":  "2025-07-17T09:51:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEa93aA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "vhvb1989",
                                                                               "createdAt":  "2025-07-17T15:59:18Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "antiphon0",
                                           "body":  "\u003e If you can make a project that reproduces the problem, that would be enough for us to figure out how to fix it. It doesn\u0027t reproduce with any project so figuring out the delta would be super helpful (and avoid us playing telephone 😄).\n\nI\u0027ve set up a brand new public project that simulates our folder structure and recreated the bug. Again, let me know if you need anything more!\n\nhttps://github.com/antiphon0/AspireExampleApp/tree/main\n\n",
                                           "updatedAt":  "2025-07-17T09:51:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6301um",
                                           "createdAt":  "2025-07-17T13:29:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @vhvb1989 ",
                                           "updatedAt":  "2025-07-17T13:29:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc63062m",
                                           "createdAt":  "2025-07-17T13:36:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@antiphon0 it seems like you\u0027re running from the repository root and that might be causing the issue yeah? ",
                                           "updatedAt":  "2025-07-17T13:36:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6353G3",
                                           "createdAt":  "2025-07-17T20:36:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "Hello @antiphon0, I was able to reproduce the issue you mentioned. Thank you for creating and sharing that sample repo.\n\nFrom AZD perspective, this is working as expected. If you run `azd up` after `azd infra generate`, azd will not return and errors and will  publish your app to Azure:\n\n\u003cimg width=\"1036\" height=\"373\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/39bc9779-bf9a-462c-89b4-e0fc40fb7d70\" /\u003e\n\nAs @davidfowl mentioned, the file structure you see after `azd infra generate` is becase you are running azd from the top of you repo, next to the aspire folder.  People usually runs AZD inside the AppHost folder (azd init + azd up) and have the `azure.yaml` created inside the AppHost folder.\nHowever, AZD supports running from both, the root and inside the AppHost folder, but `infra generate` is distributing the files the way you see.\n\nYou might want to try running from inside the AppHost folder.\n\nAlso, you might want to fully switch to Aspire taking control of the environment by using `builder.AddAzureContainerAppEnvironment(\"infra\");`  @davidfowl should have links to docs about it and notes about why this would be better",
                                           "updatedAt":  "2025-07-17T20:36:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc636R0I",
                                           "createdAt":  "2025-07-17T21:21:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEeFd_A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-13T02:31:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "antiphon0",
                                           "body":  "@vhvb1989 Thanks for your excellent reply - just tested by moving a modified copy (had to update file path to the AppHost project) of the azure.yaml into the apphost and ran azd infra gen while inside the AppHost folder and it put the modules and templates where I expected. \n\nFor additional context, I\u0027m using the commands I\u0027m using because they\u0027re the ones used in the default Azure DevOps pipeline for Aspire - I typically do this process:\nazd infra gen (getting changes if a new resource was added, while maintaining the manual modifications I have to make for things I\u0027m not 100% on how to configure via the AppHost)\nazd provision --preview (just as a sanity check)\nazd provision (used in pipeline)\nazd deploy (used in pipeline)\n\nDefinitely willing to chalk it up to Aspire ignorance (I\u0027m a DevOps person picking up Aspire/.NET to make deployments work across environments and resource groups properly, with the naming scheme that I want, with different scaling settings per env, and also accounting for per-environment app configs, etc), so I thank you for pointing me in the right direction, and am definitely looking forward to the information about .AddAzureContainerAppEnvironment. \n",
                                           "updatedAt":  "2025-07-17T21:21:54Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "When using azd infra generate with PublishAsAzureContainerApp, bicep module and param files are in split locations and point to incorrect file paths",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10537",
        "createdAt":  "2025-07-18T17:20:02Z",
        "number":  10537,
        "author":  "jsalem-ionodes",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODHm7iw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "oising",
                                            "createdAt":  "2025-07-18T18:35:42Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-07-18T17:21:16Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI\u0027m working on creating a device emulator farm using Aspire. As part of the process, I generate a Docker Compose file when I publish the project.\n\nCurrently, the Compose file is generated correctly. However, during the publishing process, Aspire creates a separate custom Docker image for each device configuration. This significantly increases the time it takes to publish, especially when multiple devices share the same base setup.\n\nIdeally, I\u0027d like to build the image only once and reuse it across all device configurations, using the project name (or similar) as the container name. This would greatly reduce build times and improve overall efficiency.\n\n```c#\nforeach (var device in deviceConfigurations)\n{\n    builder\n        .AddProject\u003cProjects.DeviceEmulator\u003e(\"device-\" + device.Id)\n        .WithEnvironment($\"{nameof(DeviceConfiguration)}:{nameof(DeviceConfiguration.Id)}\", device.Id)\n        .WithEnvironment($\"{nameof(DeviceConfiguration)}:{nameof(DeviceConfiguration.Base64Certificate)}\", device.Base64Certificate)\n        .WithEnvironment($\"{nameof(ProvisioningConfiguration)}:{nameof(ProvisioningConfiguration.GlobalDeviceEndpoint)}\", provisioningConfiguration.GlobalDeviceEndpoint)\n        .WithEnvironment($\"{nameof(ProvisioningConfiguration)}:{nameof(ProvisioningConfiguration.IdScope)}\", provisioningConfiguration.IdScope);\n}\n```\n\n### Describe the solution you\u0027d like\n\nIf possible, we should build the image only once and use the project name as the container name during the loop. This way, we avoid building the same image multiple times for each project.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Optimize Docker Image Creation by Reusing Image Across The Same Project",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10563",
        "createdAt":  "2025-07-20T12:56:35Z",
        "number":  10563,
        "author":  "foxminchan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-20T14:59:57Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n\n**Is your feature request related to a problem? Please describe the problem.**  \nCurrently, container image versions are hard-coded directly in C# code, for example:\n\n```csharp\ninternal static class QdrantContainerImageTags\n{\n    /// \u003cremarks\u003edocker.io\u003c/remarks\u003e\n    public const string Registry = \"docker.io\";\n\n    /// \u003cremarks\u003eqdrant/qdrant\u003c/remarks\u003e\n    public const string Image = \"qdrant/qdrant\";\n\n    /// \u003cremarks\u003ev1.14.1\u003c/remarks\u003e\n    public const string Tag = \"v1.14.1\";\n}\n```\n\nThis approach creates a maintenance burden—when a new container version is released, updates require manual code changes and redeployment.\n\n### Describe the solution you\u0027d like\n\nMove container image version definitions into a centralized configuration file (similar to .NET’s Central Package Management). This file could be:\n\n- Read at runtime or build time to apply the appropriate image versions.\n- Integrated with tools like Dependabot to automatically detect and propose updates when a new container image version is released.\n\n**Benefits:**\n\n- Easier version management without modifying source code.\n- Reduced risk and code churn.\n- Automatic update suggestions and version tracking.\n\n### Additional context\n\n- Moving version definitions into a configuration file decouples version upgrades from code changes.\n- Integration with version-bumping tools (e.g. Dependabot) can streamline updates and reduce manual effort.\n- Similar approaches exist in package management ecosystems; applying this pattern to container images aligns with best practices.\n- Decouples version updates from code changes.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Centralized management of container image versions",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10672",
        "createdAt":  "2025-07-25T12:49:40Z",
        "number":  10672,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-28T15:37:47Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nThe Azure ServiceBus integration in Aspire currently offers distinct capabilities between hosting and client integrations.\n\n- **Hosting Integration:** Supports declaring topics, queues, and subscriptions via APIs such as `IAzureServiceBusBuilder.AddQueue`, `AddTopic`, and `AddSubscription` (see e.g. `Aspire.Hosting.AzureServiceBus` APIs).\n- **Client Integration:** Currently only allows injecting a `ServiceBusClient` instance using the configured connection string. There is no support for directly injecting clients for a specific topic, queue, or subscription, nor for supporting deep linking via more granular connection string references.\n\nOther Azure resource integrations (such as Storage and Event Hubs) now support deep linking, allowing references to specific resources (e.g., a particular queue, topic, or subscription), and enabling injection of resource-specific clients (potentially with keyed injection when multiple are registered).\n\n### Describe the solution you\u0027d like\n\nBring the Azure ServiceBus client integration up to parity with other Azure resource types by supporting:\n\n- Deep linking: Allowing references to a specific Service Bus topic, queue, or subscription via connection string or configuration.\n- Injection of specific client types for topics, queues, or subscriptions (e.g., `ServiceBusSender`, `ServiceBusReceiver`), rather than only the generic `ServiceBusClient`.\n- Support for keyed registration/injection when multiple resources of the same type are configured.\n- Ensure APIs are consistent with other Azure resource integrations.\n\n\n### Additional context\n\nThis will bring Azure ServiceBus integration up to parity with other Azure resources and enable more flexible and discoverable client usage in Aspire.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOum6p9Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc653Thh",
                                           "createdAt":  "2025-07-25T14:49:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "We attempted to do this in https://github.com/dotnet/aspire/pull/8231#discussion_r2012498600, but hit the issues described there.\n\ncc @captainsafia ",
                                           "updatedAt":  "2025-07-25T14:49:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66bqn1",
                                           "createdAt":  "2025-07-28T15:37:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Yep, as the comment Eric linked to mentions, Service Bus is a little unique because there isn\u0027t a 1:1 relationship between the data concepts that exist on the hosting side and the consumer concepts that exist on the client side.\n\nBringing it to parity with the other integrations will likely make its own API much more confusing. :/",
                                           "updatedAt":  "2025-07-28T15:37:47Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Enhance Azure ServiceBus client integration to support deep linking and specific client injection",
        "labels":  [
                       "area-integrations",
                       "azure-servicebus"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10677",
        "createdAt":  "2025-07-25T15:32:08Z",
        "number":  10677,
        "author":  "matthewhartz-qmerit",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODL4tNw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "wouterkamphop",
                                            "createdAt":  "2025-08-20T05:12:54Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-02T14:03:31Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen configuring azure functions projects and passing in a reference to blob storage I noticed that the way we access connection strings in the functions application does not work the same was as an API service.\n\nFor example, I have this code:\nbuilder.AddProject\u003cProjects.ApiService\u003e(\"apiservice\")\n    .WithExternalHttpEndpoints()\n    .WithReference(rabbitMQ)\n    .WithReference(cosmos)\n    .WithReference(blobs)\n    .WaitFor(rabbitMQ)\n    .WaitFor(blobs);\n\nbuilder.AddAzureFunctionsProject\u003cProjects.Functions\u003e(\"functions\")\n    .WithExternalHttpEndpoints()\n    .WithHostStorage(storage)\n    .WithReference(blobs)\n    .WaitFor(blobs)\n    .WaitFor(storage);\n\nbut when access the connection string in the function I get null.\n`\nvar blobConnectionString = context.Configuration.GetConnectionString(\"Blobs\")!;\n`\n\nMy work around was to change the with reference to this:\nbuilder.AddAzureFunctionsProject\u003cProjects.PanelInsights_Functions\u003e(\"functions\")\n    .WithExternalHttpEndpoints()\n    .WithHostStorage(storage)\n    .WithReference(blobs, \"ConnectionStrings:Blobs\")\n    .WaitFor(blobs)\n    .WaitFor(storage);\n\n### Expected Behavior\n\n.WithReference(blobs)\n\npaired with:\nvar blobConnectionString = context.Configuration.GetConnectionString(\"Blobs\")!;\n\nshould get the value of the connection string\n\n### Steps To Reproduce\n\n- Set up an API project and a Functions project\n- Connect them using code provided above\n- Verify how you access the connection string in both api project and functions project\n- Notice that in the function project it returns null\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n9.0.7\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwXJYZg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66RiR7",
                                           "createdAt":  "2025-07-28T03:00:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "That\u0027s right, it\u0027s because functions projects are a bit strange with respect to configuration. Using the typical naming pattern breaks functons bindings so we use the alternative configuration pattern when applying configuration to functions.",
                                           "updatedAt":  "2025-07-28T03:00:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Bclhm",
                                           "createdAt":  "2025-09-02T14:03:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "biltongza",
                                           "body":  "@davidfowl could you please elaborate/point to some docs on what the \"alternative configuration pattern\" is/means?",
                                           "updatedAt":  "2025-09-02T14:03:31Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Aspire.Hosting.Azure.Functions does not use the typical connection string naming convention",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10685",
        "createdAt":  "2025-07-27T16:46:21Z",
        "number":  10685,
        "author":  "mehdihadeli",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-30T21:22:49Z",
        "body":  "Hi,\nCurrently, in [Aspire.Npgsql.EntityFrameworkCore.PostgreSQL](https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.Npgsql.EntityFrameworkCore.PostgreSQL) we have the capability of using existing DBContext and just enrich it with telemetry data with [`EnrichNpgsqlDbContext`](https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.Npgsql.EntityFrameworkCore.PostgreSQL/AspireEFPostgreSqlExtensions.cs#L107). \n\nIt is very better we have the same flexibility for [Aspire.MongoDB.Driver](https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.MongoDB.Driver) and just add telemetry data with a `EnrichMongoClient` method and using exisitng MongoClient and MongoDatabase.\n\nIf it is acceptable, I can create a Pull Request for it.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuwgNtw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66-m6g",
                                           "createdAt":  "2025-07-30T16:10:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "cc @lucecarter @eerhardt ",
                                           "updatedAt":  "2025-07-30T16:10:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66_m3y",
                                           "createdAt":  "2025-07-30T17:29:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "This needs https://jira.mongodb.org/browse/CSHARP-3124. The MongoDB.Driver library needs to be instrumented for telemetry.\n\n",
                                           "updatedAt":  "2025-07-30T17:29:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67AGbg",
                                           "createdAt":  "2025-07-30T18:11:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mehdihadeli",
                                           "body":  "Until implementation by mongo team we can use jimmy bogard [MongoDB.Driver.Core.Extensions.DiagnosticSources](https://github.com/jbogard/MongoDB.Driver.Core.Extensions.DiagnosticSources) package for instrumentation as it used in `Aspire.Mongo.Driver` right now and simulate such a function like [EnrichNpgsqlDbContext](https://github.com/dotnet/aspire/blob/main/src/Components/Aspire.Npgsql.EntityFrameworkCore.PostgreSQL/AspireEFPostgreSqlExtensions.cs#L107) in mongodb aspire resource extension.",
                                           "updatedAt":  "2025-07-30T18:11:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67CA23",
                                           "createdAt":  "2025-07-30T21:22:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "LuceCarter",
                                           "body":  "The ticket @eerhardt linked is scheduled to be looked at next quarter (Oct-Jan), most likely October rather than January.\n\nI made the team aware of this issue so it can be linked in the event of updates worth sharing 😊",
                                           "updatedAt":  "2025-07-30T21:22:49Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Enrich existing Mongo client with telemetry instrumentation",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10707",
        "createdAt":  "2025-07-28T17:48:58Z",
        "number":  10707,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-28T17:49:07Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen using the `ConfigureCustomDomain` method to use a domain on an ACA app:\n\n```C#\nvar frontend = builder.AddProject\u003cProjects.MyProject\u003e(\"myproject\")\n    .PublishAsAzureContainerApp((cae, app) =\u003e\n    {\n        app.ConfigureCustomDomain(customDomain, certificateName);\n    });\n```\n\nThere are cases where the `customDomain` parameter may have an empty value. For example, in production the customDomain is used. But in a test/development environment, I may not want to use the custom domain, so I leave the parameter value blank.\n\nWhen I do this, the bicep fails to deploy because the `customDomain` value can\u0027t be empty.\n\n```bicep\nparam customDomain string\n\nresource myProject \u0027Microsoft.App/containerApps@2024-03-01\u0027 = {\n  name: \u0027myProject\u0027\n  location: location\n  properties: {\n    configuration: {\n      activeRevisionsMode: \u0027Single\u0027\n      ingress: {\n        external: true\n        targetPort: int(myProject_containerport)\n        transport: \u0027http\u0027\n        customDomains: [\n          {\n            name: customDomain\n            bindingType: (certificateName != \u0027\u0027) ? \u0027SniEnabled\u0027 : \u0027Disabled\u0027\n            certificateId: (certificateName != \u0027\u0027) ? \u0027${outputs_azure_container_apps_environment_id}/managedCertificates/${certificateName}\u0027 : null\n          }\n        ]\n      }\n```\n\nWe should add a check for `customDomain` being empty and not add the customDomain in that case.\n\n### Expected Behavior\n\nWhen using an empty value `customDomain` parameter value, no custom domain is registered.\n\n### Steps To Reproduce\n\nSee above.\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\nSince the `ConfigureCustomDomain` method allows being called multiple times, we need to support that.\n\nOne way I\u0027ve figured out how to write the bicep is to use the `concat` and conditional expression. It could look like this:\n\n```bicep\n        customDomains: concat((customDomain != \u0027\u0027) ? [\n            {\n              name: customDomain\n              bindingType: (certificateName != \u0027\u0027) ? \u0027SniEnabled\u0027 : \u0027Disabled\u0027\n              certificateId: (certificateName != \u0027\u0027) ? \u0027${cae_outputs_azure_container_apps_environment_id}/managedCertificates/${certificateName}\u0027 : null\n            }\n          ] : [], (customDomain2 != \u0027\u0027) ? [\n            {\n              name: customDomain2\n              bindingType: (certificateName != \u0027\u0027) ? \u0027SniEnabled\u0027 : \u0027Disabled\u0027\n              certificateId: (certificateName != \u0027\u0027) ? \u0027${cae_outputs_azure_container_apps_environment_id}/managedCertificates/${certificateName}\u0027 : null\n            }\n          ] : [], (customDomain3 != \u0027\u0027) ? [\n            {\n              name: customDomain3\n              bindingType: (certificateName != \u0027\u0027) ? \u0027SniEnabled\u0027 : \u0027Disabled\u0027\n              certificateId: (certificateName != \u0027\u0027) ? \u0027${cae_outputs_azure_container_apps_environment_id}/managedCertificates/${certificateName}\u0027 : null\n            }\n          ] : [])\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "ConfigureCustomDomain should check for empty customDomain parameter",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10721",
        "createdAt":  "2025-07-29T11:50:49Z",
        "number":  10721,
        "author":  "Mivaweb",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-30T07:37:30Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nCreated a new .NET Aspire project, added a new Azure Functions project which is enlisted in Aspire.\nWhen running the AppHost, I can see the function gets launched with a url on port 7280.\nBut when triggering the function on that port or browsing to that port doesn\u0027t work.\n\nWhen going into the logs of the functions project, I see port 7071 is used, so not the one from the AppHost.\n\nLaunchSettings file in Azure functions:\n\n```{\n  \"profiles\": {\n    \"FirstAspireProjectFunctions\": {\n      \"commandName\": \"Project\",\n      \"commandLineArgs\": \"--port 7280\",\n      \"launchBrowser\": false\n    }\n  }\n}\n```\n\nThings I have tried:\n\n- Edit the registration of the azure functions project with: \n\n`.WithArgs(\"--host\", \"localhost\", \"--port\", \"7280\")`\n\nThis works, I can see now that the port 7280 is used for the function url.\n\n- Edit the launchSettings file in the azure functions project to include host localhost:\n\n```{\n  \"profiles\": {\n    \"FirstAspireProjectFunctions\": {\n      \"commandName\": \"Project\",\n      \"commandLineArgs\": \"--host localhost --port 7280\",\n      \"launchBrowser\": false\n    }\n  }\n}\n```\n\nThis doens\u0027t work.\n\n### Expected Behavior\n\nExpected to see the Azure functions url with the port defined by the AppHost.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOut8qBQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66saUi",
                                           "createdAt":  "2025-07-29T12:13:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEcUn3g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Mivaweb",
                                                                               "createdAt":  "2025-07-29T12:20:01Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "MihaZupan",
                                           "body":  "Possibly #8589?",
                                           "updatedAt":  "2025-07-29T12:13:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66y-78",
                                           "createdAt":  "2025-07-29T20:18:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "@Mivaweb Does this issue only repro when you run from Visual Studio or do you see it in `dotnet run` as well?",
                                           "updatedAt":  "2025-07-29T20:18:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc663yoF",
                                           "createdAt":  "2025-07-30T07:37:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Mivaweb",
                                           "body":  "@captainsafia trying to run it with `dotnet run` but its not working. The Azure Function is not able to run. I commented on another issue: https://github.com/dotnet/aspire/issues/7010#issuecomment-3135176587",
                                           "updatedAt":  "2025-07-30T07:37:30Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Azure Function url is different from the Aspire defined url",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10723",
        "createdAt":  "2025-07-29T16:40:03Z",
        "number":  10723,
        "author":  "The3G",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-03T10:34:48Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nCosmosDB emulator fails to start \nAspire.Hosting.Dcp.dcp.start-apiserver.api-server.container-logstreamer.LogDescriptorSet[0]\n      Error disposing log descriptor    {\"ResourceName\": {\"name\":\"appcosmos-avndbgtb\"}, \"ResourceUID\": \"970a1dff-349b-4c04-998b-615cd95cc0ad\", \"error\": \"context deadline exceeded\\ncontext deadline exceeded\"}\n\n\n### Expected Behavior\n\nCosmosDB emulator should start\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOu6euRg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66x5KC",
                                           "createdAt":  "2025-07-29T18:42:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Any more information? It doesn’t fail on my machine. ",
                                           "updatedAt":  "2025-07-29T18:42:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66x5kS",
                                           "createdAt":  "2025-07-29T18:43:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@karolz-ms @danegsta have you seen this error before?",
                                           "updatedAt":  "2025-07-29T18:43:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66yBL0",
                                           "createdAt":  "2025-07-29T18:54:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "karolz-ms",
                                           "body":  "This error is most likely a red herring; a symptom not the cause. My bet is that the emulator container is not starting for some reason. @The3G do you see any errors in the logs for the emulator in the Aspire dashboard? Can you check Docker/Podman logs for this container?",
                                           "updatedAt":  "2025-07-29T18:54:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66z6FE",
                                           "createdAt":  "2025-07-29T21:46:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "@karolz-ms docker logs don\u0027t seem to show any errors; the container is starting if I run it via commandline outside of the aspire project (visualstudio) F5",
                                           "updatedAt":  "2025-07-29T21:46:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66z-lu",
                                           "createdAt":  "2025-07-29T21:56:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEcZh4Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "The3G",
                                                                               "createdAt":  "2025-07-29T21:58:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@The3G There isn\u0027t enough details here to do an investigation. Can you record a video, and provide more information about versions, your project (maybe push a repo to github), what container runtime you are using, operating system etc. Without any of this we cant help with this problem.",
                                           "updatedAt":  "2025-07-29T21:56:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc660Dll",
                                           "createdAt":  "2025-07-29T22:07:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "@davidfowl I\u0027ll do this tommorrow as it\u0027s 23hrs here in the UK; \n\nBTW, I\u0027ve been using .NET 10 with nightly builds for aspire packages, \nbut also see this using NET 9.0 and aspire 9.4.0 pacakges.\n\nDocker version 28.3.2, build 578ccf6\n\nWindows 11 Enterprise\nVersion\t24H2\nInstalled on\t‎18/‎07/‎2025\nOS build\t26100.4652",
                                           "updatedAt":  "2025-07-29T22:07:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc660E6o",
                                           "createdAt":  "2025-07-29T22:09:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Record a video showing what happens in the dashboard and docker.",
                                           "updatedAt":  "2025-07-29T22:09:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc664OAi",
                                           "createdAt":  "2025-07-30T08:17:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "@davidfowl @karolz-ms I\u0027m closing this issue as this seems not to be related to CosmosDB specifically and may be environment as I\u0027m not seeing this on a different machine and I am seeing the same with other aspire projects from templates (without modification)",
                                           "updatedAt":  "2025-07-30T08:17:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66-vel",
                                           "createdAt":  "2025-07-30T16:20:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "karolz-ms",
                                           "body":  "@The3G thanks for the update. Let us know please if we can help you get to the bottom of this in any way.",
                                           "updatedAt":  "2025-07-30T16:20:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67kOzY",
                                           "createdAt":  "2025-08-02T23:10:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "```\ninfo: Aspire.Hosting.Azure.AzureCosmosDBContainerResource[0]\n      connecting: AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;AccountEndpoint=https://127.0.0.1:59291;DisableServerCertificateValidation=True;\ninfo: Aspire.Hosting.Azure.AzureCosmosDBContainerResource[0]\n      creating if not exists: appimport\nfail: Aspire.Hosting.Dashboard.ServiceClient.DashboardClient[0]\n      Error #1 watching resources.\n      Grpc.Core.RpcException: Status(StatusCode=\"Internal\", Detail=\"Error reading next message. HttpProtocolException: The HTTP/2 server sent invalid data on the connection. HTTP/2 error code \u0027PROTOCOL_ERROR\u0027 (0x1). (HttpProtocolError)\", DebugException=\"System.Net.Http.HttpProtocolException: The HTTP/2 server sent invalid data on the connection. HTTP/2 error code \u0027PROTOCOL_ERROR\u0027 (0x1). (HttpProtocolError)\")\n       ---\u003e System.Net.Http.HttpProtocolException: The HTTP/2 server sent invalid data on the connection. HTTP/2 error code \u0027PROTOCOL_ERROR\u0027 (0x1). (HttpProtocolError)\n         at System.Net.Http.Http2Connection.ThrowRequestAborted(Exception innerException)\n         at System.Net.Http.Http2Connection.Http2Stream.TryReadFromBuffer(Span`1 buffer, Boolean partOfSyncRead)\n         at System.Net.Http.Http2Connection.Http2Stream.ReadDataAsync(Memory`1 buffer, HttpResponseMessage responseMessage, CancellationToken cancellationToken)\n         at System.Net.Http.Http2Connection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)\n         at Grpc.Net.Client.Internal.GrpcCall`2.ReadMessageAsync(Stream responseStream, String grpcEncoding, Boolean singleMessage, CancellationToken cancellationToken)\n         at Grpc.Net.Client.Internal.HttpContentClientStreamReader`2.MoveNextCore(CancellationToken cancellationToken)\n         --- End of inner exception stack trace ---\n         at Grpc.Net.Client.Internal.HttpContentClientStreamReader`2.MoveNextCore(CancellationToken cancellationToken)\n         at Grpc.Net.Client.Internal.Retry.RetryCallBaseClientStreamReader`2.MoveNext(CancellationToken cancellationToken)\n         at Grpc.Core.AsyncStreamReaderExtensions.ReadAllAsyncCore[T](IAsyncStreamReader`1 streamReader, CancellationToken cancellationToken)+MoveNext()\n         at Grpc.Core.AsyncStreamReaderExtensions.ReadAllAsyncCore[T](IAsyncStreamReader`1 streamReader, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n         at Aspire.Dashboard.ServiceClient.DashboardClient.WatchResourcesAsync(RetryContext retryContext, CancellationToken cancellationToken) in /_/src/Aspire.Dashboard/ServiceClient/DashboardClient.cs:line 350\n         at Aspire.Dashboard.ServiceClient.DashboardClient.WatchResourcesAsync(RetryContext retryContext, CancellationToken cancellationToken) in /_/src/Aspire.Dashboard/ServiceClient/DashboardClient.cs:line 350\n         at Aspire.Dashboard.ServiceClient.DashboardClient.WatchWithRecoveryAsync(Func`3 action, CancellationToken cancellationToken) in /_/src/Aspire.Dashboard/ServiceClient/DashboardClient.cs:line 321\n```",
                                           "updatedAt":  "2025-08-02T23:10:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67kQHo",
                                           "createdAt":  "2025-08-02T23:13:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "different error with new previous 9.5.0; failure to connection using connection string from within the OnResourceReady event inside AppHost.cs using emulator\n AccountKey=C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==;AccountEndpoint=https://127.0.0.1:59291;DisableServerCertificateValidation=True;\n\ninfo: Aspire.Hosting.Azure.AzureCosmosDBContainerResource[0]\n      creating if not exists: appimport\n\n```\nasync Task DatabaseEntityImportFromDirectory(\n    AzureCosmosDBContainerResource resource,\n    ResourceReadyEvent resourceReadyEvent,\n    CancellationToken cancellationToken)\n{\n    var hostEnvironment = resourceReadyEvent.Services\n            .GetRequiredService\u003cIHostEnvironment\u003e();\n    var logger = resourceReadyEvent.Services\n        .GetRequiredService\u003cILogger\u003cAzureCosmosDBContainerResource\u003e\u003e();\n\n    string applicationImportPath = Path.Combine(\n            hostEnvironment.ContentRootPath.ToLower(),\n            hostEnvironment.EnvironmentName.ToLower(),\n            \"import\"\n        );\n    if (!Directory.Exists(applicationImportPath))\n        Directory.CreateDirectory(applicationImportPath);\n\n    var resourceConnectionString = await resource\n        .Parent.Parent\n        .ConnectionStringExpression\n        .GetValueAsync(cancellationToken)\n        .ConfigureAwait(false);\n    \n    using(var scoped = logger.BeginScope(\"importing data from directory\"))\n    {\n        logger.LogInformation(\"importing data from directory: {Directory}\", \n            applicationImportPath);\n\n        try \n        {\n            logger.LogInformation(\"connecting: {connectionString}\",\n                resourceConnectionString);\n\n            CosmosClient resourceClient = new CosmosClient(\n                resourceConnectionString, new CosmosClientOptions\n                {\n                    ConsistencyLevel = ConsistencyLevel.Eventual,\n                    LimitToEndpoint = resource.IsEmulator(),\n                    ConnectionMode = resource.IsEmulator() ? \n                        ConnectionMode.Gateway : ConnectionMode.Direct\n                });\n           \n            logger.LogInformation(\"creating if not exists: {databaseName}\",\n                resource.Parent.DatabaseName);\n\n            await resourceClient.CreateDatabaseIfNotExistsAsync(\n                resource.Parent.DatabaseName);\n\n            logger.LogInformation(\"getting database: {databaseName}\",\n                resource.Parent.DatabaseName);\n            var resourceDatabase = resourceClient.GetDatabase(\n                resource.Parent.DatabaseName);\n\n            logger.LogInformation(\"creating container: {containerName}\",\n                resource.ContainerName);\n            \n            await resourceDatabase.CreateContainerIfNotExistsAsync(\n                resource.ContainerName, resource.PartitionKeyPath);\n        \n            var resourceContainer = resourceDatabase.GetContainer(\n                resource.ContainerName);\n\n            var importItems = fake.GenerateLazy(10)\n                .Select(item =\u003e new \n                {\n                    id = Guid.NewGuid().ToString(),\n                    item.Title,\n                    item.Description,\n                    item.Tags,\n                    item.Sensitivity,\n                    item.References,\n                    item.ImportedBy,\n                    item.ImportedOn,\n                    item.PublishedBy,\n                    item.PublishedOn,\n                    filePath = applicationImportPath\n                });\n\n            foreach(var item in importItems)\n            {\n                logger.LogInformation(\"importing item: {Title}\", item.Title);\n                await resourceContainer.CreateItemAsync(\n                    item,\n                    new PartitionKey(applicationImportPath),\n                    cancellationToken: cancellationToken\n                );\n            }\n\n        }\n        catch(Exception ex)\n        {\n            logger.LogInformation(\"exception: {errorMessage}\",\n                ex.Message);\n        }\n        finally\n        {\n\n        }\n    }\n\n    await Task.CompletedTask;\n}\n```",
                                           "updatedAt":  "2025-08-02T23:15:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67kZ94",
                                           "createdAt":  "2025-08-03T00:43:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@The3G what are you looking for here?",
                                           "updatedAt":  "2025-08-03T00:43:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67p65G",
                                           "createdAt":  "2025-08-03T10:34:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "@davidfowl we should be able to connect to the CosmosDb emulator from within the OnResourceReady; however the connection string provided is failing as shown when performing an action to check/create the database.  I\u0027ve a simple repo of the issue here https://github.com/[The3G/CosmosDBOnResourceReady](https://github.com/The3G/CosmosDBOnResourceReady)",
                                           "updatedAt":  "2025-08-03T10:34:48Z"
                                       }
                                   ],
                         "totalCount":  13
                     },
        "title":  "CosmosDB emulator fails",
        "labels":  [
                       "area-integrations",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10727",
        "createdAt":  "2025-07-29T20:39:10Z",
        "number":  10727,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-29T20:39:10Z",
        "body":  "Currently, role assignments are always allocated to Azure Resources when they are provisioned. This presents an issue for the scenarios where a user might be resolving an existing resource in a subscription where they don\u0027t have the permissions to create role assignments.\n\nIt\u0027s possible to work around this with a method like:\n\n```csharp\npublic static IResourceBuilder\u003cT\u003e DisableRoleAssignments\u003cT\u003e(this IResourceBuilder\u003cT\u003e builder) where T : Resource\n{\n    var defaultRoleAssignmentAnnotation = builder.Resource.Annotations.OfType\u003cDefaultRoleAssignmentsAnnotation\u003e().FirstOrDefault();\n    if (defaultRoleAssignmentAnnotation is not null)\n    {\n        builder.Resource.Annotations.Remove(defaultRoleAssignmentAnnotation);\n    }\n    return builder;\n}\n```\n\nBut perhaps we should provide built-in exemptions?\n\ncc: @eerhardt ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support disabling role assignments on a per-resource basis",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10758",
        "createdAt":  "2025-07-30T18:36:03Z",
        "number":  10758,
        "author":  "james-gould",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODKmhBA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Frulfump",
                                            "createdAt":  "2025-08-10T16:46:32Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-11T22:13:08Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI\u0027m the author of the [Azure Key Vault Emulator](https://github.com/james-gould/azure-keyvault-emulator) which has an [Aspire AppHost library](https://www.nuget.org/packages/AzureKeyVaultEmulator.Aspire.Hosting) to help override an existing KV and use the emulator. This prevents provisioning, but the exposed APIs on the `AzureKeyVaultResource` aren\u0027t suitable for overriding.\n\nWhile it works currently, the [overriding functionality](https://github.com/james-gould/azure-keyvault-emulator/blob/9f9f151d0acbb6586c141e1759d83340e16aa590/src/AzureKeyVaultEmulator.Aspire.Hosting/KeyVaultEmulatorExtensions.cs#L86-L137) is rather clunky and brittle. The resource has no expectation of being *able to* be overridden (totally fair), meaning a series of workarounds have to be employed to get the Aspire SDK to play ball.\n\nFirst party support/integration would mean doing away with some of the more unpredictable workarounds, such as the `vaultUri` [being unavailable](https://github.com/james-gould/azure-keyvault-emulator/issues/304) which I believe is partly related to the deprecation of the `BicepSecretOutputReference` in https://github.com/dotnet/aspire/issues/9614\n\n### Describe the solution you\u0027d like\n\n- The ability to declare the `AzureKeyVaultResource` as overridable would be amazing, allowing the resource to delegate the `vaultUri` fulfillment to the Emulator and being able to use proper `HealthCheck\u003cT\u003e` for standardisation.\n\n- Either direct integration of the library to enable `.RunAsEmulator()` when installing the `Aspire.Hosting.Azure.KeyVault` integration package, or being able to host the client libraries underneath the `Aspire` reserved tag so they appear under the parent package in NuGet.\n\n- An addition to the Aspire documentation, should the integration go ahead, detailing the usage. Happy to write this myself, [docs](https://github.com/james-gould/azure-keyvault-emulator/blob/master/docs/CONFIG.md) are available in the docs dir and [base README](https://github.com/james-gould/azure-keyvault-emulator/blob/master/README.md) to extrapolate from.\n\n### Additional context\n\nThere are some notable requirements of the Emulator which may conflict with the values of Aspire:\n\n- SSL certificates are required for the Azure Client SDK, so the `AzureKeyVaultEmulator.Aspire.Hosting` interacts with the host machine\u0027s disk to write and reuse `X509Certificate2` localhost certs [as you can see from this helper class](https://github.com/james-gould/azure-keyvault-emulator/blob/master/src/AzureKeyVaultEmulator.Aspire.Hosting/Helpers/KeyVaultEmulatorCertHelper.cs). I\u0027m aware Aspire has done a lot of work for SSL parity between resources, this may be a viable path forward.\n  - The SSL installation is done to the `Personal` store in the `User Certificates`, identical to the `dotnet dev-certs` behaviour (including the popup prompt when first installing).\n\n- The Emulator itself has first-class support for Aspire, but it isn\u0027t an Aspire project specifically. A large portion of users are integrating directly via Docker in a variety of languages and stacks, so the projects would need to remain as separate entities.\n  - This may prevent hooking into some of the nicer internal APIs Aspire has to offer around the orchastration of resources and emulators as a concept.\n\nThe project is currently [in seed phase with the .NET Foundation](https://github.com/dotnet-foundation/projects/issues/441) and I\u0027m hopeful it will receive increased support during the next review round in ~3 months time (ish).",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvV3xYg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc67DOgf",
                                           "createdAt":  "2025-07-31T00:06:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e While it works currently, the [overriding functionality](https://github.com/james-gould/azure-keyvault-emulator/blob/9f9f151d0acbb6586c141e1759d83340e16aa590/src/AzureKeyVaultEmulator.Aspire.Hosting/KeyVaultEmulatorExtensions.cs#L86-L137) is rather clunky and brittle. The resource has no expectation of being able to be overridden (totally fair), meaning a series of workarounds have to be employed to get the Aspire SDK to play ball.\n\nThis is the thing we\u0027d want to fix and make it so that you can cleanly integrate. See https://github.com/james-gould/azure-keyvault-emulator/pull/308.\n\n",
                                           "updatedAt":  "2025-07-31T00:06:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69IaVU",
                                           "createdAt":  "2025-08-11T02:13:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEd0sjw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Frulfump",
                                                                               "createdAt":  "2025-08-11T07:55:09Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "james-gould",
                                                                               "createdAt":  "2025-08-11T11:51:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "OK so some changes we should make:\n\n1. https://github.com/dotnet/aspire/pull/10898\n2. The AzureKeyVaultResource will resolve the http/https endpoint as the ConnectionString when it is an Emulator (IsEmulator). That will remove [the need to set outputs](https://github.com/james-gould/azure-keyvault-emulator/blob/f4f59f78f4520a6eae7cb830dae48bc838e62694/src/AzureKeyVaultEmulator.Aspire.Hosting/KeyVaultEmulatorExtensions.cs#L95-L107)\n3. Support for AzureKeyVaultSecretResource (this will be more involved as we have to work out how this should work in the emulator)",
                                           "updatedAt":  "2025-08-11T02:13:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69KYXv",
                                           "createdAt":  "2025-08-11T07:47:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEd0fFQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Frulfump",
                                                                               "createdAt":  "2025-08-11T07:55:10Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-11T11:20:23Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "james-gould",
                                           "body":  "Not sure if it\u0027s relevant but AKV is *always* HTTPS because the Azure SDK enforces the scheme while using Bearer tokens in the client libs.\n\n\u003e Support for AzureKeyVaultSecretResource \n\nYeah I\u0027ve been meaning to look into this. A blocker was the required `.WaitFor(keyVault)` but I believe that\u0027s been resolved with the work we did in https://github.com/james-gould/azure-keyvault-emulator/pull/308\n\nIf `.WithHealthCheck(\"/token\")` corrects that behaviour then I can start digging into the secret outputs and parameters - will need some coordination with the implementing environment as it assumes a `Secret` is already set in an existing vault, if I\u0027m not mistaken?",
                                           "updatedAt":  "2025-08-11T07:47:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69QznP",
                                           "createdAt":  "2025-08-11T15:10:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "james-gould",
                                           "body":  "Taking a look through, rerouting `.WithSecret` and `.GetSecret` should be fairly straightforward but...\n\nI\u0027ve noticed the [resource store of Secrets](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Azure.KeyVault/AzureKeyVaultResource.cs#L21) is `internal` in the Aspire assembly. I\u0027m fairly sure reflection will let me pull them out and rewrap the functionality around `IAzureKeyVaultResource.SecretResolver` but seems easier to make it `public` if we\u0027re happy with that?\n\nMainly going by the changes introduced in [#9615 ](https://github.com/dotnet/aspire/pull/9615) - let me know if that\u0027s old news!\n\nedit: Noticing it\u0027s the same with `SecretResolver` too - opening a draft PR with the changes. Will reference to this issue",
                                           "updatedAt":  "2025-08-11T15:15:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69XfFi",
                                           "createdAt":  "2025-08-11T22:13:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEd6Dqg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-11T22:17:15Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "james-gould",
                                           "body":  "A basic (happy path tested) implementation of mapping `AzureKeyVaultSecretResource` has been achieved https://github.com/dotnet/aspire/pull/10909#issuecomment-3177041589",
                                           "updatedAt":  "2025-08-11T22:13:08Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "[Proposal] First party support for the Azure Key Vault Emulator",
        "labels":  [
                       "area-integrations",
                       "azure-keyvault"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10770",
        "createdAt":  "2025-07-31T07:13:30Z",
        "number":  10770,
        "author":  "lvde0",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T08:29:25Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nIt would be great if some of the YARP builder extensions supported `ReferenceExpressions`:\n\n- `WithMatchHosts`\n- `WithMatchPath`\n\nThat way we could pass in parameters there easily.\n\n### Describe the solution you\u0027d like\n\n`WithMatchPath(ReferenceExpression)`\n\n`WithMatchPath(in ReferenceExpression.ExpressionInterpolatedStringHandler)`\n\n`WithMatchHosts(ReferenceExpression[])`\n\nNot sure if we can support an array of `ReferenceExpression.ExpressionInterpolatedStringHandler` somehow.\n\n### Additional context\n\nIn fact, there\u0027s several builder extensions that still lack `RerenceExpression` support:\n\n\u003cdetails\u003e\n\n### YARP Route Configuration\n\n- **`WithMatchPath(string path)`** - Sets path pattern for route matching\n- **`WithMatchMethods(params string[] methods)`** - Sets HTTP methods for route matching  \n- **`WithMatchHosts(params string[] hosts)`** - Sets host headers for route matching\n\n### Volume and File System Operations\n- **`WithDataBindMount(string source, bool isReadOnly = false)`** - Binds host directory to container data folder\n- **`WithInitBindMount(string source, bool isReadOnly = true)`** - Binds host directory for initialization files (MongoDB)\n- **`WithInitFiles(string source)`** - Copies init files into container\n- **`WithDataVolume(string? name = null, bool isReadOnly = false)`** - Creates named volume for data\n\n### Container Configuration  \n- **`WithPassword(IResourceBuilder\u003cParameterResource\u003e password)`** - Sets container passwords\n- **`WithHostPort(int? port)`** - Configures host port mappings\n\n### Metadata and Configuration\n- **`WithMetadata(IReadOnlyDictionary\u003cstring, string\u003e? metadata)`** - Sets route metadata\n- **`WithTransforms(IReadOnlyList\u003cIReadOnlyDictionary\u003cstring, string\u003e\u003e? transforms)`** - Sets YARP transforms\n\n### File Store Operations\n- **`GetFileNameWithContent(string filenameTemplate, string sourceFilename)`** - Gets deterministic file paths based on content\n\u003c/details\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvRX2ug==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc69Ffa6",
                                           "createdAt":  "2025-08-10T03:23:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@benjaminpetit can you take a look at this? Restrict it to the yarp methods as overloads. ",
                                           "updatedAt":  "2025-08-10T03:23:30Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "YARP extension functions should support `ReferenceExpression`",
        "labels":  [
                       "area-integrations",
                       "yarp"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10804",
        "createdAt":  "2025-08-01T11:37:11Z",
        "number":  10804,
        "author":  "martinfletchersustainware",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-02T04:49:48Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am developing aspire based applications that use CosmosDB Gremplin Graph API, but can not manage Gremlin API resources via aspire, resulting in the need to run the windows emulator as an external dependency to aspire app.\n\n### Describe the solution you\u0027d like\n\nIt would be a great improvement if the Gremlin API was supported via the CosmosDB containerised emulator, so that Gremlin API resources can be managed via aspire, just like the NoSQL functionality.\n\n### Additional context\n\nI understand and can appreciate that this is likely reliant on the team that develops and supports the CosmosDB emulator, but created the issue here as the aspire integration functionality would also be required to make this useful to aspire based apps wanting to use CosmosDB Gremlin API.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOu4dmbQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc67h2Zt",
                                           "createdAt":  "2025-08-02T04:47:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Questions about the cosmos db emulator should go here https://github.com/Azure/azure-cosmos-db-emulator-docker\n\n\u003e I understand and can appreciate that this is likely reliant on the team that develops and supports the CosmosDB emulator, but created the issue here as the aspire integration functionality would also be required to make this useful to aspire based apps wanting to use CosmosDB Gremlin API.\n\nWill leave this open and dependent on the emulator (whenever it gets this feature). \n\n",
                                           "updatedAt":  "2025-08-02T04:49:12Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "CosmosDB Extension and Emulator Support Gremlin API",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-cosmosdb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10837",
        "createdAt":  "2025-08-05T08:07:57Z",
        "number":  10837,
        "author":  "Fazer01",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODKyDUQ==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "myers-gh1328",
                                            "createdAt":  "2025-08-12T01:01:17Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-16T08:29:54Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n**Context**\n\nIn our .NET Aspire project we just started using the `Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration` library version: 9.4.0-preview.1.25378.8. \nThis Azure App Configuration is an existing resource in our infrastructure and should be referenced in our API. \n\nCurrently our .NET Aspire AppHost project contains an API and an Azure Function project. These run fine locally, no issues whatsoever. All values including keyvault references are retrieved correctly. However, when deploying to Azure Container Apps, the container (API project) where the AppConfiguration is used, fails to start with an error message mentioned in the Exceptions section.\n\nIt would be fine if this problem can be looked into and addressed. \n\nPlease let me know if there are any missing things / parts in this issue.\n\nRegards,\n\n### Expected Behavior\n\nIntegration with Azure App Configuration in .NET Aspire retrieves the configured configuration from that AppConfiguration and can be used in the application.\n\n\n\n### Steps To Reproduce\n\nAs I was wondering if the problem is related to any of our other software in the application, I just checkout the [following repository](https://github.com/dotnet/aspire-samples/tree/main/samples/AspireWithAzureFunctions)  and integrate the `Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration` package with 9.4.0-preview.1.25378.8 in it. It doesn\u0027t matter if we are using Aspire 9.3.1 or 9.4.0 as it produces the same error when deploying. Locally it runs just fine. \n\n\n\n### Exceptions (if any)\n\nThe exception we get when the container trying to start: \n\n ```\nUnhandled exception. System.IO.FileNotFoundException: Could not load file or assembly \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027. The system cannot find the file specified.\nstderr F \nstderr F File name: \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027\nstderr F    at Azure.Data.AppConfiguration.ConfigurationClient.ParseGetConfigurationSettingsResponse(Response response)\nstderr F    at Azure.Data.AppConfiguration.ConditionalPageableImplementation.TryGetItemsFromResponse(Response response, String\u0026 nextLink, List`1\u0026 items)\nstderr F    at Azure.Data.AppConfiguration.ConditionalPageableImplementation.CreatePage(Response response, String\u0026 nextLink)\nstderr F    at Azure.Data.AppConfiguration.ConditionalPageableImplementation.AsPagesAsync(IEnumerable`1 conditionsEnumerable, String continuationToken, Nullable`1 pageSizeHint, CancellationToken cancellationToken)+MoveNext()\nstderr F    at Azure.Data.AppConfiguration.ConditionalPageableImplementation.AsPagesAsync(IEnumerable`1 conditionsEnumerable, String continuationToken, Nullable`1 pageSizeHint, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.\u003c\u003ec__DisplayClass39_2.\u003c\u003cLoadSelected\u003eb__0\u003ed.MoveNext()\nstderr F --- End of stack trace from previous location ---\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.\u003c\u003ec__DisplayClass39_2.\u003c\u003cLoadSelected\u003eb__0\u003ed.MoveNext()\nstderr F --- End of stack trace from previous location ---\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.TracingUtils.CallWithRequestTracing(Boolean tracingEnabled, RequestType requestType, RequestTracingOptions requestTracingOptions, Func`1 clientCall)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.LoadSelected(ConfigurationClient client, Dictionary`2 kvEtags, Dictionary`2 ffEtags, IEnumerable`1 selectors, HashSet`1 ffKeys, CancellationToken cancellationToken)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.\u003c\u003ec__DisplayClass38_0.\u003c\u003cInitializeAsync\u003eb__0\u003ed.MoveNext()\nstderr F --- End of stack trace from previous location ---\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.\u003c\u003ec__DisplayClass50_0.\u003c\u003cExecuteWithFailOverPolicyAsync\u003eb__0\u003ed.MoveNext()\nstderr F --- End of stack trace from previous location ---\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.ExecuteWithFailOverPolicyAsync[T](IEnumerable`1 clients, Func`2 funcToExecute, CancellationToken cancellationToken)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.ExecuteWithFailOverPolicyAsync(IEnumerable`1 clients, Func`2 funcToExecute, CancellationToken cancellationToken)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.InitializeAsync(IEnumerable`1 clients, CancellationToken cancellationToken)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.TryInitializeAsync(IEnumerable`1 clients, List`1 startupExceptions, CancellationToken cancellationToken)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.LoadAsync(Boolean ignoreFailures, CancellationToken cancellationToken)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfiguration.AzureAppConfigurationProvider.Load()\nstderr F    at Microsoft.Extensions.Configuration.ConfigurationManager.AddSource(IConfigurationSource source)\nstderr F    at Microsoft.Extensions.Configuration.ConfigurationManager.Microsoft.Extensions.Configuration.IConfigurationBuilder.Add(IConfigurationSource source)\nstderr F    at Microsoft.Extensions.Configuration.AzureAppConfigurationExtensions.AddAzureAppConfiguration(IConfigurationBuilder configurationBuilder, Action`1 action, Boolean optional)\nstderr F    at Microsoft.Extensions.Hosting.AspireAppConfigurationExtensions.AddAzureAppConfiguration(IHostApplicationBuilder builder, String connectionName, Action`1 configureSettings, Action`1 configureOptions) in /_/src/Components/Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration/AspireAppConfigurationExtensions.cs:line 56\n```\n\n\n### .NET Version info\n\nLocally: \n\n```\n.NET SDK:\n Version:           9.0.302\n Commit:            bb2550b9af\n Workload version:  9.0.300-manifests.2b366b05\n MSBuild version:   17.14.13+65391c53b\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.302\\\n\n.NET workloads installed:\n [ios]\n   Installation Source: VS 17.14.36202.13\n   Manifest Version:    18.4.9288/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.4.9288\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.14.36202.13\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.51\\WorkloadManifest.json\n   Install Type:              Msi\n\n [android]\n   Installation Source: VS 17.14.36202.13\n   Manifest Version:    35.0.61/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.61\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: VS 17.14.36202.13\n   Manifest Version:    18.4.9288/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.4.9288\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: VS 17.14.36202.13\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.7\n  Architecture: x64\n  Commit:       3c298d9f00\n\n.NET SDKs installed:\n  8.0.311 [C:\\Program Files\\dotnet\\sdk]\n  9.0.300 [C:\\Program Files\\dotnet\\sdk]\n  9.0.302 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.16 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.5 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  D:\\playground\\AzureAZDCli\\aspire-samples\\global.json\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n```\n\n### Anything else?\n\nAppHost.csproj: \n\n```xml\n\u003cProject Sdk=\"Microsoft.NET.Sdk\"\u003e\n\n  \u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.4.0\" /\u003e\n\n  \u003cPropertyGroup\u003e\n    \u003cOutputType\u003eExe\u003c/OutputType\u003e\n    \u003cTargetFramework\u003enet9.0\u003c/TargetFramework\u003e\n    \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n    \u003cNullable\u003eenable\u003c/Nullable\u003e\n    \u003cIsAspireHost\u003etrue\u003c/IsAspireHost\u003e\n    \u003cUserSecretsId\u003e6f1ab4e9-b860-4044-9acd-ba7628231167\u003c/UserSecretsId\u003e\n  \u003c/PropertyGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.4.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Azure.AppConfiguration\" Version=\"9.4.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Azure.AppContainers\" Version=\"9.4.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Azure.ApplicationInsights\" Version=\"9.4.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Azure.Functions\" Version=\"9.4.0-preview.1.25378.8\" /\u003e\n  \u003c/ItemGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cProjectReference Include=\"..\\API\\API1.csproj\" /\u003e\n    \u003cProjectReference Include=\"..\\Functions\\Function1.csproj\" /\u003e\n  \u003c/ItemGroup\u003e\n\n\n\u003c/Project\u003e\n```\n\nAPI.csproj: \n\n```xml\n\u003cProject Sdk=\"Microsoft.NET.Sdk.Web\"\u003e\n\n  \u003cPropertyGroup\u003e\n    \u003cTargetFramework\u003enet9.0\u003c/TargetFramework\u003e\n    \u003cNullable\u003eenable\u003c/Nullable\u003e\n    \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n    \u003cUserSecretsId\u003eb2d60e6e-f213-4205-a343-5ec0d439ee56\u003c/UserSecretsId\u003e\n  \u003c/PropertyGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cPackageReference Include=\"Flurl.Http\" Version=\"4.0.2\" /\u003e\n    \u003cPackageReference Include=\"Microsoft.AspNetCore.OpenApi\" Version=\"9.0.7\" /\u003e\n    \u003cPackageReference Include=\"GeoJSON.Text\" Version=\"1.1.0\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration\" Version=\"9.4.0-preview.1.25378.8\" /\u003e\n  \u003c/ItemGroup\u003e\n\n  \u003cItemGroup\u003e\n    \u003cProjectReference Include=\"..\\AppHost.ServiceDefaults\\AppHost.ServiceDefaults.csproj\" /\u003e\n  \u003c/ItemGroup\u003e\n\n\u003c/Project\u003e\n```\nAppHost\u0027s Program.cs (snippet)\n\n```csharp\n    IResourceBuilder\u003cAzureApplicationInsightsResource\u003e applicationInsights = builder.AddAzureApplicationInsights(\"application-insights\");\nIResourceBuilder\u003cIResourceWithConnectionString\u003e appConfiguration = builder.AddConnectionString(\"appconfig\");\nIResourceBuilder\u003cParameterResource\u003e parameterInstanceId = builder.AddParameter(\"InstanceId\");\nIResourceBuilder\u003cParameterResource\u003e geodataServerBaseUrl = builder.AddParameter(\"GeodataServerBaseUrl\");\n\n    builder.AddAzureContainerAppEnvironment(\"cae-parkinglayertool\")\n        .WithAzdResourceNaming();\n    IResourceBuilder\u003cProjectResource\u003e container = builder.AddProject\u003cProjects.API\u003e(\"parking-layer-app\")\n        .WithEnvironment(\"INSTANCE_ID\", parameterInstanceId)\n        .WithEnvironment(\"GEODATA_SERVER_BASE_URL\", geodataServerBaseUrl)\n        .WithReference(appConfiguration)\n        .WithReference(applicationInsights);\n```\n`AddAzureAppConfiguration` definition in the API Program.cs: \n\n```csharp\nbuilder.AddAzureAppConfiguration(\"appconfig\", configureSettings =\u003e\n{\n    configureSettings.Credential = credential;\n}, configureOptions =\u003e\n{\n    configureOptions.ConfigureKeyVault(configureKv =\u003e\n    {\n      \n        configureKv.SetCredential(credential);\n\n    });\n    string instanceId = Environment.GetEnvironmentVariable(\"INSTANCE_ID\") ??\n                        throw new InvalidOperationException(\"The environment variable \u0027INSTANCE_ID\u0027 is not set or is empty.\");\n    configureOptions.Select($\"Instances:{instanceId}:RemoteGisUsername\");\n    configureOptions.Select($\"Instances:{instanceId}:RemoteGisPassword\");\n    configureOptions.ConfigureRefresh(refreshOptions =\u003e\n    {\n        refreshOptions.RegisterAll();\n        refreshOptions.SetRefreshInterval(TimeSpan.FromMinutes(5));\n    });\n});\nbuilder.Services.Configure\u003cInstanceOptionsDictionary\u003e(builder.Configuration.GetSection(\"Instances\"));\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwi_NHA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc69jlQH",
                                           "createdAt":  "2025-08-12T16:58:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "@zhiyuanliang-ms ",
                                           "updatedAt":  "2025-08-12T16:58:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69qmbe",
                                           "createdAt":  "2025-08-13T03:32:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "Hey, @Fazer01 \n\nFrom the error messages you provided, it seems like the issue is not related to the Aspire integration.\n\nLet me put some backgrounds here.\n`Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration` is built on `Microsoft.Extensions.Configuration.AzureAppConfiguration` (which is our client library, let\u0027s call it configuration provider).\n`Microsoft.Extensions.Configuration.AzureAppConfiguration is built on `Azure.Data.AppConfiguration` (which is our SDK). [difference](https://learn.microsoft.com/en-us/azure/azure-app-configuration/configuration-provider-overview)\n\nFrom the error stack, aspire and configuration provider worked as expected. The configuration provider called the API from the SDK, the SDK sent the request and it got the response. It eventually failed at parse the response. \n\nThe error shows that you’re missing the NuGet dll your app needs at runtime:\n\n\u003e Unhandled exception. System.IO.FileNotFoundException: Could not load file or assembly \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027. The system cannot find the file specified.\n\u003e stderr F \n\u003e stderr F File name: \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027\n\nCould you check the runtime environment of Azure App Container app?\n",
                                           "updatedAt":  "2025-08-13T03:32:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69ttkU",
                                           "createdAt":  "2025-08-13T09:07:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "[apphost-demo.zip](https://github.com/user-attachments/files/21750695/apphost-demo.zip)\n\n@Fazer01 I cannot reproduce this bug on my side. I successfully deployed my AppHost project to Azure Container Apps and the App Config component works well. I attached the app I used. I followed this [doc](https://learn.microsoft.com/en-us/dotnet/aspire/deployment/azure/aca-deployment-visual-studio) and used Visual Studio to deploy it.\n\n",
                                           "updatedAt":  "2025-08-13T09:13:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-MMk7",
                                           "createdAt":  "2025-08-15T07:47:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEfb_pw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "zhiyuanliang-ms",
                                                                               "createdAt":  "2025-08-25T02:27:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "KUTlime",
                                           "body":  "Google pointed me here while I was searching: \"Could not load file or assembly \u0027System.Memory.Data, Version=8.0.0.1\"\nThe thing is that no such package exists, only 8.0.1.\n\nOn my side, I\u0027m deploying ASP.NET Core 9 application to the Linux ARM64 server as a self-contained app.\n\nThe app crashes during the start-up phase, where FastEndpoins are trying to discover the endpoints using reflection.\n\nWhen I publish the app, I have System.Memory.Data DLL in my publish folder, but it is version 6.0.x.\n\nEverything is OK on my Windows machine. It started a couple of days ago.",
                                           "updatedAt":  "2025-08-15T08:24:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_2Hc5",
                                           "createdAt":  "2025-08-25T02:28:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "Hey, @KUTlime Are you using Azure App Configuration SDK or its Aspire component?",
                                           "updatedAt":  "2025-08-25T02:28:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_4oV3",
                                           "createdAt":  "2025-08-25T08:20:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Fazer01",
                                           "body":  "\u003e Hey, [@Fazer01](https://github.com/Fazer01)\n\u003e \n\u003e From the error messages you provided, it seems like the issue is not related to the Aspire integration.\n\u003e \n\u003e Let me put some backgrounds here. `Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration` is built on `Microsoft.Extensions.Configuration.AzureAppConfiguration` (which is our client library, let\u0027s call it configuration provider). `Microsoft.Extensions.Configuration.AzureAppConfiguration is built on `Azure.Data.AppConfiguration` (which is our SDK). [difference](https://learn.microsoft.com/en-us/azure/azure-app-configuration/configuration-provider-overview)\n\u003e \n\u003e From the error stack, aspire and configuration provider worked as expected. The configuration provider called the API from the SDK, the SDK sent the request and it got the response. It eventually failed at parse the response.\n\u003e \n\u003e The error shows that you’re missing the NuGet dll your app needs at runtime:\n\u003e \n\u003e \u003e Unhandled exception. System.IO.FileNotFoundException: Could not load file or assembly \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027. The system cannot find the file specified.\n\u003e \u003e stderr F\n\u003e \u003e stderr F File name: \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027\n\u003e \n\u003e Could you check the runtime environment of Azure App Container app?\n\nHi there! Had holiday season so was not able to write a reply back in time. \n\nI have checked the runtime environment which is displayed accessing the container (Azure Function container app) and running `env`: \nASPNET_VERSION=8.0.19\nHOST_VERSION=4.1040.300.7\nDOTNET_VERSION=8.0.19\nFUNCTIONS_WORKER_RUNTIME_VERSION=9.0\n\nAlso we use .NET 9 as configured in the .csproj\u0027s TargetFramework property: \n```xml\n\u003cTargetFramework\u003enet9.0\u003c/TargetFramework\u003e\n```\n\nHope you have sufficient information. If not, please do not hesitate to reply. \n\nThanks in advance!\n",
                                           "updatedAt":  "2025-08-25T08:20:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_5W8W",
                                           "createdAt":  "2025-08-25T09:18:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "Hey, @Fazer01 \n\nI am not sure whether this is the root cause of the issue, but I just checked my container app, my container app is using .net 9.\n\n\u003cimg width=\"747\" height=\"690\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2b1fff47-fb87-485c-ab33-c8b871a90152\" /\u003e\n\nMay I ask how did you deploy your app to container app? I deployed it using visual studio. Could try the way in this [doc](https://learn.microsoft.com/en-us/dotnet/aspire/deployment/azure/aca-deployment-visual-studio)? Also try to deploy the example I attached in the previous [comment](https://github.com/dotnet/aspire/issues/10837#issuecomment-3182876948).\n",
                                           "updatedAt":  "2025-08-25T09:18:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7ABw2a",
                                           "createdAt":  "2025-08-25T20:43:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Fazer01",
                                           "body":  "Hey, @zhiyuanliang-ms \n\nAs stated we are using .NET Aspire 9.4.0 and .NET 9. The deployment is done by using azd-tooling in our Azure Devops Pipeline. \n\nI\u0027ve just deleted the specific functionapp container from my container app environment and did a redeploy (ran the pipeline again so `azd provision`  and `azd deploy`  are executed. For the provisioning there is nothing much to be done as all infrastructure is already there.  The `azd deploy`  command creates and pushes new images to be used when creating and spinning up a container. \n\nWhen the new revision is created (based on the new image), I bashed into the container app, but it still says the following: \nI will use a new resourcegroup where I deploy the application to to check if a new provisioning will solve this issue. \n\n\nRegards, \n",
                                           "updatedAt":  "2025-08-25T20:43:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7ADO07",
                                           "createdAt":  "2025-08-25T23:50:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "Hey, @Fazer01 Sorry for the convenience!\n\n\u003e As stated we are using .NET Aspire 9.4.0 and .NET 9. The deployment is done by using azd-tooling in our Azure Devops Pipeline.\n\n\u003e I have checked the runtime environment which is displayed accessing the container (Azure Function container app) and running env:\n\u003e ASPNET_VERSION=8.0.19\n\u003e HOST_VERSION=4.1040.300.7\n\u003e DOTNET_VERSION=8.0.19\n\u003e FUNCTIONS_WORKER_RUNTIME_VERSION=9.0\n\nBut you have checked the runtime env, it is using .net 8. This is weird. So I guess whether it is because azd-tool has a bug. I suppose that azd should configure the container app to use .net 9. Is it possible to use another way to deploy your application or make sure that the container app uses .net 9. Because I successfully deployed my app and the only difference we know here is the .net sdk version, so I want to see whether it can solve the problem, if you use the same deployment way(or even the same app).\n",
                                           "updatedAt":  "2025-08-25T23:50:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Af6OW",
                                           "createdAt":  "2025-08-27T20:06:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "martincostello",
                                           "body":  "I\u0027ve also just started randomly run into this in the last few hours (13 hours ago there was a successful run). Extracting the file out of my container image gives me this:\n\n\u003cimg width=\"593\" height=\"769\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/15ecdd49-909a-41d9-a72c-142a5a515b87\" /\u003e\n\nThe app is using the latest .NET 9 SDK and targets .NET 9. It doesn\u0027t use `Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration`, but it does use Aspire 9.4.1 and `Microsoft.Azure.AppConfiguration.AspNetCore`.\n\nI\u0027m don\u0027t know how/where this 6.0.36 version of System.Memory.Data is coming from yet.\n\nIt only seems to affect the app when it\u0027s running as a container - the normal CI is fine, and so is F5 debugging in Visual Studio with Aspire. I\u0027m only getting issues in a workflow where I run the app as part of a Docker Compose file to validate OTel metrics.\n\nhttps://github.com/martincostello/costellobot/pull/2675/commits/afead80ceef596f67d90963aa5e2793c2e739bed is the commit I\u0027m seeing the problem with.\n",
                                           "updatedAt":  "2025-08-27T20:10:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AgkRu",
                                           "createdAt":  "2025-08-27T21:14:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "martincostello",
                                           "body":  "The failures that lead me to be investigating things locally with my container usage is an unrelated in another container image I\u0027m using, but that doesn\u0027t explain the first error I got when investigating which was above. I made that error go away by manually upgrading System.Memory.Data to 9.0.8. I still don\u0027t know where the 6.0.36 version came from.",
                                           "updatedAt":  "2025-08-27T21:14:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Ap3Lt",
                                           "createdAt":  "2025-08-28T07:00:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEf852g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "martincostello",
                                                                               "createdAt":  "2025-08-28T07:02:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "Hey, @martincostello \n\nI guess this is because the Azure App Configuration client libraries (i.e.. `Microsoft.Azure.AppConfiguration.AspNetCore` and `Microsoft.Extensions.Configuration.AzureAppConfiguration`) are using the old versions of [.net libraries](https://github.com/Azure/AppConfiguration-DotnetProvider/blob/main/src/Microsoft.Extensions.Configuration.AzureAppConfiguration/Microsoft.Extensions.Configuration.AzureAppConfiguration.csproj#L22).\n\nI opened an [issue](https://github.com/Azure/AppConfiguration-DotnetProvider/issues/692) to track it.\n\n",
                                           "updatedAt":  "2025-08-28T07:00:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Ap3mb",
                                           "createdAt":  "2025-08-28T07:01:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "cc @jimmyca15 and @drago-draganov ",
                                           "updatedAt":  "2025-08-28T07:01:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A0MMm",
                                           "createdAt":  "2025-08-28T20:53:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jimmyca15",
                                           "body":  "@zhiyuanliang-ms It\u0027s hard to say, it\u0027s a bit of a guessing game of if it will fix if we can\u0027t reproduce the issue. As far as I\u0027m aware, there shouldn\u0027t be anything wrong with how we are referencing packages.",
                                           "updatedAt":  "2025-08-28T20:53:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7B3Qk5",
                                           "createdAt":  "2025-09-04T08:27:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zhiyuanliang-ms",
                                           "body":  "I digged into the dependency trees for a while and found some interesting things.\n\n\u003cimg width=\"668\" height=\"767\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/52fbab14-1153-4b99-9b65-3bf3f414b4d6\" /\u003e\n\n`Microsoft.Extensions.Configuration.AzureAppConfiguration` depends on `Azure.Data.AppConfiguration` [1.6.0](https://www.nuget.org/packages/Azure.Data.AppConfiguration/1.6.0#dependencies-body-tab) which depends on `Azure.Core` [1.44.1](https://www.nuget.org/packages/Azure.Core/1.44.1#dependencies-body-tab).\n\n\u003cimg width=\"1328\" height=\"1027\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/815011d4-7fe3-4b09-901d-89d9b0c0abff\" /\u003e\n`Azure.Core` 1.44.1 depends on ` System.Memory.Data` 6.0.0.\n\nHowever, the latest version of `Azure.Data.AppConfiguration` is [1.6.1](https://www.nuget.org/packages/Azure.Data.AppConfiguration/1.6.1#dependencies-body-tab), which depends on `Azure.Core` [1.46.0]\n\n\u003cimg width=\"1283\" height=\"1007\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7e551a5f-d25b-48f6-9dcc-3d91c4f5631a\" /\u003e\n\nHowever, 1.46.0 has been unlisted. This is interesting.\n\nThen, I checked the `Azure.Core` 1.47.1, it depends on ` System.Memory.Data` 8.0.1. [PR](https://github.com/Azure/azure-sdk-for-net/pull/49685)\n\n\u003cimg width=\"1322\" height=\"867\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/cdab3a94-cce9-44c5-96bb-212d3f3d3b5a\" /\u003e\n",
                                           "updatedAt":  "2025-09-04T09:08:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7B_gBG",
                                           "createdAt":  "2025-09-04T17:08:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jimmyca15",
                                           "body":  "@zhiyuanliang-ms This is inline with what I said about it being a bit hard to pin down without a repro on our side. Originally it was thought that the cause would be the \u0027old versions of [.net libraries](https://github.com/Azure/AppConfiguration-DotnetProvider/blob/main/src/Microsoft.Extensions.Configuration.AzureAppConfiguration/Microsoft.Extensions.Configuration.AzureAppConfiguration.csproj#L22)\u0027, now investigation leads one to believe that the culprit is the Azure.Data.AppConfiguration package. However, it\u0027s hard to confirm.\n\nI\u0027m not against proactively updating outdated package versions where appropriate, but it is not clear it will fix the issue.",
                                           "updatedAt":  "2025-09-04T17:08:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CKlMV",
                                           "createdAt":  "2025-09-05T08:39:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "I\u0027m having the same error, but when trying to connect to an Event Hub instance using EventHubProcessor publishing on Azure Container Apps. \n\nMicrosoft.Extensions.Hosting.Internal.Host[11]\n      Hosting failed to start\n      System.IO.FileNotFoundException: Could not load file or assembly \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027. The system cannot find the file specified.\n      \n      File name: \u0027System.Memory.Data, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\u0027\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.ValidateEventHubsConnectionAsync(CancellationToken cancellationToken)\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.ValidateProcessingPreconditions(CancellationToken cancellationToken)\n         at Azure.Messaging.EventHubs.EventProcessorClient.ValidateProcessingPreconditions(CancellationToken cancellationToken)\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.StartProcessingInternalAsync(Boolean async, CancellationToken cancellationToken)\n         at Azure.Messaging.EventHubs.Primitives.EventProcessor`1.StartProcessingAsync(CancellationToken cancellationToken)\n         at Azure.Messaging.EventHubs.EventProcessorClient.StartProcessingInternalAsync(Boolean async, CancellationToken cancellationToken)\n         at Azure.Messaging.EventHubs.EventProcessorClient.StartProcessingAsync(CancellationToken cancellationToken)\n         at FleetManagementPlatform.Blackbox.Texa.EventHub.EventHubConsumerWorker.ExecuteAsync(CancellationToken stoppingToken) in C:\\Users\\Robertoc\\source\\repos\\evai\\fleet-management-platform\\src\\FleetManagementPlatform.Blackbox.Texa\\EventHub\\EventHubConsumerWorker.cs:line 41\n         at Microsoft.Extensions.Hosting.Internal.Host.\u003cStartAsync\u003eb__14_1(IHostedService service, CancellationToken token)\n         at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)\nUnhandled exception. System.InvalidOperationException: The event processor is already running and needs to be stopped in order to perform this operation.\n   at Azure.Messaging.EventHubs.EventProcessorClient.EnsureNotRunningAndInvoke(Action action)\n   at Azure.Messaging.EventHubs.EventProcessorClient.remove_ProcessEventAsync(Func`2 value)\n   at FleetManagementPlatform.Blackbox.Texa.EventHub.EventHubConsumerWorker.Dispose() in C:\\Users\\Robertoc\\source\\repos\\evai\\fleet-management-platform\\src\\FleetManagementPlatform.Blackbox.Texa\\EventHub\\EventHubConsumerWorker.cs:line 52\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.DisposeAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.Extensions.Hosting.Internal.Host.DisposeAsync()\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)\n   at FleetManagementPlatform.Microservices.TexaService.Program.Main(String[] args) in C:\\Users\\Robertoc\\source\\repos\\evai\\fleet-management-platform\\src\\FleetManagementPlatform.Microservices.TexaService\\Program.cs:line 111\n\n\nThis is straight from the Aspire console of a deployed worker which reads an event hub. \n\nEDIT: The Aspire version of all packages is 9.4.2",
                                           "updatedAt":  "2025-09-05T10:32:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CL80c",
                                           "createdAt":  "2025-09-05T10:44:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ekomsctr",
                                           "body":  "Also, i add in a separate comment, i had this exact same issue when executing this line of code against an existing container in Azure Blobs Storage (always Aspire 9.4.2):\n\nawait containerClient.CreateIfNotExistsAsync(cancellationToken: cancellationToken);\n\nI don\u0027t know if this is related at all, but since the EventProcessorClient use the storage to persist checkpoints, maybe it\u0027s a thing. is there any workaround?\n\nEDIT: Tried to downgrade everything to 9.3.1, but still nothing changes... is it perhaps something on Microsoft side?\n",
                                           "updatedAt":  "2025-09-05T10:55:38Z"
                                       }
                                   ],
                         "totalCount":  18
                     },
        "title":  "Using Aspire.Microsoft.Extensions.Configuration.AzureAppConfiguration produces runtime error when deploying to Azure Container Apps",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "external"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10840",
        "createdAt":  "2025-08-05T12:34:31Z",
        "number":  10840,
        "author":  "matte-wilderness",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-08T14:41:27Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI have seen related issues https://github.com/dotnet/aspire/issues/3101\n\nbut this doesn\u0027t actually indicate where the issue is fixed. \n\nI have this provisioning code: \n\n```\n    var az = builder.AddAzureSqlServer(\"sqlserver\")\n        .ConfigureInfrastructure(infra =\u003e\n        {\n            var azureResources = infra.GetProvisionableResources();\n            var azureDb = azureResources.OfType\u003cSqlDatabase\u003e().Single();\n            azureDb.Sku = new SqlSku() { Name = \"GP_S_Gen5_1\" };\n        });\n\n\n    var db = az.AddDatabase(\"db\");\n    app.WithReference(db).WaitFor(db);\n```\n\nwhich worked when I initially published.  Some time later I added a redis instance to the orchestration.  I assume this triggered provisioning again, because I suddenly got failure message on Publish related to the SQL resources. \n\nI established that using .RunAsExisting() on az would use the existing instance of the SQL Server. \n\nHowever the AddDatabase call still fails and despite some searching, I can\u0027t find the correct way to configure a similar \"use existing\" implementation. \n\nThe provisioning logic is not obvious to me. I have seen CosmosDB / and Az Table storage publish in an idempotent fashion, without the UseExisting \nsemantics. \n\nAspire and package versions as below:\n\n```\n    \u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.3.0\" /\u003e\n\n    \u003cPropertyGroup\u003e\n        \u003cOutputType\u003eExe\u003c/OutputType\u003e\n        \u003cTargetFramework\u003enet8.0\u003c/TargetFramework\u003e\n        \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n        \u003cNullable\u003eenable\u003c/Nullable\u003e\n        \u003c!--\u003cIsAspireHost\u003etrue\u003c/IsAspireHost\u003e--\u003e\n        \u003cUserSecretsId\u003e9078373a-0567-401e-90e7-7c7415112564\u003c/UserSecretsId\u003e\n    \u003c/PropertyGroup\u003e\n\n    \u003cItemGroup\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.3.1\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Azure.Sql\" Version=\"9.3.2\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Azure.Storage\" Version=\"9.3.1\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Redis\" Version=\"9.4.0\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.SqlServer\" Version=\"9.3.2\" /\u003e\n    \u003c/ItemGroup\u003e\n```\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\nNone\n\n### .NET Version info\n\n.Net 8 \n\n### Anything else?\n\nI\u0027m using VS 2022 - aspire publish \n\nAspire and package versions as below:\n\n```\n    \u003cSdk Name=\"Aspire.AppHost.Sdk\" Version=\"9.3.0\" /\u003e\n\n    \u003cPropertyGroup\u003e\n        \u003cOutputType\u003eExe\u003c/OutputType\u003e\n        \u003cTargetFramework\u003enet8.0\u003c/TargetFramework\u003e\n        \u003cImplicitUsings\u003eenable\u003c/ImplicitUsings\u003e\n        \u003cNullable\u003eenable\u003c/Nullable\u003e\n        \u003c!--\u003cIsAspireHost\u003etrue\u003c/IsAspireHost\u003e--\u003e\n        \u003cUserSecretsId\u003e9078373a-0567-401e-90e7-7c7415112564\u003c/UserSecretsId\u003e\n    \u003c/PropertyGroup\u003e\n\n    \u003cItemGroup\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.3.1\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Azure.Sql\" Version=\"9.3.2\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Azure.Storage\" Version=\"9.3.1\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Redis\" Version=\"9.4.0\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.SqlServer\" Version=\"9.3.2\" /\u003e\n    \u003c/ItemGroup\u003e\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvNaX2w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc68I76l",
                                           "createdAt":  "2025-08-05T19:59:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What is the error and can you reproduce this readily? Also, update to 9.4 ",
                                           "updatedAt":  "2025-08-05T19:59:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68LxHg",
                                           "createdAt":  "2025-08-06T02:26:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @sebastienros ",
                                           "updatedAt":  "2025-08-06T02:26:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68W8r6",
                                           "createdAt":  "2025-08-06T13:14:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdoUTw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "albx",
                                                                               "createdAt":  "2025-08-08T14:41:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "Zucka",
                                           "body":  "I have a similar if not the same underlying issue.\n\nIn Azure I have existing servers and databases. All paid SKU. ( Elastic Pool )\nAnd using Aspire 9.4\n```\nvar sql = builder.AddAzureSqlServer(\"azureSql\")\n    .AsExisting(existingSqlServerName, existingSqlServerResourceGroup);\n\nvar platformDb = sql.AddDatabase(\"platformDb\", builder.Configuration[$\"Database:PlatformDb\"]);\nvar tenantDb = sql.AddDatabase(\"tenantDb\", builder.Configuration[$\"Database:TenantDb\"]);\n```\n\nResults in Azure provisioning that fails on the DB. It correctly identifies that the server already exists.\n\nThe error that Azure gives in the provisioning is:\n\n```\n{\n    \"status\": \"Failed\",\n    \"error\": {\n        \"code\": \"ProvisioningDisabled\",\n        \"message\": \"Cannot update paid database to free database.\"\n    }\n}\n```\n\n\nDigging around led me to this, and related, issue and thus considering manually configuring the resource since it seems that the builder cannot recognize existing db\u0027s only servers.\nEnded up with:\n\n```\nvar sql = builder.AddAzureSqlServer(\"azureSql\")\n    .AsExisting(existingSqlServerName, existingSqlServerResourceGroup)\n    .ConfigureInfrastructure(infra =\u003e\n    {\n        var azureResources = infra.GetProvisionableResources();\n        var azureDb = azureResources.OfType\u003cSqlDatabase\u003e();\n        foreach (var db in azureDb)\n        {\n            db.UseFreeLimit = false;\n        }\n    });\n\nvar platformDb = sql.AddDatabase(\"platformDb\", builder.Configuration[$\"Database:PlatformDb\"]);\nvar tenantDb = sql.AddDatabase(\"tenantDb\", builder.Configuration[$\"Database:TenantDb\"]);\n```\n\nHowever this results in the SKU of the databases being changed to \u0027GP_S_Gen5_2\u0027 \nAgain the db\u0027s already exists.  I believe it should not do anything other than get access here.\n\nAdding the correct SKU fixed things for me, but is it really supposed to be this way when specifying AsExisting ?\n( SKU I added in the foreach loop: `db.Sku = new SqlSku() { Name = \"ElasticPool\", Tier = \"Standard\"};` )\nNote: Adding the correct SKU but not the `db.UseFreeLimit = false;` results in failure as well. It then still want\u0027s to change the resource to use free limit ",
                                           "updatedAt":  "2025-08-06T13:18:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68XGvE",
                                           "createdAt":  "2025-08-06T13:25:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "matte-wilderness",
                                           "body":  "Yes - I think this is related. You can define the server \u0027as existing\u0027 but provisioning the actual db still fails if it exists. \n\n@davidfowl  - the error was a generic \u0027SQL provisioning failed\" in the azd logs\n\nIt was reliably reproducible. Eventually I delete the server + database and re-provisioned. ",
                                           "updatedAt":  "2025-08-06T13:25:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68XQSq",
                                           "createdAt":  "2025-08-06T13:36:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "matte-wilderness",
                                           "body":  "Actually - re-reading @Zucka \u0027 s post. It sounds like this provisioning implementation works as long as you correctly define SKU\u0027s ? ",
                                           "updatedAt":  "2025-08-06T13:36:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68Xid9",
                                           "createdAt":  "2025-08-06T13:56:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdcc4Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "GabrieleCastellani",
                                                                               "createdAt":  "2025-08-07T09:28:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think the change that needs to be made here is that we don\u0027t do anything with child resources in the case of existing resource being used.",
                                           "updatedAt":  "2025-08-06T13:56:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68jC--",
                                           "createdAt":  "2025-08-07T09:31:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "GabrieleCastellani",
                                           "body":  "Yes please add a method AsExisting also at database level so you can choose if you want a new Db or Existing one on the existing server ",
                                           "updatedAt":  "2025-08-07T09:31:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc681pfb",
                                           "createdAt":  "2025-08-08T14:41:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "albx",
                                           "body":  "\u003e I have a similar if not the same underlying issue.\n\u003e \n\u003e In Azure I have existing servers and databases. All paid SKU. ( Elastic Pool ) And using Aspire 9.4\n\u003e \n\u003e ```\n\u003e var sql = builder.AddAzureSqlServer(\"azureSql\")\n\u003e     .AsExisting(existingSqlServerName, existingSqlServerResourceGroup);\n\u003e \n\u003e var platformDb = sql.AddDatabase(\"platformDb\", builder.Configuration[$\"Database:PlatformDb\"]);\n\u003e var tenantDb = sql.AddDatabase(\"tenantDb\", builder.Configuration[$\"Database:TenantDb\"]);\n\u003e ```\n\u003e \n\u003e Results in Azure provisioning that fails on the DB. It correctly identifies that the server already exists.\n\u003e \n\u003e The error that Azure gives in the provisioning is:\n\u003e \n\u003e ```\n\u003e {\n\u003e     \"status\": \"Failed\",\n\u003e     \"error\": {\n\u003e         \"code\": \"ProvisioningDisabled\",\n\u003e         \"message\": \"Cannot update paid database to free database.\"\n\u003e     }\n\u003e }\n\u003e ```\n\u003e \n\u003e Digging around led me to this, and related, issue and thus considering manually configuring the resource since it seems that the builder cannot recognize existing db\u0027s only servers. Ended up with:\n\u003e \n\u003e ```\n\u003e var sql = builder.AddAzureSqlServer(\"azureSql\")\n\u003e     .AsExisting(existingSqlServerName, existingSqlServerResourceGroup)\n\u003e     .ConfigureInfrastructure(infra =\u003e\n\u003e     {\n\u003e         var azureResources = infra.GetProvisionableResources();\n\u003e         var azureDb = azureResources.OfType\u003cSqlDatabase\u003e();\n\u003e         foreach (var db in azureDb)\n\u003e         {\n\u003e             db.UseFreeLimit = false;\n\u003e         }\n\u003e     });\n\u003e \n\u003e var platformDb = sql.AddDatabase(\"platformDb\", builder.Configuration[$\"Database:PlatformDb\"]);\n\u003e var tenantDb = sql.AddDatabase(\"tenantDb\", builder.Configuration[$\"Database:TenantDb\"]);\n\u003e ```\n\u003e \n\u003e However this results in the SKU of the databases being changed to \u0027GP_S_Gen5_2\u0027 Again the db\u0027s already exists. I believe it should not do anything other than get access here.\n\u003e \n\u003e Adding the correct SKU fixed things for me, but is it really supposed to be this way when specifying AsExisting ? ( SKU I added in the foreach loop: `db.Sku = new SqlSku() { Name = \"ElasticPool\", Tier = \"Standard\"};` ) Note: Adding the correct SKU but not the `db.UseFreeLimit = false;` results in failure as well. It then still want\u0027s to change the resource to use free limit\n\nI\u0027m in the same situation with a side project (.NET Aspire 9.4) and I was wondering how generate the bicep correctly, \nI will try this approach for sure thank you, but IMHO a AsExisting method at database level will be very useful",
                                           "updatedAt":  "2025-08-08T14:41:27Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Azure SQL database provisioning after initial deployment",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10871",
        "createdAt":  "2025-08-07T09:59:53Z",
        "number":  10871,
        "author":  "mip1983",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-12T03:39:16Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI\u0027ve created an ai foundry resource in my aspire app with a model deployment with a model deployment. When I go into AI foundry and access something like the agents tab for example, I see this:\n\n\u003e Unable to access your agents\n\u003e Your project, \"[foundry-dev ](https://portal.azure.com/#resource/subscriptions/708f8908-3b0d-4401-b603-ab31a975aec6/resourceGroups/rg-ecodriver-app-dev/providers/Microsoft.CognitiveServices/accounts/ecodriver-foundry-dev)\" does not have permission to access the connected Azure OpenAI resource because its connection is set to use role-based authentication. To resolve this issue, you can either assign the role of Azure AI Developer to your project for the resource \"foundryfchpwcdks35oo\", or change the connection\u0027s authentication method to use an API key and try again. If you recently added the role, it could take up to 15 minutes for the roles to update.\n\nAnd\n\n\u003e The principal `\u003cguid-here\u003e` lacks the required data action `Microsoft.CognitiveServices/accounts/OpenAI/assistants/read` to perform `GET /openai/assistants` operation.\n\nSo I guess the project itself needs to have some permissions assigned to it. Would it be a sensible default with aspire, that if you do a model deployment, it creates these permissions for foundry as well?\n\nIf I try to assign permissions, so something like:\n\n```\nvar foundry = builder.AddAzureAIFoundry(\"foundry\");\n\nfoundry.WithRoleAssignments(CognitiveServicesBuiltInRole.AzureAIDeveloper)\n```\n\nIt doesn\u0027t like that, for some reason the \u0027WithRoleAssignments\u0027 method on the \u0027IResourceBuilder\u003cAzureAIFoundryResource\u003e\u0027 has a parameter of \u0027params SignalRBuiltInRole[] roles\u0027, which doesn\u0027t seem correct.\n\n### Expected Behavior\n\nI should be able to access the features of AI Foundry without permission error when there is a model deployment configured (seems like a reasonable default), and if not, be able to assign the permission with the API.\n\n### Steps To Reproduce\n\nJust add foundry and a model deployment to aspire and try to access features of the AI Foundry portal.\n\n### Exceptions (if any)\n\nThe principal `\u003cguid-here\u003e` lacks the required data action `Microsoft.CognitiveServices/accounts/OpenAI/assistants/read` to perform `GET /openai/assistants` operation.\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.304\n Commit:            f12f5f689e\n Workload version:  9.0.300-manifests.ad61bb1c\n MSBuild version:   17.14.16+5d8159c5f\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.304\\\n\n.NET workloads installed:\n [android]\n   Installation Source: SDK 9.0.300, VS 17.14.36401.2, VS 17.14.36401.2\n   Manifest Version:    35.0.78/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.78\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: SDK 9.0.300, VS 17.14.36401.2\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: SDK 9.0.300, VS 17.14.36401.2, VS 17.14.36401.2\n   Manifest Version:    18.5.9214/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.5.9214\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: SDK 9.0.300, VS 17.14.36401.2, VS 17.14.36401.2\n   Manifest Version:    18.5.9214/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.5.9214\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: SDK 9.0.300, VS 17.14.36401.2, VS 17.14.36401.2\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.51\\WorkloadManifest.json\n   Install Type:              Msi\n\n [wasm-tools]\n   Installation Source: SDK 9.0.300, VS 17.14.36401.2\n   Manifest Version:    9.0.8/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.workload.mono.toolchain.current\\9.0.8\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.8\n  Architecture: x64\n  Commit:       aae90fa090\n\n.NET SDKs installed:\n  9.0.304 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 8.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvWYcFQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc69ZhwV",
                                           "createdAt":  "2025-08-12T03:39:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @sebastienros ",
                                           "updatedAt":  "2025-08-12T03:39:16Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Aspire AI Foundry permissions",
        "labels":  [
                       "area-integrations",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10872",
        "createdAt":  "2025-08-07T10:09:18Z",
        "number":  10872,
        "author":  "mip1983",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-12T18:27:22Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAs far as I can tell with the current integration, you can deploy an AI Foundry resource and a model for chat completions, but not the other features of foundry. I\u0027d like to be able to deploy a project into foundry with Agents, fine-tune models, document intelligence, configure safety (guardrails + controls) etc.\n\nIs it planned for this integration to be more fully featured supporting deploying these capabilities and the corresponding integration/SDK?\n\n### Describe the solution you\u0027d like\n\nExtensions to \u0027IResourceBuilder\u003cAzureAIFoundryResource\u003e\u0027 for adding projects, agents etc and corresponding Aspire integrations for my projects.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvZK8dg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc69ZMY-",
                                           "createdAt":  "2025-08-12T02:37:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "An extension on this is that the Foundry resource that we currently provision doesn\u0027t also provision a Foundry Project resource in Azure, which is what is needed for using with Agent Service.\n\nThinking from an API perspective, it\u0027s probably best if you can create multiple Project resources, so you could create connections between the project and services like AI Search.\n\n```csharp\nvar foundry = builder.AddAzureAIFoundry(\"foundry\");\n\nvar chat = foundry.AddDeployment(\"chat\", \"qwen2.5-0.5b\", \"1\", \"Microsoft\");\n\nvar foundryProject = foundry.AddProject(\"project\");\n\nvar aiSearch = builder.AddAzureSearch(\"ai-search\");\n\nfoundryProject.AddConnection(aiSearch);\n```\n\nThen if you provide the `foundryProject` resource you have an endpoint that matches this structure: `https://\u003cfoundry resource name\u003e.services.ai.azure.com/api/projects/\u003cproject resource name\u003e` which can be provided to agent service.",
                                           "updatedAt":  "2025-08-12T02:37:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69ZPAb",
                                           "createdAt":  "2025-08-12T02:45:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aaronpowell",
                                           "body":  "I\u0027ll note that we\u0027re missing some types in the CDK to be able to provision that stuff though",
                                           "updatedAt":  "2025-08-12T02:45:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69krx2",
                                           "createdAt":  "2025-08-12T18:27:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEeQGbw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "aaronpowell",
                                                                               "createdAt":  "2025-08-14T03:59:43Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I created a corresponding issue in the Azure.Provisioning SDK repository.",
                                           "updatedAt":  "2025-08-12T18:27:22Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "AI Foundry Integration, deploy/integrate Foundry features: Projects, Agents, Document Intelligence etc.",
        "labels":  [
                       "area-integrations",
                       "ai",
                       "Azure.Provisioning"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10876",
        "createdAt":  "2025-08-07T12:37:54Z",
        "number":  10876,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T08:28:30Z",
        "body":  "## Background and Motivation\n\nCurrently, the `WithCreationScript` API only supports synchronous value resolution for SQL scripts. There are scenarios where values such as parameters or endpoints need to be resolved asynchronously at creation time (e.g., fetching secrets, endpoints, or other dynamic resources). Supporting an asynchronous overload would enhance flexibility and enable deferred value resolution when creating databases.\n\n## Proposed API\n\n```diff\nnamespace Aspire.Hosting.MySql;\nnamespace Aspire.Hosting.Postgres;\nnamespace Aspire.Hosting.SqlServer;\n\npublic static class MySqlBuilderExtensions\n{\n+    public static IResourceBuilder\u003cMySqlDatabaseResource\u003e WithCreationScriptAsync(\n+        this IResourceBuilder\u003cMySqlDatabaseResource\u003e builder,\n+        Func\u003cIServiceProvider, Task\u003cstring\u003e\u003e scriptProvider)\n}\n\npublic static class PostgresBuilderExtensions\n{\n+    public static IResourceBuilder\u003cPostgresDatabaseResource\u003e WithCreationScriptAsync(\n+        this IResourceBuilder\u003cPostgresDatabaseResource\u003e builder,\n+        Func\u003cIServiceProvider, Task\u003cstring\u003e\u003e scriptProvider)\n}\n\npublic static class SqlServerBuilderExtensions\n{\n+    public static IResourceBuilder\u003cSqlServerDatabaseResource\u003e WithCreationScriptAsync(\n+        this IResourceBuilder\u003cSqlServerDatabaseResource\u003e builder,\n+        Func\u003cIServiceProvider, Task\u003cstring\u003e\u003e scriptProvider)\n}\n```\n\n## Usage Examples\n\n```csharp\nvar pwd = builder.AddParameter(\"pwd\", secret: true);\n\nvar mydb =\n    mySqlServer\n       .AddDatabase(\"mydb\")\n       .WithCreationScriptAsync(async sp =\u003e\n       {\n           var migratorPassword = await pwd.GetValueAsync(default);\n           return script.Replace(\"\u003cMigratorPasswordPlaceHolder\u003e\", migratorPassword);\n       });\n```\n\n## Alternative Designs\n- Only support async for one provider, or extend to all database providers for consistency.\n- Accept a `Task\u003cstring\u003e` directly, or keep the `Func\u003cIServiceProvider, Task\u003cstring\u003e\u003e` for maximum flexibility.\n\n## Risks\n- Must ensure proper handling in resource creation logic (awaiting script provider).\n- May introduce complexity in error handling for asynchronous script resolution.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvZQPwQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc68lwH2",
                                           "createdAt":  "2025-08-07T12:39:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Related to https://github.com/dotnet/aspire/discussions/10875",
                                           "updatedAt":  "2025-08-07T12:39:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68rbZY",
                                           "createdAt":  "2025-08-07T19:40:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdhxQw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-07T20:03:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "The user should also be able to set custom SqlCommand parameters that can be used with the standard ADO.NET placeholder syntax `@p1` (provider-specific).",
                                           "updatedAt":  "2025-08-07T19:40:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc682J7E",
                                           "createdAt":  "2025-08-08T15:29:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEeA47Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-12T15:41:01Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "afscrome",
                                           "body":  "Is it worth having a way to run initialization against the provider specific connection objects?  For one of our internal resource, we\u0027ve had the following:\n\n```cs\n   public static IResourceBuilder\u003cSqlDatabaseResource\u003e WithInitialisationCommand(this IResourceBuilder\u003cSqlDatabaseResource\u003e builder, Func\u003cSqlConnection, CancellationToken, Task\u003e initaliser)\n   {\n      var db = builder.Resource;\n      builder.ApplicationBuilder.Eventing.Subscribe\u003cResourceReadyEvent\u003e(db, async (evt, ct) =\u003e\n      {\n         var connectionString = await db.ConnectionStringExpression.GetValueAsync(ct);\n\n         using var connection = new SqlConnection(connectionString);\n\n         await connection.OpenAsync(ct);\n         await initaliser(connection, ct);\n      });\n\n      return builder;\n   }\n```\n\nThis also has the benefit of allowing multiple startups scripts, and different apps being able to contribute to the database creation.  The resource in question is an integration database shared by multiple consumers.  So each consuming resource can register their own initialization logic without having to be fully aware of what else is using the db.",
                                           "updatedAt":  "2025-08-08T15:29:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69lA_B",
                                           "createdAt":  "2025-08-12T18:56:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Maybe we introduce these 2 layers so there\u0027s a layer of control. The lower level APIs needs access to the connection (like you have above).",
                                           "updatedAt":  "2025-08-12T18:56:40Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Add asynchronous overload for WithCreationScript to support deferred value resolution for MySQL, PostgreSQL, and SQL Server",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10901",
        "createdAt":  "2025-08-11T00:59:33Z",
        "number":  10901,
        "author":  "licon4812",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODMbFBA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Xenofono",
                                            "createdAt":  "2025-08-24T14:08:36Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-11T01:45:41Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nA developer wishes to use a MongoDB Ef Core provider in a client application such as ASP.NET. Whilst using an Aspire project for orchestration.\n\n### Describe the solution you\u0027d like\n\nI would like to see a MongoDB Entity Framework core client integration for Aspire, similar to the existing EF Core client integrations, that performs similar actions. Such as automatic setting of connection strings from service discovery and DbContext registrations. Etc\n\n### Additional context\n\n[MongoDB.EntityFrameworkCore NuGet Package](https://www.nuget.org/packages/MongoDB.EntityFrameworkCore/#readme-body-tab)",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[New Client Integration] MongoDB Entity framework core Integration",
        "labels":  [
                       "area-integrations",
                       "mongodb",
                       "entityframework"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10916",
        "createdAt":  "2025-08-11T23:00:57Z",
        "number":  10916,
        "author":  "kknd4eva",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-12T01:39:14Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI have followed the tutorial available here https://aws.amazon.com/blogs/developer/integrating-aws-with-net-aspire/ and the code runs fine, produces the dashboard and I\u0027m able to invoke functions. Additionally the create table command invokes within the ResourceReady method, and shows as successful with a table created: \n\n`\nbuilder.Eventing.Subscribe\u003cResourceReadyEvent\u003e(dynamoDbLocal.Resource, async (evnt, ct) =\u003e\n{\n    // Configure DynamoDB service client to connect to DynamoDB local.\n    var serviceUrl = dynamoDbLocal.Resource.GetEndpoint(\"http\").Url;\n    var ddbClient = new AmazonDynamoDBClient(new AmazonDynamoDBConfig { ServiceURL = serviceUrl });\n\n    // Create the Accounts table.\n    var creatResponse = await ddbClient.CreateTableAsync(new CreateTableRequest\n    {\n        TableName = \"Accounts\",\n        AttributeDefinitions = new List\u003cAttributeDefinition\u003e\n        {\n            new AttributeDefinition { AttributeName = \"Id\", AttributeType = \"S\" }\n        },\n        KeySchema = new List\u003cKeySchemaElement\u003e\n        {\n            new KeySchemaElement { AttributeName = \"Id\", KeyType = \"HASH\" }\n        },\n        BillingMode = BillingMode.PAY_PER_REQUEST\n    });\n\n    // Add an account to the Accounts table.\n    await ddbClient.PutItemAsync(new PutItemRequest\n    {\n        TableName = \"Accounts\",\n        Item = new Dictionary\u003cstring, AttributeValue\u003e\n        {\n            { \"Id\", new AttributeValue(\"1\") },\n            { \"Name\", new AttributeValue(\"Amazon\") },\n            { \"Address\", new AttributeValue(\"Seattle, WA\") }\n        }\n    });\n});`\n\n\u003cimg width=\"1083\" height=\"605\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5d3ca70e-22d7-4d3b-a990-1fb69c6f76a0\" /\u003e\n\nBut if I connect to the localhost dynamodblocal instance via NoSQL Workbench, the connection is fine but no tables show up? Am I missing something? \n\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvWNslA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc69Y2yU",
                                           "createdAt":  "2025-08-12T01:39:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "File this issue on https://github.com/aws/integrations-on-dotnet-aspire-for-aws/",
                                           "updatedAt":  "2025-08-12T01:39:05Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "No table in dynamoDblocal after creating it via ResourceReadyEvent",
        "labels":  [
                       "area-integrations",
                       "external"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10937",
        "createdAt":  "2025-08-13T00:19:29Z",
        "number":  10937,
        "author":  "MedAnd",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODLLE3g==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "thangchung",
                                            "createdAt":  "2025-08-14T07:11:18Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-13T12:52:52Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n# Improve Foundry Local support for WSL2 / Linux development scenarios\n\nThe current implementation of **Foundry Local** appears to assume that `.NET Aspire` is running on the **same host** as the Foundry Local service. This creates friction for development workflows where `.NET Aspire` is run from **WSL2 or Linux**, but Foundry Local is only supported on **Windows or macOS**.\n\n### Describe the solution you\u0027d like\n\n## 💡 Feature Request\n\nPlease consider adding support and documentation for the following:\n\n1. **Remote Foundry Local configuration**:\n   - Allow `.NET Aspire` to connect to a Foundry Local instance running on a different host (e.g., Windows host from WSL2).\n   - Enable configuration of the Foundry Local endpoint via `.WithEndpoint()` or similar methods.\n\n2. **Enhance `RunAsFoundryLocal()`**:\n   - Add an overload or configuration option to specify the location of the Foundry Local service.\n   - Support environment variables or distributed app settings to override the default behavior.\n\n### Additional context\n\nThis feature request may require alignment and new features / APIs in AI Foundry Local as per this related issue: https://github.com/microsoft/Foundry-Local/issues/222\n\n## 🔍 Current Limitation\n\n```csharp\nvar foundry = builder.AddAzureAIFoundry(\"foundry\")\n                     .RunAsFoundryLocal();",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "AI Foundry Local and .NET Aspire in WSL2 / Linux",
        "labels":  [
                       "area-integrations",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10953",
        "createdAt":  "2025-08-14T02:01:23Z",
        "number":  10953,
        "author":  "JamesNK",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-17T02:11:25Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nSome Azure and Open AI chat client integrations automatically add `OpenTelemetryChatClient`:\n\n* https://github.com/dotnet/aspire/blob/d217f76a9302421d23d82c65085604ba7f16a58a/src/Components/Aspire.OpenAI/AspireOpenAIClientBuilderChatClientExtensions.cs#L76\n* https://github.com/dotnet/aspire/blob/d217f76a9302421d23d82c65085604ba7f16a58a/src/Components/Aspire.Azure.AI.Inference/AspireAzureAIInferenceExtensions.cs#L215\n\nHowever there are settings on `OpenTelemetryChatClient` - notably `EnableSensitiveData` - that can\u0027t be configured. `EnableSensitiveData = true` adds important information, such as the prompts sent to the AI system, that is useful during development. There should be some way to configure the OTEL client.\n\n### Describe the solution you\u0027d like\n\nMEAI provides an action to configure the OTEL client:\n\nhttps://github.com/dotnet/extensions/blob/9e041fff9a8c06efce8dd335de03868ff9ee8556/src/Libraries/Microsoft.Extensions.AI/ChatCompletion/OpenTelemetryChatClientBuilderExtensions.cs#L26-L30\n\nAn optional argument like this could be added to the helper extension methods that register the client.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Configure AI chat client OpenTelemetry settings",
        "labels":  [
                       "area-integrations",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10977",
        "createdAt":  "2025-08-15T13:11:55Z",
        "number":  10977,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:53:49Z",
        "body":  "## Build Information\nBuild: https://github.com/dotnet/aspire/actions/runs/16983665005\nBuild error leg or test failing: Aspire.Hosting.OpenAI.Tests.OpenAIFunctionalTests.DependentResourceWaitsForOpenAIModelResourceWithHealthCheckToBeHealthy\nPull request:\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n\n```\nSystem.OperationCanceledException : The operation was canceled.   at System.Threading.Channels.AsyncOperation`1.GetResult(Int16 token)\n   at System.Threading.Channels.ChannelReader`1.ReadAllAsync(CancellationToken cancellationToken)+MoveNext()\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WatchAsync(CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs:line 549\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WatchAsync(CancellationToken cancellationToken)+MoveNext() in /_/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs:line 549\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WatchAsync(CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource\u003cSystem.Boolean\u003e.GetResult()\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WaitForResourceCoreAsync(String resourceName, Func`2 predicate, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs:line 443\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WaitForResourceCoreAsync(String resourceName, Func`2 predicate, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs:line 443\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WaitForResourceHealthyAsync(String resourceName, WaitBehavior waitBehavior, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs:line 221\n   at Aspire.Hosting.ApplicationModel.ResourceNotificationService.WaitForResourceHealthyAsync(String resourceName, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/ApplicationModel/ResourceNotificationService.cs:line 187\n   at Aspire.Hosting.OpenAI.Tests.OpenAIFunctionalTests.DependentResourceWaitsForOpenAIModelResourceWithHealthCheckToBeHealthy() in /home/runner/work/aspire/aspire/tests/Aspire.Hosting.OpenAI.Tests/OpenAIFunctionalTests.cs:line 48\n--- End of stack trace from previous location ---\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for Quarantined runs\n\n### Recent runs:\n| OS | Last 100 runs |\n| --- | --- |\n| **linux** (3/41) | [✅](https://github.com/dotnet/aspire/actions/runs/17507445683), [✅](https://github.com/dotnet/aspire/actions/runs/17500992099), [✅](https://github.com/dotnet/aspire/actions/runs/17492778459), [✅](https://github.com/dotnet/aspire/actions/runs/17485243400), [✅](https://github.com/dotnet/aspire/actions/runs/17480191597), [✅](https://github.com/dotnet/aspire/actions/runs/17472805329), [✅](https://github.com/dotnet/aspire/actions/runs/17463423134), [✅](https://github.com/dotnet/aspire/actions/runs/17454997702), [✅](https://github.com/dotnet/aspire/actions/runs/17449663054), [✅](https://github.com/dotnet/aspire/actions/runs/17442173296), [✅](https://github.com/dotnet/aspire/actions/runs/17433042015), [✅](https://github.com/dotnet/aspire/actions/runs/17424672526), [✅](https://github.com/dotnet/aspire/actions/runs/17419461049), [✅](https://github.com/dotnet/aspire/actions/runs/17412132255), [✅](https://github.com/dotnet/aspire/actions/runs/17403107983), [✅](https://github.com/dotnet/aspire/actions/runs/17394903994), [✅](https://github.com/dotnet/aspire/actions/runs/17389835917), [✅](https://github.com/dotnet/aspire/actions/runs/17384609035), [✅](https://github.com/dotnet/aspire/actions/runs/17377262447), [✅](https://github.com/dotnet/aspire/actions/runs/17369218910), [✅](https://github.com/dotnet/aspire/actions/runs/17364482889), [✅](https://github.com/dotnet/aspire/actions/runs/17360628689), [✅](https://github.com/dotnet/aspire/actions/runs/17356950741), [✅](https://github.com/dotnet/aspire/actions/runs/17353374564), [❌](https://github.com/dotnet/aspire/actions/runs/17350391589), [✅](https://github.com/dotnet/aspire/actions/runs/17346975757), [✅](https://github.com/dotnet/aspire/actions/runs/17343576501), [✅](https://github.com/dotnet/aspire/actions/runs/17340276435), [✅](https://github.com/dotnet/aspire/actions/runs/17336987711), [✅](https://github.com/dotnet/aspire/actions/runs/17331084572), [✅](https://github.com/dotnet/aspire/actions/runs/17323465217), [✅](https://github.com/dotnet/aspire/actions/runs/17316171193), [✅](https://github.com/dotnet/aspire/actions/runs/17311297271), [✅](https://github.com/dotnet/aspire/actions/runs/17304221203), [✅](https://github.com/dotnet/aspire/actions/runs/17295434878), [✅](https://github.com/dotnet/aspire/actions/runs/17287402765), [❌](https://github.com/dotnet/aspire/actions/runs/17282228197), [✅](https://github.com/dotnet/aspire/actions/runs/17274955993), [✅](https://github.com/dotnet/aspire/actions/runs/17266324318), [✅](https://github.com/dotnet/aspire/actions/runs/17258809953), [❌](https://github.com/dotnet/aspire/actions/runs/17253924246) |\n\n\n-- Updated on 9/6/2025 3:13:19 AM UTC\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 0 | 0 |\n\n\n-- Updated on 9/6/2025 3:13:19 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!--Known issue error report start --\u003e\n\n### Report\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|0|0|0|\n\u003c!--Known issue error report end --\u003e\n\u003c!-- Known issue validation start --\u003e\n ### Known issue validation\n**Build: :mag_right:** \n**Result validation:** :warning: Validation could not be done without an Azure DevOps build URL on the issue. Please add it to the \"**Build:** :mag_right:\" line.\n**Validation performed at:** 8/16/2025 4:04:48 AM UTC\n\u003c!-- Known issue validation end --\u003e\n\u003c!--Known issue error report start --\u003e\n\n### Report\n\n|Build|Definition|Test|Pull Request|\n|---|---|---|---|\n|[1133799](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1133799)|dotnet/aspire|[Aspire.Hosting.MySql.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1133799\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31203384\u0026resultId=103636)||\n|[1133768](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1133768)|dotnet/aspire|[Aspire.Hosting.Valkey.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1133768\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31201680\u0026resultId=103678)||\n|[1132652](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1132652)|dotnet/aspire|[Aspire.Hosting.Valkey.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1132652\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31165262\u0026resultId=102950)||\n|[1132574](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1132574)|dotnet/aspire|[Aspire.Hosting.SqlServer.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1132574\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31162602\u0026resultId=102851)||\n|[1131133](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1131133)|dotnet/aspire|[Aspire.Hosting.MongoDB.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1131133\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31145374\u0026resultId=103513)||\n|[1130747](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1130747)|dotnet/aspire|[Aspire.Hosting.OpenAI.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1130747\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31106840\u0026resultId=102959)||\n|[1128459](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1128459)|dotnet/aspire|[Aspire.Hosting.OpenAI.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1128459\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31038470\u0026resultId=103436)||\n|[1128297](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1128297)|dotnet/aspire|[Aspire.Hosting.MySql.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1128297\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31032386\u0026resultId=103436)||\n|[1127846](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1127846)|dotnet/aspire|[Aspire.Hosting.Valkey.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1127846\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31018470\u0026resultId=102924)||\n|[1127649](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1127649)|dotnet/aspire|[Aspire.Hosting.OpenAI.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1127649\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31013752\u0026resultId=103641)||\n|[1127565](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1127565)|dotnet/aspire|[Aspire.Hosting.OpenAI.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1127565\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31011548\u0026resultId=103641)||\n|[1124862](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1124862)|dotnet/aspire|[Aspire.Hosting.Qdrant.Tests.WorkItemExecution](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1124862\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=31009688\u0026resultId=102774)||\n|[1124866](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1124866)|dotnet/aspire|[Aspire.Hosting.Qdrant.Tests.QdrantFunctionalTests.Aspire.Hosting.Qdrant.Tests.QdrantFunctionalTests.WithDataShouldPersistStateBetweenUsages](https://dev.azure.com/dnceng-public/public/_build/results?buildId=1124866\u0026view=ms.vss-test-web.build-test-results-tab\u0026runId=30927376\u0026resultId=102439)||\n#### Summary\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\n|---|---|---|\n|2|7|13|\n\u003c!--Known issue error report end --\u003e\n\u003c!-- Known issue validation start --\u003e\n ### Known issue validation\n**Build: :mag_right:** \n**Result validation:** :warning: Validation could not be done without an Azure DevOps build URL on the issue. Please add it to the \"**Build:** :mag_right:\" line.\n**Validation performed at:** 8/16/2025 4:04:48 AM UTC\n\u003c!-- Known issue validation end --\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvqEs4g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6-oSzi",
                                           "createdAt":  "2025-08-18T19:58:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "@sebastienros - looks like this test was added in [Add Aspire.Hosting.OpenAI integration (dotnet/aspire#10830)](https://github.com/dotnet/aspire/pull/10830). Can you take a look?",
                                           "updatedAt":  "2025-08-18T19:58:20Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[Failing test]: DependentResourceWaitsForOpenAIModelResourceWithHealthCheckToBeHealthy",
        "labels":  [
                       "area-integrations",
                       "flaky-test",
                       "quarantined-test"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11042",
        "createdAt":  "2025-08-21T03:26:56Z",
        "number":  11042,
        "author":  "Kumima",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T16:01:21Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nhttps://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction\n\n# Description\nAzure Data Lake Storage is built on the top of the Azure Storage. And the key feature is the hierarchical namespace file system.\n\nMost things are similar with Azure Blob Storage, for client integration we should use `Azure.Storage.Files.DataLake`, and for hosting we should extend the `Azure.Storage`.\n\n### Describe the solution you\u0027d like\n\nSupport Azure Data Lake Storage for both hosting and client integration.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add integration for Azure Data Lake Storage",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11118",
        "createdAt":  "2025-08-26T21:17:05Z",
        "number":  11118,
        "author":  "maddymontaquila",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T16:01:09Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n\u003cimg width=\"1004\" height=\"699\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3bac25f7-6b6d-47e5-891d-d8e3e32ab1e7\" /\u003e\n\nWhen you click on the link in the dashboard provided for a deployment starting, it gives the Azure Portal resource 404, even though the deployment is happening successfully: \n\n\u003cimg width=\"346\" height=\"78\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4a89f69e-be5f-46f9-8ee5-2ef7f4c3906b\" /\u003e\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwHS4IQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7ARZZV",
                                           "createdAt":  "2025-08-26T21:26:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "Anything to share, like the aspire resource in the app host so I can try to repro with your scenario? I have been using it even recently and I can always see the current deployment. I am very sure because I was using wrong models for the sub and it was never ending ...",
                                           "updatedAt":  "2025-08-26T21:26:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AdLgh",
                                           "createdAt":  "2025-08-27T16:16:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "LOL yes! https://github.com/maddymontaquila/blackjack-agents @sebastienros ",
                                           "updatedAt":  "2025-08-27T16:16:29Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "AI Foundry Deployment Link doesn\u0027t work",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11152",
        "createdAt":  "2025-08-28T10:17:43Z",
        "number":  11152,
        "author":  "SempiternalFlash",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-02T00:12:54Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen registering a **BlobServiceClient** through **AddAzureBlobClient** and specifying the name under which the client should be registered using the **WithName** method, Health Checks seem to ignore the specified name. Calling the \"/health-check\" endpoint then throws an exception: _\"InvalidOperationException: Unable to find client registration with type \u0027BlobServiceClient\u0027 and name \u0027Default\u0027.\"_\n\n### Expected Behavior\n\nUpon specifying the name using the **WithName** method, Health Check should take the name into consideration and locate the **BlobServiceClient** assigned to that name instead of locating the one named \"Default\".\n\n### Steps To Reproduce\n\nTo reproduce the error:\n1. Clone [repository](https://github.com/SempiternalFlash/aspire-azureblobstorage-healthcheck-bug-report-project)\n2. Run the program\n3. Call the **/health-check**, base address for the endpoint of the api-service application can be acquired from Aspire dashboard\n4. Exception should arise\n\nTo get working solution, before running the program, go to **Program.cs** and uncomment lines 15 and 23\n\n### Exceptions (if any)\n\nInvalidOperationException: Unable to find client registration with type \u0027BlobServiceClient\u0027 and name \u0027Default\u0027.\n\n### .NET Version info\n\nVersion:      9.0.8\nArchitecture: x64\nCommit:       aae90fa090\n\n### Anything else?\n\n\u003cimg width=\"1170\" height=\"496\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3aa916d5-87f8-4c70-b115-820c6e34cb04\" /\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwVLpoA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7BUumg",
                                           "createdAt":  "2025-09-02T00:12:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I\u0027m not sure it\u0027s possible for us to detect WithName, that said, you can use `AddKeyedAzureBlobServiceClient` to set the name of the client.",
                                           "updatedAt":  "2025-09-02T00:12:54Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "AddAzureBlobClient ignores WithName when creating Health Check",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11153",
        "createdAt":  "2025-08-28T11:49:44Z",
        "number":  11153,
        "author":  "kostapetan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-29T15:38:58Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to port the following sample [Avatar](https://github.com/Azure-Samples/cognitive-services-speech-sdk/tree/master/samples/csharp/web/avatar), to use Aspire (and azd), however I can\u0027t find any mention/integration of Cognitive Services clients like `Microsoft.CognitiveServices.Speech` and others.\nIt would be nice to light up the non LLM based AI services in Foundry.\n\n### Describe the solution you\u0027d like\n\nNative support for Speech services.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support for Speech services",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11166",
        "createdAt":  "2025-08-28T23:46:16Z",
        "number":  11166,
        "author":  "mahdiyar021",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPR0eQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "manutiedra",
                                            "createdAt":  "2025-09-09T08:00:52Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-14T20:34:47Z",
        "body":  "\nDescription\nWhen running EF Core migrations in a .NET Aspire solution, we currently have to point at the WebApp project as the startup assembly. That means all our environment-specific service registrations (e.g., secrets, feature flags, custom DI modules) are only configured at runtime via the WebApp’s Program.cs. As a result, invoking dotnet ef migrations add or Update-Database against a separate class library or DbContext project fails to pick up our environment settings and service registrations.\nWe need a way to generate and apply migrations while still leveraging Aspire’s environment setup—without having to launch the full WebApp.\n\nExpected Behavior\n- Ability to scaffold and apply EF Core migrations in the Data project without pointing at WebApp.\n- Design-time service provider should load the same environment configuration defined by Aspire (including secrets, feature flags, custom DI modules).\n- A clear mechanism—like an IDesignTimeDbContextFactory override or an Aspire CLI flag—to bootstrap environment setup for migrations.\n\nImpact\n- Every developer or CI/CD pipeline must use the WebApp as startup, incurring longer startup times.\n- Hard to isolate database changes in headless or containerized migration scenarios.\n- Breaks separation of concerns between data layer and web host.\n\nProposed Solutions\n- Document and expose an AspireDesignTimeHost that programmatically loads environment settings in a class library context.\n- Provide a CLI option:\n`dotnet aspire migrations add \u003cName\u003e --context-project Data --migrations-project Data --environment` Development\n  - that handles both configuration and migrations.\n- Offer a sample IDesignTimeDbContextFactory\u003cAppDbContext\u003e implementation in Aspire templates that wires up the environment as if the WebApp had run.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxBeFEw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7A1n-C",
                                           "createdAt":  "2025-08-28T23:50:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here are possible related and/or duplicate issues (I may be wrong):\n- https://github.com/dotnet/aspire/issues/8678\n- https://github.com/dotnet/aspire/issues/398",
                                           "updatedAt":  "2025-08-28T23:50:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EFAG2",
                                           "createdAt":  "2025-09-14T15:51:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @DamianEdwards ",
                                           "updatedAt":  "2025-09-14T15:51:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EFCMH",
                                           "createdAt":  "2025-09-14T16:05:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiMF9Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-09-14T16:06:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Isn\u0027t this what `aspire exec` facilitates?",
                                           "updatedAt":  "2025-09-14T16:05:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EF4UT",
                                           "createdAt":  "2025-09-14T20:34:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "\u003e Isn\u0027t this what `aspire exec` facilitates?\n\nYes, exactly — aspire exec does help with that.\nBut when you\u0027re trying to create a migration for MySQL, the database needs to be up and running first. Only then can you generate the migration.\nAlso, you typically have to define a custom command to create your own migration. It would be much smoother if Aspire provided a built-in command for that out of the box. with good document of course.\n",
                                           "updatedAt":  "2025-09-14T20:34:47Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Support EF Core Migrations with Aspire’s Environment Configuration without Forcing WebApp Startup",
        "labels":  [
                       "area-integrations",
                       "entityframework"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11167",
        "createdAt":  "2025-08-29T06:16:44Z",
        "number":  11167,
        "author":  "sugarst",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODN3M4w==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "zfchai",
                                            "createdAt":  "2025-09-02T10:16:52Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-17T05:06:08Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n\n### Describe the bug\nIn .NET Aspire 9.4.1, there\u0027s a version conflict between `Aspire.MongoDB.Driver` and `Aspire.Hosting.MongoDB` packages regarding their `MongoDB.Driver` dependency requirements, which may cause dependency resolution issues when using both packages together.\n\n### Dependency Conflict Details\n\n```bash\nAspire.MongoDB.Driver 9.4.1\n├── Dependencies\n│   └── MongoDB.Driver (\u003e= 2.30.0 \u0026\u0026 \u003c 3.0.0)\n\nAspire.Hosting.MongoDB 9.4.1\n├── Dependencies\n│   └── MongoDB.Driver (\u003e= 3.4.0)\n```\n\n### Problem Analysis\n- `Aspire.MongoDB.Driver` requires MongoDB.Driver version between 2.30.0 and 3.0.0 (exclusive of 3.0.0)\n- `Aspire.Hosting.MongoDB` requires MongoDB.Driver version at least 3.4.0\n- These requirements cannot be satisfied simultaneously since 3.4.0 is not within the \u003c 3.0.0 range\n\n### Impact\nThis conflict may cause:\n- Project dependency resolution failures\n- NuGet package manager unable to resolve correct versions\n- Potential runtime compatibility issues\n\n### Expected behavior\nBoth packages should have compatible MongoDB.Driver version requirements, or the documentation should clearly explain how to use them together.\n\n### Environment\n- .NET Aspire Version: 9.4.1\n\n### Additional context\nThis issue exists in version 9.4.1 and needs team confirmation whether this is by design or a bug that needs to be fixed.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxMYlSA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7A98Jv",
                                           "createdAt":  "2025-08-29T15:37:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgex6w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "zfchai",
                                                                               "createdAt":  "2025-09-02T10:15:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "These packages aren\u0027t used in the same project and it shouldn\u0027t cause any issues. Did you run into a problem? Are you adding both of these packages to the same project?",
                                           "updatedAt":  "2025-08-29T15:37:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BZe51",
                                           "createdAt":  "2025-09-02T10:10:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgey1w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "zfchai",
                                                                               "createdAt":  "2025-09-02T10:17:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "zfchai",
                                           "body":  "Yes, I\u0027m using both packages in the same project and encountering package conflicts.\n\nCan you adjust the version consistency between two package dependencies?",
                                           "updatedAt":  "2025-09-02T10:12:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BctTg",
                                           "createdAt":  "2025-09-02T14:11:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you share how you are using both in the same project ",
                                           "updatedAt":  "2025-09-02T14:11:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BkBgf",
                                           "createdAt":  "2025-09-03T02:14:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "zfchai",
                                           "body":  "## Project Overview\n﻿\nThe project is designed with a modular, plugin-based architecture and utilizes .NET Aspire for hosting and running all module services. Each module incorporates the MongoDB.Driver, but version inconsistencies have led to conflicts.\n﻿\n## Issue Description\n﻿\nA package version conflict has been detected that falls outside of dependency constraints: Aspire.MongoDB.Driver 9.4.1 requires MongoDB.Driver (\u003e= 2.30.0 \u0026\u0026 \u003c 3.0.0), however MongoDB.Driver version 3.4.3 has been resolved, which violates the specified version range.",
                                           "updatedAt":  "2025-09-03T02:14:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BkCQI",
                                           "createdAt":  "2025-09-03T02:16:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Why is your apphost using the client integration? ",
                                           "updatedAt":  "2025-09-03T02:16:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7ExiVI",
                                           "createdAt":  "2025-09-17T05:06:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dotnet-policy-service",
                                           "body":  "This submission has been automatically marked as stale because it has been marked as requiring author action but has not had any activity for **14 days**.\nIt will be closed if no further activity occurs **within 7 days of this comment**.\n\u003c!-- Policy app identification https://img.shields.io/static/v1?label=PullRequestIssueManagement. --\u003e",
                                           "updatedAt":  "2025-09-17T05:06:08Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "MongoDB.Driver version requirements conflict between Aspire.MongoDB.Driver and Aspire.Hosting.MongoDB packages",
        "labels":  [
                       "area-integrations",
                       "needs-author-action",
                       "no-recent-activity"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11184",
        "createdAt":  "2025-08-30T02:17:28Z",
        "number":  11184,
        "author":  "joperezr",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T16:00:44Z",
        "body":  "With PR https://github.com/dotnet/aspire/pull/10473 We are trying to update docker image tags to latest versions, but found that updating Milvus image to tag v2.6.0 makes us hit this issue: https://github.com/milvus-io/milvus/issues/44138\n\nOnce that issue is fixed, this issue is tracking the work for updating that docker image tag.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwX7mow==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7BDZFg",
                                           "createdAt":  "2025-08-30T03:04:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@nblumhardt",
                                           "updatedAt":  "2025-08-30T03:04:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BJeo8",
                                           "createdAt":  "2025-08-31T23:24:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgTdEg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-09-01T00:53:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "nblumhardt",
                                           "body":  "Howdy! I don\u0027t think this looks right- the linked issue has nothing to do with Seq, sorry.",
                                           "updatedAt":  "2025-08-31T23:24:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Bfuaj",
                                           "createdAt":  "2025-09-02T18:07:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEgnFxg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "nblumhardt",
                                                                               "createdAt":  "2025-09-03T05:43:42Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "joperezr",
                                           "body":  "So sorry for the confusion, I was hitting issues with both Seq and Milvus, and this issue was meant to track the problems with milvus but got them mixed up. Fixed the name of the issue now.",
                                           "updatedAt":  "2025-09-02T18:07:03Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Updating Milvus docker image tag is blocked due to a segfault",
        "labels":  [
                       "area-integrations",
                       "external"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11218",
        "createdAt":  "2025-09-02T19:53:27Z",
        "number":  11218,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-03T13:51:05Z",
        "body":  "Using WithAccessKeyAuthentication (and WithPasswordAuthentication in Azure PostgreSQL) against existing resources in separate resource groups don\u0027t work correctly.\n\n**Repro steps**\n\n```C#\nvar cosmos = builder.AddAzureCosmosDB(\"cosmos\")\n    .RunAsExisting(\"mycosmos\", \"myresourcegroup\")\n    .WithAccessKeyAuthentication();\n```\n\nWhen you try to deploy to a resource group that isn\u0027t `myresourcegroup`, the above code fails with:\n\n```\nFailed to perform \u0027write\u0027 on resource(s) of type \u0027vaults/secrets\u0027, because the parent resource \u0027/subscriptions/XXXX/resourceGroups/myresourcegroup/providers/Microsoft.KeyVault/vaults/cosmoskv-loehmsay7z6re\u0027 could not be found. Click here for details\n```\n\nThe issue is the way we are generating the bicep for the `cosmos` resource:\n\n```bicep\n@description(\u0027The location for the resource(s) to be deployed.\u0027)\nparam location string = resourceGroup().location\n\nparam cosmos_kv_outputs_name string\n\nresource cosmos \u0027Microsoft.DocumentDB/databaseAccounts@2024-08-15\u0027 = {\n  name: take(\u0027cosmos-${uniqueString(resourceGroup().id)}\u0027, 44)\n  location: location\n  properties: {\n    locations: [\n      {\n        locationName: location\n        failoverPriority: 0\n      }\n    ]\n    capabilities: [\n      {\n        name: \u0027EnableServerless\u0027\n      }\n    ]\n    consistencyPolicy: {\n      defaultConsistencyLevel: \u0027Session\u0027\n    }\n    databaseAccountOfferType: \u0027Standard\u0027\n    disableLocalAuth: false\n  }\n  kind: \u0027GlobalDocumentDB\u0027\n  tags: {\n    \u0027aspire-resource-name\u0027: \u0027cosmos\u0027\n  }\n}\n\nresource keyVault \u0027Microsoft.KeyVault/vaults@2024-11-01\u0027 existing = {\n  name: cosmos_kv_outputs_name\n}\n\nresource connectionString \u0027Microsoft.KeyVault/vaults/secrets@2024-11-01\u0027 = {\n  name: \u0027connectionstrings--cosmos\u0027\n  properties: {\n    value: \u0027AccountEndpoint=${cosmos.properties.documentEndpoint};AccountKey=${cosmos.listKeys().primaryMasterKey}\u0027\n  }\n  parent: keyVault\n}\n\noutput name string = cosmos.name\n```\n\nNote that the way we are reference the `keyVault` is only by `name` - the `cosmos_kv_outputs_name` parameter.\n\nThe issue is the whole module that adds the `cosmos` resource has a `scope` set to `myresourcegroup`. So when referencing the `keyVault` only by `name`, it is assumed to be in the same resource group.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwYU72A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7Bg2KR",
                                           "createdAt":  "2025-09-02T19:58:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here are possible related and/or duplicate issues (I may be wrong):\n- https://github.com/dotnet/aspire/issues/10908\n- https://github.com/dotnet/aspire/issues/10973",
                                           "updatedAt":  "2025-09-02T19:58:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BhTvY",
                                           "createdAt":  "2025-09-02T20:43:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Thanks @MihuBot, but this is not a duplicate of those issues.",
                                           "updatedAt":  "2025-09-02T20:43:28Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "WithAccessKeyAuthentication/WithPasswordAuthentication doesn\u0027t work correctly with AsExisting resources in another resource group",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11238",
        "createdAt":  "2025-09-03T12:13:28Z",
        "number":  11238,
        "author":  "voiladaniel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:49:28Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nCurrently, the MongoDB container is being recreated every time it is stopped, even though the same configuration is used each time.\n\n\u003cimg width=\"1119\" height=\"252\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2bb6016f-a05b-45f5-82eb-ac83484dd1f9\" /\u003e\n\n### Expected Behavior\n\nOnly one persistent container created for any number of runs with the same configuration.\n\n### Steps To Reproduce\n\nvar mongo = builder.AddMongoDB(\"mongo\", 27020)\n    .WithContainerName(\"mongo\")\n    .WithEnvironment(\"MONGO_INITDB_DATABASE\", \"MyTestDB\")\n    .WithEnvironment(\"MONGO_INITDB_ROOT_USERNAME\", \"user\")\n    .WithEnvironment(\"MONGO_INITDB_ROOT_PASSWORD\", \"pass\")\n    .WithDataVolume(\"mtmongodata\")\n    .WithBindMount(\"./init-mongo.js\", \"/docker-entrypoint-initdb.d/mongo-init.js\", isReadOnly: true)\n    .WithLifetime(ContainerLifetime.Persistent);\n\n\n1. Run the aspire project with this configuration\n2. After the projected started successfully, run `docker stop \u003ccotnainerid\u003e`\n3. Run again the aspire project with the same configuration.\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.304\n Commit:            f12f5f689e\n Workload version:  9.0.300-manifests.610a1858\n MSBuild version:   17.14.16+5d8159c5f\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.304\\\n\n### Anything else?\n\nProject target framework: NET 9.0\nAspire.Hosting.AppHost version: 9.3.1\nAspire.Hosting.MongoDB version: 9.3.1",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Persistent mongodb container recreated on every run",
        "labels":  [
                       "area-integrations",
                       "mongodb"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11288",
        "createdAt":  "2025-09-09T04:34:39Z",
        "number":  11288,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPQOsg==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-09-09T05:10:37Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-15T16:28:16Z",
        "body":  "In your AppHost:\n\n```xml\n\u003cPackageReference Include=\"Aspire.Hosting.Azure.AIFoundry\" Version=\"9.5.0-preview.1.25458.2\" /\u003e\n```\n\n```csharp\nvar aiModel = builder.ExecutionContext.IsRunMode ? AIFoundryModel.Microsoft.Phi35MiniInstruct : AIFoundryModel.OpenAI.Gpt5Mini;\nvar model = builder.AddAzureAIFoundry(\"foundry\")\n                   .RunAsFoundryLocal()\n                   .AddDeployment(\"model\", aiModel);\n```\n\nWhen you run this app, you get:\n\n```\nFailed to start Phi-3.5-mini-instruct. Error: Model \u0027Phi-3.5-mini-instruct\u0027 was not found in the catalogue\n```\n\nWhen running from the command line, you say `foundry model info Phi-3.5-mini`, so the model must be named `Phi-3.5-mini`. But our generated code says:\n\nhttps://github.com/dotnet/aspire/blob/533b88ea2209e2a63793c327d757ea26e9e563c1/src/Aspire.Hosting.Azure.AIFoundry/AIFoundryModel.Generated.cs#L270\n\ncc @sebastienros ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxEZaSQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7C_sV0",
                                           "createdAt":  "2025-09-09T16:37:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiMDLQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-09-14T15:46:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I believe the discrepancies between the online and local foundry models is worth considering a custom enumeration for foundry local. The difficulty is that the local foundry tool will filter the available models based on the installed gpu. For instance gpt-5 won\u0027t be listed if the machine doesn\u0027t have an nvidia one.",
                                           "updatedAt":  "2025-09-09T16:37:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE_dd",
                                           "createdAt":  "2025-09-14T15:47:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@sebastienros Any thoughts on how we can do this? CI job?",
                                           "updatedAt":  "2025-09-14T15:47:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7ERlpJ",
                                           "createdAt":  "2025-09-15T16:13:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "sebastienros",
                                           "body":  "I already pinged a PM who is active on the foundry local repository (I just opened an issue on their repos too).\n\nRunning a CI job would inform us if the metadata we generate for Azure AI Foundry is not working locally, but it would also result is several false positive between the different logical name (current example in this issue) and the ones that are not working because the CI has no compatible GPU.",
                                           "updatedAt":  "2025-09-15T16:28:16Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "AIFoundryModel.Microsoft.Phi35MiniInstruct fails to load",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "ai"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11307",
        "createdAt":  "2025-09-10T06:55:44Z",
        "number":  11307,
        "author":  "jerry2007",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-10T18:18:46Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI am trying to use Azure Functions together with .NET Aspire for orchestration and deployment.\nCurrently, Azure Functions integration in Aspire is only available as preview and only supports deployment as containers into Azure Container Apps (ACA).\nThere is no way to deploy an Azure Functions project directly to Azure Functions in the serverless model.\n\nThis limitation makes it difficult to adopt Aspire in scenarios where teams already rely on native Azure Functions and don’t want to containerize them just for orchestration.\n\nReference: [Issue #920](https://github.com/dotnet/aspire/issues/920?utm_source=chatgpt.com)\n – this was not targeted for 9.0 GA.\nDocumentation: [Azure Functions integration with .NET Aspire](https://learn.microsoft.com/en-us/azure/azure-functions/dotnet-aspire-integration?utm_source=chatgpt.com)\n – clearly states ACA-only deployment.\n\n### Describe the solution you\u0027d like\n\nAdd support in .NET Aspire to deploy Azure Functions projects directly to Azure Functions (serverless runtime), in addition to the existing ACA container option.\n\nSupport deployment to native Azure Functions as first-class target.\n\nProvide parity with existing triggers (HTTP, Timer, Blob, Queue, Cosmos DB, Service Bus, Event Hub).\n\nOffer tooling and guidance for production scenarios where Aspire orchestrates both serverless and container-based workloads.\n\n### Additional context\n\nBenefits of adding this support:\n\nMakes Aspire attractive for hybrid apps that mix Functions and containerized services.\n\nAligns Aspire with the core Azure Functions use case (serverless, event-driven applications).\n\nReduces friction for developers who already rely on Azure Functions and don’t want to containerize them unnecessarily.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support for native Azure Functions deployment in .NET Aspire (serverless model, not only ACA)",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "azure-functions"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11337",
        "createdAt":  "2025-09-11T19:09:56Z",
        "number":  11337,
        "author":  "max2020204",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T15:05:21Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen starting a .NET Aspire solution that provisions a PostgreSQL container, connections to the database fail with a SCRAM authentication error if the container uses an existing persistent data volume. The error messages include:\n\n```\nDETAIL:  Connection matched file \"/var/lib/postgresql/data/pg_hba.conf\" line 124: \"host all all all scram-sha-256\"\nFATAL:  password authentication failed for user \"postgres\"\nDETAIL:  Connection matched file \"/var/lib/postgresql/data/pg_hba.conf\" line 124: \"host all all all scram-sha-256\"\n```\nThis typically happens when the persisted volume was initialized with MD5 password hashes but pg_hba.conf now enforces SCRAM-SHA-256\n\n### Expected Behavior\n\nI expect Aspire to launch the PostgreSQL container and connect to the database successfully, regardless of whether the volume is new or pre-existing, provided the configured credentials are correct. There should be no password authentication errors during development or repeated runs.\n\n### Steps To Reproduce\n\n1. Create a minimal Aspire solution with a PostgreSQL container resource (e.g. AddPostgres, AddDatabase).\n2. Run the solution once, so the PostgreSQL volume and DB files are initialized.\n3. Stop the Aspire solution.\n5. Start Aspire again using the same persistent data volume.\n6. Observe connection errors and SCRAM authentication failures in logs:\n```\nFATAL:  password authentication failed for user \"postgres\"\nDETAIL:  Connection matched file \"/var/lib/postgresql/data/pg_hba.conf\" line 124: \"host all all all scram-sha-256\"\n```\n\n\n### Exceptions (if any)\n\nPostgreSQL container log output:\n```\nDETAIL:  Connection matched file \"/var/lib/postgresql/data/pg_hba.conf\" line 124: \"host all all all scram-sha-256\"\nFATAL:  password authentication failed for user \"postgres\"\n\n```\n\n### .NET Version info\n\n.NET SDK:\n Version:           10.0.100-preview.7.25380.108\n Commit:            30000d883e\n Workload version:  10.0.100-manifests.8bb6be96\n MSBuild version:   17.15.0-preview-25380-108+30000d883\n\n### Anything else?\n\nIDE: Rider",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxKXBMQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7DpDP7",
                                           "createdAt":  "2025-09-11T19:15:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here are possible related and/or duplicate issues (I may be wrong):\n- https://github.com/dotnet/aspire/issues/5399\n- https://github.com/dotnet/aspire/issues/9475",
                                           "updatedAt":  "2025-09-11T19:15:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DrH4s",
                                           "createdAt":  "2025-09-11T22:46:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "max2020204",
                                           "body":  "Additional context (multiple Postgres resources and secrets)\n\nIn my AppHost, I define five separate PostgreSQL resources (Courses, Lessons, UserProfile, Keycloak). However, the generated secrets file only contains passwords for three of them, for example:\n```\n{\n  \"Parameters:PostgresUserProfile-password\": \"...\",\n  \"Parameters:Keycloak-password\": \"...\",\n  \"Parameters:PostgresLessons-password\": \"...\"\n}\n\n```\nThis means not all Postgres containers get a corresponding password secret. As a result, some dependent services receive no/old credentials and fail authentication against PostgreSQL (especially with SCRAM on an existing volume). The behavior becomes non-deterministic across multiple services that depend on different Postgres instances.\n\nThis looks like a mismatch between the number of Postgres resources defined in the AppHost and the number of generated/propagated secrets. It would help if Aspire ensured a password is generated and consistently injected for every Postgres resource, and that all dependent services receive the same up-to-date value.\n",
                                           "updatedAt":  "2025-09-11T22:46:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D3zUz",
                                           "createdAt":  "2025-09-12T17:14:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I don\u0027t understand the additional context. It would be really helpful if you had a repository we could clone with these steps to observe the behavior.",
                                           "updatedAt":  "2025-09-12T17:14:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EIR4k",
                                           "createdAt":  "2025-09-15T05:06:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "max2020204",
                                           "body":  "The simplest app host with 4 Postgres containers, minio, keycloak\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nbuilder.AddKeycloak(\"keycloak\", 8080)\n    .WithDataVolume();\n\nbuilder.AddMinioContainer(\"minio\")\n    .WithDataVolume();\n\nbuilder.AddPostgres(\"ServiceA\")\n    .WithDataVolume();\nbuilder.AddPostgres(\"ServiceB\")\n    .WithDataVolume();\nbuilder.AddPostgres(\"ServiceC\")\n    .WithDataVolume();\nbuilder.AddPostgres(\"ServiceD\")\n    .WithDataVolume();\n\nbuilder.Build().Run();\n```\n\nWhen I start app host with pregenerated `UserSecretsId` it work well, but when i change `UserSecretsId`, то another, it breaks. Not all services are writing in `secrets.json`\n(After regenerated)\n```json\n{\n  \"Parameters:ServiceB-password\": \"BGW)*R*33sVzDhFmr8~XF{\",\n  \"Parameters:keycloak-password\": \"!s}k.cJ9R}M70AxA{_\\u002B(ks\",\n  \"Aspire:VersionCheck:LastCheckDate\": \"2025-09-15T04:59:21.2655212\\u002B00:00\",\n  \"AppHost:OtlpApiKey\": \"d36803e5983c0d85c0a27c84d7dac7cf\",\n  \"Parameters:ServiceD-password\": \"\\u002BMMasYWTzABWznc9FN12qH\"\n}\n```",
                                           "updatedAt":  "2025-09-15T05:06:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EIXqG",
                                           "createdAt":  "2025-09-15T05:20:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e When I start app host with pregenerated UserSecretsId it work well, but when i change UserSecretsId, то another, it breaks. Not all services are writing in secrets.json\n\nOut of curiosity why did you change the id? \n\nWhat tools are you using? Visual studio? VS code?",
                                           "updatedAt":  "2025-09-15T05:20:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EIhL2",
                                           "createdAt":  "2025-09-15T05:40:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "max2020204",
                                           "body":  "In my project, I accidentally deleted it and didn’t notice at first. Once I realized, I got curious and started experimenting, which led me here.\nI\u0027m using Rider",
                                           "updatedAt":  "2025-09-15T05:40:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EpTgb",
                                           "createdAt":  "2025-09-16T14:57:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kylelaverty",
                                           "body":  "@davidfowl I am also having this issue, but with a DataBindMount.\n\nHere is the repo I am using: https://github.com/kylelaverty/practice-url-shortener",
                                           "updatedAt":  "2025-09-16T14:57:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EpcEx",
                                           "createdAt":  "2025-09-16T15:05:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kylelaverty",
                                           "body":  "I was able to fix it using the fix in #9475.\n\nIt was because of the missing UserSecretsId in the project.",
                                           "updatedAt":  "2025-09-16T15:05:21Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "PostgreSQL container fails with SCRAM auth when started by Aspire if data volume exists: “password authentication failed for user \u0027postgres\u0027”",
        "labels":  [
                       "area-integrations",
                       "postgres"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11341",
        "createdAt":  "2025-09-11T20:59:57Z",
        "number":  11341,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQBG_Q==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mitchdenny",
                                            "createdAt":  "2025-09-12T00:48:00Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-12T00:38:23Z",
        "body":  "Tracking issue for follow ups to the hosting integration for dev tunnels #813.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Dev tunnels integration improvements",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11343",
        "createdAt":  "2025-09-11T21:05:35Z",
        "number":  11343,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-13T01:03:42Z",
        "body":  "Generate and pass an access token to resources consuming a dev tunnel resource URL via `WithReference` when the dev tunnel does not have public anonymous access enabled.\n\nToken can be generated via the CLI: `devtunnel token \u003ctunnel-id\u003e --scope connect` \n\nToken will be valid for 1 hour.\n\nShould be passed to consuming resource in an environment variable. Default name `TUNNEL_TOKEN` but could be customized via a parameter, e.g. `WithReference(targetResource, tunnelResource, \"API_TOKEN\")`.\n\nIt should be possible to do this only for tunnel ports without anonymous access enabled by inspecting the tunnel model.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw_BPxg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7DrhRA",
                                           "createdAt":  "2025-09-11T23:33:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEh7YeQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2025-09-12T00:02:14Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "When you are using tunneling infra like this often you want to give the HttpClient extra headers to use. For example we probably want to set a variable like:\n\n```\nX-Tunnel-Authorization: tunnel \u003cTOKEN\u003e\n```\n\nYou get the token by calling this:\n\n```\ndevtunnel token \u003ctunnelname\u003e.\u003cregionsuffix\u003e --scopes connect\n```\n\nI think supporting setting: \n\n```env\nservices__web__https__0__headers__X__Tunnel__Authorization=tunnel [token]\n```\n\n... and having our service discovery logic support picking it up and pre-configuring the client with it would help.",
                                           "updatedAt":  "2025-09-11T23:33:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DrhZJ",
                                           "createdAt":  "2025-09-11T23:33:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "(pasted from doc issue: https://github.com/dotnet/aspire/pull/11327)",
                                           "updatedAt":  "2025-09-11T23:33:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D8E_G",
                                           "createdAt":  "2025-09-13T01:01:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "More details on using tokens to authentication with dev tunnels via a header: https://learn.microsoft.com/azure/developer/dev-tunnels/security#tunnel-access\n\nMight be interesting to consider injecting the header to disable the anti-phishing protection on the tunnel too as per https://learn.microsoft.com/azure/developer/dev-tunnels/security#anti-phishing-protection (even when the tunnel doesn\u0027t require authentication)",
                                           "updatedAt":  "2025-09-13T01:03:42Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Generate and pass an access token to resources consuming a dev tunnel resource",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11345",
        "createdAt":  "2025-09-11T21:15:12Z",
        "number":  11345,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-11T21:19:42Z",
        "body":  "- Verify that options are validated, e.g. labels\n- Verify interaction between tunnel resources and `IDevTunnelClient` for various scenarios, e.g. ensuring tunnel is created/updated with current options, access control, etc.\n- Verify that tunnel port status is updated in reaction to changes to parent tunnel resource, start/stop, restart, etc.\n- Verify that attempting to tunnel to resources with non-HTTP or non-localhost endpoints throws appropriate exceptions\n- Verify that auth state scenarios behave as expected, e.g.:\n  - When not authenticated tunnel resource should fail to start and notification should be shown \n  - Only one authn notification should be shown at a time no matter how many tunnel resources there are\n  - Authn notification should be reshown after dismissed when tunnel resource is next started\n  - Authn notification should not be shown when user is authenticated\n  - Authn notification should reappear if authentication attempt fails\n- Verify devtunnel CLI detection shows notification when CLI is not detected (again, only one at a time no matter how many tunnel resources there are)\n- Verify devtunnel CLI detection honors configuration setting to set custom path to devtunnel CLI",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw6mVCw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7DqZUL",
                                           "createdAt":  "2025-09-11T21:19:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/813",
                                           "updatedAt":  "2025-09-11T21:19:42Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Add more tests for dev tunnel hosting integration",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11346",
        "createdAt":  "2025-09-11T21:36:23Z",
        "number":  11346,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-11T21:40:53Z",
        "body":  "Enable exposing any resource with http endpoints on-demand via a resource command if builder-level method called.\n\nThis would involve exposing a new API on `IDistributedApplicationBuilder` to enable support for exposing resource via a dev tunnel on-demand via a resource command, e.g.\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder();\n\nbuilder.AddOnDemandDevTunnel();\n\nbuilder.AddProject\u003cProjects.MyWebApp\u003e(\"web\");\n\nbuilder.Build().Run();\n```\n\nThis would add a resource command to all resources with http endpoints in the application model that when clicked shows a dialog to select which HTTP endpoints (ports) on the resource to expose via a dev tunnel and whether the tunnel should allow anonymous access or not. After selecting the endpoints and clicking OK, tunnel resources would show up beneath the target resource.\n\nThoughts are this would be implemented by adding a hidden tunnel resource to the model for every resource with HTTP endpoints when `AddOnDemandDevTunnel()` is called, with the tunnel resource being a child of the target resource, along with hidden tunnel port resources for every HTTP endpoint on every resource in the model. When the resource command is invoked on a resource, the child tunnel and port resources would be shown so that it\u0027s clear that the resource is currently being exposed via a tunnel. The devtunnel instance created would be a temporary tunnel rather than a named tunnel (i.e. one started by running `devtunnel host --port-numbers \u003cport-numbers\u003e`). Once the tunnel is stopped in the UI, it would disappear until the resource command is invoked again. State between invocations in a single session would be stored on the resource instances in the model. The tunnel resource would need to have its args dynamically adjusted between runs.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw6pv-A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7Dqm_4",
                                           "createdAt":  "2025-09-11T21:40:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/11196",
                                           "updatedAt":  "2025-09-11T21:40:53Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Enable on-demand devtunnel for any resource via a resource command",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11350",
        "createdAt":  "2025-09-11T23:47:40Z",
        "number":  11350,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-11T23:51:27Z",
        "body":  "Enable support for granting Microsoft tenants and GitHub organizations access to dev tunnels via an api, e.g.\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder();\n\nvar api = builder.AddProject\u003cProjects.MyApi\u003e(\"api\");\n\nvar msTunnel = builder.AddDevTunnel(\"ms-tunnel\")\n    .WithMicrosoftTenantAccess() // Grants access to users in the current MS tenant\n    .WithReference(api);\n\nvar ghTunnel = builder.AddDevTunnel(\"gh-tunnel\")\n    .WithGitHubOrganizationAccess(\"dotnet\") // Grants access to users in the \"dotnet\" GitHub organization\n    .WithReference(api);\n\nbuilder.Build().Run();\n```\n\nI\u0027m not sure it\u0027s actually possible to support multiple tunnels running simultaneously with different auth providers, as it seems you can only login to a single provider at a time right now, so the sample above might not actually be possible. If that turns out to be a true limit, then we\u0027d need to figure out how we enforce it in the app model and UX. ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw66gbA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7DrqBs",
                                           "createdAt":  "2025-09-11T23:51:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/11196",
                                           "updatedAt":  "2025-09-11T23:51:27Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Enable granting Microsoft tenants \u0026 GitHub orgs access to dev tunnels",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11351",
        "createdAt":  "2025-09-11T23:59:34Z",
        "number":  11351,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-12T00:03:28Z",
        "body":  "Dev tunnels support customizing the value forwarded for both the `Host` and `Origin` headers. It defaults to always setting these headers to \"localhost\" for forwarded requests but supports opting in to preserving the original values, or even setting a custom value. We should expose this capability in the dev tunnels hosting integration.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw6744Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7Drvjh",
                                           "createdAt":  "2025-09-12T00:03:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here are possible related and/or duplicate issues (I may be wrong):\n- https://github.com/dotnet/aspire/issues/813\n- https://github.com/dotnet/aspire/issues/11196",
                                           "updatedAt":  "2025-09-12T00:03:28Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Enable support in dev tunnels for customizing forwarded headers",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11356",
        "createdAt":  "2025-09-12T00:34:09Z",
        "number":  11356,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-12T00:34:09Z",
        "body":  "Need to verify what happens currently for following examples and update if required:\n\n```csharp\nvar web = builder.AddProject\u003cProjects.WebApp\u003e(\"web\");\nvar tunnel = builder.AddDevTunnel(\"tunnel\")\n    .WithReference(web)\n    .WithReference(web); // Already called for this resource\n```\n\n```csharp\nvar api = builder.AddProject\u003cProjects.ApiApp\u003e(\"api\");\nvar tunnel = builder.AddDevTunnel(\"tunnel\")\n    .WithReference(api);\nvar web = builder.AddProject\u003cProjects.WebApp\u003e(\"web\")\n    .WithReference(api, tunnel)\n    .WithReference(api) // Already referencing api but via the tunnel\n    .WithRefernce(api, tunnel) // Already called this;\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Verify behavior when calling WithReference to same target multiple times with dev tunnels",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11357",
        "createdAt":  "2025-09-12T00:38:08Z",
        "number":  11357,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-12T00:38:08Z",
        "body":  "Add resource command to dev tunnel resources to enable issuing tunnel access tokens. Access tokens can be issued for tunnels using the CLI: `devtunnel token \u003ctoken-id\u003e --scope \u003cscopes\u003e`. The token expires after 1 day (can\u0027t be customized). Invoking the resource command would show a dialog where one or more scopes can be selected (choices are `create`, `manage`, `manage:ports`, `host`, `inspect`, `connect`).",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support issuing dev tunnel tokens via a resource command",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11358",
        "createdAt":  "2025-09-12T00:44:54Z",
        "number":  11358,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T22:17:44Z",
        "body":  "The dev tunnels hosting integration defaults to creating dev tunnels with a generated tunnel ID that\u0027s based on the tunnel resource name and AppHost SHA, which in turn is based on the file path of the AppHost project file. The tunnel ID can also be manually set to a fixed value.\n\nIf multiple AppHost project instances using the same tunnel IDs are run concurrently, resulting in multiple tunnel hosts running for the same tunnel ID, what is the behavior? Is it supported by the dev tunnels CLI/service? If it is, how is traffic routed between the multiple hosts? Is it something that results in behavior we want in the context of Aspire.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxLnovw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7DsEUO",
                                           "createdAt":  "2025-09-12T00:49:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here are possible related and/or duplicate issues (I may be wrong):\n- https://github.com/dotnet/aspire/issues/11196\n- https://github.com/dotnet/aspire/issues/813",
                                           "updatedAt":  "2025-09-12T00:49:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EuPci",
                                           "createdAt":  "2025-09-16T21:48:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "OK so I ran the playground DevTunnels AppHost as normal, then copied the `devtunnel` command for the host from the dashboard and ran it in a terminal while the AppHost was still running. When the second host connected, the host from the devtunnel resource printed the following in its logs:\n\n```text\n2025-09-16T14:30:13 Connection to host tunnel relay closed. Another host for the tunnel has connected.\n```\n\nIndicating that the starting of the second host disconnected the host being run by the AppHost. However, the resource did not stop/exit/finish and the next health check run completed as \"healthy\" but showing 2 host connections (sometimes it shows 2, other times it shows 1, apparently racy), i.e. it stays healthy even if the tunnel host resource isn\u0027t the one doing the actual hosting. If I then stop the second host from the terminal, the initial host from the AppHost does not currently reconnect. It simply stays running but disconnected and eventually gets marked unhealthy (see image below). Restarting the AppHost tunnel makes it work again.\n\n\u003cimg width=\"1194\" height=\"204\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/e1913418-f8c1-4178-8a17-c8b6ccd42880\" /\u003e\n\nIn short, it seems the last started devtunnel host always becomes the active host, and if it stops, the tunnel then has zero active hosts. Any existing hosts that were running when another starts go into a terminal state and must be manually restarted in order for them to be functional hosts again.\n\nA thought on how we could improve this; The logs for the tunnel host indicate when it loses connection to the tunnel relay. We could watch the log stream and when that message is encountered, forcibly stop the tunnel resource in a failed state. Users can then restart the tunnel host resource to have it become the last-started active host and thus be responsible. This is fairly viable but still feels a bit ick to have to monitor the output stream like this. Might not be a better way though.",
                                           "updatedAt":  "2025-09-16T21:48:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Euei_",
                                           "createdAt":  "2025-09-16T22:16:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "\u003eWe could watch the log stream and when that message is encountered, forcibly stop the tunnel resource in a failed state. Users can then restart the tunnel host resource to have it become the last-started active host and thus be responsible. This is fairly viable but still feels a bit ick to have to monitor the output stream like this. Might not be a better way though.\n\nThis is a bit more complicated than a simple async loop that\u0027s started each time the tunnel resource is started (in its BeforeResourceStarted handler) because the `ResourceLoggerService` replays logs to new subscribers, so if you start a new watch loop when you start the tunnel again, it instantly sees the disconnect log from before and stops the tunnel resource while it\u0027s starting (see https://github.com/dotnet/aspire/commit/f952bebd9b0a890cc0e1ba46d526c32a5babbe7f). Ideally there\u0027d only be one log watching loop per tunnel resource that runs for the life of the AppHost and tracks state and does synchronization such that it can perform desired actions in response to logs in a safe manner, but this is quite a bit more complicated.",
                                           "updatedAt":  "2025-09-16T22:17:44Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Investigate running concurrent AppHosts with the same devtunnel IDs",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11371",
        "createdAt":  "2025-09-12T16:31:26Z",
        "number":  11371,
        "author":  "afscrome",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:40:37Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIf you try to use the interaction service in `BeforeStart`, it will deadlock the app host, even if you guard the prompt with `interactionService.IsAvailable`.\n\n### Expected Behavior\n\n `interactionService.IsAvailable` should return false if the dashboard isn\u0027t running (such as in `BeforeStart`) (or has failed for any reason).\n\n### Steps To Reproduce\n\n```cs\nbuilder.Eventing.Subscribe\u003cBeforeStartEvent\u003e(async (evt, ct) =\u003e\n{\n   var interactionService = evt.Services.GetRequiredService\u003cIInteractionService\u003e();\n\n   if (!interactionService.IsAvailable)\n   {\n      return;\n   }\n\n   await interactionService.PromptMessageBoxAsync(\n      title: \"👋🌍\",\n      message: \"Hello World\",\n      options: new MessageBoxInteractionOptions\n      {\n         EnableMessageMarkdown = true,\n         Intent = MessageIntent.Error,\n      });\n});\n```\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw9x-hQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7D3H6F",
                                           "createdAt":  "2025-09-12T16:36:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiENlQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "afscrome",
                                                                               "createdAt":  "2025-09-12T17:11:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yea it would. We should be able to either made IsAvailable false or make PromptMessageBoxAsync throw this early.",
                                           "updatedAt":  "2025-09-12T16:36:18Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Using `InteractionSerivce` in `BeforeStart` deadlocks",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11377",
        "createdAt":  "2025-09-12T22:00:15Z",
        "number":  11377,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:24:25Z",
        "body":  "Now that we have support for devtunnels via a hosting integration, we should enable exposing the dashboard itself via a devtunnel resource, e.g. something like:\n\n```csharp\nvar builder = DistributedApplication.CrateBuilder();\n\nvar tunnel = builder.AddDevTunnel(\"tunnel\")\n    .WithReference(builder.GetDashboardResource());\n\nbuilder.Build().Run();\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxBPAtQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7D6yVE",
                                           "createdAt":  "2025-09-12T22:04:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/11196",
                                           "updatedAt":  "2025-09-12T22:04:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE03a",
                                           "createdAt":  "2025-09-14T14:39:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "@DamianEdwards I like this idea; however, would you be also thinking about securing the dashboard with some user login/password and/or access token?",
                                           "updatedAt":  "2025-09-14T14:39:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE20P",
                                           "createdAt":  "2025-09-14T14:51:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiL7rw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "The3G",
                                                                               "createdAt":  "2025-09-14T14:52:56Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "The dashboard is already secured by default (that\u0027s why the url contains a token).",
                                           "updatedAt":  "2025-09-14T14:51:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE3Ar",
                                           "createdAt":  "2025-09-14T14:52:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "@DamianEdwards I\u0027ve been investigating a devtunnel which is pointing at an aspire local developer YARP or Azure API management self-hosted Gateway resource and even the devtunnel connecting to YARP which routes to the Azure API management self-hosted Gateway",
                                           "updatedAt":  "2025-09-14T14:52:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE3Kd",
                                           "createdAt":  "2025-09-14T14:53:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "The3G",
                                           "body":  "\u003e The dashboard is already secured by default (that\u0027s why the url contains a token).\n\nHow would this be exposed to external users connecting via a devtunnel?",
                                           "updatedAt":  "2025-09-14T14:53:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE43i",
                                           "createdAt":  "2025-09-14T15:04:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiL95g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "The3G",
                                                                               "createdAt":  "2025-09-14T15:08:28Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You\u0027d have to share the token with anyone that wants to see the dashboard. The dashboard supports various forms of auth that can be configured, but we\u0027re talking about developer scenarios (at least that\u0027s what dev tunnels is primarily used for). I\u0027m not sure what you\u0027re trying to build.",
                                           "updatedAt":  "2025-09-14T15:04:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE8C1",
                                           "createdAt":  "2025-09-14T15:24:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEiMJuA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2025-09-14T16:33:39Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "The3G",
                                           "body":  "@davidfowl we have a number of distributed teams, working across globally distrubuted locations; typically when we have a cross cutting feature that requires multiple teams (frontend, frontend api and backend service) to be changed we\u0027ve had to deploy services to a (shared) azure subscription that a teams and test/develop against; and the team member attach to for debugging.  I\u0027ve been looking the possibility of using the devtunnels pointing to YARP to simplify/streamline this by allowing many developer devtunnels to be used by the aspire application in a senario where developers collaborate in a debug/fix sessions without the need to deploy resources many, many times.    ",
                                           "updatedAt":  "2025-09-14T15:24:25Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Support exposing Dashboard via a devtunnel resource",
        "labels":  [
                       "area-app-model",
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11383",
        "createdAt":  "2025-09-13T19:33:52Z",
        "number":  11383,
        "author":  "mahdiyar021",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T18:06:56Z",
        "body":  "\nDescription:\nCurrently, our Kubernetes manifests do not consistently specify a namespace, and some workloads that require persistent storage do not have PVCs automatically created when a DefaultStorageClassName is available.\nProposed changes:\n- Default Namespace\n- Define a single default namespace (e.g., webApp-system or webApp-app) in our manifests.\n- Ensure all Kubernetes resources (Deployments, Services, ConfigMaps, Secrets, etc.) explicitly set metadata.namespace to this default namespace.\n- Update CI/CD templates and Helm charts (if applicable) to inject the namespace automatically.\n- Persistent Volume Claims for DefaultStorageClassName\n- Detect resources (e.g., container workloads, databases) that require persistent storage.\n- If a DefaultStorageClassName exists in the cluster, automatically create a PVC for these workloads using that storage class.\n- PVC naming convention: \u003capp-name\u003e-pvc or \u003cresource-name\u003e-pvc.\n- PVC size and access modes should be configurable via values or environment variables.\nBenefits:\n- Consistent namespace usage across all resources.\n- Reduced risk of deploying into the wrong namespace.\n- Automatic storage provisioning for workloads without manual PVC creation.\n- Improved deployment automation and reduced human error.\nAcceptance Criteria:\n- [ ] All manifests explicitly set metadata.namespace to the default namespace.\n- [ ] PVCs are automatically created for workloads with DefaultStorageClassName.\n- [ ] PVC configuration is customizable (size, access mode).\n\napi :\n` var kube = builder.AddKubernetesEnvironment(\"k8s\").WithDefualtNamespace(\"namespace\");`\n\nAdditional Notes:\n- Ensure backward compatibility for existing deployments.\n- Consider adding a migration script to move existing resources into the default namespace if needed.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxK9CXA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7Er0Jc",
                                           "createdAt":  "2025-09-16T18:06:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "`volumeClaimTemplates `automatically provisions a dedicated `PersistentVolumeClaim `(PVC) for each pod in a `StatefulSet`.\nBy default, these PVCs are bound using the cluster’s default `StorageClass`, unless you explicitly specify another one.\nThis provides a convenient way to ensure each pod has its own persistent storage without having to define PVCs manually\n\n```\n volumeClaimTemplates:\n    - metadata:\n        name: datadir\n      spec:\n        accessModes: [\"ReadWriteOnce\"]\n        resources:\n          requests:\n            storage: 20Gi\n```\n\n\n",
                                           "updatedAt":  "2025-09-16T18:06:56Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "request feature : Add default namespace for all Kubernetes resources \u0026 auto‑PVC creation for resources with DefaultStorageClassName",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11407",
        "createdAt":  "2025-09-15T16:45:48Z",
        "number":  11407,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T19:38:09Z",
        "body":  "With an application like:\n\n```C#\nvar builder = DistributedApplication.CreateBuilder(args);\n\nbuilder.AddAzureContainerAppEnvironment(\"env\");\n\nbuilder.AddProject\u003cProjects.ACAJobsDemo_ProcessorJob\u003e(\"processor\")\n    .PublishAsAzureContainerAppJob(\"*/5 * * * *\");\n\nbuilder.Build().Run();\n```\n\nand where ProcessorJob has a launchSettings.json like:\n\n```json\n{\n  \"$schema\": \"https://json.schemastore.org/launchsettings.json\",\n  \"profiles\": {\n    \"http\": {\n      \"commandName\": \"Project\",\n      \"dotnetRunMessages\": true,\n      \"launchBrowser\": false,\n      \"applicationUrl\": \"http://localhost:5557\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    },\n    \"https\": {\n      \"commandName\": \"Project\",\n      \"dotnetRunMessages\": true,\n      \"launchBrowser\": false,\n      \"applicationUrl\": \"https://localhost:7543;http://localhost:5557\",\n      \"environmentVariables\": {\n        \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n      }\n    }\n  }\n}\n```\n\nTrying to deploy the app results in an error:\n\n```\nFailed to publish the distributed application.\n      System.Collections.Generic.KeyNotFoundException: The given key \u0027http\u0027 was not present in the dictionary.\n         at System.Collections.Generic.Dictionary`2.get_Item(TKey key)\n         at Aspire.Hosting.Azure.BaseContainerAppContext.ProcessValue(Object value, SecretType secretType, Object parent) in /_/src/Aspire.Hosting.Azure.AppContainers/BaseContainerAppContext.cs:line 272\n         at Aspire.Hosting.Azure.BaseContainerAppContext.ProcessValue(Object value, SecretType secretType, Object parent) in /_/src/Aspire.Hosting.Azure.AppContainers/BaseContainerAppContext.cs:line 284\n         at Aspire.Hosting.Azure.BaseContainerAppContext.AddEnvironmentVariablesAndCommandLineArgs(ContainerAppContainer container, Func`1 getContainerAppConfigurationSecrets, BicepValue`1 containerAppIdentityId) in /_/src/Aspire.Hosting.Azure.AppContainers/BaseContainerAppContext.cs:line 363\n         at Aspire.Hosting.Azure.ContainerAppJobContext.BuildContainerApp(AzureResourceInfrastructure infra) in /_/src/Aspire.Hosting.Azure.AppContainers/ContainerAppJobContext.cs:line 70\n         at Aspire.Hosting.Azure.AzureProvisioningResource.GetBicepTemplateFile(String directory, Boolean deleteTemporaryFileOnDispose) in /_/src/Aspire.Hosting.Azure/AzureProvisioningResource.cs:line 79\n         at Aspire.Hosting.Azure.AzureBicepResource.WriteToManifest(ManifestPublishingContext context) in /_/src/Aspire.Hosting.Azure/AzureBicepResource.cs:line 160\n         at Aspire.Hosting.ApplicationModel.ManifestPublishingCallbackAnnotation.\u003c\u003ec__DisplayClass0_0.\u003c.ctor\u003eb__0(ManifestPublishingContext context) in /_/src/Aspire.Hosting/ApplicationModel/ManifestPublishingCallbackAnnotation.cs:line 23\n         at Aspire.Hosting.Publishing.ManifestPublishingContext.WriteDeploymentTarget(DeploymentTargetAnnotation deploymentTarget) in /_/src/Aspire.Hosting/Publishing/ManifestPublishingContext.cs:line 188\n         at Aspire.Hosting.Publishing.ManifestPublishingContext.WriteProjectAsync(ProjectResource project) in /_/src/Aspire.Hosting/Publishing/ManifestPublishingContext.cs:line 172\n         at Aspire.Hosting.Publishing.ManifestPublishingContext.\u003c\u003ec__DisplayClass20_0.\u003c\u003cWriteResourceAsync\u003eg__WriteResourceObjectAsync|1\u003ed`1.MoveNext() in /_/src/Aspire.Hosting/Publishing/ManifestPublishingContext.cs:line 129\n      --- End of stack trace from previous location ---\n         at Aspire.Hosting.Publishing.ManifestPublishingContext.WriteResourceAsync(IResource resource) in /_/src/Aspire.Hosting/Publishing/ManifestPublishingContext.cs:line 107\n         at Aspire.Hosting.Publishing.ManifestPublishingContext.WriteModel(DistributedApplicationModel model, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Publishing/ManifestPublishingContext.cs:line 79\n         at Aspire.Hosting.Publishing.ManifestPublisher.WriteManifestAsync(DistributedApplicationModel model, Utf8JsonWriter jsonWriter, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Publishing/ManifestPublisher.cs:line 67\n         at Aspire.Hosting.Publishing.ManifestPublisher.PublishInternalAsync(DistributedApplicationModel model, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Publishing/ManifestPublisher.cs:line 55\n         at Aspire.Hosting.Publishing.ManifestPublisher.PublishAsync(DistributedApplicationModel model, CancellationToken cancellationToken) in /_/src/Aspire.Hosting/Publishing/ManifestPublisher.cs:line 23\n         at Aspire.Hosting.DistributedApplicationRunner.ExecuteAsync(CancellationToken stoppingToken) in /_/src/Aspire.Hosting/DistributedApplicationRunner.cs:line 41\n```\n\nThe issue is that since the `launchSettings.json` file has kestrel settings, the `https` and `http` endoints are getting injected on the project. This causes problems down the line because we create endpoints, but since Container App Jobs don\u0027t support ingress, things get messed up.\n\nWe could fix this in `PublishAsAzureContainerAppJob` by filtering out the `http` and `https` endpoints using the `WithEndpointsInEnvironment` method to add a filter.\n\nAnother option to fix this would be in the ContainerAppJobContext code, basically skipping over endpoint reference. But this feels less correct, since it is really an error to make these endpoints in the first place.\n\nAnother thought is to add validation up front and fail if an ACA Container App Job has `http` or `https` endpoints. This would make the error condition better, but users would still be confused at why the endpoints are being created in the first place (a misconfigured launchSettings.json file).\n\nThoughts on how to proceed on this? @mitchdenny @davidfowl @DamianEdwards ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxLOI9w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7ESpMe",
                                           "createdAt":  "2025-09-15T17:31:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Failing at publish time is good (but we want to improve the error message)",
                                           "updatedAt":  "2025-09-15T17:31:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EUojE",
                                           "createdAt":  "2025-09-15T20:09:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "Is the processor job project a web app, meaning it has the usual default launch profiles configured?",
                                           "updatedAt":  "2025-09-15T20:09:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EWkpR",
                                           "createdAt":  "2025-09-15T22:56:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEijO5A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "DamianEdwards",
                                                                               "createdAt":  "2025-09-16T19:37:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-09-16T23:46:04Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e Is the processor job project a web app\n\nIn general, no. It is not meant to be long running. It is meant to start, process, and shut down.\n\nI hit this issue because I converted a web app into a console app, but forgot to update the `launchSettings.json` file. So it still had web app goo in it.",
                                           "updatedAt":  "2025-09-15T22:56:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Es4j3",
                                           "createdAt":  "2025-09-16T19:38:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "DamianEdwards",
                                           "body":  "@eerhardt ah OK, so this perhaps isn\u0027t very high priority? Failing at publish time seems fine then.",
                                           "updatedAt":  "2025-09-16T19:38:09Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "ACA Container App Jobs break when launchSettings has kestrel settings",
        "labels":  [
                       "area-integrations",
                       "azure"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11440",
        "createdAt":  "2025-09-16T19:24:12Z",
        "number":  11440,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T19:24:12Z",
        "body":  "The dev tunnels integration currently relies on health checks to determine when the tunnel is active and to retrieve the URLs for the ports on the tunnel. It does this by calling the dev tunnels service via the `devtunnel` CLI, requesting the status of the tunnel, and when received, stores that status on the resource itself. Once the health check is healthy, the port resource\u0027s handler for the tunnel resource\u0027s `OnResourceReady` event fires, retrieves the status of the tunnel from the resource, and uses it to set the port resource\u0027s URL, etc.\n\nWhile this works, due to the backoff logic in the health checks system, it can take a long time after the tunnel host is successfully launched before the port resources show as \"Running\" and have their URLs in the dashboard. On my machine I regularly see it take up to 18 seconds.\n\nIt was hoped introducing a new `ResourceStarted` event (see #11353) that fires after the resource has started but before it\u0027s healthy would help here by allowing the tunnel resources to handle that event and call the tunnel service via the CLI to get the status. Unfortunately this is still racy and the tunnel host can be started (hence the event fired) but a call to the tunnel service can still return a result indicating the tunnel is not currently running.\n\nTo improve this experience we likely need to start a retry loop in the `ResourceStarted` event of the of the tunnel resource that calls the tunnel service for the tunnel status with a short delay in between retries (e.g. 1 second), until one of the following conditions occurs:\n\n- the status is returned indicating the tunnel is now running and has the expected port URLs (i.e. the same logic as the health check)\n- a max retry count is hit\n- the resource is stopped\n- the `CancellationToken` passed to the event handler is tripped\n\nAssuming the loop resolves successfully, the tunnel and its port resources could be updated immediately to indicate they\u0027re running. If we take this approach I think the health check can be completely removed as it provides little value anymore and will prevent the tunnel resource from appearing healthy until the health check runs successfully once. We could potentially keep it and make the logic a bit more complex such that it tracks invocations for the current resource instance and shortcuts itself if the status is already available on the resource the first time it runs. That way, the initial status could be owned by the resource itself (rather than the health check) but the health check could kick in to provide monitoring after the tunnel host resource is successfully started.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Devtunnel port resources can take a long time to move to \"Running\" state after tunnel is established",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11447",
        "createdAt":  "2025-09-17T00:00:53Z",
        "number":  11447,
        "author":  "DamianEdwards",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-17T00:00:53Z",
        "body":  "The dev tunnels hosting integration currently checks if the needed devtunnel CLI is installed and if not shows a notification on the dashboard pointing users to the installation instructions. Unfortunately though, even if the user clicks the link and follows the instructions to install the CLI, the shell that launched the AppHost and dashboard must be restarted before it can be detected, as the CLI installer will be launched from a separate shell instance.\n\nWe should consider whether offering a direct install button on the notification that launches the appropriate installer from the AppHost can result in an experience where the user can get prompted to install the CLI, clicks the prompt to do the install, and then the resource can continue starting without the user having to close the AppHost and the shell session they launched it from for the CLI install to be detected. This would result in a much smoother and delightful experience.\n\nThe devtunnel CLI supports the [following installers](https://learn.microsoft.com/azure/developer/dev-tunnels/get-started?tabs=windows#install) that update the PATH:\n\n- Windows: winget (`winget install Microsoft.devtunnel`)\n- macOS: Homebrew (`brew install --cask devtunnel`)\n- macOS/Linux: bash install script (`curl -sL https://aka.ms/DevTunnelCliInstall | bash`)\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support installing the devtunnel CLI from the dashboard notification",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11456",
        "createdAt":  "2025-09-17T16:15:32Z",
        "number":  11456,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-18T05:16:10Z",
        "body":  "When using the Yarp resource to proxy over static files, the proxy doesn\u0027t handle falling back to the designated 404.html page when a route fails to resolve.\n\nWe might have to figure out how to configure a rule for it on the Aspire side or update the Yarp proxy itself to handle redirecting to `404.html` instead of returnin the status code when the `USE_STATIC_FILES` flag is enabled.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Yarp static files proxying does not support handling 404s",
        "labels":  [
                       "area-integrations",
                       "yarp"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11508",
        "createdAt":  "2025-09-19T06:38:24Z",
        "number":  11508,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T16:33:02Z",
        "body":  "1. Create a tunnel:\n\n```C#\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar tunnel = builder.AddDevTunnel(\"tunnel\");\n\nvar site = builder.AddYarp(\"site\");\n\ntunnel.WithReference(site);\n\nbuilder.Build().Run();\n```\n\n2. Sign out manually `devtunnel logout`\n3. Restart tunnel from the dashboard\n4. The URL for the port will be incorrect and will 404. The logs for the port show the correct information.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxVcpww==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7FVynD",
                                           "createdAt":  "2025-09-19T06:42:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/11196",
                                           "updatedAt":  "2025-09-19T06:42:37Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "DevTunnels don\u0027t properly update port url after account change *and* restarting tunnel",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11519",
        "createdAt":  "2025-09-19T14:40:44Z",
        "number":  11519,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T14:42:10Z",
        "body":  "With the new Azure Kusto integration, we are setting the following default SKU:\n\nhttps://github.com/dotnet/aspire/blob/f43772f872f1bcb386854544a901370700963759/src/Aspire.Hosting.Azure.Kusto/AzureKustoBuilderExtensions.cs#L71-L76\n\nHowever, this may not be the best default. There are other, lower cost SKUs:\n\n- `Standard_E2ads_v5`\n- `Dev(No SLA)_Standard_E2a_v4`\n\nWe should decide what is the best default SKU and capacity/instance count for Kusto.\n\nThe reason I ask is because after deploying a Kusto cluster, I got an Azure cost control recommendation that says:\n\n\u003e Your cluster currently operates on SKU \u0027Standard_D11_v2\u0027. Other SKUs are available that suit your data needs better. Scale up to \u0027Standard_E2ads_v5\u0027 and change your instance count to 3 instances. This will reduce cost and potentially improve cluster performance\n\ncc @mitchdenny @MattKotsenas ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Default Azure Kusto SKU",
        "labels":  [
                       "area-integrations"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11521",
        "createdAt":  "2025-09-19T18:01:36Z",
        "number":  11521,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T18:02:09Z",
        "body":  "This issue is based on [this PR review comment](https://github.com/dotnet/aspire/pull/10763#discussion_r2360058842):\n\n\u003e Did we ever get around to adding some type-checks for this? Maybe we should have multiple overloads like we do for other APIs?\n\n**Context:**\n- The question refers to the `AddCluster` method in `src/Aspire.Hosting.Yarp/api/Aspire.Hosting.Yarp.cs`.\n- A new overload was added: `Yarp.YarpCluster AddCluster(string clusterName, object destination);`\n\n**Action Items:**\n- Investigate whether type-checks should be added for the new overload.\n- Consider adding multiple overloads for `AddCluster`, similar to what exists for other APIs.\n- Ensure consistency and type safety across all overloads of `AddCluster`.\n\n---\nReference: [PR #10763](https://github.com/dotnet/aspire/pull/10763)\nComment by [captainsafia](https://github.com/captainsafia):\n\"Did we ever get around to adding some type-checks for this? Maybe we should have multiple overloads like we do for other APIs?\"\n\n---\nLabels suggested by repo metadata: feature-dashboard-extensibility, copilot-task, area-dotnet-debugger.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add type-checks and overloads for AddCluster API",
        "labels":  [
                       "area-integrations",
                       "yarp"
                   ]
    }
]
