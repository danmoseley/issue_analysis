[
    {
        "url":  "https://github.com/dotnet/aspire/issues/830",
        "createdAt":  "2023-11-15T04:27:04Z",
        "number":  830,
        "author":  "VenkateshSrini",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC18MSA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "madPO",
                                            "createdAt":  "2023-11-15T07:10:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "CosminSontu",
                                            "createdAt":  "2023-11-15T09:57:47Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "hahn-kev",
                                            "createdAt":  "2023-11-15T18:36:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "deanro",
                                            "createdAt":  "2023-11-15T19:54:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "edcsu",
                                            "createdAt":  "2023-11-16T05:31:18Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "vikneshrajspui",
                                            "createdAt":  "2023-11-16T08:05:02Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tedvanderveen",
                                            "createdAt":  "2023-11-16T10:33:55Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "fr4gles",
                                            "createdAt":  "2023-11-16T12:35:25Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cyril265",
                                            "createdAt":  "2023-11-16T15:12:24Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TheAnarchoX",
                                            "createdAt":  "2023-11-16T17:32:00Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mdevadass",
                                            "createdAt":  "2023-11-16T21:15:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ReubenBond",
                                            "createdAt":  "2023-11-19T04:50:48Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "muhammedalibalci",
                                            "createdAt":  "2023-11-19T11:59:17Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Stahhl",
                                            "createdAt":  "2023-11-19T16:17:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Meir017",
                                            "createdAt":  "2023-11-19T18:12:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "maddadder",
                                            "createdAt":  "2023-11-19T22:38:35Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "GeorgeTsiokos",
                                            "createdAt":  "2023-11-20T08:23:33Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "GeorgeTsiokos",
                                            "createdAt":  "2023-11-20T08:23:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "wilko-smoors",
                                            "createdAt":  "2023-11-20T15:18:19Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "pjmagee",
                                            "createdAt":  "2023-11-20T18:20:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "akhanalcs",
                                            "createdAt":  "2023-11-21T18:18:04Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "akhanalcs",
                                            "createdAt":  "2023-11-21T18:18:27Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "curbelo-gonzalo",
                                            "createdAt":  "2023-11-22T06:48:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "glen-84",
                                            "createdAt":  "2023-11-29T10:43:07Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "aco-mreble",
                                            "createdAt":  "2023-11-30T12:18:50Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "phmatray",
                                            "createdAt":  "2023-11-30T21:56:26Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "si618",
                                            "createdAt":  "2023-12-03T03:06:51Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jack775544",
                                            "createdAt":  "2023-12-07T21:42:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cezn",
                                            "createdAt":  "2023-12-16T09:57:43Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MatinTheGC",
                                            "createdAt":  "2023-12-17T15:38:21Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "splitt3r",
                                            "createdAt":  "2023-12-23T15:30:55Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "iikuzmychov",
                                            "createdAt":  "2023-12-24T00:49:30Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cptCloud",
                                            "createdAt":  "2023-12-24T22:03:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NasAmin",
                                            "createdAt":  "2023-12-30T21:00:42Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "NasAmin",
                                            "createdAt":  "2023-12-30T21:00:43Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "venkatesh0214",
                                            "createdAt":  "2024-01-02T02:17:29Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jmoralesv",
                                            "createdAt":  "2024-01-07T22:32:57Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MoazAlkharfan",
                                            "createdAt":  "2024-01-10T17:25:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "WeihanLi",
                                            "createdAt":  "2024-01-11T06:08:46Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Matthewsre",
                                            "createdAt":  "2024-01-23T03:32:27Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "gsm1be",
                                            "createdAt":  "2024-01-24T11:56:00Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sibbl",
                                            "createdAt":  "2024-01-30T12:07:22Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "schmitch",
                                            "createdAt":  "2024-01-30T18:16:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "schmitch",
                                            "createdAt":  "2024-01-30T18:16:17Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "paule96",
                                            "createdAt":  "2024-02-07T20:03:13Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "arturek",
                                            "createdAt":  "2024-02-07T21:16:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "GMouaad",
                                            "createdAt":  "2024-02-12T15:59:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "gsm1be",
                                            "createdAt":  "2024-02-14T11:30:49Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2024-02-14T19:48:46Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "ztzsws1",
                                            "createdAt":  "2024-02-18T08:50:02Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "CanePlayz",
                                            "createdAt":  "2024-03-08T00:22:52Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "CanePlayz",
                                            "createdAt":  "2024-03-08T00:22:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "HazyFish",
                                            "createdAt":  "2024-03-20T05:09:41Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "HazyFish",
                                            "createdAt":  "2024-03-20T05:09:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "MichaelPeter",
                                            "createdAt":  "2024-03-29T18:07:46Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "danbopes",
                                            "createdAt":  "2024-04-01T05:13:33Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "christophorusdou",
                                            "createdAt":  "2024-04-03T21:17:23Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "iSeiryu",
                                            "createdAt":  "2024-05-13T21:54:32Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Reveon",
                                            "createdAt":  "2024-05-16T21:11:47Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BramMusters",
                                            "createdAt":  "2024-07-04T11:49:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "zidad",
                                            "createdAt":  "2024-07-11T08:33:14Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "eumikhailov",
                                            "createdAt":  "2024-08-28T21:06:10Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Bjego",
                                            "createdAt":  "2024-09-23T05:06:49Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sergey-ivanov-inovalon",
                                            "createdAt":  "2024-11-04T21:48:12Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AlbertWaelti",
                                            "createdAt":  "2024-11-15T06:52:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Misiu",
                                            "createdAt":  "2024-12-02T09:46:52Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "filipbekic01",
                                            "createdAt":  "2024-12-07T08:34:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "amyboose",
                                            "createdAt":  "2024-12-21T20:24:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jpuskar",
                                            "createdAt":  "2025-01-10T16:13:05Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "jpuskar",
                                            "createdAt":  "2025-01-10T16:13:06Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "renping106",
                                            "createdAt":  "2025-01-12T11:02:18Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "pedrobrown",
                                            "createdAt":  "2025-01-20T15:06:39Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "pedrobrown",
                                            "createdAt":  "2025-01-20T15:06:44Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "clazarr",
                                            "createdAt":  "2025-05-02T19:20:50Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "theLeftTenant",
                                            "createdAt":  "2025-06-03T17:37:01Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "aradalvand",
                                            "createdAt":  "2025-06-06T23:08:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mehdihadeli",
                                            "createdAt":  "2025-07-22T21:03:58Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "bernarddijk",
                                            "createdAt":  "2025-07-29T13:36:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "maxle5",
                                            "createdAt":  "2025-08-04T16:35:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "PadreSVK",
                                            "createdAt":  "2025-09-06T13:49:03Z"
                                        }
                                    ],
                          "totalCount":  80
                      },
        "updatedAt":  "2025-05-31T05:14:28Z",
        "body":  "Hi,\r\nFrom the Aspire project I would like to generate the deployment and service . yaml. If my app has a console application, then if that is not skipped then I need a Kubernetes Job deployment. I also need to have a facility for specifying of that is a cron job. I need a way  to mount my application appSetting.json from Config map. If there are any secrets used in application then I want the K8s secrets also to be generated ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHObNTHxA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5sAz_N",
                                           "createdAt":  "2023-11-15T10:07:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESAGFg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "j0nimost",
                                                                               "createdAt":  "2023-11-15T12:28:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "bbrandt",
                                                                               "createdAt":  "2023-11-15T15:53:18Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "gsm1be",
                                                                               "createdAt":  "2024-01-24T11:57:27Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2024-01-30T06:03:05Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "GMouaad",
                                                                               "createdAt":  "2024-02-24T14:28:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CanePlayz",
                                                                               "createdAt":  "2024-03-08T00:23:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "iSeiryu",
                                                                               "createdAt":  "2024-05-13T21:54:27Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "Bjego",
                                                                               "createdAt":  "2024-09-23T05:07:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "bbqchickenrobot",
                                                                               "createdAt":  "2025-05-13T23:19:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  9
                                                         },
                                           "author":  "CosminSontu",
                                           "body":  "In supporting kubernetes deployment it would be great if the component author could control the templating of kubernetes resouces and also control variations per environment.\r\n\r\nA low hanging fruit would be to generate yaml files in a Kustomize folder structure. Kustomize deployent support is built-in into kubectl. From my point of view, helm is more appropriate for publishing generic purpose components for wide audiences (nginx, redis, postgres...) , it\u0027s overkill as a default for deploying your app\u0027s components.\r\n\r\nI think supporting Kubernetes as a target will increase traction.\r\n\r\n1. Kubernetes is Cloud Portable. \r\n\r\n2. Aspire reduces or elliminates the need for sidecars which leads to leaner cluster workloads. (See requests for dapr components (including sidecar container) and you will realise that for a mid-size app with ~10 components (averaging 2 replicas each) you will allocate ~5Gb RAM (requests) with a limit of 20Gb RAM (limits) and ~2CPUs(requests) -\u003e 6CPUs(limits) - only for Dapr to run) based on : https://docs.dapr.io/operations/hosting/kubernetes/kubernetes-production/\r\n\r\nThis would be a much saner option than targeting Dapr, at least for me, and it would be the trigger for adoption.",
                                           "updatedAt":  "2023-11-15T10:13:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sHCYr",
                                           "createdAt":  "2023-11-16T04:47:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODhq3HQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "tedvanderveen",
                                                                               "createdAt":  "2023-11-16T10:34:51Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-19T02:28:12Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Stahhl",
                                                                               "createdAt":  "2023-11-19T14:32:30Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Meir017",
                                                                               "createdAt":  "2023-11-19T18:17:42Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-11-20T18:20:31Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-21T18:19:23Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "snow-jallen",
                                                                               "createdAt":  "2023-11-25T22:34:23Z"
                                                                           },
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "snow-jallen",
                                                                               "createdAt":  "2023-11-25T22:34:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "flibbertigibbet-uk",
                                                                               "createdAt":  "2023-12-14T16:55:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "bmilbrandt-schulz",
                                                                               "createdAt":  "2024-01-17T11:44:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "3GDXC",
                                                                               "createdAt":  "2024-04-17T11:50:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "iSeiryu",
                                                                               "createdAt":  "2024-05-13T21:54:58Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  12
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I would love one of you all to help spike an implementation of a deployment tool that can take [this manifest](https://learn.microsoft.com/en-us/dotnet/aspire/deployment/manifest-format). Here\u0027s an example:\r\n\r\nhttps://github.com/dotnet/aspire/blob/50410e1ac8f14b5339ffbe9b2563dfff8db74ef3/samples/eShopLite/AppHost/aspire-manifest.json\r\n\r\nThe idea would be to parse this and build up a model, then spit out k8s manifest or helm manifests. It would be huge step forward in understanding what we could build here!\r\n\r\ncc @brendandburns for thoughts as well.",
                                           "updatedAt":  "2023-11-16T04:48:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sHDya",
                                           "createdAt":  "2023-11-16T04:56:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD9_qxg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-21T18:21:15Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "filipbekic01",
                                                                               "createdAt":  "2024-12-07T08:35:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "nabsul",
                                           "body":  "Suggestion: instead of spitting out yaml, how about accessing k8s directly via the library/API?\n\nNot exactly the same, but I talk about something similar here: https://nabeel.blog/2022/04/30/yaml-alternative (Especially the \"skip yaml\" part)\n\nI\u0027d love to collaborate on this, if time permits. ",
                                           "updatedAt":  "2023-11-16T04:56:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sHFxC",
                                           "createdAt":  "2023-11-16T05:08:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEHUkaw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "wmeints",
                                                                               "createdAt":  "2024-01-02T13:56:54Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "3GDXC",
                                                                               "createdAt":  "2024-04-17T11:51:44Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "diegomgarcia",
                                                                               "createdAt":  "2024-08-27T02:05:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "manojbaishya",
                                                                               "createdAt":  "2025-02-24T04:04:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Suggestion: instead of spitting out yaml, how about accessing k8s directly via the library/API?\r\n\r\nSounds like a reasonable approach as well. You can just use the Kubernetes API to do the magic. \r\n\r\nThere are some steps missing though. Take a look at how azd works:\r\n\r\nhttps://learn.microsoft.com/en-us/dotnet/aspire/deployment/azure/aca-deployment-azd-in-depth?tabs=windows\r\n\r\n1. You need a container registry\r\n2. You need to build containers for each service\r\n3. Push to the container registry\r\n4. Tell the apphost to generate the manifest\r\n5. Make sure the cluster can pull from the registry\r\n6. Read the manifest and call the k8s API server to deploy\r\n\r\nSpitting out manifests or helm charts is more gitops friendly.\r\n\r\nWe\u0027ll be able to natively support steps 2-4 with aspire via msbuild. The tool needs to handle manifest -\u003e target translation\r\n",
                                           "updatedAt":  "2023-11-16T05:12:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sHbOa",
                                           "createdAt":  "2023-11-16T06:56:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNIZ2g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-11-20T18:23:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "CosminSontu",
                                           "body":  "I agree, kustomize / helm are more gitops friendly. I\u0027m thinking flux here which is supported in AKS as a _cluster extension_.\r\n\r\nIf yaml is an issue, maybe json can be used for storing metadata (System.Text.Json can be used). Briefly looking through kustomize repo, I see it supports json files.\r\n\r\nFor now, I will be looking at Aspire to understand how the orchestration code feeds deployment metadata into deployment tooling (starting with the links above). ",
                                           "updatedAt":  "2023-11-16T06:56:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sHmgv",
                                           "createdAt":  "2023-11-16T07:39:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODMw-NQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CosminSontu",
                                                                               "createdAt":  "2023-11-16T09:27:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e For now, I will be looking at Aspire to understand how the orchestration code feeds deployment metadata into deployment tooling (starting with the links above).\r\n\r\nhttps://github.com/dotnet/aspire/blob/8203451250b032d0e7d0e98c1159d47ada9901d6/src/Aspire.Hosting.Azure/AzureResourceExtensions.cs#L21-L31",
                                           "updatedAt":  "2023-11-16T07:39:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sHzUt",
                                           "createdAt":  "2023-11-16T08:23:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hahn-kev",
                                           "body":  "looking at that [aspire-manifset](https://github.com/dotnet/aspire/blob/50410e1ac8f14b5339ffbe9b2563dfff8db74ef3/samples/eShopLite/AppHost/aspire-manifest.json) there\u0027s a number of places that it\u0027s referencing a postgres connection string, where is it expected that the real connection string comes from? Is there an appsettings json file I\u0027m missing? Or would it be expected that the k8s tool has logic for how to create a postgres connection string?",
                                           "updatedAt":  "2023-11-16T08:23:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sH2Ge",
                                           "createdAt":  "2023-11-16T08:32:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Or would it be expected that the k8s tool has logic for how to create a postgres connection string?\r\n\r\nThis is the current idea. In the AZD scenario, it queries the deployed resource after provisioning to get the connection string to inject into the containers that need it.\r\n\r\nThat said, there\u0027s another unimplemented idea for container resources that looks like this:\r\n\r\n```JSON\r\n\"postgres\" : {\r\n   \"type\": \"container.v0\",\r\n   \"connectionString\": \"Host={bindings.tcp.host};Port={bindings.tcp.port};UserName=pg;Password={GeneratePassword};\",\r\n   \"bindings\": {\r\n      \"tcp\": {\r\n         \"scheme\": \"tcp\",\r\n         \"protocol\": \"tcp\",\r\n         \"transport\": \"tcp\"\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nThe idea would be for the resource to define the connection string format and replace those tokens with the resolved values (whatever host and port they were deployed to or running on).\r\n\r\nI think to make k8s work with external services we have a couple of options:\r\n1. Map those resource types to well-known containers and connection string formats\r\n2. Ask the user for the connection string and treat them as if they are going to be deployed separately.",
                                           "updatedAt":  "2023-11-16T08:32:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sJ82l",
                                           "createdAt":  "2023-11-16T14:32:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RMcD",
                                           "body":  "Should this integrate with Porter/Duffle/CNAB?",
                                           "updatedAt":  "2023-11-16T14:32:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sK_IX",
                                           "createdAt":  "2023-11-16T16:39:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODOSsFQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "RMcD",
                                                                               "createdAt":  "2023-11-17T01:43:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-21T18:21:54Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "si618",
                                                                               "createdAt":  "2023-12-03T03:10:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@RMcD All 3? No 😄. We should scope this down to what the majority of people are using with a *concrete* end to end scenario in mind. I don\u0027t want to get distracted with what is possible (its possible to do anything really). Let\u0027s nail down the workflow for building an app, and deploying to k8s. First manually then using CI/CD and gitops",
                                           "updatedAt":  "2023-11-16T16:39:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sLBED",
                                           "createdAt":  "2023-11-16T16:43:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODf8lhQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-16T18:28:45Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "curbelo-gonzalo",
                                                                               "createdAt":  "2023-11-22T06:50:36Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "normj",
                                                                               "createdAt":  "2023-11-27T00:01:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "3GDXC",
                                                                               "createdAt":  "2024-04-29T15:46:49Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "deanro",
                                           "body":  "We use EKS in AWS, so I\u0027d be interested in trying out there. As more Kubernetes support arrives, I\u0027d be willing to try it out and potentially even help with AWS specific options if required.",
                                           "updatedAt":  "2023-11-16T16:43:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sNk4e",
                                           "createdAt":  "2023-11-16T23:36:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODjzqtw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "RMcD",
                                                                               "createdAt":  "2023-11-17T01:43:10Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "GeorgeTsiokos",
                                                                               "createdAt":  "2023-11-20T08:26:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "oising",
                                                                               "createdAt":  "2023-11-20T18:52:28Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "mov-eax-eax",
                                                                               "createdAt":  "2024-05-30T03:13:20Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "pauldotyu",
                                           "body":  "My 2 cents here. I think generating vanilla K8s manifests based on the Aspire manifest would be the best starting point. Creating a Helm chart would be a bit overkill especially for those in the Kustomization camp and with vanilla K8s manifests, one can just as easily create the Kustomizations using a `kustomize create --autodetect` command if folks want to go that route.",
                                           "updatedAt":  "2023-11-16T23:36:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sOR1u",
                                           "createdAt":  "2023-11-17T03:13:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODYyvoA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "pauldotyu",
                                                                               "createdAt":  "2023-11-17T19:42:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "oising",
                                                                               "createdAt":  "2023-11-20T18:52:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-21T18:23:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "james-perfectserve",
                                                                               "createdAt":  "2024-02-29T15:41:19Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "VenkateshSrini",
                                           "body":  "I agree with @pauldotyu. We should start small just by generating the Yaml. I think connecting to cluster via Kubernetes API is sort of over kill. It would require to have the credentials be available to ASPIRE for the SDK to do the A\u0026A. This might not go well with enterprise. For one of the client that I work they use OKTA and multifactor auth for even kubectl access. So we should have those enhancements only after we are able to give reasonably good output YAMLS.",
                                           "updatedAt":  "2023-11-17T03:13:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sOSoW",
                                           "createdAt":  "2023-11-17T03:19:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VenkateshSrini",
                                           "body":  "\u003e I would love one of you all to help spike an implementation of a deployment tool that can take [this manifest](https://learn.microsoft.com/en-us/dotnet/aspire/deployment/manifest-format). Here\u0027s an example:\r\n\u003e \r\n\u003e https://github.com/dotnet/aspire/blob/50410e1ac8f14b5339ffbe9b2563dfff8db74ef3/samples/eShopLite/AppHost/aspire-manifest.json\r\n\u003e \r\n\u003e The idea would be to parse this and build up a model, then spit out k8s manifest or helm manifests. It would be huge step forward in understanding what we could build here!\r\n\u003e \r\n\u003e cc @brendandburns for thoughts as well.\r\n\r\nThe Details provided here is not sufficient to generate the deployment yaml. We need to know the image with complete path. Second we also need to know the exposed port of the application. We need to know the type of application whether it is web or console. Based on whether it is console or Web we will have to see if we have generate job or generate an deployment ",
                                           "updatedAt":  "2023-11-17T03:19:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sPBQv",
                                           "createdAt":  "2023-11-17T07:37:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODM6L7Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "CosminSontu",
                                                                               "createdAt":  "2023-11-17T14:42:08Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "hahn-kev",
                                                                               "createdAt":  "2023-11-17T14:49:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "The details [here](https://github.com/dotnet/aspire/issues/830#issuecomment-1813797954) should be a good starting point.\r\n\r\n\u003e We need to know the image with complete path.\r\n\r\nTo know the complete path, the deployment tool must build know the target container registry and must build the container image using `dotnet publish --os linux --arch x64 /t:PublishContainer -c Release`. You can also publish to a container registry using `/p:ContainerRegistry=registry` (see https://learn.microsoft.com/en-us/dotnet/core/docker/publish-as-container?pivots=dotnet-8-0 for more details).\r\n\r\nThis should give you the full image path.\r\n\r\n\u003e Second we also need to know the exposed port of the application.\r\n\r\nFor projects 8080 (for http, and ignore https for now), I would start with this since .NET 8+ containers expose this port. Container resources will have a containerPort property on the binding definition.\r\n\r\n\u003e We need to know the type of application whether it is web or console\r\n\r\nThere\u0027s no job concept so everything is a long running pod (deployment). If there are no bindings then we don\u0027t need to create a service.\r\n\r\nWe don\u0027t need to build something enterprise ready in the MVP, we\u0027re looking to build a PoC to understand the gaps in the aspire manifest generation 😄 .\r\n\r\nHere\u0027s AZD\u0027s logic for processing the manifest (in golang 🥲 ):\r\nhttps://github.com/Azure/azure-dev/blob/f0e015f2e2810132d2d9b5181b99b530b38cce46/cli/azd/pkg/apphost/generate.go#L215",
                                           "updatedAt":  "2023-11-17T15:15:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sS6Gg",
                                           "createdAt":  "2023-11-17T18:26:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODM_RlA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "VenkateshSrini",
                                                                               "createdAt":  "2023-11-19T02:54:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "CosminSontu",
                                           "body":  "\u003e The details [here](https://github.com/dotnet/aspire/issues/830#issuecomment-1813797954) should be a good starting point.\r\n\u003e \r\n\u003e \u003e We need to know the image with complete path.\r\n\u003e \r\n\u003e To know the complete path, the deployment tool must build know the target container registry and must build the container image using `dotnet publish --os linux --arch x64 /t:PublishContainer -c Release`. You can also publish to a container registry using `/p:ContainerRegistry=registry` (see https://learn.microsoft.com/en-us/dotnet/core/docker/publish-as-container?pivots=dotnet-8-0 for more details).\r\n\u003e \r\n\u003e This should give you the full image path.\r\n\u003e \r\n\u003e \u003e Second we also need to know the exposed port of the application.\r\n\u003e \r\n\u003e For projects 8080 (for http, and ignore https for now), I would start with this since .NET 8+ containers expose this port. Container resources will have a containerPort property on the binding definition.\r\n\u003e \r\n\u003e \u003e We need to know the type of application whether it is web or console\r\n\u003e \r\n\u003e There\u0027s no job concept so everything is a long running pod (deployment). If there are no bindings then we don\u0027t need to create a service.\r\n\u003e \r\n\u003e We don\u0027t need to build something enterprise ready in the MVP, we\u0027re looking to build a PoC to understand the gaps in the aspire manifest generation 😄 .\r\n\u003e \r\n\u003e Here\u0027s AZD\u0027s logic for processing the manifest (in golang 🥲 ): https://github.com/Azure/azure-dev/blob/main/cli/azd/pkg/apphost/generate.go#L215\r\n\r\nFor Kubernetes deployment target I suggest the following prerequisites should be specified.\r\n- kubectl cli: \"kubectl\"\r\n// docker cli isn\u0027t needed since dotnet cli can publish directly into an image registry\r\n- image registry url: \"...\"\r\n- image registry username: \"...\"\r\n- image registry password: \"...\"\r\n- kubernetes_context: \"...\"\r\n\r\nDeployment should fail fast and warn if any of these are unavailable / unreachable\r\n",
                                           "updatedAt":  "2023-11-17T19:22:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sWDo_",
                                           "createdAt":  "2023-11-19T02:17:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODhUEzg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "VenkateshSrini",
                                                                               "createdAt":  "2023-11-19T02:58:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Loada",
                                                                               "createdAt":  "2023-11-19T09:28:21Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "VashJuan",
                                                                               "createdAt":  "2024-04-01T17:24:08Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "dbeard-cd",
                                                                               "createdAt":  "2024-05-09T17:46:29Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Just spent a couple of hours playing around with a possible way to handle kustomize manifest generation\r\n\r\nsee [prom3theu5/aspirational-manifests](https://github.com/prom3theu5/aspirational-manifests)\r\n\r\nWhat I\u0027m doing is performing polymorphic deserialization of the aspire manifest file, and then, along with the implementation for type specific handlers for each component type, writing Kustomize simple manifests containing a deployment and service.\r\n\r\nHandlers are mapped to resource types [here](https://github.com/prom3theu5/aspirational-manifests/blob/main/src/Aspirational.Manifests/Mapping/HandlerMapping.cs)\r\n\r\nWith loading of the aspire manifest [here](https://github.com/prom3theu5/aspirational-manifests/blob/main/src/Aspirational.Manifests/Services/ManifestFileParserService.cs)\r\n\r\nBecause the aspire manifest doesn\u0027t include port mappings directly for apps - i\u0027m making the assumption services will be running on port 80\r\nThis could easily be expanded by passing in a custom configuration object containing resource key to port mappings, and other settings etc\r\n\r\nAlso - right now I\u0027ve made no attempt to construct a db connection string, I\u0027m simply passing all the env variables from the aspire manifest on each resource into config map generators which get mapped on the deployments\r\n\r\nWe\u0027d likely want to expand the configuration input of the tool to include protected / sensitive values, and have those written to secrets instead.\r\n\r\nImage name is also inferred as resource key (the name of the resource) with latest tag\r\nThe idea being a simple image update can be added to the parent kustomization.yaml file to update all the image tags\r\nfor instance\r\n\r\n```bash\r\nimages:\r\n  - name: apigateway\r\n    newTag: 1.0.1\r\n  - name: catalogservice\r\n    newTag: 1.0.1\r\n```\r\nAlthough the path is there on the resource, so perhaps we interrogate the csproj xml directly??\r\nI guess that is dependant on if an end user is utilising built in container build support.\r\n\r\nWe could have the templates as code, however while playing around with them was much easier to use Handlebars templating, simply passing in the data we need for transformation",
                                           "updatedAt":  "2023-11-19T02:36:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sWJK1",
                                           "createdAt":  "2023-11-19T04:42:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNQRxg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Loada",
                                                                               "createdAt":  "2023-11-19T09:28:13Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-19T14:05:09Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-21T18:25:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Very nice starting point @prom3theu5!\r\n\r\n\u003e Because the aspire manifest doesn\u0027t include port mappings directly for apps - i\u0027m making the assumption services will be running on port 80\r\n\r\nThe port is 8080 for older .NET projects. We\u0027ll be doing work to put this value in the manifest so it doesn\u0027t need to be guessed or assumed by the tool.\r\n\r\n\u003e Also - right now I\u0027ve made no attempt to construct a db connection string, I\u0027m simply passing all the env variables from the aspire manifest on each resource into config map generators which get mapped on the deployments\r\n\r\nI think this is one of the harder things to do that isn\u0027t consistent across any of the hosting models. For container resources we plan to have define the connection string format with place holders that the tool should replace after determining what those values are.\r\n\r\nHere\u0027s an example:\r\nhttps://github.com/dotnet/eShop/compare/main...davidfowl/custom-resource#diff-0480fce9a853ffae810b350c0c31097423ca45247c8fdce9d82c95407638ba45R43 \r\n\r\nWe also need to make sure that service discovery works when we generate the k8s service manifest (cc @ReubenBond). eShopLite has an example of a working [k8s deployment manfiest](https://github.com/dotnet/aspire/tree/main/samples/eShopLite/Deployment).\r\n\r\n\u003e We\u0027d likely want to expand the configuration input of the tool to include protected / sensitive values, and have those written to secrets instead.\r\n\r\nYes, this is something @mitchdenny, @ellismg  and I have been discussing with the app model. How do we describe that a \"secret needs to go here\", so the deployment tooling could ask for or generate the secret value, store it securely and make it available to the resources that need it.\r\n\r\n\u003e Image name is also inferred as resource key (the name of the resource) with latest tag\r\nThe idea being a simple image update can be added to the parent kustomization.yaml file to update all the image tags\r\nfor instance\r\n\r\nSeems like a fine start. I think the tool can query the project for this information as part of producing the image.\r\n\r\n\u003e Although the path is there on the resource, so perhaps we interrogate the csproj xml directly??\r\nI guess that is dependant on if an end user is utilising built in container build support.\r\n\r\nThis would be out default. We wouldn\u0027t be parsing XML, you can resolve msbuild properties from the outside as JSON now:\r\n\r\nhttps://github.com/Azure/azure-dev/blob/f00f37d70ae38a8b53d28650b0398ea4d097ec7d/cli/azd/pkg/tools/dotnet/dotnet.go#L208C42-L208C42.\r\n\r\nLearn more here https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-8#cli-based-project-evaluation\r\n\r\n\u003e We could have the templates as code, however while playing around with them was much easier to use Handlebars templating, simply passing in the data we need for transformation\r\n\r\nazd is using go templates 😄  (https://github.com/Azure/azure-dev/blob/f00f37d70ae38a8b53d28650b0398ea4d097ec7d/cli/azd/resources/apphost/templates/resources.bicept)\r\n\r\nLet\u0027s see if we can get eShopLite working in a k8s environment using this prototype as a base. Thanks for kick starting this!",
                                           "updatedAt":  "2023-11-19T04:42:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sWnqi",
                                           "createdAt":  "2023-11-19T14:18:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNAyFw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ReubenBond",
                                                                               "createdAt":  "2023-11-19T16:36:04Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-19T17:51:38Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Thanks @davidfowl  :)\r\n\r\n\u003e The port is 8080 for older .NET projects. We\u0027ll be doing work to put this value in the manifest so it doesn\u0027t need to be guessed or assumed by the tool.\r\n\r\nPerfect. For now i\u0027ll switch this from 80 to 8080 - should we expose 8443 as well?\r\n\r\n\u003e I think this is one of the harder things to do that isn\u0027t consistent across any of the hosting models. For container resources we plan to have define the connection string format with place holders that the tool should replace after determining what those values are.\r\n\r\nI agree - that would make things a lot simpler - looking at the example, from that it would be trivial to implement in the templates\r\n\r\n\u003e We also need to make sure that service discovery works when we generate the k8s service manifest (cc @ReubenBond). eShopLite has an example of a working\r\n\r\nThose manifests are good starting points really - next step I think we should use them as a base by turning them into common manifest types with mustache variables. We can then replace the simple deployments and services I threw together, which should get us a step closer to getting eShopLite generating and running\r\n\r\n\u003e this would be out default. We wouldn\u0027t be parsing XML, you can resolve msbuild properties from the outside as JSON\r\n\r\nWow - this is pretty awesome, didn\u0027t know about this - thanks!\r\n\r\n\u003e azd is using go templates 😄\r\n\r\nAhh nice - I wish there was a lib with support for them in c# - another gap in the eco system there :P\r\nI chose handlebars because the syntax is very similar - but we could use Liquid, or something else if people preferred\r\nEither way - glad that they are using templates there, easy to maintain :)",
                                           "updatedAt":  "2023-11-19T14:18:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sXHLF",
                                           "createdAt":  "2023-11-19T22:29:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "\u003e Ahh nice - I wish there was a lib with support for them in c# - another gap in the eco system there :P\r\n\r\nI here there is this template syntax called Razor which is quite rich ;)\r\n",
                                           "updatedAt":  "2023-11-19T22:29:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5saVm5",
                                           "createdAt":  "2023-11-20T11:09:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNHhSQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-20T15:58:23Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e \u003e Ahh nice - I wish there was a lib with support for them in c# - another gap in the eco system there :P\r\n\u003e \r\n\u003e I here there is this template syntax called Razor which is quite rich ;)\r\n\r\nHaha there is \r\nUnfortunately writing yaml in it looks terrible in your IDE with highlighting 😛 \r\n\r\n---\r\n\r\nRestructured things a little to make it more maintainable\r\nI\u0027ve implemented extraction of container information as well now using `dotnet msbuild --getProperty:\u003cname\u003e`.\r\nReally handy that, especially with it returning a json payload of \u0027Properties\u0027 if you request more that one getProperty argument.\r\n\r\nI\u0027ve fallen back to project name in kebab-case format if the image isn\u0027t set in the csproj - which I think container building support does",
                                           "updatedAt":  "2023-11-20T11:34:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5scPB2",
                                           "createdAt":  "2023-11-20T15:58:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What did you get working so far?",
                                           "updatedAt":  "2023-11-20T15:58:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5scfZR",
                                           "createdAt":  "2023-11-20T16:30:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNIfvA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "ReubenBond",
                                                                               "createdAt":  "2023-11-20T18:37:26Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Almost ready to test a deployment now of eShopLite. \n\nI\u0027ve added aspnetcore URL for http only to the environment variables produced for services, to ensure services do run on 8080 at startup\n\nI haven\u0027t included https or cert as cert-manager can handle that in the load balancer externally of the container, unless we want internal mutual tls on container to container. Is that a gRPC requirement? (Think it may be)\n\nHave Postgres and redis processing too now, along with their respective handlers. \n\nLittle ens are back from school so will be in 3-4 hours when they\u0027ve gone to bed. \n\nI thought of an issue a few mins ago while in car home. The current implementation of the property service I added doesn\u0027t construct the relative path to the projects directly as it has no concept of the working / launch directory of the tool. Small fix, AppContext.BaseDirectory should handle that.  will get it done soon as back on my Mac 😃 ",
                                           "updatedAt":  "2023-11-20T16:57:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sctMS",
                                           "createdAt":  "2023-11-20T17:01:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNJ6EA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-20T23:38:11Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I haven\u0027t included https or cert as cert-manager can handle that in the load balancer externally of the container, unless we want internal mutual tls on container to container. \r\n\r\nCut the TLS support for the MVP.\r\n\r\n\u003e Is that a gRPC requirement?\r\n\r\nYou shouldn\u0027t need to do anything special to make grpc work over http in k8s (with broken load balancing 😄).",
                                           "updatedAt":  "2023-11-20T17:01:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sct2X",
                                           "createdAt":  "2023-11-20T17:03:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNIf1Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "ReubenBond",
                                                                               "createdAt":  "2023-11-20T18:37:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Perfect. Makes life a whole heap easier for now\n\nThanks\n\nWill update progress after tests later",
                                           "updatedAt":  "2023-11-20T17:03:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sdKuS",
                                           "createdAt":  "2023-11-20T18:22:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pjmagee",
                                           "body":  "\u003e Suggestion: instead of spitting out yaml, how about accessing k8s directly via the library/API?\r\n\u003e \r\n\u003e Not exactly the same, but I talk about something similar here: https://nabeel.blog/2022/04/30/yaml-alternative (Especially the \"skip yaml\" part)\r\n\u003e \r\n\u003e I\u0027d love to collaborate on this, if time permits.\r\n\r\nA lot of companies follow gitops for releases via helm or kustomize, e.g flux or argoCD. Not that im against this, but helm charts are familiar and popular for K8s deployments.",
                                           "updatedAt":  "2023-11-20T18:22:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sdRO5",
                                           "createdAt":  "2023-11-20T18:41:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNJ-2A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-20T23:59:34Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "ellismg",
                                           "body":  "@prom3theu5 - When you complete your spike, would love to take a look and start thinking about how we might be able to work this into `azd`.\r\n\r\nFor the `azd` end, we sort of imagined that the way we\u0027d have this work would be to allow you to change the host of the Aspire project in the `azure.yaml` from `containerapps` to `aks`.  In that world, instead of generating our ACA manifests + bicep to construct an ACA container, we\u0027d produce k8s manifests (or helm charts, or some other IaC flavor) and bicep to create an AKS cluster).\r\n\r\nThanks for getting this started.",
                                           "updatedAt":  "2023-11-20T18:41:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sdXyt",
                                           "createdAt":  "2023-11-20T19:02:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "wbreza",
                                           "body":  "@davidfowl Here on the `azd` team we\u0027re just starting on adding support for Helm \u0026 Kustomize and this would be a great use case for us to target and to see how we can help.",
                                           "updatedAt":  "2023-11-20T19:02:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5seuEI",
                                           "createdAt":  "2023-11-20T23:54:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNKCqg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-21T00:20:11Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e When you complete your spike, would love to take a look and start thinking about how we might be able to work this into `azd`.\r\n\u003e \r\n\u003e For the `azd` end, we sort of imagined that the way we\u0027d have this work would be to allow you to change the host of the Aspire project in the `azure.yaml` from `containerapps` to `aks`. In that world, instead of generating our ACA manifests + bicep to construct an ACA container, we\u0027d produce k8s manifests (or helm charts, or some other IaC flavor) and bicep to create an AKS cluster).\r\n\u003e \r\n\u003e Thanks for getting this started.\r\n\r\nThat would be fantastic.\r\nI\u0027ve written this in C#, but its all possible in go too.\r\n\r\nThis is where we are so far.\r\n\r\n![image](https://github.com/dotnet/aspire/assets/1518610/5d3217dc-4b56-41b8-8c47-0adc7c25d699)\r\n\r\nWe have service discovery, redis cache and database (postgres) all working.\r\nCart is broken - Grpc error, not investigated so far, but upon navigating to the cart, the grpc error is thrown. Maybe messaging related as we currently aren\u0027t deploying Rabbit - however, that\u0027s a small t-shirt as its basically a clone of Redis config wise, with a new data Augment method to handle keys ending in messaging I guess.\r\n\r\nHad to start to get a little creative in the Project processor, which handles env variables in the manifests\r\nIf the binding value included the type things might be a little easier - and if port numbers were available somewhere.\r\nYou can see here: [ProjectProcessor.cs](https://github.com/prom3theu5/aspirational-manifests/blob/main/src/Aspirate.Cli/Processors/Components/Project/ProjectProcessor.cs)\r\n\r\nThe methods executed by AugmentData transform the env vars to kube vars.\r\n\r\nDb Connection isn\u0027t handled really - it just sets it to a value we know will work as thats hard coded in the postgres-server template file.\r\n\r\nI replaced the https link to basketservice in the yarp config in api gateway with http, as service discovery complained because we aren\u0027t doing anything with tls yet, and I forced http only by overriding the URLs, but that was fine afterwards.\r\n\r\nThere are a few issues in eShopLite actually\r\n\r\nThe migrator isn\u0027t built as a container - but it is included in the aspire manifest - so interrogating that without the tool having a way to either skip certain projects via arguments, having more information in the manifest that labels it as a non-deployable, or checking properties in the project to see if it actually builds a container (I guess) leaves us with some broken manifests.\r\nI guess this should be a job really - but its how we get there...\r\n\r\nAgain - order processor doesn\u0027t get built as a container, so same issue.\r\n\r\nAt the moment manifests get built for deployments for both of those, and deploy but will be in a constant state of backoff with errors on image pulls 👯 \r\n\r\nCatalogService also fails to build unless you pass `-p:ErrorOnDuplicatePublishOutputFiles=false` but it runs fine once its built and pushed\r\n\r\nAll in all - not a bad night tbh.\r\n\r\n",
                                           "updatedAt":  "2023-11-21T10:40:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sf02n",
                                           "createdAt":  "2023-11-21T05:50:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNNAmg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-21T10:27:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@prom3theu5 Great work! \r\n\r\n\u003e Had to start to get a little creative in the Project processor, which handles env variables in the manifests\r\nIf the binding value included the type things might be a little easier - and if port numbers were available somewhere.\r\nYou can see here: [ProjectProcessor.cs](https://github.com/prom3theu5/aspirational-manifests/blob/main/src/Aspirate.Cli/Processors/Components/Project/ProjectProcessor.cs)\r\n\r\nI think you\u0027re going to have to do 2 passes over the model. The first pass the process varibles so you can resolve references after you have collected them all, the second pass to do the templating. \r\n\r\n\u003e I replaced the https link to basketservice in the yarp config in api gateway with http, as service discovery complained because we aren\u0027t doing anything with tls yet, and I forced http only by overriding the URLs, but that was fine afterwards.\r\n\r\nYou can skip the https binding I see you do it based on the configuration entry right now 😄.\r\n\r\n\u003e The migrator isn\u0027t built as a container - but it is included in the aspire manifest - so interrogating that without the tool having a way to either skip certain projects via arguments, having more information in the manifest that labels it as a non-deployable, or checking properties in the project to see if it actually builds a container (I guess) leaves us with some broken manifests.\r\nI guess this should be a job really - but its how we get there...\r\n\r\nCurrently this is a website no? Why isn\u0027t it a container?\r\n\r\n\u003e Again - order processor doesn\u0027t get built as a container, so same issue.\r\n\r\nWe should fix that, it should be a container. There\u0027s currently an issue with workers having bindings in the manifest (which they shouldn\u0027t).\r\n\r\n\u003e CatalogService also fails to build unless you pass -p:ErrorOnDuplicateFileOutput=false but it runs fine once its built and pushed\r\n\r\nWhat commands did you run?\r\n",
                                           "updatedAt":  "2023-11-21T05:50:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5shLum",
                                           "createdAt":  "2023-11-21T10:25:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e What commands did you run\r\n\r\nI initially used: `dotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true` in the CatalogService project directory, however that produces:\r\n\r\n![image](https://github.com/dotnet/aspire/assets/1518610/520442ca-76f3-482a-a859-767aa8abd729)\r\n\r\nRunning again with `-p:ErrorOnDuplicatePublishOutputFiles=false` gets a successful build.\r\n\r\n\u003e Currently this is a website no?\r\n\r\nIt is - and it isn\u0027t 😛 \r\nIt performs database migration and then seeds the database in a background service during application initialisation, and exposes a health check, but other than that - I\u0027m not sure it does anything else.\r\nThe application does not stop after seeding though, and its healthcheck endpoint remains in place\r\n\r\nThis is its current csproj\r\n\r\n![image](https://github.com/dotnet/aspire/assets/1518610/2b3b6873-1321-4ec1-a6b2-8e102bff1cc8)\r\n\r\nNo container support directly - I just manually ran it with the catalogdb connection string injected, and postgres proxied through kubectl to my local machine\r\nWith container support being build into .net now - you can technically just run the publish command and it will build a container, but that won\u0027t push it to a registry, and we will still have issues when it comes to parsing the properties to get container image, registry repo and tag etc ",
                                           "updatedAt":  "2023-11-21T13:52:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sicQK",
                                           "createdAt":  "2023-11-21T13:53:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNQUcg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-21T18:31:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Fully working locally - including orders with messaging now\r\n\r\n@davidfowl \r\n\r\n\u003e I think you\u0027re going to have to do 2 passes over the model. The first pass the process varibles so you can resolve references after you have collected them all, the second pass to do the templating.\r\n\r\nThats exactly the path I took\r\nWas going to clean it up once I got the basic config through, i\u0027ve done that now here in the file [Manifest File Parser](https://github.com/prom3theu5/aspirational-manifests/blob/main/src/Aspirate.Cli/Services/ManifestFileParserService.cs)\r\nI have two collections of handler types, one for components, and another for bindings.\r\nI iterate over the collection of env variables after being deserialized, before returning to the command handler.\r\nThat way by the time they get there, they are transformed - including https endpoints. \r\n\r\nThere is now nothing hard coded in this apart from username / password for rabbit and postgres.\r\nNothing stopping it being used for any manifest really as long as the project source is there too so that it can read container details from msbuild properties.\r\n\r\nI think this has proven that things have been thoroughly thought out before you\u0027ve released this to the public, as its fantastic that we are able to get here from just a json file - well done to all those involved.\r\n\r\nThere are only two small issues with generation really (aside from implementing tls) but i\u0027m not convinced they are manifest issues - in fact i\u0027d argue that its possibly the responsibility of the tooling to capture them. \r\nThey are:  \r\n- no way to determine the username and password for postgres to build a valid connectionstring. We can make those either read from env variables or passed in as parameters / prompts in the tool though\r\n- same as above, but for RabbitMq. We also have to use a string mask check on the type of messaging broker to properly setup the connection protocol in the connectionstring.\r\n\r\nFor both of these then, if passed in / read by the tool, we\u0027d remove them from config map generation, and add them to secret generation.\r\n\r\n---\r\n\r\nIf anyone also wants to test / look where we can improve things, and maybe discuss the config parsing etc that\u0027d be cool, and here is a small guide to get you going:\r\n\r\nClone `dotnet/aspire` and `prom3theu5/aspirational-manifests` to the same root folder (wherever your working folder is - i.e. `~/git`\r\n\r\nI\u0027ve used Docker-Desktop with k8s enabled, should work fine for podman / rancher-desktop though.\r\n\r\nProcess:\r\n\r\nStart a local registry with:\r\n```bash\r\ndocker run -d -p 5001:5000 --restart always --name registry registry:2\r\n```\r\n\r\nSmall edits to `aspire/samples/eShopLite`\r\n\r\nAdd the following to CatalogDb/CatalogDb.csproj (could have added to build command - but need the tool to parse the properties from the project file)\r\n```xml\r\n\u003cContainerRegistry\u003elocalhost:5001\u003c/ContainerRegistry\u003e\r\n\u003cContainerRepository\u003ecatalogdbapp\u003c/ContainerRepository\u003e\r\n```\r\n\r\nAnd  for `OrderProcessor/OrderProcessor.csproj`\r\n```xml\r\n\u003cContainerRegistry\u003elocalhost:5001\u003c/ContainerRegistry\u003e\r\n\u003cContainerRepository\u003eorder-service\u003c/ContainerRepository\u003e\r\n```\r\n\r\nI also change the ApiGateway appsettings to replace https://basketservice with http://basketservice.\r\nThis could be done manually in the config map though in the generated manifest file, or in a configMapGenerator with merge set in the top level output kustomization.yml file\r\n\r\nThen building all containers with from the root of the eShopLite sample with:\r\n\r\n```bash\r\npushd ./ApiGateway\r\ndotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true\r\npopd\r\n\r\npushd ./CatalogDb\r\ndotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true\r\npopd\r\n\r\npushd ./CatalogService\r\ndotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true -p:ErrorOnDuplicatePublishOutputFiles=false\r\npopd\r\n\r\npushd ./BasketService\r\ndotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true\r\npopd\r\n\r\npushd ./OrderProcessor\r\ndotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true\r\npopd\r\n\r\npushd ./MyFrontend\r\ndotnet publish --os linux --arch x64 -p:PublishProfile=DefaultContainer -p:PublishSingleFile=true --self-contained true\r\npopd\r\n```\r\n\r\n**_(Notice the extra property on CatalogService as it references CatalogDb which also tries to output appsettings.json to the output folder resulting in a duplicate file violation)_**\r\n\r\nNow debug aspir8 (aspirational manifests) as there is a launchSetting that will debug in the correct folder if you cloned them side by side.\r\n\r\nGrab https://k9scli.io/ if you don\u0027t have it - makes working with k8s awesome.\r\n\r\nYou will find created manifests now in `aspire/samples/eShopLite/AppHost/output`\r\nMake sure you are on your docker-desktop context: `kubectl config use-context docker-desktop`\r\nDeploy those with `kustomise build . | kubectl apply -f -` or `kubectl apply -k .`\r\n \r\n fire up k9s with `k9s`\r\n and you\u0027ll see everything deploy\r\n \r\n Press shift + f on the frontend service and it\u0027ll ask you which port you\u0027d like to port forward the service to locally (defaults to 8080)\r\n \r\n open http://localhost:8080 (or your custom port) and you\u0027ll have the working deploy",
                                           "updatedAt":  "2023-11-21T14:25:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sk8-Y",
                                           "createdAt":  "2023-11-21T20:25:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNSEDA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-22T00:36:56Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I think this has proven that things have been thoroughly thought out before you\u0027ve released this to the public, as its fantastic that we are able to get here from just a json file - well done to all those involved.\r\n\r\nThank you! That\u0027s a complement. We learnt a lot from making azd work so I\u0027m happy that applies here as well!\r\n\r\n@prom3theu5 Can we make the tool automate everything? Including the container build and push to a registry (via dotnet commands)? That would make it more equivalent to the azd experience. I think we need to fill in some of the gaps by prompting or by asking for a configuration file. Something akin to [this](https://github.com/dotnet/aspire/issues/830#issuecomment-1816895904).\r\n\r\nThere\u0027s discussion about secret handling here https://github.com/dotnet/aspire/issues/770.\r\n\r\nOnce again thank you for driving this forward, I am hoping we can integrate this quickly once we figure out enough to make the MVP work!\r\n\r\nEveryone else on the issue, it would be great if you could try this out. It\u0027ll help us flesh out any big missing items and also polish up smaller ones.\r\n\r\nThanks!",
                                           "updatedAt":  "2023-11-21T20:25:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5smDxq",
                                           "createdAt":  "2023-11-22T00:44:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNSVSQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-22T01:56:52Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "You\u0027re welcome. It\u0027s been fun to work on\n\n\u003e Can we make the tool automate everything? Including the container build and push to a registry (via dotnet commands)? That would make it more equivalent to the azd experience.\n\nYeah sure. I\u0027ll add in some support for this in the morning. I\u0027ll add a couple of extra commands like azd has such as init, up and down, keeping e2e as it but renaming to generate manifests or something like that. That way you would have the option to do end to end with up or just produce kustomize manifests separately \n\nIf I get time tomorrow too I\u0027ll add in single project scaffolding via passing in a csproj, but that may have to wait till day after",
                                           "updatedAt":  "2023-11-22T00:45:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5smRQc",
                                           "createdAt":  "2023-11-22T02:01:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VenkateshSrini",
                                           "body":  "\u003e \u003e I think this has proven that things have been thoroughly thought out before you\u0027ve released this to the public, as its fantastic that we are able to get here from just a json file - well done to all those involved.\r\n\u003e \r\n\u003e Thank you! That\u0027s a complement. We learnt a lot from making azd work so I\u0027m happy that applies here as well!\r\n\u003e \r\n\u003e @prom3theu5 Can we make the tool automate everything? Including the container build and push to a registry (via dotnet commands)? That would make it more equivalent to the azd experience. I think we need to fill in some of the gaps by prompting or by asking for a configuration file. Something akin to [this](https://github.com/dotnet/aspire/issues/830#issuecomment-1816895904).\r\n\u003e \r\n\u003e There\u0027s discussion about secret handling here #770.\r\n\u003e \r\n\u003e Once again thank you for driving this forward, I am hoping we can integrate this quickly once we figure out enough to make the MVP work!\r\n\u003e \r\n\u003e Everyone else on the issue, it would be great if you could try this out. It\u0027ll help us flesh out any big missing items and also polish up smaller ones.\r\n\u003e \r\n\u003e Thanks!\r\n\r\nThis is also my point. The manifest should be self contained. I\u0027m even looking at something like a plug in architecture where if we there could be some sort of hooks to this K8s Yaml generation. This will help in enterprise level customization.\r\n\r\nMy second point is when adding Aspire support to project, can we have multiple sub options like Add Aspire support for Docker, Add container support for Kubernetes, Add container support for service fabric etc:-. That way the when Manifest for YAML generation is created it could gather all the relevant information and put in the single manifest. The generators then just consume the manifest and generate the output",
                                           "updatedAt":  "2023-11-22T02:01:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5smSal",
                                           "createdAt":  "2023-11-22T02:08:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e This is also my point. The manifest should be self contained. I\u0027m even looking at something like a plug in architecture where if we there could be some sort of hooks to this K8s Yaml generation. This will help in enterprise level customization.\r\n\r\nMaybe you can build on top of what @prom3theu5 has built and help us understand exactly what that means. I\u0027m not sure I fully understand from this description.\r\n\r\n\u003e My second point is when adding Aspire support to project, can we have multiple sub options like Add Aspire support for Docker, Add container support for Kubernetes, Add container support for service fabric etc:-. That way the when Manifest for YAML generation is created it could gather all the relevant information and put in the single manifest. The generators then just consume the manifest and generate the output\r\n\r\nI don\u0027t think we\u0027ll do anything like this until it\u0027s pretty much *VERY* well understood what that means (like in version 2).",
                                           "updatedAt":  "2023-11-22T02:08:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sp5W-",
                                           "createdAt":  "2023-11-22T14:53:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNfEFw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "timheuer",
                                                                               "createdAt":  "2023-11-22T19:07:03Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-22T19:15:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "CosminSontu",
                                                                               "createdAt":  "2023-11-23T07:59:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "snickler",
                                                                               "createdAt":  "2023-11-23T22:36:11Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  4
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Got no where near as much free time today as I\u0027d like to have\r\n\r\nI\u0027ve expanded the end to end command though and included two more services (aspire manifest composition and container composition)\r\n\r\nEnd to end process now takes the AppHost directory, generates the manifest, then allows you to select which resources from the manifest to process\r\n\r\nIt then builds and pushes the containers for the selected components.\r\nIf encountering Error on duplicate file output it\u0027ll prompt  to retry with the flag set to false, also if it encounters CONTAINERS1016 (not logged in) it should (not tested) prompt to login, and execute with std output and error redirected to null to surpress any credential output\r\nOn hitting CONTAINERS1013, registry not found - it\u0027ll terminate printing a message to check your registry.\r\n\r\nAfter processing all container actions, it\u0027ll move onto what it previously did - generate kustomize manifests\r\n\r\nYou can see the overall process below - one run with selective services, then a full run with the duplicate erroring catalog-service:\r\n\r\nhttps://github.com/dotnet/aspire/assets/1518610/2dec8ea5-20fc-4e8b-9680-894cec2f5d48\r\n\r\nPlan is to add a new init command which will initialise a json config file in the folder, prompting / allowing to set overrides for things like ports (until exposing of containerPort that\u0027s been merged in makes it out in a release), as well as registry, repository, maybe a project to image name mapping table? It\u0027s all up for discussion. \nThen when you run e2e it\u0027ll merge the file over arguments to customise how commands like container builds run etc, I.e if no values are provided fall back so what\u0027s in the csproj",
                                           "updatedAt":  "2023-11-22T16:17:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5ssfQr",
                                           "createdAt":  "2023-11-22T22:52:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNcSJA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-23T11:31:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "timheuer",
                                           "body":  "Awesome work @prom3theu5! I just was playing around with it (submitted a PR for something I ran into on Windows).  After that banging my head (our output in dotnet tool install was driving me crazy sending me wrong ways), I was able to do your video demo (using the aspire-starter template).\r\n\r\nIs the `kustomize build .` needed? \r\n\r\nI also noticed -- and you have noted in your last comment about capturing inputs etc -- that the resulting deployments don\u0027t have the right image registries noted -- here\u0027s an example of one of mine:\r\n\r\n```yaml\r\n---\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: apiservice\r\nspec:\r\n  minReadySeconds: 60\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: apiservice\r\n  strategy:\r\n    rollingUpdate:\r\n      maxUnavailable: 0\r\n      maxSurge: 1\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: apiservice\r\n    spec:\r\n      containers:\r\n      - name: apiservice\r\n        image: :latest\r\n        imagePullPolicy: Always\r\n        ports:\r\n        - containerPort: 8080\r\n        envFrom:\r\n        - configMapRef:\r\n            name: apiservice-env\r\n      terminationGracePeriodSeconds: 180\r\n```\r\nnotice `image` just has the `:latest` without the registry URI.  Assuming this is one of the inputs you were mentioning before.\r\n\r\nGreat progress!\r\n",
                                           "updatedAt":  "2023-11-22T22:52:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5ssjfc",
                                           "createdAt":  "2023-11-22T23:19:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Thanks Tim 😄 \n\n\u003e Is the kustomize build . needed?\n\nNo not all I was just showing that the generated manifests were buildable by kustomize\n\nThe issue with the image is strange and sounds like a path related bug in the ContainerDetailsService implementation. \nI did put something in that replaces backslashes with environment separator in as a dirty attempt to  normalise paths between OSes that needs revisiting. Was a hack at best at the time ^^. \n\nSomething must be wrong with the resolution of the project path when it combines working directory with it from the aspire manifest as it was supposed to fall back to project-name in kebab case if no ContainerImageName property was set in the project file. I\u0027ll address tomorrow as away from computer tonight. \n\nThe idea behind the input file / json config would also expand on this. I was thinking something along the lines of at a minimum allowing overriding any ContainerRegistry and ContainerRepository MSbuild props, ports and possibly mapping overrides for container names, although not sure how valuable that would be. \n\nI think maybe a template path in there too that allows overriding where aspirate loads it\u0027s manifest templates from pre-transform, which would allow someone to edit the templates and store them somewhere for their own use cases etc, expanding on the base templates we have. ",
                                           "updatedAt":  "2023-11-22T23:20:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5sskeg",
                                           "createdAt":  "2023-11-22T23:27:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNZeKA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-22T23:43:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Something must be wrong with the resolution of the project path when it combines working directory with it from the aspire manifest as it was supposed to fall back to project-name in kebab case if no ContainerImageName property was set in the project file. I\u0027ll address tomorrow as away from computer tonight.\r\n\r\n\r\nInstead of doing that, just use the name in the manifest as the resource name as the fallback. You can set the image name if it hasn\u0027t already been set by the project.",
                                           "updatedAt":  "2023-11-22T23:27:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5ssoYK",
                                           "createdAt":  "2023-11-22T23:43:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNbJgA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-23T09:07:40Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "That\u0027s a good shout. \n\nI think it\u0027s what the container support in the .net sdk does if you don\u0027t specify a custom image name, which is why I did that. Might be wrong though lol\n\nLooking at the container details service, when I reworked it I actually didn\u0027t put a fallback back in. That would explain empty images names ^^, so definitely a bug. \n\nDoes need a fall back. \n\nWe would have to introduce the check for container details earlier which extracts values from props. Currently it happens in generate manifests within the project processor. \nMoving it to BuildAndPush in the processor pre execution of build would allow us to first see if the value was set, and if not use the resource key from the manifest. Sounds much cleaner. We\u0027d want to also return the container details with the current boolean from that method upstream into the e2e command so that it can be passed downstream into the manifest generation after build cycles complete, so that it doesn\u0027t need to recall the props extraction where it needs it now. Or cache it 😃 ",
                                           "updatedAt":  "2023-11-22T23:43:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5st1Xu",
                                           "createdAt":  "2023-11-23T08:10:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNcQFw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-23T11:24:04Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "CosminSontu",
                                           "body":  "\u003e The idea behind the input file / json config would also expand on this. I was thinking something along the lines of at a minimum allowing overriding any ContainerRegistry and ContainerRepository MSbuild props, ports and possibly mapping overrides for container names, although not sure how valuable that would be.\r\n\r\nI suggest a fail-fast approach (with proper error messages, indicating the required properties to be defined) in case those properties are missing.\r\nA permanent warning in case ContainerRegistry is not defined, saying something like : \"Local registry is being used. Please use \u003cContainerRegistry/\u003e for specifying a remote registry.\"\r\n\r\nFor brevity, these are all container image related properties in csproj:\r\n```\r\n\u003cPropertyGroup\u003e\r\n   \u003cContainerRepository\u003esampleservice\u003c/ContainerRepository\u003e\r\n   \u003cContainerImageTags\u003e5.0;latest\u003c/ContainerImageTags\u003e\r\n   \u003c!--\u003cContainerImageTag\u003e5.0\u003c/ContainerImageTag\u003e--\u003e \u003c!-- variation accepting a single tag --\u003e\r\n   \u003c!--\u003cContainerRegistry\u003eregistry.mycorp.com:1234\u003c/ContainerRegistry\u003e--\u003e \u003c!-- local registry if not specified --\u003e\r\n \u003c/PropertyGroup\u003e\r\n```\r\n\r\nNice work!",
                                           "updatedAt":  "2023-11-23T08:20:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5svBeY",
                                           "createdAt":  "2023-11-23T11:30:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNqoCA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "snickler",
                                                                               "createdAt":  "2023-11-23T22:36:42Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-24T01:45:42Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "CosminSontu",
                                                                               "createdAt":  "2023-11-27T10:10:34Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e A permanent warning in case ContainerRegistry is not defined, saying something like : \"Local registry is being used. Please use for specifying a remote registry.\"\r\n\r\nI\u0027ve just completed the rework - and fixes - for gathering of container properties pre build, and implemented fallback resource key for image name if not specified\r\nAfaik - ContainerRegistry is the only \u0027required\u0027 parameter, builds will still pass without it - but the images would be stored locally only.\r\n\r\nI\u0027ve implemented a check there, and we fail fast now with a message stating it must be set, and the project that it is missing in \r\nOnce the `init` command is added, which would allow you to define an override / fallback yourself through guided composition, we\u0027d have to plug those values into this check to ensure its not overridden.\r\n\r\nNext pass after lunch will be passing the details from the cache (dictionary) into the build and push method in the Container Composition service, so that we can augment the build command to pass all our gathered parameters as properties.\r\n\r\nTim also suggested that we allow reading of trimming / self contained / single file etc.\r\nI\u0027ll cover those same time, to augment the builds, as I think thats a good idea\r\n\r\n--- \r\nUpdate\r\n\r\nCovered all props apart from SelfContained in the last lot of work I merged, which cleans up all the command building with an argument builder implementation.\r\n\r\nHaven\u0027t covered SelfContained as eShopLite throws an error when trying to build the CatalogService due to it referencing CatalogDb\r\n\"non-self contained executable cannot reference self contained executable\"\r\n\r\nHowever both projects do not contain \u003cSelfContained\u003etrue\u003c/SelfContained\u003e in their project files, and `dotnet msbuild --getProperty:SelfContained` returns false for them both, but you cant publish the container without the CatalogService value being set to true during build.\r\n\r\nFor now - i\u0027ve left self contained defaulting to true in all builds. I guess the worse that can happen there is you get a bunch of runtime libs in your container where the base image may also have the runtime installed??\r\n\r\n---\r\nUpdate 2\r\n\r\nNow supports the `init` command.\r\n```bash\r\naspirate init\r\n```\r\nfrom within your AppHost directory or\r\n```bash\r\naspirate init -p /path/to/AppHost\r\n```\r\nwhich will guide you through creating the aspirate.json bootstrap file (purely optional).\r\nThe supported options are\r\n- ContainerRegistry: setting this means you do not need one in your csproj, and if it isn\u0027t found - all builds will use this.\r\n- ContainerTag: will override the container tag used if not in your csproj - if not specified in settings, will fall-back to latest.\r\n- TemplatePath: this customises the path used when loading templates that get transformed to manifests, you can take the templates folder from the source, and modify to your hearts content with all your custom changes, and as long as you don\u0027t remove the placeholders, aspirate will use those instead of its built in. More on this and possible use cases (such as adding jobs to create databases etc) when we have docs.... \r\n\r\nthis means the process from going from zero, to a dev instance of the starter template is just\r\n\r\n```bash\r\ndotnet new aspire-starter --use-redis-cache --output TestAspire\r\ncd ./TestAspire/AppHost\r\naspirate init\r\n[enter y and \u0027localhost:5001\u0027 fall-back registry - no to rest]\r\naspirate e2e -o ./output\r\nkubectl apply -k ./output\r\n```\r\n\r\n![image](https://github.com/dotnet/aspire/assets/1518610/a347e373-cfc2-4bf1-88cf-c4aaaf8bfd3c)\r\n\r\nMaybe time for a release on nuget, or github packages?\r\nMay pick up adoption rate until azd has native support, and we can get some feedback ^^",
                                           "updatedAt":  "2023-11-24T01:28:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5syDLz",
                                           "createdAt":  "2023-11-24T01:56:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNfeSw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T02:16:45Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Some feedback \r\n- I would rename the e2e command\r\n- as a future idea, allow users to scaffold the template for a particular resource as a starting point for overriding it.\r\n- We should work out container resources, this doesn’t work in azd today either.\r\n\r\nThis looks amazing! \r\n\r\n\u003e Maybe time for a release on nuget, or github packages?\r\nMay pick up adoption rate until azd has native support, and we can get some feedback ^^\r\n\r\nYes! Put it on NuGet so we can start getting others to test it! \r\n\r\nI haven’t seen more feedback here but I hope others have a chance to play with it.\r\n\r\nPS: I think we do eventually want this to be part of the project for cloud specific azure k8s deployments. It does get weird if you have both azure resources and k8s as your target. I think you might use azd for that.\r\n",
                                           "updatedAt":  "2023-11-24T01:56:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5syGdM",
                                           "createdAt":  "2023-11-24T02:24:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODjBGkw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-11-24T10:17:18Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "iamshen",
                                                                               "createdAt":  "2024-05-24T02:29:45Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e as a future idea, allow users to scaffold the template for a particular resource as a starting point for overriding it.\r\n\r\nThat\u0027s crazy - I literally just implemented that and merged 👍 \r\nSo when you bootstrap now with init it prompts you:\r\n\r\n```bash\r\n/Users/prom3theu5/git/personal/aspirational-manifests/src/Aspirate.Cli/bin/Debug/net8.0/Aspirate init\r\n\r\nAspirate supports setting a fall-back value for projects that have not yet set a \u0027ContainerRegistry\u0027 in their csproj file.\r\nWould you like to set a fall-back value for the container registry? [y/n] (n): n\r\n\r\nAspirate supports setting a fall-back value for projects that have not yet set a \u0027ContainerTag\u0027 in their csproj file.\r\nWould you like to set a fall-back value for the container tag? [y/n] (n): n\r\n\r\nAspirate supports setting a custom directory for \u0027Templates\u0027 that are used when generating kustomize manifests.\r\nWould you like to use a custom directory (selecting \u0027n\u0027 will default to built in templates ? [y/n] (n): y\r\nPlease enter the path to use as the template directory: ./templates\r\n\r\n(✔) Done: Set \u0027TemplatePath\u0027 to \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n\r\nSelected Template directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027 does not exist.\r\nWould you like to create it? [y/n] (y): y\r\n\r\n(✔) Done: Directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027 has been created.\r\n\r\nSelected Template directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027 is empty.\r\nWould you like to populate it with the default templates? [y/n] (y): y\r\n\r\n(✔) Done: copied template \u0027redis.hbs\u0027 to directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n(✔) Done: copied template \u0027rabbitmq.hbs\u0027 to directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n(✔) Done: copied template \u0027deployment.hbs\u0027 to directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n(✔) Done: copied template \u0027postgres-server.hbs\u0027 to directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n(✔) Done: copied template \u0027kustomization.hbs\u0027 to directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n(✔) Done: copied template \u0027service.hbs\u0027 to directory \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/templates\u0027.\r\n\r\n(✔) Done: Configuration for aspirate has been bootstrapped successfully at \u0027/Users/prom3theu5/git/personal/aspire/samples/eShopLite/AppHost/./aspirate.json\u0027.\r\n\r\n 🚀 Execution Completed\r\n```\r\n\r\nThat way - you can reuse an existing directory you have setup for templates, or scaffold with the bootstrap and get to editing\r\n\r\n\u003e I would rename the e2e command\r\n\r\nYeah it\u0027s a bit \u0027meh\u0027 isn\u0027t it.\r\nAny suggestions?\r\nrender? \r\n(make-it-so? 😄 )\r\n\r\n\u003e Yes! Put it on NuGet so we can start getting others to test it!\r\n\r\nAwesome - I\u0027ll add a couple of actions in the morning to handle cicd, and manual workflow executions.\r\n\r\n\u003e We should work out container resources, this doesn’t work in azd today either.\r\n\r\nI\u0027ll have a play around tomorrow to see what gets added to the manifest for them",
                                           "updatedAt":  "2023-11-24T02:35:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5szhJ8",
                                           "createdAt":  "2023-11-24T10:17:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNhtVQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T11:57:21Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "pjmagee",
                                           "body":  "\u003e ```shell\r\n\u003e e2e \r\n\u003e ```\r\n\r\nWhy not use apply, similar to kubectl? It is kind of applying what is requested so i still feel like it\u0027s correct? ",
                                           "updatedAt":  "2023-11-24T10:17:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1FCs",
                                           "createdAt":  "2023-11-24T15:56:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNi7EA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T15:57:33Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "generate - Spit out kube manifests\r\napply - apply to the cluster (dont create manifest)",
                                           "updatedAt":  "2023-11-24T15:56:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1HEO",
                                           "createdAt":  "2023-11-24T16:04:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hahn-kev",
                                           "body":  "kustomize uses the term [`build`](https://kubectl.docs.kubernetes.io/references/kustomize/cmd/build/) for rendering out the resources, which you would then apply.",
                                           "updatedAt":  "2023-11-24T16:04:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1J7f",
                                           "createdAt":  "2023-11-24T16:16:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What does helm use?",
                                           "updatedAt":  "2023-11-24T16:16:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1MfE",
                                           "createdAt":  "2023-11-24T16:27:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODjBGtA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "Loada",
                                                                               "createdAt":  "2023-11-24T16:55:07Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "jwmoffat",
                                                                               "createdAt":  "2023-11-24T16:59:00Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-24T17:29:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "cysnet",
                                                                               "createdAt":  "2023-11-27T01:45:57Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "iamshen",
                                                                               "createdAt":  "2024-05-24T02:30:35Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e kustomize uses the term [build](https://kubectl.docs.kubernetes.io/references/kustomize/cmd/build/) for rendering out the resources, which you would then apply.\r\n\r\nThat\u0027s right - but kubectl actually has build in support for kustomize with `-k`, i.e.\r\n`kubectl apply -k ./someFolder`\r\nand destroy support too\r\n\r\n\u003e What does helm use?\r\n\r\nHelm uses install, but you first have to add a repo.\r\nIts similar to adding a private nuget feed, then installing a global tool from it I guess, so two commands in total\r\n\r\nI used apply because its along the lines of what anyone utilising kubectl would expect.\r\n\r\n\u003e generate - Spit out kube manifests\r\napply - apply to the cluster (dont create manifest)\r\n\r\nWas already working on those when you posted 😄 \r\nRelease 1.0.1 has just deployed to nuget, which includes:\r\n\r\n- Renamed the e2e command to \u0027generate\u0027\r\n- introduce the \u0027apply\u0027 command to allow deployment of manifests\r\n- introduce the \u0027destroy\u0027 command to allow removal of deployed manifests\r\n\r\nBoth the apply and destroy command will first use kubectl to gather possible contexts defined in your current active kubeconfig, and present a menu allowing you to choose which context you\u0027d like to use operate on, first confirming that you actually want to work\r\n\r\nFull Command List is now:\r\n\r\n![image](https://github.com/dotnet/aspire/assets/1518610/be5c5b2a-c0b7-4c4e-ac4f-43f3e627c5ac)\r\n\r\n\r\n---\r\n\r\nI guess now that its up on nuget, and gone through a lot of changes, its time for a new video.\r\nHere is from zero to hero lol (dotnet new aspire-starter through to deploy and removal)\r\n\r\n\r\nhttps://github.com/dotnet/aspire/assets/1518610/8e6563a6-b5d4-4421-8d0f-3e92e44147aa\r\n\r\n",
                                           "updatedAt":  "2023-11-24T16:50:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1VoW",
                                           "createdAt":  "2023-11-24T16:59:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNnCNA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T16:59:56Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-11-26T12:25:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "timheuer",
                                           "body":  "My only nit is that `generate` is doing much more than generate. It\u0027s doing some partial steps of actually deploying as well (building and pushing containers).",
                                           "updatedAt":  "2023-11-24T16:59:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1WJ5",
                                           "createdAt":  "2023-11-24T17:02:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e My only nit is that generate is doing much more than generate. It\u0027s doing some partial steps of actually deploying as well (building and pushing containers).\r\n\r\nAye - feels like that should be either a separate command, or part of apply.\r\nEspecially since it requires write access to your registry to push those containers too.\r\nMight just want to spit out some manifests - prototyping etc\r\n\r\nUser journey for apply is already two hops though, possibly three if you have to add in init too\r\n\r\nWhat if we roll it into the apply command - pre cluster selection, so it pushes container images then, as they are required for apply to actually succeed after deploying manifests",
                                           "updatedAt":  "2023-11-24T17:05:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1XF-",
                                           "createdAt":  "2023-11-24T17:06:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjL7g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T17:08:19Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "timheuer",
                                           "body":  "This is such good progress @prom3theu5! I\u0027m torn to keeping the discussion here but also not losing individual discussions on features of the tool in the repo LOL -- so I logged this as well: https://github.com/prom3theu5/aspirational-manifests/issues/37",
                                           "updatedAt":  "2023-11-24T17:06:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1Xde",
                                           "createdAt":  "2023-11-24T17:08:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Thanks a lot 😄 ",
                                           "updatedAt":  "2023-11-24T17:12:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1Xfb",
                                           "createdAt":  "2023-11-24T17:08:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjNKg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T17:13:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "timheuer",
                                           "body":  "\u003e User journey for apply is already two hops though, possibly three if you have to add in init too\r\n\r\nRight, don\u0027t want to be too petty for the individual actions if there is a fast-path. I like the idea always of give me all the knobs, but also give me an easy button.  As you note, sometimes I may just want to generate manifests, other times \u0027just do it all\u0027 for me.  In some of our own tools we do this (e.g., provision (create), deploy (push), but up (provision+push)).",
                                           "updatedAt":  "2023-11-24T17:08:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1ZF0",
                                           "createdAt":  "2023-11-24T17:17:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "I think some of the commands right now are too `opinionated` about how they run.\r\nFor instance, everything for init, outside of injected services, aka prompts / questions - is all contained within the InitCommand\r\n\r\nMoving some of the actions, certainly around prompts etc, into a shared command base would allow the commands to be streamlined into sort of action orchestrators\r\n\r\nWe could then easily create combination commands, as its just extra orchestration of actions \r\n\r\nMaybe from a composition point of view, it actually makes more sense to have a collection of single action classes, that each perform one given prompt, and allow chaining them together fluently",
                                           "updatedAt":  "2023-11-24T17:20:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1cE2",
                                           "createdAt":  "2023-11-24T17:33:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjR9g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T17:37:40Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@prom3theu5 put that video in the README!",
                                           "updatedAt":  "2023-11-24T17:33:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1cK5",
                                           "createdAt":  "2023-11-24T17:34:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@prom3theu5 Does it support deploying to a private registry? ",
                                           "updatedAt":  "2023-11-24T17:34:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1c2s",
                                           "createdAt":  "2023-11-24T17:38:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjoQQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T17:41:01Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T17:41:04Z"
                                                                           },
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-11-24T19:43:49Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Also it\u0027s too late now but its possible the version should have been preview 😄.\r\n\r\nhttps://www.nuget.org/packages/Aspirate",
                                           "updatedAt":  "2023-11-24T17:38:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1dQH",
                                           "createdAt":  "2023-11-24T17:40:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e put that video in the README!\r\n\r\nDone haha.\r\n\r\n\u003e Does it support deploying to a private registry?\r\n\r\nIt does yeah.\r\nWhat it doesn\u0027t directly support is generation of imagePullSecrets if they don\u0027t exist in your namespace\r\nHowever, you can either add them to your cluster manually, or customise the kustomize templates, and add them\r\n\r\n\u003e Also it\u0027s too late now but its possible the version should have been preview 😄.\r\n\u003e \r\n\u003e https://www.nuget.org/packages/Aspirate\r\n\r\nHahaha.. you are definitely right there... whoops.\r\nDeprecate 1.01, republish as 1.0.2-preview?",
                                           "updatedAt":  "2023-11-24T17:40:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1dl4",
                                           "createdAt":  "2023-11-24T17:43:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjTkw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T17:46:18Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "0.1.0-preview1? Hard to go back in time 😄 ",
                                           "updatedAt":  "2023-11-24T17:43:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1ebQ",
                                           "createdAt":  "2023-11-24T17:48:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Aye no control over http-locals for people who have it already, what happens in those cases, they wouldnt be offered an update would they, even if I unlist?\r\n\r\n- Unlist current\r\n- Retag 0.1.0-preview-x at 1.0.0\r\n- Retag 0.1.0-preview-x at 1.0.1\r\n- Republish?\r\n\r\nI think you have to explicitly set -version anyway dont you on preview installs?",
                                           "updatedAt":  "2023-11-24T17:49:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1ghf",
                                           "createdAt":  "2023-11-24T18:02:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjXoA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T18:08:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think unlist and rebrand as 0.1.0, yep! Not many people have downloaded yet",
                                           "updatedAt":  "2023-11-24T18:02:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1huW",
                                           "createdAt":  "2023-11-24T18:09:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Sorted - its listed as \u00270.1.0-preview-1\u0027 now\r\nThe others I\u0027ve just unlisted",
                                           "updatedAt":  "2023-11-24T18:10:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1iNr",
                                           "createdAt":  "2023-11-24T18:13:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNjoYA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-24T18:13:35Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-11-24T19:45:15Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "OK I [posted on X](https://x.com/davidfowl/status/1728114340757401722?s=20)! Let\u0027s see if we can get some feedback for the MVP.",
                                           "updatedAt":  "2023-11-24T18:13:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s1yJu",
                                           "createdAt":  "2023-11-24T19:43:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pjmagee",
                                           "body":  "\u003e What does helm use?\r\n\r\n`helm upgrade` and `helm install` with some variations like --dry-run or -install and then you pass it the chart either via a registry or local disk folder or zip.",
                                           "updatedAt":  "2023-11-24T19:43:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s3cc0",
                                           "createdAt":  "2023-11-26T02:52:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNmZjg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "snow-jallen",
                                                                               "createdAt":  "2023-11-26T03:22:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "snow-jallen",
                                                                               "createdAt":  "2023-11-26T03:22:22Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-26T04:46:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "New version has just gone out\r\nI\u0027ve now converted the cli app to utilise System.CommandLine\r\nThis brings up the ability to introduce things like localization etc\r\n\r\nAlso - it allowed me to implement better handling of input parameters\r\n\r\nCommands now invoke a chained series of actions within an ActionExecutor, and all actions have a shared State within the context of a command run.\r\n\r\nAn extension on the state looks at the incoming Input options for a command pre-execution, and updates the current app state with incoming values, augmenting them / overriding them\r\n\r\nThis opens up a lot of potential, such as ease of implementation of new commands (A command is basically an orchestrator [order picker / someone following a shopping list] that runs (picks) a bunch of reusable actions in the order that they want to run (use / \"eat\") them in\r\n\r\nSo, lets say we want a new command that combines the actions of Generate and Apply, easy - create the command, and just chain together the existing actions.\r\n\r\nIt also means individual actions can be tested in isolation, purely operating on their singular task.\r\nOnly actions share state, all services take input parameters from actions, meaning they are also isolated in the context of an execution.\r\n\r\nWith this i\u0027ve now rolled out the ability for the flag --non-interactive to be passed into just the `init` command for now, along with the ability to supply all the required parameters to set the config file.\r\n\r\nNonInteractive is a shared option, which I will roll out to the other commands tomorrow, along with implementing the prompt bypasses in the actions that require it.\r\n",
                                           "updatedAt":  "2023-11-26T02:54:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s3pB8",
                                           "createdAt":  "2023-11-26T04:47:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNmapw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-26T05:01:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "If you want a hard mode challenge, attempt eshop https://github.com/dotnet/eshop\r\n\r\nwe have some gaps here that we want to address for the next preview. This will help flesh them out!",
                                           "updatedAt":  "2023-11-26T04:47:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s3tYU",
                                           "createdAt":  "2023-11-26T05:01:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNoBaQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "akhanalcs",
                                                                               "createdAt":  "2023-11-26T21:50:28Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e If you want a hard mode challenge, attempt eshop https://github.com/dotnet/eshop\r\nwe have some gaps here that we want to address for the next preview. This will help flesh them out!\r\n\r\nI can see just looking at the AppHost there is a lot more going on in that 😛 \r\nWill pull out some issues from it, and add to project board.\r\n\r\nWas playing with container support last night, and toying with the idea of adding an experimental option to generate docker-compose output as well.\r\nProblem for both containers and docker-compose is the containerPorts aren\u0027t added to the manifest in this release.\r\nI know thats coming soon though, and thats the missing piece for containers 😄 \r\n\r\n---\r\n\r\nJust pushed the final command changes for `--non-interactive` support, and I added a `--skip-build` flag to the generate command, which skips the build and push of containers.\r\nThat allows you to use this in scripts / cicd now without an interactive console\r\n\r\n```bash\r\naspirate generate --non-interactive --skip-build\r\n\r\n     _                    _           ___\r\n    / \\     ___   _ __   (_)  _ __   ( _ )\r\n   / _ \\   / __| | \u0027_ \\  | | | \u0027__|  / _ \\\r\n  / ___ \\  \\__ \\ | |_) | | | | |    | (_) |\r\n /_/   \\_\\ |___/ | .__/  |_| |_|     \\___/\r\n                 |_|\r\nAutomate deployment of a .NET Aspire AppHost to a Kubernetes Cluster\r\n\r\nNon-interactive mode enabled.\r\n\r\nSuccessfully loaded existing aspirate bootstrap settings from \u0027.\u0027.\r\n\r\n\r\nGenerating Aspire Manifest for supplied App Host:\r\n\r\n\r\nExecuting: dotnet run --project \"/Users/prom3theu5/git/personal/demo/TestAspire/TestAspire.AppHost/.\" -- --publisher manifest --output-path\r\nmanifest.json\r\nBuilding...\r\ninfo: Aspire.Hosting.Publishing.ManifestPublisher[0]\r\n      Published manifest to: /Users/prom3theu5/git/personal/demo/TestAspire/TestAspire.AppHost/manifest.json\r\n\t(✔) Done:  Created Aspire Manifest At Path: /Users/prom3theu5/git/personal/demo/TestAspire/TestAspire.AppHost/manifest.json\r\n\r\nNon-Interactive Mode: Processing all components in the loaded file.\r\n\r\n\r\nGathering container details for each project in selected components\r\n\r\n\t(✔) Done:  Populated container details cache for project apiservice\r\n\t(✔) Done:  Populated container details cache for project webfrontend\r\n\r\nGathering Tasks Completed - Cache Populated.\r\n\r\nSkipping build and push action as requested.\r\n\r\nGenerating kustomize manifests to run against your kubernetes cluster:\r\n\r\n\t(✔) Done:  Generating /Users/prom3theu5/git/personal/demo/TestAspire/TestAspire.AppHost/aspirate-output/cache\r\n\t(✔) Done:  Generating /Users/prom3theu5/git/personal/demo/TestAspire/TestAspire.AppHost/aspirate-output/apiservice\r\n\t(✔) Done:  Generating /Users/prom3theu5/git/personal/demo/TestAspire/TestAspire.AppHost/aspirate-output/webfrontend\r\n\r\n 🚀 Execution Completed\r\n ```\r\n",
                                           "updatedAt":  "2023-11-26T05:02:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s3y0n",
                                           "createdAt":  "2023-11-26T05:19:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNnytQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-26T19:35:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e If you want a hard mode challenge, attempt eshop https://github.com/dotnet/eshop\r\nwe have some gaps here that we want to address for the next preview. This will help flesh them out!\r\n\r\nImmediately whats shown is the need for other container backed resource types (postgres, rabbitmq, redis etc) to have expanded output in the manifest\r\nSpecifically Annotations.\r\nthe manifest for this doesn\u0027t include the fact that a custom image is being used for postgres.\r\nThat could be handled by using the custom template option, and just using a template with the image in it - but would be better to have the ability to read that info\r\n\r\nAlso - we have no ContainerBaseImage support atm\r\n\r\n![image](https://github.com/dotnet/aspire/assets/1518610/370d7abe-8446-43fb-a46d-25ab0af5fe05)\r\n\r\nManaged to get services running with a few manual edits\r\nIts all mainly due to IdentityServer\r\n\r\nWe need to really introduce a YARP instance which handles reverse proxy of the auth service, with forwarding headers enabled.\r\nI had to manually fudge the middleware in the identityApi to override the the server url before identityserver was registered to ensure OIDC discovery was generated correctly, and then also ensure the TempKey was copied into the container, and that the pod had emptyDir mounted on /app/keys\r\n\r\nAlso had to remove https webapp redirect url etc - as we dont have tls yet\r\nOh and just changed the container image for postgres in the generated yaml, to the one from AppHost",
                                           "updatedAt":  "2023-11-26T06:57:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s5Ofr",
                                           "createdAt":  "2023-11-26T23:42:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNvCEg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-27T00:24:46Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-27T01:20:10Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "dosper7",
                                                                               "createdAt":  "2023-11-27T22:00:52Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I\u0027ve been out for all last week and let me just say what you\u0027ve done here in such a small period of time is just awesome!",
                                           "updatedAt":  "2023-11-26T23:42:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s5Rtw",
                                           "createdAt":  "2023-11-27T00:17:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNobRg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-27T01:26:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Immediately whats shown is the need for other container backed resource types (postgres, rabbitmq, redis etc) to have expanded output in the manifest\r\nSpecifically Annotations.\r\nthe manifest for this doesn\u0027t include the fact that a custom image is being used for postgres.\r\nThat could be handled by using the custom template option, and just using a template with the image in it - but would be better to have the ability to read that info\r\n\r\nThis is one of the things that we need to decide on or improve in general. Today these are abstract resource types in the aspire manifest. At runtime, they are containers, but in the manifest, they end up being these \"typed resources\" that the deployment tools need to interpret. As an example, when deploying to azure container apps, azd treats redis.v0 as use this addon (https://learn.microsoft.com/en-us/azure/container-apps/services), but you could imagine that it could also mean use azure redis in a different \"environment\". In that universe the \"containerness\" is an implementation detail. That\u0027s why the image name isn\u0027t in the manifest. Here is the issue tracking this discussion https://github.com/dotnet/aspire/issues/616. I think we will end up with abstract resources (redis, rabbit etc), and specific resources (e.g. container, cloud). \r\n\r\n\u003e Also - we have no ContainerBaseImage support atm\r\n\r\nBy this do you mean it isn\u0027t in the csproj? The container tools default this based on the TFM I thought. @baronfel ?\r\n\r\n\u003e Its all mainly due to IdentityServer\r\n\r\n\u003e We need to really introduce a YARP instance which handles reverse proxy of the auth service, with forwarding headers enabled.\r\nI had to manually fudge the middleware in the identityApi to override the the server url before identityserver was registered to ensure OIDC discovery was generated correctly, and then also ensure the TempKey was copied into the container, and that the pod had emptyDir mounted on /app/keys\r\n\r\nCan you file an issue on github.com/dotnet/eshop? Also if you have a fork, push it so we can see the changes you made. \r\n\r\n\u003e Also had to remove https webapp redirect url etc - as we dont have tls yet\r\n\r\nYep, adding suport for TLS is going to be interesting. Easier on k8s for sure!",
                                           "updatedAt":  "2023-11-27T00:17:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s5e-q",
                                           "createdAt":  "2023-11-27T01:50:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e Can you file an issue on github.com/dotnet/eshop? Also if you have a fork, push it so we can see the changes you made.\r\n\r\nOh I wouldn\u0027t want to push it somewhere and see people trying to use it i the wild - its was pure hacks 😉 \r\nI was utilising middleware pre addition of identityserver to completely fudge the oidc discovery document response when certain paths were requested lol\r\n\r\nWhen using a private local domain, i.e. david.local, without introducing a dns server, and passing the dns config to kube so that each container gets the resolv.conf updated, the cluster will never be able to communicate with your host pc in docker-desktop. At least - i don\u0027t think it can. Maybe using the internal docker addresses it\u0027d be possible instead of trying to use an nginx ingress controller like I was\r\n\r\nIts due to the fact that auth happens server side using the internal cluster address of the identity-api, but the oidc document endpoints will then be set to internal addresses - i.e. http://identity-api:8080/connect/authorize\r\nThis will obviously fail when you are redirected on an auth request back to the front end, as they are addresses internal to the cluster\r\nIf you change the IdentityUrl used in the web app to your reverse proxy address from your nginx ingress controller then the request will fail to get to the actual server, as its resolved internally against the hosts file in the pod.\r\nYou can hack in hostAliases in the deployments, but that means you need to know the internal ip a pod is going to be assigned up front, and when i was trying that it was failing.\r\nThis was failing, even with Forwarding host headers for host and proto enabled, and added as first middleware within the identity api.\r\n\r\nIn the wild, using an actual domain means that when your kube cluster starts and passes your hosts dns config to the pods, they can resolve the hostname successfully. Purely a local issue this.\r\n\r\nNow if auth was to happen client side in wasm, and not server side, then the address mapped through the ingress resource to the backend service would actually work - as it\u0027d be resolved using the hosts \"host\" file.\r\n\r\nTruth be told I didn\u0027t spend a massive amount of time working the issue, maybe 1.5 hours max.\r\n\r\n\u003e By this do you mean it isn\u0027t in the csproj? The container tools default this based on the TFM I thought. @baronfel ?\r\n\r\nOh sorry I mean in the context of aspirate - aspirate doesn\u0027t do anything with non-qualified BaseImages. The base image set in the csproj for the mobile backend for frontend yarp reverse proxy isn\u0027t fully qualified, i.e. its just mobilebffagg or something like that. The container tooling within .net complained it didn\u0027t know where to pull the image from.\r\nI just removed it, it used net 8 base, and worked fine.\r\n\r\n\u003eThis is one of the things that we need to decide on or improve in general. Today these are abstract resource types in the aspire manifest. At runtime, they are containers, but in the manifest, they end up being these \"typed resources\" that the deployment tools need to interpret. As an example, when deploying to azure container apps, azd treats redis.v0 as use this addon (https://learn.microsoft.com/en-us/azure/container-apps/services), but you could imagine that it could also mean use azure redis in a different \"environment\". In that universe the \"containerness\" is an implementation detail. That\u0027s why the image name isn\u0027t in the manifest. Here is the issue tracking this discussion https://github.com/dotnet/aspire/issues/616. I think we will end up with abstract resources (redis, rabbit etc), and specific resources (e.g. container, cloud).\r\n\r\nAhh gotcha - I understand\r\nWill be interesting to see how it pans out 😄 \r\n ",
                                           "updatedAt":  "2023-11-27T01:54:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s5hJc",
                                           "createdAt":  "2023-11-27T02:05:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "cysnet",
                                           "body":  "@prom3theu5 @davidfowl  So cool, can’t wait to try it out!",
                                           "updatedAt":  "2023-11-27T02:05:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s5m5Y",
                                           "createdAt":  "2023-11-27T02:43:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "\u003e For projects 8080 (for http, and ignore https for now), I would start with this since .NET 8+ containers expose this port. Container resources will have a containerPort property on the binding definition.\r\n\r\n@davidfowl wondering whether we should introduce a `tlsTerminationFor` property to express the relationship between HTTP and HTTPS bindings.",
                                           "updatedAt":  "2023-11-27T02:43:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s5nR-",
                                           "createdAt":  "2023-11-27T02:45:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNqhUA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-27T09:53:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "\u003e \"containerness\" is an implementation detail\r\n\r\nI think this is key. I think each deployment tool should have configuration (if required) which tells it what to interpret these high level resources (redis.v0 etc) as.  I don\u0027t think we should try and add fallback container name in the manifest and stick to the \"the deployment tool should understand all resource types in manifest or fail\" line.",
                                           "updatedAt":  "2023-11-27T02:45:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5s7cyc",
                                           "createdAt":  "2023-11-27T10:05:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e I think this is key. I think each deployment tool should have configuration (if required) which tells it what to interpret these high level resources (redis.v0 etc) as. I don\u0027t think we should try and add fallback container name in the manifest and stick to the \"the deployment tool should understand all resource types in manifest or fail\" line.\r\n\r\nOh absolutely - in fact thats how Aspir8 handles it.\r\nIt has an abstract resource type, and upon deserialization of the type from the manifest performs polymorphic deserialization from the type name, to a given defined type which all inherit from the abstract resource.\r\n\r\nThe problem when it comes to containers, you can add ports, add annotations and environmental variables - its that info that needs to be in the manifest for tools to read.\r\n\r\nThen with Redis for example - if you are ultimately deploying to AKS, you may not using Redis in the cluster as a container - you might be using Azure redis, or a dedicated vm etc (its cheaper to get a Bsm2 and purely use redis on there lol).\r\nI think this example is where you\u0027d need separate types in the manifest. There has to be something that tells tools what type it has to treat it as\r\nI terms of aspir8, for a scenario like this, instead of generating a manifest for deployment, and service, we\u0027d ultimately just be generating a secret here which hs the connectin string details to your external deployment ",
                                           "updatedAt":  "2023-11-27T10:05:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tBcwg",
                                           "createdAt":  "2023-11-28T04:57:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNxstg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-28T09:01:15Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "@prom3theu5 wanted to bring you into the loop on a new resource type we are looking to add to the manifest called `dockerfile.v0`. The scenario is that sometimes people have got a Python app, or a Node.js app or similar that they run locally, but when deployed it needs to be packaged up into a container.\r\n\r\nWe could force them to do the container build themselves and just have an `AddContainer(...)` call in the AppHost for deployment purposes, but we wanted the ability for folks to use `AddExecutable(...)` for inner loop where it is convenient (which would be wrapped by things like `AddNodeApp(...)` and `AddNpmApp(...)`.\r\n\r\nhttps://github.com/dotnet/aspire/pull/1059",
                                           "updatedAt":  "2023-11-28T04:57:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tCfCl",
                                           "createdAt":  "2023-11-28T08:55:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODNxrWQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-28T08:57:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e I think this example is where you\u0027d need separate types in the manifest. There has to be something that tells tools what type it has to treat it as\r\n\r\nThis is just layers of indirection. Either the developer describes this in code, or the deployment tool gives the developer a way to describe that choice:\r\n\r\ne.g.\r\n\r\n```C#\r\nIResourceBuilder\u003cIRedisResource\u003e basketCache = builder.Environment.EnvironmentName switch\r\n{\r\n    \"Development\" =\u003e builder.AddRedisContainer(\"basketcache\"),\r\n    \"Staging\" =\u003e builder.AddAzureRedis(\"basketcache\"),\r\n    \"Production\" =\u003e builder.AddRedis(\"basketcache\"), // look for a connection string that will be provided externally.\r\n    _ =\u003e throw new NotSupportedException($\"Environment \u0027{builder.Environment.EnvironmentName}\u0027 is not supported.\")\r\n};\r\n```\r\n\r\nWe could end up with a model like this where the choice is explicit. Or one like this:\r\n\r\n```C#\r\nvar basketCache = builder.AddRedis(\"basketcache\");\r\n```\r\n\r\nWhere that decision for what that means is completely deferred to the deployment tool and the orchestration runtime (during development).",
                                           "updatedAt":  "2023-11-28T08:55:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tChCY",
                                           "createdAt":  "2023-11-28T09:01:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e wanted to bring you into the loop on a new resource type we are looking to add to the manifest called dockerfile.v0\r\n\r\nThanks Mitch - that looks really cool. Is that the final manifest output choice in the link?\r\nIf so I\u0027ll start on building in some support\r\n\r\n\u003e Where that decision for what that means is completely deferred to the deployment tool and the orchestration runtime (during development).\r\n\r\nThis is better in my opinion - in an ideal world - the application source shouldn\u0027t \"know or care\" about how its going to be hosted. Its a deployment time choice.\r\n\r\nMost of the time there has to be some choice of technology stack in the app source code that dislodges this - but thats what I love about the idea of aspire so much. You aren\u0027t tightly coupling your app code to tech stack.",
                                           "updatedAt":  "2023-11-28T09:02:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tMyrq",
                                           "createdAt":  "2023-11-29T15:03:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODOAHjQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "ReubenBond",
                                                                               "createdAt":  "2023-11-30T00:09:29Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-11-30T01:36:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "andrevlins",
                                                                               "createdAt":  "2023-11-30T02:16:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Released support for Dockerfile building, which was merged yesterday into Aspire, with both the `build` and `generate` commands\r\n\r\nWill likely need further binding testing once aspire preview 2 is released.\r\n\r\nProjects automatically get a service and Kestrel ports added to deployment and said service, however Dockerfiles operate fully on custom ports from the manifest, with no default entries.\r\n\r\nAlso - i\u0027d like to touch on the build command, which I dont think has bene mentioned much - It\u0027s very useful outside of actually generating k8s manifests - in fact i\u0027ve worked in into my daily workflow now.\r\n\r\n`aspirate build` allows you to rebuild and push containers to the registry swiftly and efficiently. This means you can make changes to your work and see them reflected in your containers almost instantly as you have the flexibility to select the items you want to build using a simple menu. This gives you control over what parts of your project you want to focus on at any given time. Its convenience really.\r\nOne of my peeves as a developer is having to repeat myself. If I have to repeat an action more than twice, why not get back the minutes it takes to perform said action, and just automate it?\r\nThats what I did here ^^.\r\n\r\nAlso if you pass in an existing aspire manifest to the build command, the build menu appears instantly allowing you to select items to build and push\r\n\r\n`aspirate build -m ./manifest.json`\r\n\r\nIt\u0027ll also populate its internal state with the aspirate.json file if you\u0027ve initialised it in your AppHost directory and use your tags and registry fall back values.\r\nYou can ignore that step and pass those values on the cli too.\r\n\r\nGenerate has been changed too.\r\nPreviously every generate you ran - overwrote the final (top level) kustomization.yml file, which contained links to the previously generated feature items.\r\n\r\nThat meant if you generated a set of all your component, each time you would have to rerun the full generation.\r\nNow you can regenerate any selection of services, and the final prompt to generate the top level file you can say no to.\r\nThis will only overwrite the manifests for the services you have selected in that run, allowing you to perform iterative deployments to your cluster, overwriting / updating already deployed components.\r\nBig time saver when trying to debug issues",
                                           "updatedAt":  "2023-11-29T15:04:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tN__I",
                                           "createdAt":  "2023-11-29T17:27:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@prom3theu5 ! Excellent. ",
                                           "updatedAt":  "2023-11-29T17:27:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tP2QA",
                                           "createdAt":  "2023-11-29T23:39:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODOBPSg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-11-30T07:07:10Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "Wow ... you are officially the first tool to support `dockerfile.v0` ... I think I\u0027m going to have to start using aspirat8 for my local testing :P",
                                           "updatedAt":  "2023-11-29T23:39:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tRMUj",
                                           "createdAt":  "2023-11-30T07:12:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODOkZ6A==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "ReubenBond",
                                                                               "createdAt":  "2023-12-05T15:29:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Haha thanks Mitch\nJust trying to give back a little. You guys give us so much year on year. \nI mean aspire is awesome.\nWe now have this single file (manifest) in a language independent format (json) that literally describes the entirety of our solution from implementation to deployment. \nDoesn\u0027t get much better ^^",
                                           "updatedAt":  "2023-11-30T07:12:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5twmiL",
                                           "createdAt":  "2023-12-05T19:08:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@prom3theu5 trying out aspirate for the first time and I ran into errors:\r\n\r\n```\r\nAspirate supports setting a fall-back value for projects that have not yet set a \u0027ContainerRegistry\u0027 in their csproj\r\nfile.\r\nWould you like to set a fall-back value for the container registry? [y/n] (n): n\r\n\r\nAspirate supports setting a fall-back value for projects that have not yet set a \u0027ContainerTag\u0027 in their csproj file.\r\nWould you like to set a fall-back value for the container tag? [y/n] (n): n\r\n\r\nAspirate supports setting a custom directory for \u0027Templates\u0027 that are used when generating kustomize manifests.\r\nWould you like to use a custom directory (selecting \u0027n\u0027 will default to built in templates ? [y/n] (n): n\r\n\r\n(✔) Done: Configuration for aspirate has been bootstrapped successfully at\r\n\u0027C:\\dev\\git\\newaspire-sample\\.\\aspirate.json\u0027.\r\n```\r\n\r\n\r\n```JSON\r\n{\r\n  \"TemplatePath\": null,\r\n  \"ContainerSettings\": {\r\n    \"Registry\": null,\r\n    \"Tag\": null\r\n  }\r\n}\r\n```\r\n\r\n```\r\n➜ aspirate generate\r\n\r\n     _                    _           ___\r\n    / \\     ___   _ __   (_)  _ __   ( _ )\r\n   / _ \\   / __| | \u0027_ \\  | | | \u0027__|  / _ \\\r\n  / ___ \\  \\__ \\ | |_) | | | | |    | (_) |\r\n /_/   \\_\\ |___/ | .__/  |_| |_|     \\___/\r\n                 |_|\r\nAutomate deployment of a .NET Aspire AppHost to a Kubernetes Cluster\r\n\r\n\r\nSuccessfully loaded existing aspirate bootstrap settings from \u0027.\u0027.\r\n\r\n\r\nGenerating Aspire Manifest for supplied App Host:\r\n\r\nFailed to generate Aspire Manifest at:\r\n```",
                                           "updatedAt":  "2023-12-05T19:08:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5twoAK",
                                           "createdAt":  "2023-12-05T19:13:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODOmdDA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-12-05T20:10:30Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Ah you have to run it in the apphost folder. That would be a nice error message to add 😄 ",
                                           "updatedAt":  "2023-12-05T19:13:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5twoUG",
                                           "createdAt":  "2023-12-05T19:14:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Next issue:\r\n\r\n```\r\nRequired MSBuild property \u0027ContainerRegistry\u0027 not set in project\r\n\u0027..\\newaspire-sample.ApiService\\newaspire-sample.ApiService.csproj\u0027. Cannot continue.\r\n(1): Aspirate will now exit.\r\n```\r\n\r\nSeems like the registry is needed even though it said it wasn\u0027t?",
                                           "updatedAt":  "2023-12-05T19:14:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5twwbU",
                                           "createdAt":  "2023-12-05T19:37:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I will start a thread on that repo",
                                           "updatedAt":  "2023-12-05T19:37:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tw5IM",
                                           "createdAt":  "2023-12-05T20:04:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Hi @davidfowl \r\n\r\nYou dont have to run it in the AppHost, but its best to if you don\u0027t want to use the command line args to control where it reads files from.\r\n\r\nThe procedure is\r\n\r\n1. Navigate to AppHost Directory\r\n2. run `aspirate init` and say (Y) to the Fallback container registry\r\n3. run `aspirate generate` this will allow you to select which services to build and push as containers, then generate manifests for etc\r\n\r\nDuring 3 you should see in cyan that the fallback value has been passed to the dotnet publish command\r\nManifests will be output to ./aspirate-output (customizable with args)\r\n\r\nLatest version is **0.1.10-preview**\r\n\r\nI figured it may be an issue with windows, But i\u0027ve jut tested it in parallels\r\n\r\n```powershell\r\nPS C:\\git\u003e dotnet new aspire-starter -o Test\r\nThe template \".NET Aspire Starter Application\" was created successfully.\r\nThis template contains technologies from parties other than Microsoft, see https://aka.ms/aspire/1.0-third-party-notices for details.\r\n\r\nProcessing post-creation actions...\r\nRestoring C:\\git\\Test\\Test.sln:\r\n  Determining projects to restore...\r\n  Restored C:\\git\\Test\\Test.ServiceDefaults\\Test.ServiceDefaults.csproj (in 301 ms).\r\n  Restored C:\\git\\Test\\Test.Web\\Test.Web.csproj (in 301 ms).\r\n  Restored C:\\git\\Test\\Test.AppHost\\Test.AppHost.csproj (in 301 ms).\r\n  Restored C:\\git\\Test\\Test.ApiService\\Test.ApiService.csproj (in 301 ms).\r\nRestore succeeded.\r\nRestoring C:\\git\\Test\\Test.AppHost\\Test.AppHost.csproj:\r\n  Determining projects to restore...\r\n  All projects are up-to-date for restore.\r\nRestore succeeded.\r\nRestoring C:\\git\\Test\\Test.ServiceDefaults\\Test.ServiceDefaults.csproj:\r\n  Determining projects to restore...\r\n  All projects are up-to-date for restore.\r\nRestore succeeded.\r\nRestoring C:\\git\\Test\\Test.ApiService\\Test.ApiService.csproj:\r\n  Determining projects to restore...\r\n  All projects are up-to-date for restore.\r\nRestore succeeded.\r\nRestoring C:\\git\\Test\\Test.Web\\Test.Web.csproj:\r\n  Determining projects to restore...\r\n  All projects are up-to-date for restore.\r\nRestore succeeded.\r\n\r\n\r\nPS C:\\git\u003e cd .\\Test\\Test.AppHost\\\r\nPS C:\\git\\Test\\Test.AppHost\u003e aspirate init\r\n\r\n     _                    _           ___\r\n    / \\     ___   _ __   (_)  _ __   ( _ )\r\n   / _ \\   / __| | \u0027_ \\  | | | \u0027__|  / _ \\\r\n  / ___ \\  \\__ \\ | |_) | | | | |    | (_) |\r\n /_/   \\_\\ |___/ | .__/  |_| |_|     \\___/\r\n                 |_|\r\nAutomate deployment of a .NET Aspire AppHost to a Kubernetes Cluster\r\n\r\n\r\nAspirate supports setting a fall-back value for projects that have not yet set a \u0027ContainerRegistry\u0027 in their csproj\r\nfile.\r\nWould you like to set a fall-back value for the container registry? [y/n] (n): y\r\nPlease enter the container registry to use as a fall-back value: localhost:5001\r\n\r\n(?) Done: Set \u0027Container fallback registry\u0027 to \u0027localhost:5001\u0027.\r\n\r\nAspirate supports setting a fall-back value for projects that have not yet set a \u0027ContainerTag\u0027 in their csproj file.\r\nWould you like to set a fall-back value for the container tag? [y/n] (n): n\r\n\r\nAspirate supports setting a custom directory for \u0027Templates\u0027 that are used when generating kustomize manifests.\r\nWould you like to use a custom directory (selecting \u0027n\u0027 will default to built in templates ? [y/n] (n): n\r\n\r\n(?) Done: Configuration for aspirate has been bootstrapped successfully at \u0027C:\\git\\Test\\Test.AppHost\\.\\aspirate.json\u0027.\r\n\r\n ?? Execution Completed\r\nPS C:\\git\\Test\\Test.AppHost\u003e aspirate generate\r\n\r\n     _                    _           ___\r\n    / \\     ___   _ __   (_)  _ __   ( _ )\r\n   / _ \\   / __| | \u0027_ \\  | | | \u0027__|  / _ \\\r\n  / ___ \\  \\__ \\ | |_) | | | | |    | (_) |\r\n /_/   \\_\\ |___/ | .__/  |_| |_|     \\___/\r\n                 |_|\r\nAutomate deployment of a .NET Aspire AppHost to a Kubernetes Cluster\r\n\r\n\r\nSuccessfully loaded existing aspirate bootstrap settings from \u0027.\u0027.\r\n\r\n\r\nGenerating Aspire Manifest for supplied App Host:\r\n\r\n        (?) Done:  Created Aspire Manifest At Path: C:\\git\\Test\\Test.AppHost\\manifest.json\r\n\r\nGathering container details for each project in selected components\r\n\r\n        (?) Done:  Populated container details cache for project apiservice\r\n        (?) Done:  Populated container details cache for project webfrontend\r\n\r\nGathering Tasks Completed - Cache Populated.\r\n\r\nBuilding all project resources, and pushing containers:\r\n\r\n\r\nExecuting: dotnet publish \"C:\\git\\Test\\Test.AppHost\\..\\Test.ApiService\\Test.ApiService.csproj\"\r\n-p:PublishProfile=\"DefaultContainer\" -p:PublishSingleFile=\"true\" -p:PublishTrimmed=\"false\" --self-contained \"true\" --os\r\n\"linux\" --arch \"x64\" -p:ContainerRegistry=\"localhost:5001\" -p:ContainerRepository=\"apiservice\"\r\n-p:ContainerImageTag=\"latest\"\r\nMSBuild version 17.8.3+195e7f5a3 for .NET\r\n  Determining projects to restore...\r\n  Restored C:\\git\\Test\\Test.ServiceDefaults\\Test.ServiceDefaults.csproj (in 272 ms).\r\n  Restored C:\\git\\Test\\Test.ApiService\\Test.ApiService.csproj (in 272 ms).\r\n  Test.ServiceDefaults -\u003e C:\\git\\Test\\Test.ServiceDefaults\\bin\\Release\\net8.0\\Test.ServiceDefaults.dll\r\n  Test.ApiService -\u003e C:\\git\\Test\\Test.ApiService\\bin\\Release\\net8.0\\linux-x64\\Test.ApiService.dll\r\n  Test.ApiService -\u003e C:\\git\\Test\\Test.ApiService\\bin\\Release\\net8.0\\linux-x64\\publish\\\r\n  Building image \u0027apiservice\u0027 with tags \u0027latest\u0027 on top of base image \u0027mcr.microsoft.com/dotnet/runtime-deps:8.0\u0027.\r\n  Uploading layer \u0027sha256:1f7ce2fa46ab3942feabee654933948821303a5a821789dddab2d8c3df59e227\u0027 to \u0027localhost:5001\u0027.\r\n  Uploading layer \u0027sha256:227fbee7f8333fe9242a4dff10ac036f7038a975be6b3bf7c132de76da623bb4\u0027 to \u0027localhost:5001\u0027.\r\n  Uploading layer \u0027sha256:eaf0575a2a24037fde65a105ab55d031a3bb7f9f9cd0e4d31f90825e746b67bc\u0027 to \u0027localhost:5001\u0027.\r\n  Uploading layer \u0027sha256:9dfad474d1d8dd245c9b94fc9034573971c48a627a67a7b13f3118261bb0d626\u0027 to \u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:eaf0575a2a24037fde65a105ab55d031a3bb7f9f9cd0e4d31f90825e746b67bc\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:227fbee7f8333fe9242a4dff10ac036f7038a975be6b3bf7c132de76da623bb4\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:1f7ce2fa46ab3942feabee654933948821303a5a821789dddab2d8c3df59e227\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:9dfad474d1d8dd245c9b94fc9034573971c48a627a67a7b13f3118261bb0d626\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Uploading config to registry at blob \u0027sha256:2a6a83f5968285ae2c94361dc7a805a477885383e56ce1384c8fde3024cf081d\u0027,\r\n  Uploaded config to registry.\r\n  Uploading tag \u0027latest\u0027 to \u0027localhost:5001\u0027.\r\n  Uploaded tag \u0027latest\u0027 to \u0027localhost:5001\u0027.\r\n  Pushed image \u0027apiservice:latest\u0027 to registry \u0027localhost:5001\u0027.\r\n        (?) Done:  Building and Pushing container for project apiservice\r\n\r\nExecuting: dotnet publish \"C:\\git\\Test\\Test.AppHost\\..\\Test.Web\\Test.Web.csproj\" -p:PublishProfile=\"DefaultContainer\"\r\n-p:PublishSingleFile=\"true\" -p:PublishTrimmed=\"false\" --self-contained \"true\" --os \"linux\" --arch \"x64\"\r\n-p:ContainerRegistry=\"localhost:5001\" -p:ContainerRepository=\"webfrontend\" -p:ContainerImageTag=\"latest\"\r\nMSBuild version 17.8.3+195e7f5a3 for .NET\r\n  Determining projects to restore...\r\n  Restored C:\\git\\Test\\Test.Web\\Test.Web.csproj (in 256 ms).\r\n  1 of 2 projects are up-to-date for restore.\r\n  Test.ServiceDefaults -\u003e C:\\git\\Test\\Test.ServiceDefaults\\bin\\Release\\net8.0\\Test.ServiceDefaults.dll\r\n  Test.Web -\u003e C:\\git\\Test\\Test.Web\\bin\\Release\\net8.0\\linux-x64\\Test.Web.dll\r\n  Test.Web -\u003e C:\\git\\Test\\Test.Web\\bin\\Release\\net8.0\\linux-x64\\publish\\\r\n  Building image \u0027webfrontend\u0027 with tags \u0027latest\u0027 on top of base image \u0027mcr.microsoft.com/dotnet/runtime-deps:8.0\u0027.\r\n  Uploading layer \u0027sha256:1f7ce2fa46ab3942feabee654933948821303a5a821789dddab2d8c3df59e227\u0027 to \u0027localhost:5001\u0027.\r\n  Uploading layer \u0027sha256:227fbee7f8333fe9242a4dff10ac036f7038a975be6b3bf7c132de76da623bb4\u0027 to \u0027localhost:5001\u0027.\r\n  Uploading layer \u0027sha256:eaf0575a2a24037fde65a105ab55d031a3bb7f9f9cd0e4d31f90825e746b67bc\u0027 to \u0027localhost:5001\u0027.\r\n  Uploading layer \u0027sha256:e31c0404b9b6add954c4ca536e179442ddfe4edaf83d20546daf499ea5a7c918\u0027 to \u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:eaf0575a2a24037fde65a105ab55d031a3bb7f9f9cd0e4d31f90825e746b67bc\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:227fbee7f8333fe9242a4dff10ac036f7038a975be6b3bf7c132de76da623bb4\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:1f7ce2fa46ab3942feabee654933948821303a5a821789dddab2d8c3df59e227\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Finished uploading layer \u0027sha256:e31c0404b9b6add954c4ca536e179442ddfe4edaf83d20546daf499ea5a7c918\u0027 to\r\n\u0027localhost:5001\u0027.\r\n  Uploading config to registry at blob \u0027sha256:2ad8cae70953e0de7505f1960ed891b2dbe251ce53f020f534da6224d54dafa9\u0027,\r\n  Uploaded config to registry.\r\n  Uploading tag \u0027latest\u0027 to \u0027localhost:5001\u0027.\r\n  Uploaded tag \u0027latest\u0027 to \u0027localhost:5001\u0027.\r\n  Pushed image \u0027webfrontend:latest\u0027 to registry \u0027localhost:5001\u0027.\r\n        (?) Done:  Building and Pushing container for project webfrontend\r\n\r\nBuilding and push completed for all selected project components.\r\n\r\nNo Dockerfile components selected. Skipping build and publish action.\r\n\r\nGenerating kustomize manifests to run against your kubernetes cluster:\r\n\r\n        (?) Done:  Generating C:\\git\\Test\\Test.AppHost\\aspirate-output\\apiservice\r\n        (?) Done:  Generating C:\\git\\Test\\Test.AppHost\\aspirate-output\\webfrontend\r\n\r\nWould you like to generate the top level kustomize manifest to run against your kubernetes cluster? [y/n] (y): y\r\n\r\n        (?) Done:  Generating ./aspirate-output/kustomization.yml\r\n\r\n ?? Execution Completed\r\nPS C:\\git\\Test\\Test.AppHost\u003e\r\n```\r\n\r\nyou can confirm if the fall back registry has been set so you dont need the msbuild prop if you cat the aspirate.json file\r\n\r\n```powershell\r\n ?? Execution Completed\r\nPS C:\\git\\Test\\Test.AppHost\u003e cat aspirate.json\r\n{\r\n  \"TemplatePath\": null,\r\n  \"ContainerSettings\": {\r\n    \"Registry\": \"localhost:5001\",\r\n    \"Tag\": null\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\nI should make container registry default to Y i think in the init command 😛 \r\nNoticed you said no ^^",
                                           "updatedAt":  "2023-12-05T20:08:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5txwQA",
                                           "createdAt":  "2023-12-05T22:53:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Why can\u0027t I get it to use my local docker registry when I say no?",
                                           "updatedAt":  "2023-12-05T22:53:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5txxbK",
                                           "createdAt":  "2023-12-05T22:58:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "When you say no it just doesn\u0027t set any fallback value\n\nThe fallback value is only there in case no msbuild prop is set. \n\nI can\u0027t really default it to localhost:5001 as it\u0027s entirely up to the user what ports they bind their local registry on etc. \n\nThe reason it needs to be a registry instead of the local docker context is k8s needs to pull it from a registry it won\u0027t use the local docker context. Even if you are running k8s under docker desktop, unless you spin up a registry when you go to deploy to k8s it won\u0027t find any images / will fail to pull. \n\nIn my testing, even setting pull image to \u0027never\u0027 in the deployments it still failed to find the images\n\n",
                                           "updatedAt":  "2023-12-05T22:59:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5txyOL",
                                           "createdAt":  "2023-12-05T23:02:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODUtDow==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "schmitch",
                                                                               "createdAt":  "2024-01-30T18:25:05Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e The reason it needs to be a registry instead of the local docker context is k8s needs to pull it from a registry it won\u0027t use the local docker context\r\n\r\nAre you sure about this? I\u0027m not sure that\u0027s the case.",
                                           "updatedAt":  "2023-12-05T23:02:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tx3TP",
                                           "createdAt":  "2023-12-05T23:24:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "It seemed to be on my Mac\n\nThen again it could also be because I wasn\u0027t assigning a fallback tag which results in latest being used",
                                           "updatedAt":  "2023-12-05T23:24:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5tyfah",
                                           "createdAt":  "2023-12-06T01:57:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@prom3theu5 try deploying a new application without any customization. I see eShopLite has a ton of custom properties for containers, but the SDK defaults everything so there\u0027s no need to set those properties in order to publish a container:\r\n\r\n```\r\nBuilding image \u0027myfrontend\u0027 with tags \u0027latest\u0027 on top of base image \u0027mcr.microsoft.com/dotnet/aspnet:8.0\u0027.\r\n  Pushed image \u0027myfrontend:latest\u0027 to local registry via \u0027docker\u0027.\r\n```\r\n\r\n```diff\r\n   \u003cPropertyGroup\u003e\r\n     \u003cTargetFramework\u003enet8.0\u003c/TargetFramework\u003e\r\n-    \u003cContainerRegistry\u003elocalhost:5001\u003c/ContainerRegistry\u003e\r\n-    \u003cContainerRepository\u003emy-frontend\u003c/ContainerRepository\u003e\r\n-    \u003cContainerBaseImage\u003emcr.microsoft.com/dotnet/aspnet:8.0\u003c/ContainerBaseImage\u003e\r\n```",
                                           "updatedAt":  "2023-12-06T01:58:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5ty2AP",
                                           "createdAt":  "2023-12-06T03:58:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Let me see if I can get something deployed without a registry, if not I\u0027ll run a local one. ",
                                           "updatedAt":  "2023-12-06T03:58:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5t0803",
                                           "createdAt":  "2023-12-06T10:26:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Thanks @davidfowl \r\n\r\nAye - I\u0027ve just pushed a new preview release `0.1.11-preview`\r\nWith this I\u0027ve made container registry optional.\r\n\r\nIn fact - you can skip the entire `init` command and just use `generate` now if you wish on a new starter template.\r\nIn order to make this work on Kube locally under docker-desktop, I\u0027ve introduced a prompt post build and push, pre generation of manifests.\r\n\r\nIt will ask which image pull policy you\u0027d like to use, with the default being **IfNotPresent**.\r\nThis is what has to be selected for local docker.\r\n\r\nIf you select Always - kubernetes will try to check the digest of the image instead of just the tag, and because there is no registry **this will fail**",
                                           "updatedAt":  "2023-12-06T10:26:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5t8RrE",
                                           "createdAt":  "2023-12-07T05:37:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODUtFsQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-12-07T07:52:42Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "schmitch",
                                                                               "createdAt":  "2024-01-30T18:28:23Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Latest version works like a charm on local Kubernetes? Is there a way to make it save all of the information to avoid prompts? ",
                                           "updatedAt":  "2023-12-07T05:37:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5t8SS0",
                                           "createdAt":  "2023-12-07T05:38:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODUtFoQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-12-07T07:58:08Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "schmitch",
                                                                               "createdAt":  "2024-01-30T18:28:17Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Also, we should discuss what it would take to wire up a default ingress rule to expose one of the services. \r\n\r\nPS: This is very cool!",
                                           "updatedAt":  "2023-12-07T05:38:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5t9hJ0",
                                           "createdAt":  "2023-12-07T07:58:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e Latest version works like a charm on local Kubernetes? Is there a way to make it save all of the information to avoid prompts? \n\nThanks David. Glad to hear it. \n\nYou can pass everything on command line that\u0027s required as well as --non-interactive for all commands and it\u0027ll auto run without prompts. \n\nI like to run \u0027aspirate build\u0027 a lot and pass -m with the manifest file path. That won\u0027t regenerate the manifest and instead will just show you the component menu you\u0027d like to rebuild\nGreat when debugging stuff etc\n\nIn the next version with input management and container.v0 support I\u0027m replacing the simple config file with the entire state saved between sessions so subsequent runs will have all the previous runs info available in the aspirate.json config file. \n\nSuffering at the moment though lol\nLittle girls had a stomach bug and I\u0027ve ended up with it. What makes them ill for a day nearly wipes me out lol. \n",
                                           "updatedAt":  "2023-12-07T07:58:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5t9i3w",
                                           "createdAt":  "2023-12-07T08:02:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e Also, we should discuss what it would take to wire up a default ingress rule to expose one of the services. \n\u003e \n\u003e \n\u003e \n\u003e PS: This is very cool!\n\nThat\u0027s a good idea. Once we have container support in I could add a menu to select which services you you\u0027d like to expose, gets tricky when the service has multiple ports and you only want to select one. That\u0027s a lot of menu and a lot of user journey 😛 \n\nMaybe a public service flag in manifest?",
                                           "updatedAt":  "2023-12-07T08:02:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uKdev",
                                           "createdAt":  "2023-12-09T05:08:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODcl9HA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "VashJuan",
                                                                               "createdAt":  "2024-04-01T17:34:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Just pushed a big update\r\nThe first iteration of secret management has gone live\r\n\r\n## Secrets Management\r\n\r\nAspirate now includes built-in support for robust secret management, allowing you to easily encrypt sensitive data such as connection strings. This feature is designed to increase security and minimize vulnerabilities.\r\nRight now, i\u0027ve covered off all connection strings, including the upcoming preview 2 container connection strings, however the actual secret generation is implemented with a strategy pattern, so that its extendable to other variables as and when they get implemented.\r\n\r\n### Managing Secrets\r\n\r\nDuring the `generate` and `apply` processes, you will be prompted to input a password.\r\nThis password is used to encrypt your secrets in the secrets file, named `aspirate-secrets.json`, located in the `aspirate-output` directory.\r\n\r\n### Secrets File Contents\r\n\r\nThe secrets file contains your encrypted secrets, protected by the password entered during generation and is **safe to commit to your Git repository.**\r\nHowever, please handle this password with care. If it\u0027s lost, you\u0027ll be unable to access your encrypted secrets and you will need to use the `generate` command to create a new one.\r\n\r\n### Generating Secrets\r\n\r\nThe `generate` command provides an interactive menu during the generation process that allows you to use existing secrets, overwrite them, or update them.\r\n\r\n### Applying Secrets\r\n\r\nThe `apply` command will decrypt the secrets file and apply the secrets to the cluster, along with all the manifests.\r\n\r\n### Disabling Secret Management\r\n\r\nIf secrets are not required, the `--disable-secrets` flag can be passed to all commands to disable secret functionality.\r\nHowever, once manifests are generated with secrets included, they cannot be disabled without regenerating the manifests, as the templates themselves expect certain files in place for kustomize secret generators to execute.",
                                           "updatedAt":  "2023-12-09T05:08:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uMgUN",
                                           "createdAt":  "2023-12-09T22:51:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODPDKhQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-12-09T22:53:11Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "pjmagee",
                                           "body":  "Still learning here, would it still be possible to use k8s Operators that offer Vault integration? Like 1Password K8s Operator or Hashicorp Vault? I assume in those situations, we wouldnt use Aspirate K8s Deployments? Or... does Aspirate k8s limit us to only the Aspirate ecosystem as I would call it",
                                           "updatedAt":  "2023-12-09T22:51:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uMgkp",
                                           "createdAt":  "2023-12-09T22:56:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODPEaPg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-12-10T10:38:30Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e does Aspirate k8s limit us to only the Aspirate ecosystem as I would call it\r\n\r\nNot at all! - If you run aspirate with secrets disabled (`--disable-secrets`) all the output will consist of is pure kustomize manifests with all env variables as configMap generators within each of the subfolders kustomize files.\r\n\r\nYou are free to use those anyway you want to. Flux - ArgoCd etc\r\nIts a quick, semi automated way to move from an Aspire manifest - to a base set of kubernetes resources that you can augment with anything like Vault or sealed secrets etc\r\n\r\n\u003e I assume in those situations, we wouldnt use Aspirate K8s Deployments\r\n\r\nYou can use aspirates `build` command to keep your container images up to date and pushed, and you\u0027d probably only use the initial generated manifests as starting template for your solution, with the augments above :)\r\n\r\nAnd when working in development - inner loop, rather than going through a more catered production grade deployment, you can purely use aspirates generate and apply",
                                           "updatedAt":  "2023-12-09T22:59:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5uMwln",
                                           "createdAt":  "2023-12-10T02:35:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODT6SYg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-12-15T06:12:49Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2023-12-23T17:41:00Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "gsm1be",
                                                                               "createdAt":  "2024-01-24T13:58:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "I\u0027ve added some docs pages for general usage etc:\r\nhttps://prom3theu5.github.io/aspirational-manifests/getting-started.html",
                                           "updatedAt":  "2023-12-10T02:35:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5vXMdD",
                                           "createdAt":  "2023-12-23T18:55:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODW-Ccw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2023-12-23T19:01:28Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "iikuzmychov",
                                                                               "createdAt":  "2023-12-24T00:45:48Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "dotnet555",
                                                                               "createdAt":  "2024-01-08T13:28:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2024-01-30T06:04:34Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "Layoric",
                                                                               "createdAt":  "2024-02-16T01:11:40Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Not related to kubernetes, but had a community feature request come in this morning, so spent a few hours working through a solution\r\n\r\nRelease 0.1.27-preview: Added Docker Compose manifest generation option to Aspir8\r\n\r\nAspir8 can now generate Docker Compose deployment yaml in addition to Kubernetes. This lightweight alternative can be triggered with the \"--output-format compose\" option. Please note that when using Docker Compose, the secrets management feature will be disabled.",
                                           "updatedAt":  "2023-12-23T18:55:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5vXb7C",
                                           "createdAt":  "2023-12-24T02:10:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODQcEPw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2023-12-24T02:11:36Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "iikuzmychov",
                                           "body":  "@prom3theu5 just tried your Aspir8 with docker-compose target, and it\u0027s awesome!",
                                           "updatedAt":  "2023-12-24T02:10:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5vXb-I",
                                           "createdAt":  "2023-12-24T02:11:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Thanks a lot 😃 \nGlad it\u0027s working well for you ",
                                           "updatedAt":  "2023-12-24T02:11:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5vcmHx",
                                           "createdAt":  "2023-12-26T20:53:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "orosbogdan",
                                           "body":  "\u003e Not related to kubernetes, but had a community feature request come in this morning, so spent a few hours working through a solution\r\n\u003e \r\n\u003e Release 0.1.27-preview: Added Docker Compose manifest generation option to Aspir8\r\n\u003e \r\n\u003e Aspir8 can now generate Docker Compose deployment yaml in addition to Kubernetes. This lightweight alternative can be triggered with the \"--output-format compose\" option. Please note that when using Docker Compose, the secrets management feature will be disabled.\r\n\r\nDoes this also support volumes ? ",
                                           "updatedAt":  "2023-12-26T20:53:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5vcoU8",
                                           "createdAt":  "2023-12-26T21:16:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "Not just yet. \r\nThe underlying support is there for them with volume builders for services but I haven\u0027t implemented yet in the processors for component types. \r\n\r\nCurrently volume information isn\u0027t output to the manifest file.\r\nWe need that there in order to support them",
                                           "updatedAt":  "2023-12-30T14:28:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc5z5fgb",
                                           "createdAt":  "2024-02-14T19:23:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "crega",
                                           "body":  "Would this one help ? https://prom3theu5.github.io/aspirational-manifests/getting-started.html",
                                           "updatedAt":  "2024-02-14T19:23:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57pGHd",
                                           "createdAt":  "2024-04-24T08:21:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "\u003e I would love one of you all to help spike an implementation of a deployment tool that can take [this manifest](https://learn.microsoft.com/en-us/dotnet/aspire/deployment/manifest-format). Here\u0027s an example:\r\n\u003e \r\n\u003e https://github.com/dotnet/aspire/blob/50410e1ac8f14b5339ffbe9b2563dfff8db74ef3/samples/eShopLite/AppHost/aspire-manifest.json\r\n\u003e \r\n\u003e The idea would be to parse this and build up a model, then spit out k8s manifest or helm manifests. It would be huge step forward in understanding what we could build here!\r\n\u003e \r\n\u003e cc @brendandburns for thoughts as well.\r\n\r\n@davidfowl I\u0027m having issues with the publishing of the manifest :\u0027(  (see below)\r\n\r\n```\r\nBuild succeeded in 4.8s\r\nUnhandled exception. System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.\r\n ---\u003e System.MissingMethodException: Method not found: \u0027System.TimeSpan System.TimeSpan.FromSeconds(Int64)\u0027.\r\n   at Microsoft.Extensions.Hosting.HostOptions..ctor()\r\n   at System.RuntimeType.CreateInstanceOfT()\r\n   --- End of inner exception stack trace ---\r\n```",
                                           "updatedAt":  "2024-04-24T08:21:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57rpaw",
                                           "createdAt":  "2024-04-24T14:07:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e @davidfowl I\u0027m having issues with the publishing of the manifest :\u0027( (see below)\r\n\r\nCan you share all of the code (preferably the repository)? Also, can you show what version of dotnet and aspire you are running (`dotnet --info` and `dotnet workload list`). \r\n\r\n",
                                           "updatedAt":  "2024-04-24T14:07:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57ugIH",
                                           "createdAt":  "2024-04-24T20:29:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "@davidfowl the code is as the Aspire Starter application with non changes; I\u0027ve also ran the dotnet workload update to see if this corrected the issue; which it didn\u0027t.  aspir8 also fails due the the same exception; \r\n\r\nrunning the following \r\ndotnet new aspire-starter --use-redis-cache -o AspireApp \u003e output.txt\r\ncd AspireApp\r\ndotnet build \u003e\u003e ..\\output.txt\r\ndotnet run --project AspireApp.AppHost\\AspireApp.AppHost.csproj -- --publisher manifest --output-path ../aspire-manifest.json \u003e\u003e ..\\output.txt\r\n\r\n[output.txt](https://github.com/dotnet/aspire/files/15100035/output.txt)\r\n\r\n```\r\nC:\\Users\\ghorner2\\AspireApp\u003edotnet run --project AspireApp.AppHost\\AspireApp.AppHost.csproj -- --publisher manifest --output-path ../aspire-manifest.json \u003e\u003e ..\\output.txt\r\nUnhandled exception. System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.\r\n ---\u003e System.MissingMethodException: Method not found: \u0027System.TimeSpan System.TimeSpan.FromSeconds(Int64)\u0027.\r\n   at Microsoft.Extensions.Hosting.HostOptions..ctor()\r\n   at System.RuntimeType.CreateInstanceOfT()\r\n   --- End of inner exception stack trace ---\r\n   at System.RuntimeType.CreateInstanceOfT()\r\n   at System.Activator.CreateInstance[T]()\r\n   at Microsoft.Extensions.Options.OptionsFactory`1.CreateInstance(String name)\r\n   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)\r\n   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()\r\n   at Microsoft.Extensions.Hosting.Internal.ConsoleLifetime..ctor(IOptions`1 options, IHostEnvironment environment, IHostApplicationLifetime applicationLifetime, IOptions`1 hostOptions, ILoggerFactory loggerFactory)\r\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)\r\n   at System.Reflection.MethodBaseInvoker.InvokeWithManyArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)\r\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.Extensions.Hosting.HostBuilder.\u003c\u003ec__DisplayClass35_0.\u003cPopulateServiceCollection\u003eb__2(IServiceProvider _)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)\r\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)\r\n   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()\r\n   at Aspire.Hosting.DistributedApplicationBuilder.Build() in /_/src/Aspire.Hosting/DistributedApplicationBuilder.cs:line 178\r\n   at Program.\u003cMain\u003e$(String[] args) in C:\\Users\\ghorner2\\AspireApp\\AspireApp.AppHost\\Program.cs:line 11\r\n```",
                                           "updatedAt":  "2024-04-24T20:29:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57uhDV",
                                           "createdAt":  "2024-04-24T20:31:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Also, can you show what version of dotnet and aspire you are running (dotnet --info and dotnet workload list).\r\n\r\nCan you provide the other information?\r\n\r\n",
                                           "updatedAt":  "2024-04-24T20:31:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57uiLt",
                                           "createdAt":  "2024-04-24T20:35:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e \u003e Also, can you show what version of dotnet and aspire you are running (dotnet --info and dotnet workload list).\n\u003e \n\u003e \n\u003e \n\u003e Can you provide the other information?\n\u003e \n\u003e \n\u003e \n\u003e \n\nIt\u0027s .net 9 preview cli that was used to create the new project looking at the output.txt, probably using the net 9 workloads which are borked aren\u0027t they?\n\nI definitely haven\u0027t tested past LTS for Aspirate",
                                           "updatedAt":  "2024-04-24T20:35:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57uw-l",
                                           "createdAt":  "2024-04-24T21:14:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODfgPJw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "3GDXC",
                                                                               "createdAt":  "2024-04-25T08:57:29Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Don\u0027t use the 9.x version of aspire. Use the .NET 8 version only. We\u0027re going to be un-listing these packages \r\n\r\ncc @joperezr ",
                                           "updatedAt":  "2024-04-24T21:14:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc57yEc8",
                                           "createdAt":  "2024-04-25T09:09:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "3GDXC",
                                           "body":  "off topic: - may need to create a issue/link?\r\n@davidfowl @prom3theu5 so take away from above is aspire \u0026 aspir8 are to be used with current .NET 8.0 LTS only? and development of aspire \u0026 aspir8 should be using VS 2022 preview ? is that correct? and would there be any documentation with regards to building/testing aspire/aspir8 when creating new aspire features?",
                                           "updatedAt":  "2024-04-25T09:09:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc570deO",
                                           "createdAt":  "2024-04-25T14:31:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e @davidfowl @prom3theu5 so take away from above is aspire \u0026 aspir8 are to be used with current .NET 8.0 LTS only? and development of aspire \u0026 aspir8 should be using VS 2022 preview ? is that correct? \r\n\r\nYes\r\n\r\n\u003e and would there be any documentation with regards to building/testing aspire/aspir8 when creating new aspire features?\r\n\r\nThe docs are here https://learn.microsoft.com/en-us/dotnet/aspire/get-started/aspire-overview ",
                                           "updatedAt":  "2024-04-25T14:31:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nnlBM",
                                           "createdAt":  "2025-04-17T08:29:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhKYXA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "hahn-kev",
                                                                               "createdAt":  "2025-04-17T08:36:54Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "martincostello",
                                                                               "createdAt":  "2025-04-17T08:55:31Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "cilerler",
                                                                               "createdAt":  "2025-04-17T13:18:12Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "cilerler",
                                                                               "createdAt":  "2025-04-17T13:18:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "cilerler",
                                                                               "createdAt":  "2025-04-17T13:18:21Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2025-04-17T13:54:35Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2025-04-17T13:54:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2025-04-17T13:54:39Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "jzebedee",
                                                                               "createdAt":  "2025-04-17T15:19:13Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "maxisam",
                                                                               "createdAt":  "2025-04-17T16:00:46Z"
                                                                           },
                                                                           {
                                                                               "content":  "ROCKET",
                                                                               "user":  "maxisam",
                                                                               "createdAt":  "2025-04-17T16:00:47Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2025-04-18T07:05:48Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "DerHulk",
                                                                               "createdAt":  "2025-04-25T18:27:09Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "maxisam",
                                                                               "createdAt":  "2025-05-02T19:04:06Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "clazarr",
                                                                               "createdAt":  "2025-05-02T19:22:36Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "abbottdev",
                                                                               "createdAt":  "2025-05-16T08:22:14Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "DerErsteGrueneVogel",
                                                                               "createdAt":  "2025-06-18T09:18:24Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "SalomonHenke",
                                                                               "createdAt":  "2025-07-04T11:47:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "maxle5",
                                                                               "createdAt":  "2025-08-04T16:34:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "tjwald",
                                                                               "createdAt":  "2025-08-19T15:57:44Z"
                                                                           },
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "PadreSVK",
                                                                               "createdAt":  "2025-09-06T13:49:35Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "PadreSVK",
                                                                               "createdAt":  "2025-09-06T13:49:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  22
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Hey, all I wanted to give an update since this is one of the most commented on issues in the repository!\n\nWe’ve been working closely with [Dave Sekula](https://github.com/prom3theu5), the author of [aspirational-manifests](https://github.com/prom3theu5/aspirational-manifests), to bring native Kubernetes support directly into .NET Aspire. As of Aspire 9.2, we’ve introduced an experimental publisher model, and the first version of the Kubernetes publisher is now available via the [Aspire.Hosting.Kubernetes](https://www.nuget.org/packages/Aspire.Hosting.Kubernetes) package.\n\nIt’s still *very* early, and we’re actively looking for feedback to help shape the direction. The current implementation uses Helm for templating, doesn’t yet support ingress or the Aspire dashboard, but it lays a strong foundation for future capabilities.\n\nWe’re excited to keep evolving this with Dave and the rest of the community.\n\nThanks again for using Aspire and for helping us push it forward!\n",
                                           "updatedAt":  "2025-04-17T08:29:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6psolH",
                                           "createdAt":  "2025-05-02T12:04:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEQnpGg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "pjmagee",
                                                                               "createdAt":  "2025-05-02T15:51:59Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "clazarr",
                                                                               "createdAt":  "2025-05-02T19:22:26Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "hewe-saxo",
                                           "body":  "Hi @davidfowl , not sure if this is the right place for giving feedback, but here it goes :)\n\nThe Aspire.Hosting.Kubernetes model looks great. Implementing a custom publisher seems straight forward and this model provides much more flexibility than processing the manifest format. Being able to use PublishAsKubernetesService() and being able to tweak the underlying Kubernetes resources is a must for us (custom annotations, spread constraints etc.). Having this as a typed C# model makes learning and configuring Kubernetes a lot more palatable for our developers.\n\nJust for a little context, at the company I work for, we are currently managing the deployment of ~100 services to Kubernetes with our internally developed helm (\"library\") chart. There are some limitations in the Helm templating engine, along with a limited amount of people being comfortable with the technology, that makes this far from ideal. We would like to replace this with Aspire and, once Aspire.Hosting.Kubernetes matures, are planning on shipping an internal NuGet package which contains some extension methods to IDistributedApplication, IResourceBuilder, etc. to provide some opinionated defaults for our developers. \n\nHere are some features that would be great to get either guidance for or (ideally) find support in the Aspire.Hosting.Kubernetes package.\n\n- Ingress (and GatewayAPI going forward)\n- Network Policies\n- Sealed Secrets\n- Support for custom CRDs - ideally we would be able to create our own custom classes that can be serialized and written into their own yaml files inside the generated chart (perhaps KubernetesResource:GetTemplatedResources() can be extended to allow this?)\n- Generate additional values.ENVIRONMENT.yaml files to allow environment specific configuration (Flux\u0027s HelmRelease has a valuesFiles configuration that can make use of this)",
                                           "updatedAt":  "2025-05-02T12:04:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pztJ5",
                                           "createdAt":  "2025-05-04T01:48:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@hewe-saxo That\u0027s great feedback! There are [changes coming to the model](https://github.com/dotnet/aspire/issues/9089) this is why we\u0027re still in preview.\n\n\u003e We would like to replace this with Aspire and, once Aspire.Hosting.Kubernetes matures, are planning on shipping an internal NuGet package which contains some extension methods to IDistributedApplication, IResourceBuilder, etc. to provide some opinionated defaults for our developers.\n\n👍🏾 This is *exactly* what we want teams to do! (https://medium.com/@davidfowl/bridging-the-gap-the-future-of-aspire-6eb421a92ab8)\n\n\u003e Here are some features that would be great to get either guidance for or (ideally) find support in the Aspire.Hosting.Kubernetes package.\n\nWhat exactly are you looking for here? I think that would help us get a better understanding of what we need to expose. ",
                                           "updatedAt":  "2025-05-04T01:48:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qGLFc",
                                           "createdAt":  "2025-05-06T08:46:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEWbCZw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2025-05-07T07:12:02Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "theLeftTenant",
                                                                               "createdAt":  "2025-06-03T17:39:57Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Dona278",
                                                                               "createdAt":  "2025-06-12T19:38:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "hewe-saxo",
                                           "body":  "Great blog post series! It really hits the nail on the head with regards to some \"areas of improvement\" we currently experience with enabling developers to deploy their services to our Kubernetes platform.\n\nMy TLDR wishlist would be something like this. Below I\u0027m trying to give a little more context and expand on how this would help us.\n\n- KubernetesResource.Workload instead of Deployment and StatefulSet\n- KubernetesResource.Resources list for adding additional BaseKubernetesResources\n- Callback/plugin mechanism to enrich KubernetesResource from original ProjectResource on DistributedApplication build\n\n\nAs mentioned, we have tried to build an abstraction layer over our internal Kubernetes platform via our Helm Chart. When building out a Kubernetes platform, you often want to install extra components to expand the core capabilities, like service meshes, certificate handling, storage solutions, secret management, scaling, etc. Often there will be choice between components, and each of these components will have their own custom API. We have found this to be especially challenging when trying to provide a stable abstraction to our developers.\n\nFor **workloads**, the KubernetesResource class can currently provisioning workloads as either a Deployment or StatefulSet. A workload might also be a Job or a CronJob, but it can only be one of those things. The litmus test would be to allow consumers to provide their own workload type (which isn\u0027t Deployment, Statefulset, Job or CronJob). For example ArgoRollouts are provided by a third-party component and have some benefits over the vanilla Kubernetes workload types. My suggestion would be to expose a single property called Workload in KubernetesResource, instead of exposing Deployment and StatefulSet directly. All of these workload types make use of the PodTemplateSpec, which would still allow configuring all container related options in a generic way.\n\nKubernetesResource currently is very opinionated on what Kubernetes objects a single workload has associated. It has one secret, one configmap, one service. Instead, I would suggest exposing a list of BaseKubernetesResources. This would make it possible to add multiple secrets, services and/or configmaps (we have use-cases for all of these :) ). It would also allow adding **additional Kubernetes objects** (vanilla and third-party), like KedaScaler, PodDistributionBudgets, multiple ingresses, secretProviders, certificates, minio resources, etc.\n\nFor networking, we might use a service mesh like linkerD, cilium, istio, or perhaps no service mesh at all. Each of these will have their own concepts for authorizing service-to-service communication and may or may not use vanilla Kubernetes network policies. We of course don\u0027t want our developers to be aware of this distinction and generate the appropriate resources based on WithReference() calls, if possible. If Aspire.Hosting.Kubernetes becomes too opinionated, like assuming that everyone is using vanilla network policies and implements this in a private method, we would lose the flexibility to control what networking stack to target. Ideally we would have the ability to **register callbacks** that are invoked when building the DistributedApplication, that would allow enriching the KubernetesResource based on the IResourceCollection. This almost sounds like mini-publishers inside the Kubernetes publisher..\nWe probably want to be able to access the entire IResourceCollection, as in many cases we would need to add objects to the server application that whitelist the client(s) that have taken a WithReference(). This would not only apply to networking, but also ingress (nginx, traefik, etc.) and secret management (SealedSecrets, other CSI driver providers, etc.) and probably a couple of others.",
                                           "updatedAt":  "2025-05-06T08:46:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qLI0S",
                                           "createdAt":  "2025-05-06T15:34:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOERAm8g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2025-05-06T16:50:58Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "CosminSontu",
                                           "body":  "\n\u003e Here are some features that would be great to get either guidance for or (ideally) find support in the Aspire.Hosting.Kubernetes package.\n\u003e \n\u003e * Ingress (and GatewayAPI going forward)\n...\n\nIt would be amazing if there would be a Yarp based implementation of Gateway API supporting at least L7 routes...\nHTTPRoute, GrpcRoute and TLSRoute.\n\nKubernetes Ingress is about to become obsolete.\n",
                                           "updatedAt":  "2025-05-06T15:34:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qMDhL",
                                           "createdAt":  "2025-05-06T16:53:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOERUL3w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "hewe-saxo",
                                                                               "createdAt":  "2025-05-08T11:23:37Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "prom3theu5",
                                           "body":  "\u003e \n\u003e \u003e Here are some features that would be great to get either guidance for or (ideally) find support in the Aspire.Hosting.Kubernetes package.\n\u003e \u003e \n\u003e \u003e * Ingress (and GatewayAPI going forward)\n\u003e ...\n\u003e \n\u003e It would be amazing if there would be a Yarp based implementation of Gateway API supporting at least L7 routes...\n\u003e HTTPRoute, GrpcRoute and TLSRoute.\n\u003e \n\u003e Kubernetes Ingress is about to become obsolete.\n\u003e \n\nAgreed we should have gateway support. But in line with also supplying ingress. Ingress isn\u0027t going to become deprecated before 1.40 probably imho (hypothetical high version pulled out of thin air 👅 )\nGateway adoption rate isn\u0027t high enough for that 😃 \n\n",
                                           "updatedAt":  "2025-05-06T16:53:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qTU_m",
                                           "createdAt":  "2025-05-07T06:16:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOER_8gg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "prom3theu5",
                                                                               "createdAt":  "2025-05-07T07:14:33Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "bbqchickenrobot",
                                                                               "createdAt":  "2025-05-13T22:35:46Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@hewe-saxo That is really awesome (detailed) feedback! I think you @prom3theu5 and the rest of the team should get together and do a deep dive with you and work out these API changes. We can start with these changes (or you can open up a PR) and it would be good to see exactly how you are using it. Generally, our opinions are starting points that you can override, the intent isn\u0027t to block you from making those types of changes.\n\nPS: This will help us build a much more useful API for a broad set of cases and your experience trying to build an internal developer platform will be invaluable.",
                                           "updatedAt":  "2025-05-07T06:16:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qoVtz",
                                           "createdAt":  "2025-05-08T11:23:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hewe-saxo",
                                           "body":  "@davidfowl thank you for building such an open platform! I would be very happy to take a deep dive on this and/or contribute PRs as well. I have reached out to you on linkedIn and updated my GitHub profile with some contact information and my timezone as well.",
                                           "updatedAt":  "2025-05-08T11:23:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6sydh2",
                                           "createdAt":  "2025-05-21T18:47:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "aland-semperis",
                                           "body":  "Was just trying this out today. It is really nice so far. But got stuck trying to add an ingressClassName.\n",
                                           "updatedAt":  "2025-05-21T18:47:21Z"
                                       }
                                   ],
                         "totalCount":  127
                     },
        "title":  "Full support for Kubernetes Deployment",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/1821",
        "createdAt":  "2024-01-24T15:40:49Z",
        "number":  1821,
        "author":  "takashiuesaka",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:40:46Z",
        "body":  "At this point, it seems that there is no support to deploy .NET Aspire App to Azure Deployment Environments(ADE) by Azure Developer CLI.\r\n\r\nIt would be very useful if developers could deploy the .NET Aspire App to Azure environments created and managed by ADE.\r\n\r\nPerhaps this suggestion should be written in the Azure Developer CLI issue.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOcgyCvQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5yDIK9",
                                           "createdAt":  "2024-01-28T02:42:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is out of scope for v1.",
                                           "updatedAt":  "2024-01-28T02:42:36Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[Suggestion]Support Azure Deployment Environments as .NET Aspire app deployment target",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2711",
        "createdAt":  "2024-03-07T15:20:22Z",
        "number":  2711,
        "author":  "timheuer",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODBMcCA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rudiv",
                                            "createdAt":  "2024-03-17T10:26:01Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "kzu",
                                            "createdAt":  "2024-04-30T18:35:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "kjbetz",
                                            "createdAt":  "2024-08-18T16:24:30Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "krafs",
                                            "createdAt":  "2024-12-11T17:34:07Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tyson-benson",
                                            "createdAt":  "2025-02-21T01:59:03Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "vyliniem",
                                            "createdAt":  "2025-03-12T13:14:03Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jmlane",
                                            "createdAt":  "2025-04-14T19:00:09Z"
                                        }
                                    ],
                          "totalCount":  7
                      },
        "updatedAt":  "2025-02-15T01:40:56Z",
        "body":  "As some front-end apps get added for AppHost orchestration and thus also deployment, currently Dockerfile is the recommended (only?) approach. This will translate into a container resource for deployment manifest.\r\n\r\nWe should consider how to model specifically SPA-type front-ends in the AppHost that also would translate to new deployment endpoints more tailored to static web apps like storage, Azure SWA, etc.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOiM_FEw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6Iz8UT",
                                           "createdAt":  "2024-08-18T16:27:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kjbetz",
                                           "body":  "I agree. I\u0027m working on a current project that I would like to deploy an Angular SPA to an Azure Static Web App. The API deploying as a Container App and the DB provisioned as Postgres Flexible Server should be good. Would love to see this picked up.\r\n\r\nOr/And also another scenario maybe... being able to build frontend and put into public folder of web app before it gets built and deployed as Azure Container App.",
                                           "updatedAt":  "2024-08-18T16:27:21Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Consider deployment story for static web apps/spa",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/2866",
        "createdAt":  "2024-03-13T22:04:00Z",
        "number":  2866,
        "author":  "christiannagel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQbw6Q==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "PascalSenn",
                                            "createdAt":  "2024-04-13T21:02:00Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "sunghwan2789",
                                            "createdAt":  "2024-05-12T00:33:04Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "laped",
                                            "createdAt":  "2024-05-28T20:20:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Fazer01",
                                            "createdAt":  "2024-07-26T12:03:53Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "szv",
                                            "createdAt":  "2024-08-16T07:26:55Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "taras2k",
                                            "createdAt":  "2024-10-12T06:47:03Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "eerhardt",
                                            "createdAt":  "2024-11-06T17:55:38Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Kieranties",
                                            "createdAt":  "2025-05-12T19:01:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "msexxeta",
                                            "createdAt":  "2025-07-03T12:04:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "fayezosaadi",
                                            "createdAt":  "2025-09-14T20:24:04Z"
                                        }
                                    ],
                          "totalCount":  10
                      },
        "updatedAt":  "2025-06-02T09:36:57Z",
        "body":  "The new database migrations sample uses a separate project to start the EF Core migration: https://github.com/dotnet/aspire-samples/tree/main/samples/DatabaseMigrations\r\n\r\nThis will start another Azure container app. It would be great to have support for \"init containers\" with Azure Container Apps. These would run in the same app initializing before:\r\nhttps://learn.microsoft.com/en-us/azure/container-apps/containers#init-containers\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnury7A==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6GREKG",
                                           "createdAt":  "2024-07-26T12:05:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Fazer01",
                                           "body":  "+1 Following because we would love to also see this to be supported within Aspire",
                                           "updatedAt":  "2024-07-26T12:05:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6HDp6J",
                                           "createdAt":  "2024-08-02T17:57:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "CZEMacLeod",
                                           "body":  "This feels like the [WaitFor](https://github.com/davidfowl/WaitForDependenciesAspire) project could be used to at least handle the spin up ordering. Not sure about spinning it down on completion though.",
                                           "updatedAt":  "2024-08-02T17:57:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6NpMjB",
                                           "createdAt":  "2024-09-26T09:08:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD1aY8g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "christiannagel",
                                                                               "createdAt":  "2024-10-09T13:18:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "rosieks",
                                           "body":  "In my case I would like to setup grafana, but first I have to download some plugins. Having init containers or some other ways to automate downloading that would be really great.",
                                           "updatedAt":  "2024-09-26T09:08:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6e6vLs",
                                           "createdAt":  "2025-02-18T16:18:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Valkozaur",
                                           "body":  "This will be awesome feature.",
                                           "updatedAt":  "2025-02-18T16:18:34Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Add support for Azure Container Apps \"init containers\"",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3121",
        "createdAt":  "2024-03-23T05:46:20Z",
        "number":  3121,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHOC7ouwA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "wwalendz-relativity",
                                            "createdAt":  "2024-10-07T23:39:45Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-01T07:21:55Z",
        "body":  "Starting a bit of an API design conversation for us to consider prior to GA, but probably to implement post GA in a servicing release. At the moment when you add an Azure resource like the following:\r\n\r\n```\r\nbuilder.AddSqlServer(\"sql\").AsAzureSqlDatabase();\r\n```\r\n\r\n... you get our interpretation of what the ideal (but basic) Azure SQL deployment should be for use with Aspire. However what is ideal will change over time based on the capabilities in Aspire itself, but also how the resource changes over time.\r\n\r\nSo how can we account for this drift? We can\u0027t just simply update the default CDK calls we make especially if they are incompatible with the previous infrastructure. We need a way to capture snapshots of the various versions of the infrastructure that we\u0027ve used over time as well as mappings between them.\r\n\r\nMy proposal is lean into CDKs ability to create a single class that defines the structure of some infrastructure and use it as the argument for the CDK callback. For example we might have a pattern that looks like this:\r\n\r\n```csharp\r\npublic abstract class AzureSqlResourceModuleConstruct : ResourceModuleConstruct\r\n{\r\n  // Expose properties for things this resource type needs.\r\n}\r\n\r\npublic class TheAspireGAAzureSqlresourceModuleConstruct : AzureSqlResourceModuleConstruct\r\n{\r\n  // Move code construct code that defines base infrastructure from PublishAs method to here.\r\n}\r\n\r\npublic static IResourceBuilder\u003cSqlServerServerResource\u003e AsAzureSqlDatabase(this IResourceBuilder\u003cSqlServerServiceResource\u003e builder){\r\n  // The Aspire 8.0 version of the infra is the default.\r\n  return builder.AsAzureSqlDatabase\u003cTheAspireGAAzureSqlresourceModuleConstruct\u003e();\r\n}\r\n\r\npublic static IResourceBuilder\u003cSqlServerServerResource\u003e AsAzureSqlDatabase\u003cT\u003e(this IResourceBuilder\u003cSqlServerServerResource\u003e builder, Action\u003cT\u003e configureResource) where T: AzureSqlResourceModuleConstruct, new()\r\n{\r\n   var construct = new T();\r\n   configureResource(construct);\r\n}\r\n```\r\n\r\nI think this neatly solves a few things. It gives us a way of describing flavors of infrastructure (so its possible for people to define way more complex variations of the infrastructure as long as they inherit from our base resourcemoduleconstruct for that particular resource type. It also dramatically simplifies the callback for each resource ... the construct itself would act kind of like a resource specific callback context which could be extended over time (and because its generic, its shape can change dramatically).\r\n\r\nFinally I think that this could also be used to handle breaking changes in infrastructure. Lets say that the way we defined SQL Resources in .NET Aspire 8.0 GA turns out to be something that we want to encourage people to change. We could introduce a code analysis rules that tells people they should use the overload with a type parameter and what variant of the construct they should use.\r\n\r\nWe could even have \"upgrade constructs\" that could potentially handle inplace upgrades.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOjp4xmg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc54L0eZ",
                                           "createdAt":  "2024-03-23T05:46:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "/cc @davidfowl @tg-msft @JoshLove-msft ",
                                           "updatedAt":  "2024-03-23T05:46:54Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc54VILC",
                                           "createdAt":  "2024-03-25T19:58:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "tg-msft",
                                           "body":  "Tracking this for `Azure.Provisioning` at https://github.com/Azure/azure-sdk-for-net-pr/issues/2091",
                                           "updatedAt":  "2024-03-25T19:58:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRJzO",
                                           "createdAt":  "2024-09-08T03:24:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This feels important to consider for 9 as part of https://github.com/dotnet/aspire/issues/5583 @eerhardt ",
                                           "updatedAt":  "2024-09-08T03:24:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Onin2",
                                           "createdAt":  "2024-10-04T03:39:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "I think this now goes to backlog?",
                                           "updatedAt":  "2024-10-04T03:39:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OnjGa",
                                           "createdAt":  "2024-10-04T03:42:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yea, we\u0027re not going to get to this in 9. ",
                                           "updatedAt":  "2024-10-04T03:42:11Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Infrastructure versioning with CDK callbacks",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/3544",
        "createdAt":  "2024-04-09T23:11:22Z",
        "number":  3544,
        "author":  "pedershk",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:41:05Z",
        "body":  "When trying to start a project with an Azure SignalR resource defined, provisioning fails. I\u0027m able to use the Connected Services-\u003e Azure Resource Provisioning settings to set Subscription Name, Location and Resource group, and all three are correctly defined in my user secrets after. \r\n\r\nWhen starting projects, resource provisioning fails with:\r\n\r\n```\r\nError provisioning signalr.\r\nAzure.RequestFailedException: The client \u0027REDACTED@microsoft.com\u0027 with object id \u0027REDACTED\u0027 does not have authorization to perform action \u0027Microsoft.Resources/subscriptions/read\u0027 over scope \u0027/subscriptions/REDACTED\u0027 or the scope is invalid. If access was recently granted, please refresh your credentials.\r\nStatus: 403 (Forbidden)\r\nErrorCode: AuthorizationFailed\r\n\r\nContent:\r\n{\"error\":{\"code\":\"AuthorizationFailed\",\"message\":\"The client \u0027REDACTED@microsoft.com\u0027 with object id \u0027REDACTED\u0027 does not have authorization to perform action \u0027Microsoft.Resources/subscriptions/read\u0027 over scope \u0027/subscriptions/REDACTED\u0027 or the scope is invalid. If access was recently granted, please refresh your credentials.\"}}\r\n\r\nHeaders:\r\nCache-Control: no-cache\r\nPragma: no-cache\r\nx-ms-failure-cause: REDACTED\r\nx-ms-request-id: 78621442-aabe-4b16-9184-abe111313da2\r\nx-ms-correlation-request-id: REDACTED\r\nx-ms-routing-request-id: REDACTED\r\nStrict-Transport-Security: REDACTED\r\nX-Content-Type-Options: REDACTED\r\nDate: Tue, 09 Apr 2024 23:07:50 GMT\r\nConnection: close\r\nContent-Type: application/json; charset=utf-8\r\nExpires: -1\r\nContent-Length: 384\r\n\r\n   at Azure.ResourceManager.Resources.SubscriptionsRestOperations.GetAsync(String subscriptionId, CancellationToken cancellationToken)\r\n   at Azure.ResourceManager.Resources.SubscriptionResource.GetAsync(CancellationToken cancellationToken)\r\n   at Azure.ResourceManager.ArmClient.GetDefaultSubscriptionAsync(CancellationToken cancellationToken)\r\n   at Aspire.Hosting.Azure.AzureProvisioner.GetProvisioningContextAsync(Lazy`1 userSecretsLazy, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Azure/Provisioning/Provisioners/AzureProvisioner.cs:line 337\r\n   at Aspire.Hosting.Azure.AzureProvisioner.ProcessResourceAsync(IConfiguration configuration, Lazy`1 provisioningContextLazy, IAzureResource resource, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Azure/Provisioning/Provisioners/AzureProvisioner.cs:line 265\r\n```\r\n\r\nThis subscription is in a tenant where my Entra ID is a Member guest account.\r\n\r\naz cli, azd, portal, all other ways to access it works, and I do in fact have the neccessary permissions. The Azure Resource provisioning setup mentioned above is also able to create a new resource group on the subscription.\r\n\r\nI\u0027ve tried setting an Azure:Tenant secret to both tenant id and tenant fqdn as well, to no avail.\r\n\r\nWhen deploying to my primary tenant, everything works.\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOef9zAQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc559kTo",
                                           "createdAt":  "2024-04-09T23:12:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "@pedershk Can you share the VS version you have? And in VS do you have multiple identities logged in?",
                                           "updatedAt":  "2024-04-09T23:12:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559lNy",
                                           "createdAt":  "2024-04-09T23:16:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pedershk",
                                           "body":  "\u003e @pedershk Can you share the VS version you have? And in VS do you have multiple identities logged in?\r\n\r\n17.10.0 Preview 3.\r\n\r\nOnly one Entra Identity - Microsoft.com AAD account, as well as my GitHub account:\r\n![image](https://github.com/dotnet/aspire/assets/667361/cb5cf0de-8328-4525-8e9f-507228879142)\r\n\r\nThe account is a member of four tenants in total, the default tenant and three additional tenants.\r\n\r\nDeploying to primary/default tenant works.\r\n",
                                           "updatedAt":  "2024-04-09T23:17:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559l8m",
                                           "createdAt":  "2024-04-09T23:20:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "Thank you for this @pedershk -- @anvillan could we be using the wrong auth token?\r\n\r\n@pedershk when you use `azd account show` is it showing the right tenant as the default, etc.?",
                                           "updatedAt":  "2024-04-09T23:20:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559mnQ",
                                           "createdAt":  "2024-04-09T23:24:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pedershk",
                                           "body":  "\u003e Thank you for this @pedershk -- @anvillan could we be using the wrong auth token?\r\n\u003e \r\n\u003e @pedershk when you use `azd account show` is it showing the right tenant as the default, etc.?\r\n\r\nI assume you mean `azd config show` since there is no `azd account show`(at least in azd 1.8.0). The output doesn\u0027t show a tenant at all:\r\n\r\n```\r\n{\r\n  \"alpha\": {\r\n    \"infraSynth\": \"on\",\r\n    \"resourceGroupDeployments\": \"on\"\r\n  },\r\n  \"defaults\": {\r\n    \"location\": \"norwayeast\",\r\n    \"subscription\": \"REDACTED\"\r\n  }\r\n}\r\n```",
                                           "updatedAt":  "2024-04-09T23:24:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559nA3",
                                           "createdAt":  "2024-04-09T23:26:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "Sorry yeah I meant `az account show`\r\n\r\nAnd also in VS, is this matching your \u0027default tenant\u0027:\r\n![image](https://github.com/dotnet/aspire/assets/4821/b35f400a-7d05-4b60-9ba9-9744a4cdb14b)\r\n",
                                           "updatedAt":  "2024-04-09T23:26:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc559oPM",
                                           "createdAt":  "2024-04-09T23:33:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODdnYnQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "timheuer",
                                                                               "createdAt":  "2024-04-09T23:33:48Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "pedershk",
                                           "body":  "`az account show` shows the guest tenant that I\u0027m trying to deploy to as my homeTenantId, and my default tenant under \"managedByTenants\". The subscription I\u0027m trying to deploy to is the selected subscription.\r\n\r\nYes, the Default Tenant is correct (the MS home tenant).\r\n",
                                           "updatedAt":  "2024-04-09T23:33:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55-Zc7",
                                           "createdAt":  "2024-04-10T02:41:59Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "timheuer",
                                           "body":  "@pedershk Wondering if you can try something for us.  In the AppHost appsettings.json (or in user secrets), change the credential source:\r\n\r\n```json\r\n\"Azure\": {\r\n  \"CredentialSource\": \"VisualStudio\"\r\n}\r\n```\r\n\r\nNote: Other options: AzureCli, AzurePowerShell, VisualStudioCode, AzureDeveloperCli, InteractiveBrowser",
                                           "updatedAt":  "2024-04-10T02:41:59Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55_PJP",
                                           "createdAt":  "2024-04-10T06:25:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pedershk",
                                           "body":  "\u003e @pedershk Wondering if you can try something for us. In the AppHost appsettings.json (or in user secrets), change the credential source:\r\n\u003e \r\n\u003e ```json\r\n\u003e \"Azure\": {\r\n\u003e   \"CredentialSource\": \"VisualStudio\"\r\n\u003e }\r\n\u003e ```\r\n\u003e \r\n\u003e Note: Other options: AzureCli, AzurePowerShell, VisualStudioCode, AzureDeveloperCli, InteractiveBrowser\r\n\r\nSetting it to `AzureCli` worked for deploying the resources. The resources are fully deployed. The az cli has the tenant/subscription I\u0027m using here currently set as its defaults. But its still strange - as the Visual Studio UI seems to be able to interact with the tenant/subscription combo in question just fine. Setting the credential source to `VisualStudio`, however, does not work.\r\n\r\nUpdate : _deployment_ now works, but when attempting to _use_ the resource (which I\u0027m able to do with deployment to my primary tenant), the Azure SignalR resource errors out due to access errors:\r\n```\r\n2024-04-10T08:30:40.9737046 info: Microsoft.Azure.SignalR.ServiceConnection[2]\r\n      Failed to connect to \u0027(Primary)https://signalrq6a2wo5bjbuou.service.signalr.net/(hub=ComponentHub)\u0027, will retry after the back off period. Error detail: The server returned status code \u0027403\u0027 when status code \u0027101\u0027 was expected.. The server returned status code \u0027403\u0027 when status code \u0027101\u0027 was expected.. Id: b0df0686-cd08-4428-9df6-14eabccf4237\r\n2024-04-10T08:30:41.0280853 info: Microsoft.Azure.SignalR.Connections.Client.Internal.WebSocketsTransport[6]\r\n      Transport is stopping.\r\n2024-04-10T08:30:41.0281775 info: Microsoft.Azure.SignalR.Connections.Client.Internal.WebSocketsTransport[6]\r\n      Transport is stopping.\r\n```\r\n\r\nWhen deploying to my primary/home tenant, without setting the `Azure:CredentialSource`, the deployed resources work correctly.\r\n\r\n```\r\n2024-04-10T08:34:45.8359984 info: Microsoft.Azure.SignalR.AadAccessKey[3]\r\n      Succeed in authorizing AccessKey for \u0027https://signalrid5nwhvxc3tw2.service.signalr.net/api/v1/auth/accessKey\u0027;\r\n2024-04-10T08:34:46.3058120 info: Microsoft.Azure.SignalR.Connections.Client.Internal.WebSocketsTransport[1]\r\n      Starting transport. Transfer mode: Binary. Url: \u0027wss://signalrid5nwhvxc3tw2.service.signalr.net/server/?hub=componenthub\u0026cid=76e45d4c-b759-49fd-b569-44e39e5841c2\u0027.\r\n```\r\n\r\nLet me know if you\u0027d like to me to test further on this for any fixes to how the feature behaves prior to P6/GA.\r\n",
                                           "updatedAt":  "2024-04-10T06:54:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc55_3MB",
                                           "createdAt":  "2024-04-10T07:50:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODds3Yw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "oising",
                                                                               "createdAt":  "2024-04-10T14:30:06Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "When you run with the az cli credentials, it\u0027s likely that your runtime code also needs to change to do the same thing (the aspire component needs to set the right TokenCredential).\r\n\r\ncc @tg-msft ",
                                           "updatedAt":  "2024-04-10T07:50:05Z"
                                       }
                                   ],
                         "totalCount":  9
                     },
        "title":  "Azure Provisioning fails on secondary tenant",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4341",
        "createdAt":  "2024-05-30T18:57:01Z",
        "number":  4341,
        "author":  "KFKMan",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:41:24Z",
        "body":  "-Deploying to multiple servers via SSH+local (and sharing deployed database)\r\n-Auto Control Other Servers (example; if any of them crash deploy to another server, show error on dashboard... etc)\r\n-Create and Control Master-Slave databases (if Master crashed change Master)\r\n\r\nAPI example;\r\n\r\nbuilder.AddPostgres().AsShared().WithMasterSlave(masterservers, slaveservers, autochangemasterifcrashed)\r\n\r\nbuilder.Build().DeplopAllTo(Servers); =\u003e deploy all of them to multiple servers\r\n\r\n\r\n\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOf8YzuQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc5_xjO5",
                                           "createdAt":  "2024-06-02T04:48:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Leaving this in the \"cool ideas\" bucket, but we\u0027re not going to invest in this in the short term.",
                                           "updatedAt":  "2024-06-02T04:48:08Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Deploy on Multiple Server with Control, Master-Slave database support",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4405",
        "createdAt":  "2024-06-06T10:51:34Z",
        "number":  4405,
        "author":  "hjrb",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:41:28Z",
        "body":  "Hi,\r\n\r\nusing \r\n```c#\r\nvar sqlServer = builder\r\n\t.AddSqlServer(\"somesqlservername\")\r\n\t.PublishAsAzureSqlDatabase()\r\n;\r\nvar sqlDb = sqlServer\r\n\t.AddDatabase(\"somedbresourcename\", \"**DB_NAME_WITH_UNDERSCORE**\")\r\n\r\n``` \r\nwill cause an issue.\r\nDB_NAME_WITH_UNDERSCORE will be converted into DBNAMEWITHUNDERSCORE at deployment.\r\nBut the generated Db connection string will still reference the original name \"DB_NAME_WITH_UNDERSCORE\"\r\nThis will cause the connection to fail.\r\nI\u0027m sure there are more restrictions regarding names of Azure resources. Length, case, valid characters, uniqness...\r\n\r\nI would suggest introducing more non primitive types that validate names according to Azure rules.\r\nsee attachment for a proposal\r\n[AspireNames.txt](https://github.com/user-attachments/files/15613872/AspireNames.txt)\r\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOi1C3vA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ARO_s",
                                           "createdAt":  "2024-06-06T10:53:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hjrb",
                                           "body":  "why can I not upload file with extension *.cs. That is crappy.",
                                           "updatedAt":  "2024-06-06T10:53:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRLDQ",
                                           "createdAt":  "2024-09-08T03:53:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We don\u0027t want to bake azure specific restrictions into the model until we know you are going to azure. Are these characters generally restricted in SQL server.",
                                           "updatedAt":  "2024-09-08T03:53:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6LULe8",
                                           "createdAt":  "2024-09-09T07:20:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "hjrb",
                                           "body":  "\u003e\u003e Are these characters generally restricted in SQL server.\r\nNo. SQL on premise allows _ as part of the DB name. IDK why this is restricted on Azure",
                                           "updatedAt":  "2024-09-09T07:20:34Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Validate Sql database names that will get converted at deployment",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "sqlserver",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/4733",
        "createdAt":  "2024-07-01T06:35:50Z",
        "number":  4733,
        "author":  "joseph-hungerman",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQ_KhQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2024-08-26T11:46:43Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "omarceloribeiro",
                                            "createdAt":  "2025-02-02T22:01:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "RyoukoKonpaku",
                                            "createdAt":  "2025-09-16T16:08:17Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-06-02T09:36:59Z",
        "body":  "I have deployed a .NET8 Aspire solution to ACA. The complete solution consists of 6 projects:  prometheus container, grafana container, redis container, Blazor Web App, 2 Web APIs. The 2 web APIS leverage gRPC to communicate. When running the solution locally everything works as expected. After deploying to ACA, the application fails. When I have all of the .NET containers set to a transport of http2, the application will not startup giving a protocol error. When switching the Blazor app to auto, it the protocol error gets pushed down to the first API it calls. If I set every .NET container to auto, I get an error stating that HTTP/1.1 requests are not allowed to a gRPC service. All 3 .NET containers need to handle both http1.1 and http2 requests.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOnMEhlA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6LRMMe",
                                           "createdAt":  "2024-09-08T04:15:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We ran into many of the gRPC quirks and differences when running locally and on ACA while writing our initial sample. If you want  handle http/1.1 and http/2 on the same port then you need to use https.\r\n\r\nCan you share the apphost code? Are you cohosting grpc and http APIs in the same application?",
                                           "updatedAt":  "2024-09-08T04:15:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cvlhb",
                                           "createdAt":  "2025-02-03T01:52:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "omarceloribeiro",
                                           "body":  "same problem here. Api and grpc in the same application. tried many things. \ntried to enable https directly in the project startup, passing a dev certificate, but doing this the container app cant communicate with internal api instance.\n\n\n\u003e We ran into many of the gRPC quirks and differences when running locally and on ACA while writing our initial sample. If you want handle http/1.1 and http/2 on the same port then you need to use https.\n\u003e \n\u003e Can you share the apphost code? Are you cohosting grpc and http APIs in the same application?\n\nplease, how to implement this solution?",
                                           "updatedAt":  "2025-02-03T01:52:20Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cwSGU",
                                           "createdAt":  "2025-02-03T04:42:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "omarceloribeiro",
                                           "body":  "I gave up trying to make this work.\nJust created a different project for the grpc endpoints, using the template ASP.NET Core gRPC Service.\ncalled the services from the application project published. it worked in the first time. no errors. no issues with http2.\n\njust configure the grpc projetct on Aspire like this:\n```\nvar project = builder\n    .AddProject\u003cYour_gRPC_Project\u003e(\"yourgrpcprojet\", launchProfileName)\n    .WithReference(dbResouce)\n    .WithExternalHttpEndpoints()\n    .AsHttp2Service(); \n```\n\n\n\n",
                                           "updatedAt":  "2025-02-06T03:17:24Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  ".NET Aspire application deployed to Azure Container App does not communicate over HTTP/2",
        "labels":  [
                       "documentation",
                       "azure",
                       "area-deployment",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5178",
        "createdAt":  "2024-08-05T14:31:16Z",
        "number":  5178,
        "author":  "vamsitp",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-03T20:32:22Z",
        "body":  "### Is there an existing issue for this?\n\n- [X] I have searched the existing issues\n\n### Describe the bug\n\nIf we set the ASPNETCORE_ENVIRONMENT environment variable manually, it gets overridden in the subsequent deployments (versions). Is there a way to make it sticky without involving `infra synth` (Bicep)?\r\n\r\n![image](https://github.com/user-attachments/assets/f0fe583a-181e-4716-9323-c1cfb495ac65)\r\n\r\n**PS:** We tried using a custom build-configuration (e.g. to STAGING_RELEASE) to set this environment-var dynamically using `.WithEnvironment()` approach, but it looks like `azd up`/`azd deploy` doesn\u0027t accept any argument to specify the build-configuration (similar to `dotnet build -c|--configuration`) and it looks like it\u0027s [hardcoded](https://github.com/Azure/azure-dev/pull/3443/files) to [`Release`](https://github.com/Azure/azure-dev/issues/3436#issuecomment-1965170718).\r\n\n\n### Expected Behavior\n\nStatic/Sticky ASPNETCORE_ENVIRONMENT (we want to maintain `staging` vs. `production` apps similar to deployment-slots in AzWebApps/AzFunctions) that doesn\u0027t get removed/overridden with every deployment.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOtQwDJQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6IXw_y",
                                           "createdAt":  "2024-08-14T06:09:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODubpkg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "melotic",
                                                                               "createdAt":  "2024-08-16T08:23:42Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "```C#\r\nbuilder.AddProject\u003cProjects.WebApplication1\u003e(\"api\")\r\n       .WithExternalHttpEndpoints()\r\n       .WithReference(blobs)\r\n       .WithEnvironment(context =\u003e\r\n       {\r\n           if (context.ExecutionContext.IsPublishMode)\r\n           {\r\n               context.EnvironmentVariables[\"ASPNETCORE_ENVIRONMENT\"] = \"staging\";\r\n           }\r\n       });\r\n```\r\n\r\nYou can write code like this instead.",
                                           "updatedAt":  "2024-08-14T06:09:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Ix-oE",
                                           "createdAt":  "2024-08-17T09:10:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEb8FvQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "bishwaranjans",
                                                                               "createdAt":  "2024-09-29T09:12:19Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "lucamilan",
                                                                               "createdAt":  "2024-12-28T20:27:25Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "JiLi94",
                                                                               "createdAt":  "2025-02-10T02:17:54Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "mizrael",
                                                                               "createdAt":  "2025-02-19T15:47:34Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "antiphon0",
                                                                               "createdAt":  "2025-07-25T15:06:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "melotic",
                                           "body":  "Since azd supports environments, it would be nice for Aspire to be aware of the current azd environment name so we can properly set `DOTNET_ENVIRONMENT` / `ASPNET_ENVIRONMENT` to be the respective dev/staging/production. ",
                                           "updatedAt":  "2024-08-17T09:10:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6N7254",
                                           "createdAt":  "2024-09-29T09:19:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bishwaranjans",
                                           "body":  "I would like context.EnvironmentVariables[\"ASPNETCORE_ENVIRONMENT\"] value to set dynamically e.g. if I set in my yaml file \r\nDOTNET_ENVIRONMENT = \u0027Development\u0027, I would like to read it from context.EnvironmentVariables[\"ASPNETCORE_ENVIRONMENT\"] = context.EnvironmentVariables[\"DOTNET_ENVIRONMENT \"] ;",
                                           "updatedAt":  "2024-09-29T09:19:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6N8NoE",
                                           "createdAt":  "2024-09-29T14:08:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What yaml file?",
                                           "updatedAt":  "2024-09-29T14:08:49Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OB7Q9",
                                           "createdAt":  "2024-09-30T11:01:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bishwaranjans",
                                           "body":  "e.g. my azure.yaml file looks like below name: NobbResolver.AppHost\r\nservices:  \r\n  nobbresolver:\r\n    language: dotnet\r\n    project: \u003cpath to AppHost.csproj\u003e\r\n    host: containerapp\r\n    \r\n    I want to set the ASPNETCORE_ENVIRONMENT dynamically.",
                                           "updatedAt":  "2024-09-30T11:01:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6UzsvB",
                                           "createdAt":  "2024-11-25T03:04:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "gtejeda",
                                           "body":  "I also would like to play with the deployment yaml for other environment variables when using azd up",
                                           "updatedAt":  "2024-11-25T03:04:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6eh-GH",
                                           "createdAt":  "2025-02-14T15:59:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "BBITWestin",
                                           "body":  "\u003e builder.AddProject\u003cProjects.WebApplication1\u003e(\"api\")\n\u003e        .WithExternalHttpEndpoints()\n\u003e        .WithReference(blobs)\n\u003e        .WithEnvironment(context =\u003e\n\u003e        {\n\u003e            if (context.ExecutionContext.IsPublishMode)\n\u003e            {\n\u003e                context.EnvironmentVariables[\"ASPNETCORE_ENVIRONMENT\"] = \"staging\";\n\u003e            }\n\u003e        });\n\u003e You can write code like this instead.\n\n\nLooking at davidfowl\u0027s solution: I would like to set this to either Production/Staging/Preview during azd up. Any workarounds?",
                                           "updatedAt":  "2025-02-14T15:59:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6eiblj",
                                           "createdAt":  "2025-02-14T16:54:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESDtng==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "romanimm",
                                                                               "createdAt":  "2025-05-14T09:16:57Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "BBITWestin",
                                           "body":  "This is what I\u0027ve come up with for the time being:\n\ndeploy.yml\n```yml\n- name: Init azd + Provision + Deploy\n        run: |\n          azd config set defaults.subscription ${{ vars.AZURE_SUBSCRIPTION_ID }}\n          azd config set defaults.location eastus2\n          azd env new ${{ env.AZURE_ENV_NAME }}\n          azd env select ${{ env.AZURE_ENV_NAME }}\n\n          if [[ \"${{ github.ref_name }}\" == \"prod\" ]]; then\n           sed -i \u0027s/var environment = \"Development\";/var environment = \"Production\";/\u0027 Program.cs\n          elif [[ \"${{ github.ref_name }}\" == \"stage\" ]]; then\n            sed -i \u0027s/var environment = \"Development\";/var environment = \"Stage\";/\u0027 Program.cs\n          elif [[ \"${{ github.event.pull_request }}\" ]]; then\n            sed -i \u0027s/var environment = \"Development\";/var environment = \"Preview\";/\u0027 Program.cs\n          fi\n\n          azd up --environment ${{ env.AZURE_ENV_NAME }} --no-prompt\n        working-directory: Aspire/Aspire.AppHost\n```\n\nAppHost Program.cs\n```C#\nvar environment = \"Development\";\nvar apiService = builder.AddProject\u003cProjects.Aspire_ApiService\u003e(\"apiservice\")\n       .WithEnvironment(context =\u003e\n       {\n           context.EnvironmentVariables[\"ASPNETCORE_ENVIRONMENT\"] = environment;\n           context.EnvironmentVariables[\"DOTNET_ENVIRONMENT\"] = environment;\n       });\n```\n",
                                           "updatedAt":  "2025-02-14T16:54:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6fFndu",
                                           "createdAt":  "2025-02-19T15:49:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mizrael",
                                           "body":  "as @melotic mentioned before, it would be really useful to have knowledge of the selected environment when running the Aspire Host. For example, we might be using different naming conventions for the app services based on the current environment (eg. adding `-dev`, `-prod` and so on)",
                                           "updatedAt":  "2025-02-19T15:49:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6n5uJT",
                                           "createdAt":  "2025-04-20T00:44:06Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danroot",
                                           "body":  "\nThis is how I solved, with no string replace needed.  I think this maps closest to what I expected azd up -e uat to do natively.\n\nIn deploy-uat.sh (could do similar in powershell)\n```\nexport AZD_ENVIRONMENT=UAT\nazd up -e uat\n```\n\nin AppHost Program.cs (Environment get/set must be before CreateBuilder)\n```\nif(Environment.GetEnvironmentVariable(\"AZD_ENVIRONMENT\") == \"UAT\"){\n    Environment.SetEnvironmentVariable(\"ASPNETCORE_ENVIRONMENT\", \"Staging\");\n    Environment.SetEnvironmentVariable(\"DOTNET_ENVIRONMENT\", \"Staging\");\n}\nelse if(Environment.GetEnvironmentVariable(\"AZD_ENVIRONMENT\") == \"PROD\"){\n    Environment.SetEnvironmentVariable(\"ASPNETCORE_ENVIRONMENT\", \"Production\");\n    Environment.SetEnvironmentVariable(\"DOTNET_ENVIRONMENT\", \"Production\");\n}\nelse{\n    Environment.SetEnvironmentVariable(\"ASPNETCORE_ENVIRONMENT\", \"Development\");\n    Environment.SetEnvironmentVariable(\"DOTNET_ENVIRONMENT\", \"Development\");\n}\nvar builder = DistributedApplication.CreateBuilder(args);\n\n...\nvar foo = builder.AddProject\u003cFoo\u003e(\"foo\")\n.WithEnvironment(\"ASPNETCORE_ENVIRONMENT\", Environment.GetEnvironmentVariable(\"ASPNETCORE_ENVIRONMENT\") ?? \"Development\");\n```",
                                           "updatedAt":  "2025-04-20T00:44:06Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uTaEm",
                                           "createdAt":  "2025-05-31T05:17:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@vhvb1989 I think we need to make a breaking change here to azd https://github.com/dotnet/aspire/issues/8934\n",
                                           "updatedAt":  "2025-05-31T05:17:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ui9pj",
                                           "createdAt":  "2025-06-02T02:00:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "If you define an input param `appEnv` in `AppHost Program.cs` with a default value `Development`, you can change its value with AZD for each environment you want to deploy.  AZD would create a mapping to `AZURE_APP_ENV` for the input parameter.\nIf you don\u0027t change it, AZD would deploy `Development` for your app.\n\nNote:  You would be only changing any application logic that you want (custom).  AZD will still build a PRODUCTION binary for publishing.",
                                           "updatedAt":  "2025-06-02T02:00:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6u2yqt",
                                           "createdAt":  "2025-06-03T06:00:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I still think it makes sense to disable the launch profile by default when azd launches the apphost. We can add a feature flag to bring this behavior back if it breaks too many people but it solves some problems:\n- Enviroment variables don\u0027t get overridden\n- \"Development\" isn\u0027t set by default.",
                                           "updatedAt":  "2025-06-03T06:00:51Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc600Mox",
                                           "createdAt":  "2025-07-03T20:43:32Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Do we think this should be automatic? One way it could be automatic is if we did:\n\n0. We add an \"Environment\" parameter to the app model - `builder.AddParameter(\"environment\", defaultValue: \"Production\");`\n1. Every .NET Project automatically gets a `.WithEnvironment(\"DOTNET_ENVIRONMENT\", environmentParameter)`\n\nThen all that needs to change is the value of the `environment` parameter needs to be set somehow during publish/deploy/etc.\n\nWe could also add a new API for this instead of making it automatic: `builder.AddDotnetEnvironmentParameter();` which would add the parameter and add a hook that automatically added the parameter to every .NET project in the app model.\n\nThoughts on either of these approaches? I\u0027m not sure I\u0027d want this to be automatic. It feels like it should be opt-in, but that\u0027s my opinion.",
                                           "updatedAt":  "2025-07-03T20:43:32Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61Bp18",
                                           "createdAt":  "2025-07-04T19:24:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "melotic",
                                           "body":  "\u003e Do we think this should be automatic? One way it could be automatic is if we did:\n\u003e \n\u003e     0. We add an \"Environment\" parameter to the app model - `builder.AddParameter(\"environment\", defaultValue: \"Production\");`\n\u003e \n\u003e     1. Every .NET Project automatically gets a `.WithEnvironment(\"DOTNET_ENVIRONMENT\", environmentParameter)`\n\u003e \n\u003e \n\u003e Then all that needs to change is the value of the `environment` parameter needs to be set somehow during publish/deploy/etc.\n\u003e \n\u003e We could also add a new API for this instead of making it automatic: `builder.AddDotnetEnvironmentParameter();` which would add the parameter and add a hook that automatically added the parameter to every .NET project in the app model.\n\u003e \n\u003e Thoughts on either of these approaches? I\u0027m not sure I\u0027d want this to be automatic. It feels like it should be opt-in, but that\u0027s my opinion.\n\nI also prefer it being opt-in with a call to `.AddDotnetEnvironmentParameter()`. Too many unknowns in how customers are doing this currently, and I think its better DX if they can upgrade to the new Aspire version, then migrate their deployments to use this.",
                                           "updatedAt":  "2025-07-04T19:27:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61DAMl",
                                           "createdAt":  "2025-07-05T00:16:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think it should be automatic at least the idea that there’s a parameter with a default value set for .net projects. How that default gets set is the main question I think.",
                                           "updatedAt":  "2025-07-05T00:16:23Z"
                                       }
                                   ],
                         "totalCount":  16
                     },
        "title":  "Ability to set ASPNETCORE_ENVIRONMENT while executing azd up / azd deploy ",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/5278",
        "createdAt":  "2024-08-13T07:50:41Z",
        "number":  5278,
        "author":  "Rita003",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-14T08:26:50Z",
        "body":  "**INSTALL STEPS**\r\n1. Clean machine: Win11 x64 23h2 ENU\r\n2. Install SDK 8.0.303\r\n3. Install Aspire 8.1.0\r\n4. Install latest released azd v1.9.5\r\n5. Install git v2.46.0\r\n\r\n**REPRO STEPS**\r\n1. Open CMD, run following command to create an Aspire Starter App project and go to the solution folder\r\n```\r\ndotnet new aspire-starter -o AspireStarterApp\r\ncd AspireStarterApp\r\n```\r\n2. Running `azd init`, then select \u0027Use code in the current directory\u0027\r\n\r\n**Note**:\r\n1. This issue doesn\u0027t repro if I go to AspireStarterApp.AppHost project and running `azd init` in CMD.\r\n\r\n**ACTUAL**\r\nThere is a yellow message display when running `azd init` and initialize it\r\n![Screenshot 2024-08-13 142233](https://github.com/user-attachments/assets/497e61d7-e666-46ba-925f-b1289c2087c0)\r\n\r\n**EXPECTED**\r\nRunning `azd init` and initialize it without any message\r\n![Screenshot 2024-08-13 144933](https://github.com/user-attachments/assets/32ad962d-2440-41df-af19-65eee39b7db8)\r\n\r\n**Error Log**\r\n`Ignoring other projects present but not referenced by app host: AspireStarterApp.ApiService and AspireStarterApp.Web`",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOniLVKA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6IUTX9",
                                           "createdAt":  "2024-08-13T19:58:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "adamint",
                                           "body":  "@snehapar9 ",
                                           "updatedAt":  "2024-08-13T19:58:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6IXvT3",
                                           "createdAt":  "2024-08-14T06:04:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @vhvb1989 @ellismg ",
                                           "updatedAt":  "2024-08-14T06:04:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MSsd7",
                                           "createdAt":  "2024-09-16T19:11:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "rajeshkamal5050",
                                           "body":  "I believe you have to cd into app host project and run `azd init` cc @weikanglim\r\n\r\nhttps://learn.microsoft.com/en-us/dotnet/aspire/deployment/azure/aca-deployment-azd-in-depth?tabs=windows#initialize-the-template",
                                           "updatedAt":  "2024-09-16T19:11:10Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MdiEj",
                                           "createdAt":  "2024-09-17T17:48:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "weikanglim",
                                           "body":  "The warning message:\r\n`Ignoring other projects present but not referenced by app host: AspireStarterApp.ApiService and AspireStarterApp.Web`\r\n\r\nMeans that:\r\n- azd parsed the manifest and look at the projects referenced in the app host\r\n- azd doesn\u0027t *think* that AspireStarterApp.ApiService and AspireStarterApp.Web are being referenced in the app host\r\n\r\n@ellismg @vhvb1989 Need someone to take a quick look what changed here (is it just the starter being weird? or did something change in how the filtering logic works in azd?)",
                                           "updatedAt":  "2024-09-17T17:48:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MeGiS",
                                           "createdAt":  "2024-09-17T19:13:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ellismg",
                                           "body":  "\u003e @ellismg @vhvb1989 Need someone to take a quick look what changed here (is it just the starter being weird? or did something change in how the filtering logic works in azd?)\r\n\r\nI\u0027ll take a look, I don\u0027t think that anything changed here recently, so this is sort of surprising.",
                                           "updatedAt":  "2024-09-17T19:13:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6Me50S",
                                           "createdAt":  "2024-09-17T20:51:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "did not repro on Linux.\r\nIt might be related to https://github.com/Azure/azure-dev/pull/4263 @ellismg ",
                                           "updatedAt":  "2024-09-17T20:51:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MnGGH",
                                           "createdAt":  "2024-09-18T17:41:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHODytscA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "weikanglim",
                                                                               "createdAt":  "2024-09-18T18:58:19Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "ellismg",
                                           "body":  "I was unable to get this to repo on Windows with Aspire 8.2.0 and azd 1.10.1",
                                           "updatedAt":  "2024-09-18T17:41:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MquR2",
                                           "createdAt":  "2024-09-19T05:28:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Rita003",
                                           "body":  "@rajeshkamal5050 @ellismg I verified that this issue still repro when running `azd init` and initializing it in Aspire Starter solution with Aspire 8.2.0 and azd 1.10.1, and it also repro on Aspire 9.0P4 and azd 1.10.1, I want to confirm whether we can run `azd init` and initialize it in Aspire Starter solution?",
                                           "updatedAt":  "2024-09-19T05:28:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MxAJe",
                                           "createdAt":  "2024-09-19T16:58:19Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "@Rita003 , would it be possible for you to create a video and upload?\r\n\r\nAlso, can you run `azd init --debug` and share the logs?\r\n\r\nthank you",
                                           "updatedAt":  "2024-09-19T16:58:19Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6MxNmi",
                                           "createdAt":  "2024-09-19T17:08:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ellismg",
                                           "body":  "@Rita003 - Can you give me more details on the machine type in question as well?  I wasn\u0027t able to get this to reproduce on Windows (via DevBox) with the exact same versions you use so I\u0027m sort of confused as to what might be going on.  I\u0027m also just running `azd init` over the output of `dotnet new aspire-starter` so I really don\u0027t understand what the difference between yours and mine is.",
                                           "updatedAt":  "2024-09-19T17:08:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6M0jUY",
                                           "createdAt":  "2024-09-20T02:31:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Rita003",
                                           "body":  "\u003e @Rita003 , would it be possible for you to create a video and upload?\r\n\u003e \r\n\u003e Also, can you run `azd init --debug` and share the logs?\r\n\u003e \r\n\u003e thank you\r\n\r\n@vhvb1989 This is the video I recorded\r\n\r\n![AZD](https://github.com/user-attachments/assets/9e3196a2-6a63-45c3-bd2f-c286e64f1534)\r\n\r\nRun `azd init --debug` and share the logs\r\n```\r\n2024/09/20 02:12:37 main.go:56: azd version: 1.10.1 (commit 31409a33266fb4a5fdbb644bc83988e725d6c7c9)\r\n2024/09/20 02:12:37 main.go:214: using cached latest version: 1.10.1 (expires on: 2024-09-20T04:52:43Z)\r\n2024/09/20 02:12:37 user_config_manager.go:39: creating empty config since \u0027C:\\Users\\v-ritagao\\.azd\\config.json\u0027 did not exist.\r\n2024/09/20 02:12:37 middleware.go:108: running middleware \u0027debug\u0027\r\n2024/09/20 02:12:37 middleware.go:108: running middleware \u0027ux\u0027\r\n2024/09/20 02:12:37 middleware.go:108: running middleware \u0027experimentation\u0027\r\n2024/09/20 02:12:37 experimentation.go:42: assignment context: 9936g960:76971;\r\n2024/09/20 02:12:37 middleware.go:108: running middleware \u0027telemetry\u0027\r\n2024/09/20 02:12:37 telemetry.go:43: TraceID: 0ba36a2c0953ae59ed93a35d0c1fb082\r\n2024/09/20 02:12:37 user_config_manager.go:39: creating empty config since \u0027C:\\Users\\v-ritagao\\.azd\\config.json\u0027 did not exist.\r\n2024/09/20 02:12:37 command_runner.go:307: Run exec: \u0027git --version\u0027 , exit code: 0\r\n-------------------------------------stdout-------------------------------------------\r\ngit version 2.46.1.windows.1\r\n2024/09/20 02:12:37 git.go:55: git version: git version 2.46.1.windows.1\r\n\r\nInitializing an app to run on Azure (azd init)\r\n\r\n? How do you want to initialize your app? Use code in the current directory\r\n\r\n  |       | Scanning app code in current directory2024/09/20 02:12:40 appdetect.go:251: Detecting projects in directory: C:\\Users\\v-ritagao\\aspire3\r\n2024/09/20 02:12:40 appdetect.go:251: Detecting projects in directory: C:\\Users\\v-ritagao\\aspire3\\aspire3.ApiService\r\n  |===    | Scanning app code in current directory2024/09/20 02:12:40 command_runner.go:307: Run exec: \u0027dotnet msbuild C:\\Users\\v-ritagao\\aspire3\\aspire3.ApiService\\aspire3.ApiService.csproj --getProperty:IsAspireHost\u0027 , exit code: 0\r\n  |====== | Scanning app code in current directory2024/09/20 02:12:41 command_runner.go:307: Run exec: \u0027dotnet msbuild C:\\Users\\v-ritagao\\aspire3\\aspire3.ApiService\\aspire3.ApiService.csproj --getProperty:RuntimeIdentifier\u0027 , exit code: 0\r\n2024/09/20 02:12:41 appdetect.go:259: Found project dotnet at C:\\Users\\v-ritagao\\aspire3\\aspire3.ApiService\r\n2024/09/20 02:12:41 appdetect.go:251: Detecting projects in directory: C:\\Users\\v-ritagao\\aspire3\\aspire3.AppHost\r\n  |  =====| Scanning app code in current directory2024/09/20 02:12:42 command_runner.go:307: Run exec: \u0027dotnet msbuild C:\\Users\\v-ritagao\\aspire3\\aspire3.AppHost\\aspire3.AppHost.csproj --getProperty:IsAspireHost\u0027 , exit code: 0\r\n2024/09/20 02:12:42 appdetect.go:259: Found project dotnet-apphost at C:\\Users\\v-ritagao\\aspire3\\aspire3.AppHost\r\n2024/09/20 02:12:42 appdetect.go:251: Detecting projects in directory: C:\\Users\\v-ritagao\\aspire3\\aspire3.ServiceDefaults\r\n  |     ==| Scanning app code in current directory2024/09/20 02:12:42 command_runner.go:307: Run exec: \u0027dotnet msbuild C:\\Users\\v-ritagao\\aspire3\\aspire3.ServiceDefaults\\aspire3.ServiceDefaults.csproj --getProperty:IsAspireHost\u0027 , exit code: 0\r\n2024/09/20 02:12:42 appdetect.go:251: Detecting projects in directory: C:\\Users\\v-ritagao\\aspire3\\aspire3.Web\r\n  |==     | Scanning app code in current directory2024/09/20 02:12:43 command_runner.go:307: Run exec: \u0027dotnet msbuild C:\\Users\\v-ritagao\\aspire3\\aspire3.Web\\aspire3.Web.csproj --getProperty:IsAspireHost\u0027 , exit code: 0\r\n  |=====  | Scanning app code in current directory2024/09/20 02:12:44 command_runner.go:307: Run exec: \u0027dotnet msbuild C:\\Users\\v-ritagao\\aspire3\\aspire3.Web\\aspire3.Web.csproj --getProperty:RuntimeIdentifier\u0027 , exit code: 0\r\n2024/09/20 02:12:44 appdetect.go:259: Found project dotnet at C:\\Users\\v-ritagao\\aspire3\\aspire3.Web\r\n  |      =| Scanning app code in current directory2024/09/20 02:12:54 command_runner.go:307: Run exec: \u0027dotnet run --project aspire3.AppHost.csproj --publisher manifest --output-path C:\\Users\\V-RITA~1\\AppData\\Local\\Temp\\azd-provision3962911680\\apphost-manifest.json\u0027 , exit code: 0\r\n-------------------------------------stdout-------------------------------------------\r\nBuilding...\r\ninfo: Aspire.Hosting.DistributedApplication[0]\r\n      Aspire version: 8.2.0+75fdcff28495bdd643f6323133a7d411df71ab70\r\ninfo: Aspire.Hosting.Publishing.ManifestPublisher[0]\r\n      Published manifest to: C:\\Users\\v-ritagao\\AppData\\Local\\Temp\\azd-provision3962911680\\apphost-manifest.json\r\n  (✓) Done: Scanning app code in current directory\r\n\r\nIgnoring other projects present but not referenced by app host: aspire3.ApiService and aspire3.Web\r\n\r\nDetected services:\r\n\r\n  .NET (Aspire)\r\n  Detected in: C:\\Users\\v-ritagao\\aspire3\\aspire3.AppHost\\aspire3.AppHost.csproj\r\n\r\nazd will generate the files necessary to host your app on Azure using Azure Container Apps.\r\n\r\n? Select an option Confirm and continue initializing my app\r\n2024/09/20 02:12:57 user_config_manager.go:39: creating empty config since \u0027C:\\Users\\v-ritagao\\.azd\\config.json\u0027 did not exist.\r\n2024/09/20 02:12:57 project.go:144: Reading project from file \u0027C:\\Users\\v-ritagao\\aspire3\\azure.yaml\u0027\r\n? Enter a new environment name: Rita92001\r\n\r\nGenerating files to run your app on Azure:\r\n\r\n2024/09/20 02:13:06 initializer.go:164: template init, checking for duplicates. source: C:\\Users\\V-RITA~1\\AppData\\Local\\Temp\\azd-infra1294484606 target: C:\\Users\\v-ritagao\\aspire3\r\n  (✓) Done: Generating ./azure.yaml\r\n  (✓) Done: Generating ./next-steps.md\r\n\r\nSUCCESS: Your app is ready for the cloud!\r\nYou can provision and deploy your app to Azure by running the azd up command in this directory. For more information on configuring your app, see ./next-steps.md\r\n```",
                                           "updatedAt":  "2024-09-20T02:31:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6M0w9s",
                                           "createdAt":  "2024-09-20T02:47:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Rita003",
                                           "body":  "\u003e @Rita003 - Can you give me more details on the machine type in question as well? I wasn\u0027t able to get this to reproduce on Windows (via DevBox) with the exact same versions you use so I\u0027m sort of confused as to what might be going on. I\u0027m also just running `azd init` over the output of `dotnet new aspire-starter` so I really don\u0027t understand what the difference between yours and mine is.\r\n\r\n@ellismg My reproduce machine type is Windows-11-Enterprise-23H2. This issue only reproduce when running `azd init` in Aspire Starter solution instead of AppHost project, this issue will not be reproduced if you go to AppHost project to run `azd init`. For the detailed steps, please refer to the video above.\r\n\r\n",
                                           "updatedAt":  "2024-09-20T02:47:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6OH8Ww",
                                           "createdAt":  "2024-09-30T23:37:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "ellismg",
                                           "body":  "This from the logs jumped out at me and could be a red herring:\r\n\r\n```\r\n2024/09/20 02:12:44 appdetect.go:259: Found project dotnet at C:\\Users\\v-ritagao\\aspire3\\aspire3.Web\r\n  |      =| Scanning app code in current directory2024/09/20 02:12:54 command_runner.go:307: Run exec: \u0027dotnet run --project aspire3.AppHost.csproj --publisher manifest --output-path C:\\Users\\V-RITA~1\\AppData\\Local\\Temp\\azd-provision3962911680\\apphost-manifest.json\u0027 , exit code: 0\r\n-------------------------------------stdout-------------------------------------------\r\nBuilding...\r\ninfo: Aspire.Hosting.DistributedApplication[0]\r\n      Aspire version: 8.2.0+75fdcff28495bdd643f6323133a7d411df71ab70\r\ninfo: Aspire.Hosting.Publishing.ManifestPublisher[0]\r\n      Published manifest to: C:\\Users\\v-ritagao\\AppData\\Local\\Temp\\azd-provision3962911680\\apphost-manifest.json\r\n  (✓) Done: Scanning app code in current directory\r\n\r\nIgnoring other projects present but not referenced by app host: aspire3.ApiService and aspire3.Web\r\n```\r\n\r\nNote that when we generate the manifest, we have a short path name: `C:\\Users\\V-RITA~1\\` but the output from the dotnet tool has a full path name and so do other places in our logs.  Perhaps something about this being under a tempdir?  Maybe this is screwing up path comparisions we do since we could end up comparing the short and long version of the username but just as text?",
                                           "updatedAt":  "2024-09-30T23:37:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6eItUo",
                                           "createdAt":  "2025-02-12T09:15:44Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Rita003",
                                           "body":  "Verify this issue still repro after installing the latest Aspire 9.1.0",
                                           "updatedAt":  "2025-02-12T09:15:44Z"
                                       }
                                   ],
                         "totalCount":  14
                     },
        "title":  "[WebToolsE2E][Aspire] There is a yellow message display \"Ignoring other projects present but not referenced by app host:xxx\" when running `azd init` and initializing it in Aspire Starter App project",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6559",
        "createdAt":  "2024-10-30T18:13:53Z",
        "number":  6559,
        "author":  "shankersumit",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODMTvow==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "gayanper",
                                            "createdAt":  "2024-11-05T11:37:28Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "TaleLearnCode",
                                            "createdAt":  "2024-11-11T17:43:22Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "illay1994",
                                            "createdAt":  "2024-11-13T22:02:00Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "LeftTwixWand",
                                            "createdAt":  "2024-11-14T22:57:04Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "tombrereton",
                                            "createdAt":  "2024-11-20T00:11:30Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rvaquette",
                                            "createdAt":  "2024-12-03T10:12:34Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "plaurin",
                                            "createdAt":  "2024-12-03T13:29:40Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "szostki",
                                            "createdAt":  "2024-12-13T10:06:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "iikuzmychov",
                                            "createdAt":  "2024-12-13T14:29:41Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BS-colinsmith",
                                            "createdAt":  "2025-01-03T11:28:42Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "BM-TristanNeumann",
                                            "createdAt":  "2025-01-20T14:45:18Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "colinbobolin",
                                            "createdAt":  "2025-01-24T16:02:25Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2025-01-26T21:48:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "scottrudy",
                                            "createdAt":  "2025-03-24T14:05:28Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "pr8x",
                                            "createdAt":  "2025-04-01T20:11:35Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "rfrerebe",
                                            "createdAt":  "2025-04-15T21:57:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jukkahyv",
                                            "createdAt":  "2025-04-16T19:12:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "matt-richardson",
                                            "createdAt":  "2025-05-08T07:21:15Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NapalmCodes",
                                            "createdAt":  "2025-06-06T02:28:01Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Krzysztof318",
                                            "createdAt":  "2025-06-09T21:40:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Zalmez",
                                            "createdAt":  "2025-06-28T20:59:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "SteamTank",
                                            "createdAt":  "2025-07-03T23:14:09Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "bernarddijk",
                                            "createdAt":  "2025-07-25T13:33:37Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "mehdihadeli",
                                            "createdAt":  "2025-07-26T14:37:05Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "jomaxso",
                                            "createdAt":  "2025-08-07T07:43:52Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "nils-sonnenschein",
                                            "createdAt":  "2025-08-22T16:00:07Z"
                                        }
                                    ],
                          "totalCount":  26
                      },
        "updatedAt":  "2025-02-15T01:42:04Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWe request you to please have a feature added to support infra deployment though terraform as well using the azd cli \nSo far .net aspire projects only support deployment through azure biceps and not through terraform\n\nPlease look into this as it should be feasible for the customers to use the IaC as their choice.\n\n### Describe the solution you\u0027d like\n\nSupport fot terraform as IaC for .net 8 aspire projects.\n\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmqfBDg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6aPBRD",
                                           "createdAt":  "2025-01-13T16:41:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdg_8Q==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "andrew-flatters-bliss",
                                                                               "createdAt":  "2025-01-13T16:42:32Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-01-16T07:07:24Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "RascoApps",
                                                                               "createdAt":  "2025-01-24T17:11:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "kraghavk",
                                                                               "createdAt":  "2025-03-26T14:29:37Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "jomaxso",
                                                                               "createdAt":  "2025-08-07T18:24:13Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  5
                                                         },
                                           "author":  "lolochristen",
                                           "body":  "I tried to address this issue with a separate tool in this repo https://github.com/lolochristen/Aspire.Terraform. It\u0027s a little tool using terraform templates with handlebar syntax to produce some terraform files out of manifest file. I\u0027m unsure if you follow another strategy for custom IaC, but it does solve my purpose. Please let me know what you think.",
                                           "updatedAt":  "2025-01-13T16:41:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ap8EO",
                                           "createdAt":  "2025-01-16T07:07:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdblSw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "andrew-flatters-bliss",
                                                                               "createdAt":  "2025-01-16T08:39:20Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "sberube",
                                                                               "createdAt":  "2025-03-25T15:39:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "lvde0",
                                                                               "createdAt":  "2025-03-27T11:29:48Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pr8x",
                                                                               "createdAt":  "2025-04-01T20:11:38Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "274188A",
                                                                               "createdAt":  "2025-06-09T02:10:36Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "SteamTank",
                                                                               "createdAt":  "2025-07-03T23:12:55Z"
                                                                           },
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "jomaxso",
                                                                               "createdAt":  "2025-08-07T07:45:27Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  7
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Very cool! I think the way to do this that would scale better would be to build a first class terraform aspire resource. This is how aspire integrates with both azure and aws. There\u0027s a native IaC resource and then we plug into the respective cloud\u0027s CDK to interop.\n\n\nhttps://developer.hashicorp.com/terraform/cdktf might be the way to go.",
                                           "updatedAt":  "2025-01-16T07:13:09Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Support of .net aspire deployment using terraform",
        "labels":  [
                       "area-integrations",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6595",
        "createdAt":  "2024-11-03T03:43:25Z",
        "number":  6595,
        "author":  "dansiegel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-29T23:54:47Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n# Description\n\nWhen using azd this creates a local `.env` file with a number of environment variables including an `AZURE_ENV_NAME`. When running something like:\n\n```bash\nazd env set DOTNET_ENVIRONMENT Staging\nazd env set MyVariable Value\n```\n\nThis updates the `.env` file. However none of these environment variables are loaded when the AppHost is executed. This means that we cannot set the `DOTNET_ENVIRONMENT` or other properties custom for our deployment environment.\n\n### Expected Behavior\n\nEnvironment variables added to an Azure Deployment Environment should be loaded and available to the AppHost Builder.\n\n### Steps To Reproduce\n\nRun:\n\n```bash\nazd env set MyVariable Value\n```\n\nAppHost\n\n```cs\nvar myVariable = builder.Configuration[\"MyVariable\"];\n```\n\n`myVariable` will be null\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\nnet 8\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOkj05og==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6SPTG5",
                                           "createdAt":  "2024-11-03T16:20:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dansiegel",
                                           "body":  "as discussed on Discord... you can update the launchProfiles.json with something like the [generate-manifest](https://learn.microsoft.com/en-us/dotnet/aspire/deployment/manifest-format#generate-a-manifest) profile in the docs as the first launch profile. It seems that `azd` will use the first profile. This does solve the problem with the `DOTNET_ENVIRONMENT` but does not actually pass in other environment variables that may have been set with `azd`.\n\n```json\n{\n  \"$schema\": \"http://json.schemastore.org/launchsettings.json\",\n  \"profiles\": {\n    \"generate-manifest\": {\n      \"commandName\": \"Project\",\n      \"launchBrowser\": false,\n      \"dotnetRunMessages\": true,\n      \"commandLineArgs\": \"--publisher manifest --output-path aspire-manifest.json\"\n    }\n  }\n}\n```",
                                           "updatedAt":  "2024-11-03T16:20:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6SPTmi",
                                           "createdAt":  "2024-11-03T16:26:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "azd only passes DOTNET_ENVIRONMENT, it doesn\u0027t flow all variables. \n\ncc @ellismg @vhvb1989 ",
                                           "updatedAt":  "2024-11-03T16:26:48Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Azure Environment not loading",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6667",
        "createdAt":  "2024-11-14T05:30:17Z",
        "number":  6667,
        "author":  "RamType0",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:42:10Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWhen deploying or running Aspire, every project in Aspire has Environment(e,g, Development, Staging, Production).\n\nWhen we are on Run Mode, we could specify it in launchsettings.json.\n\nBut when we are on PublishMode, we could not specify it.\n\nI\u0027m using workaround for this issue.\n\n```C#\nif (builder.ExecutionContext.IsPublishMode)\n{\n    var environmentName = builder.AddParameter(\"hostingEnvironment\");\n    var environmentVariableName = \"DOTNET_ENVIRONMENT\";\n    apiService.WithEnvironment(environmentVariableName, environmentName);\n    webFrontend.WithEnvironment(environmentVariableName, environmentName);\n}\n```\n\nBut this workaround does not works for `builder.Environment` of AppHost itself.\nEven if we are deploying for \"Production\" environment, `builder.Environment` is \"Development\". It is confusing.\n\n### Describe the solution you\u0027d like\n\nAbillity to select launchSettings.json for each publish profile.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Configure Environment of AppHost in Publish Mode",
        "labels":  [
                       "area-app-model",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6746",
        "createdAt":  "2024-11-20T22:21:19Z",
        "number":  6746,
        "author":  "francescocristallo",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-15T18:38:45Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nAspire Project in Visual Studio 2022, during deployment to Container Apps returns this error:\n\n**Error deployment failed: error deploying infrastructure: deploying to subscription:\n\nDeployment Error Details:\nInvalidAccessPolicyAssignment: An invalid access policy assignment was detected due to duplicate entries. Please review and ensure that each assignment has a unique combination of assignmentName, policyName, and objectId to avoid such duplicates. For more information, please refer to the following link: https://aka.ms/redis/MicrosoftEntraAuthenticationPrerequisites.**\n\nThe first deployment succeeded and created an Azure Redis cache element. From the second Publish, doesn\u0027t deploy anymore.\n\n\n\n### Expected Behavior\n\nDeploy correctly without errors\n\n### Steps To Reproduce\n\nvar builder = DistributedApplication.CreateBuilder(args);\nvar cache = builder.AddAzureRedis(\"MyCache\");\n\nbuilder.AddProject\u003cProjects.Portal\u003e(\"portal\")\n\t.WithReference(cache)\n\t.WithExternalHttpEndpoints();\n\nbuilder.Build().Run();\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.100\n Commit:            59db016f11\n Workload version:  9.0.100-manifests.c6f19616\n MSBuild version:   17.12.7+5b8665660\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.22631\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.100\\\n\n.NET workloads installed:\n [android]\n   Installation Source: VS 17.13.35507.96, VS 17.12.35514.174\n   Manifest Version:    35.0.7/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.7\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: VS 17.13.35507.96, VS 17.12.35514.174\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n### Anything else?\n\n-Asp.net Core 9\n-Visual Studio 2022 17.12.1\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOq55dvA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6rnl28",
                                           "createdAt":  "2025-05-14T08:29:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@francescocristallo can you still reproduce this on the latest bits? (azd, VS, aspire?)",
                                           "updatedAt":  "2025-05-14T08:29:10Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Azure Redis Infrastructure Deployment: An invalid access policy assignment was detected due to duplicate entries",
        "labels":  [
                       "needs-author-action",
                       "azure",
                       "redis",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/6781",
        "createdAt":  "2024-11-25T07:48:39Z",
        "number":  6781,
        "author":  "MrDeej",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODGXjMA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ryanspain",
                                            "createdAt":  "2025-07-09T16:23:27Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-03-21T10:33:36Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI have set up a new Aspire project to orchestrate my standalone Blazor Wasm and gRPC back-end solution. This was unsuccessful in deploy by Azd Up command, with the error message **BaseImageNotFoundException: The RuntimeIdentifier \u0027browser-wasm\u0027 is not supported by dotnet/runtime-deps:9.0-noble-chiseled-extra.**\n\nI have tried many different things, but the last thing I tried was to set up a new Blazor Wasm app with everything default from project creation, add it to Apphost without doing anything else, but this also gives the same exception when deploying to a container in Azure.\n\n\n\n\n\n### Expected Behavior\n\nA container is created within the resource group connected to Aspire. It is deployed and available as front-end.\n\n### Steps To Reproduce\n\n1. Create an Aspire .NET 9 solution\n2. Add a NET 9 Blazor wasm project\n3. Add Blazor into apphost \nvar frontEnd2 = builder.AddProject\u003cProjects.BlazorApp1\u003e(\"testfrontend\")\n    .WithExternalHttpEndpoints();\n4. Azd Init -\u003e Azd Up\n\n### Exceptions (if any)\n\nBaseImageNotFoundException: The RuntimeIdentifier \u0027browser-wasm\u0027 is not supported by dotnet/runtime-deps:9.0-noble-chiseled-extra. The supported RuntimeIdentifiers are linux-x64,linux-arm,linux-arm64\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.100\n Commit:            59db016f11\n Workload version:  9.0.100-manifests.c6f19616\n MSBuild version:   17.12.7+5b8665660\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.22621\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.100\\\n\n.NET workloads installed:\n [aspire]\n   Installation Source: SDK 9.0.100, VS 17.13.35507.96, VS 17.12.35506.116\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [wasm-tools]\n   Installation Source: SDK 9.0.100\n   Manifest Version:    9.0.0/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.workload.mono.toolchain.current\\9.0.0\\WorkloadManifest.json\n   Install Type:              Msi\n\n### Anything else?\n\nWill probably change to Blazor Server, but this involves rather large refactor so would be good to get Blazor Wasm working for a while first.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOo35SpA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6U7JLT",
                                           "createdAt":  "2024-11-25T16:48:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD8c2Mg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "MrDeej",
                                                                               "createdAt":  "2024-11-25T19:51:02Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes, there\u0027s no support for publishing a standalone blazor WASM application in aspire. Aspire deploys container images and there\u0027s no dotnet publish support for standalone blazor WASM apps.",
                                           "updatedAt":  "2024-11-25T16:48:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6U8noQ",
                                           "createdAt":  "2024-11-25T20:00:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOD8msLA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2024-11-26T19:05:16Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "MrDeej",
                                           "body":  "Thank you for your answer. That is fine, I have now deployed it with a separate publish profile to an Azure Static Web Page. I got a little confused since it actually worked good with Aspire Dashboard in localhost. \n\nSeems like I should accelerate the conversion from wasm to Blazor server. Probably for the best anyway.",
                                           "updatedAt":  "2024-11-25T20:00:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6jflKk",
                                           "createdAt":  "2025-03-21T10:33:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "tomvanoost",
                                           "body":  "A quick tip: You can run your Blazor WASM project locally with Aspire and deploy it using a different method.\nAdd a command-line argument to your app host project: --dev\n\n```\n// in your app host Program.cs:\nvar isDev = args.Contains(\"--dev\");\nif (isDev)\n    builder\n        .AddProject\u003cProjects.BlazorWasmApp\u003e(\"blazor-wasm-app\")\n        .WithExternalHttpEndpoints()\n        .WithReference(api);\n}\n```",
                                           "updatedAt":  "2025-03-21T10:33:35Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Unable to deploy Blazor wasm project to Aspire",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7069",
        "createdAt":  "2025-01-11T06:18:36Z",
        "number":  7069,
        "author":  "FullStackChef",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-02-15T01:42:19Z",
        "body":  "## Background and Motivation\n\nThere should be a way to control how the container for a project gets produced in publish mode. Right now the deployment tool (such as azd) uses the manifest sees the project resource and has to infer how that project gets turned into a container image. Docker files are similar, but containers are able to expose build arguments that instruct tools on what values to pass to docker build. We need to same capability for projects.\n\n## Proposed API\n\n```diff\nnamespace Aspire.Hosting;\n\npublic static class ProjectResourceBuilderExtensions\n{\n+    public static IResourceBuilder\u003cT\u003e WithBuildProperty\u003cT\u003e(this IResourceBuilder\u003cT\u003e builder, string propertyName, string propertyValue) where T: ProjectResource\n+    public static IResourceBuilder\u003cT\u003e WithBuildProperty\u003cT\u003e(this IResourceBuilder\u003cT\u003e builder, string propertyName,  IResourceBuilder\u003cParameterResource\u003e propertyValue) where T: ProjectResource\n+    public static IResourceBuilder\u003cT\u003e WithBuildProperty\u003cT\u003e(this IResourceBuilder\u003cT\u003e builder, string propertyName,  ReferenceExpression propertyValue) where T: ProjectResource\n}\n```\n\n```C#\nnamespace Aspire.Hosting.ApplicationModel;\n\npublic class ProjectBuildAnnotation\n{\n    public Dictionary\u003cstring, object?\u003e BuildArguments { get; } = [];\n}\n```\n\n\nManifest\n\n```JSON\n{\n  \"api\": {\n      \"type\": \"project.v1\",\n      \"build\": {\n         \"args\": {\n            \"ContainerImage\": \"{image.value}\"\n         }\n      }\n    }\n}\n```\n\n## Usage Examples\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar imageName = builder.AddParameter(\"api-image\");\n\nbuilder.AddProject\u003cProjects.MyApi\u003e(\"api\")\n       .WithBuildProperty(\"ContainerImage\", imageName);\n\nbuilder.Build().Run();\n```\n\n## Risks\n\nWe need to make sure that build arguments are applied in all of the places that make sense. Today, the apphost gets built, along with referenced projects before we execute. That might cause some confusion. \n\n\n\u003cdetails\u003e\n\u003csummary\u003eoriginal issue\u003c/summary\u003e\n\n### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWe deploy microservices via Aspire and Azure Developer CLI (azd). Currently, Aspire does not specify container repository naming conventions or image tags in the service manifests, and Azure Developer CLI (azd) applies default naming conventions:\n\n**Repository name:** {projectName}/{serviceName}-{env}\n**Image tag**: azd-deploy-{clock.now().unix()}\n\n#### Steps to Reproduce\n\n1. Create a new Aspire project with a project reference.\n2. Run azd deploy.\n3. Observe that the deployed container image includes:\n  - A repository name in the format {projectName}/{serviceName}-{env}.\n  - An image tag in the format azd-deploy-{clock.now().unix()}.\n4. Reference the deployed container image from another Aspire project\n```csharp\nbuilder.AddContainer(\"deployed-image\", \"{projectName}/{serviceName}-{env}\", \"azd-deploy-{clock.now().unix()}\")\n       .WithImageRegistry(\"myregistry.azurecr.io\");\n```\n\nThis behaviour limits our ability to use semantic versioning and custom repository names for container images. \n\n\n### Describe the solution you\u0027d like\nI propose adding support in Aspire to allow developers to specify container repository names and image tags directly in the manifest. Aspire should generate the manifest with these options so that azd can use the specified values instead of its defaults.\n\n\n#### Proposed API Changes in Aspire\n\n1. **Add `ContainerPublishingOptionsAnnotation`**  \n   This annotation will store the repository and image tag information.\n\n   ```csharp\n   namespace Aspire.Hosting.ApplicationModel;\n   internal class ContainerPublishingOptionsAnnotation : IResourceAnnotation\n   {\n       public string? Repository { get; set; }\n       public string? ImageTag { get; set; }\n   }\n   ```\n\n2. **Add Extension Method to Project Resource Builder**  \n   The extension method enables developers to configure these values.\n\n   ```csharp\n   public static IResourceBuilder\u003cProjectResource\u003e WithContainerPublishingOptions(\n       this IResourceBuilder\u003cProjectResource\u003e builder, \n       string? imageTag, \n       string? repository)\n   {\n       ArgumentNullException.ThrowIfNull(builder);\n\n       ContainerPublishingOptionsAnnotation annotation = new()\n       {\n           ImageTag = imageTag,\n           Repository = repository\n       };\n       builder.Resource.Annotations.Add(annotation);\n       return builder;\n   }\n   ```\n\n3. **Modify `WriteToProjectAsync` in `ManifestPublishingContext`**  \n   Update the manifest generation logic to include the `config` section if `ContainerPublishingOptionsAnnotation` is present.\n\n   **Updated Code:**\n   ```csharp\n   private async Task WriteProjectAsync(ProjectResource project)\n   {\n       if (!project.TryGetLastAnnotation\u003cIProjectMetadata\u003e(out var metadata))\n       {\n           throw new DistributedApplicationException(\"Project metadata not found.\");\n       }\n\n       var relativePathToProjectFile = GetManifestRelativePath(metadata.ProjectPath);\n\n       if (project.TryGetLastAnnotation\u003cDeploymentTargetAnnotation\u003e(out var deploymentTarget))\n       {\n           Writer.WriteString(\"type\", \"project.v1\");\n       }\n       else\n       {\n           Writer.WriteString(\"type\", \"project.v0\");\n       }\n\n       if (project.TryGetLastAnnotation\u003cContainerPublishingOptionsAnnotation\u003e(out var containerImageAnnotation))\n       {\n           Writer.WriteStartObject(\"config\");\n           if (containerImageAnnotation.ImageTag is not null)\n           {\n               Writer.WriteString(\"containerImageTag\", containerImageAnnotation.ImageTag);\n           }\n           if (containerImageAnnotation.Repository is not null)\n           {\n               Writer.WriteString(\"containerRepository\", containerImageAnnotation.Repository);\n           }\n           Writer.WriteEndObject();\n       }\n\n       Writer.WriteString(\"path\", relativePathToProjectFile);\n\n       if (deploymentTarget is not null)\n       {\n           await WriteDeploymentTarget(deploymentTarget).ConfigureAwait(false);\n       }\n\n       await WriteCommandLineArgumentsAsync(project).ConfigureAwait(false);\n\n       await WriteEnvironmentVariablesAsync(project).ConfigureAwait(false);\n\n       WriteBindings(project);\n   }\n   ```\n#### Manifest changes:\n\n**Current**\n```json\n\"apiservice\": {\n  \"type\": \"project.v1\",\n  \"path\": \"ApiService/ApiService.csproj\",\n  \"deployment\": {\n    \"type\": \"azure.bicep.v0\",\n    \"path\": \"apiservice.module.bicep\",\n    \"params\": {\n      \"apiservice_containerimage\": \"{apiservice.containerImage}\"\n    }\n  }\n}\n```\n**Updated**\n```json\n\"apiservice\": {\n  \"type\": \"project.v1\",\n  \"path\": \"ApiService/ApiService.csproj\",\n  \"config\": {\n    \"containerRepository\": \"my-microservices/apiservice\",\n    \"containerImageTag\": \"v1.2.0;latest\"\n  },\n  \"deployment\": {\n    \"type\": \"azure.bicep.v0\",\n    \"path\": \"apiservice.module.bicep\",\n    \"params\": {\n      \"apiservice_containerimage\": \"{apiservice.containerImage}\"\n    }\n  }\n}\n\n```\nThis would permit developers to do the following:\n```csharp\nbuilder.AddProject\u003cProjects.ApiService\u003e(\"apiservice\")\n       .WithContainerPublishingOptions(\"v1.2.0;latest\", \"my-microservices/apiservice\")\n```\nand then reference the deployed container image in a separate project as\n```csharp\nbuilder.AddContainer(\"deployed-image\", \"my-microservices/apiservice\", \"v1.2.0\")\n       .WithImageRegistry(\"myregistry.azurecr.io\");\n```\n\n### Additional context\n\nCurrently, azd generates the container image name using the following logic:\n\n```go\nimageName := fmt.Sprintf(\"%s:%s\",\n    at.containerHelper.DefaultImageName(serviceConfig),\n    at.containerHelper.DefaultImageTag())\n```\n\nThis applies default values for the image repository and tag. To support configurable options for `containerImageTags` and `containerRepository`, azd would need a corresponding change such as:\n\n```go\ncontainerImageTags := at.containerHelper.DefaultImageTag()\nif serviceConfig.Config[\"containerImageTags\"] != nil {\n    containerImageTags = serviceConfig.Config[\"containerImageTags\"].(string)\n}\n\ncontainerRepository := at.containerHelper.DefaultImageName(serviceConfig)\nif serviceConfig.Config[\"containerRepository\"] != nil {\n    containerRepository = serviceConfig.Config[\"containerRepository\"].(string)\n}\n\nimageName := fmt.Sprintf(\"%s:%s\", containerRepository, containerImageTags)\n```\n\nThis change would allow azd to read the custom values defined in the Aspire-generated manifest under the `config` section, enabling developers to override the defaults with their desired repository names and semantic version tags.\n\n\nThe selection of \"config\" as the manifest property is driven by the existing azd ServiceConfig type which defines:\n\n```go\n// Custom configuration for the service target\n\tConfig map[string]any `yaml:\"config,omitempty\"`\n```\n**Final Notes**:  \nThese changes will:\n- Enable semantic versioning for microservices, improving maintainability.\n- Provide developers with control over repository naming conventions to align with organizational standards.\n- Allow seamless reuse of container images across multiple projects by supporting explicit repository and tag references.\n\nThese updates align with azd\u0027s existing `ServiceConfig` structure, leveraging its `config` property for container customization. I am happy to contribute the necessary code changes.\n\n\u003c/details\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOmhyBVg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6aFcKD",
                                           "createdAt":  "2025-01-11T06:28:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What is WithContainer? Do you mean AddDockerFile or WithDockerFile?\n",
                                           "updatedAt":  "2025-01-11T06:28:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aFdIU",
                                           "createdAt":  "2025-01-11T06:44:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "FullStackChef",
                                           "body":  "sorry - meant builder.AddContainer(\"image\",\"tag\")",
                                           "updatedAt":  "2025-01-11T06:44:02Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aFeop",
                                           "createdAt":  "2025-01-11T07:09:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I\u0027m confused. Are you building a container image using AddContainer(...).WithDockerFile?",
                                           "updatedAt":  "2025-01-11T07:09:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aFu-p",
                                           "createdAt":  "2025-01-11T10:20:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "FullStackChef",
                                           "body":  "Here\u0027s an example of what I\u0027m talking about\n\n================================\n\nMicroservice Repo: FileService \n\nAppHost:\n\n```csharp\n\nvar storageResource = builder.AddAzureStorage(\"storageAccount\")\n                             .RunAsEmulator(opt =\u003e opt.WithBlobPort(10000).WithLifetime(ContainerLifetime.Persistent))\n                             .AddBlobs(\"files\");\n\nvar apiService = builder.AddProject\u003cProjects.FileServiceApi\u003e(\"apiservice\")\n                        .WithReference(storageResource);\n\n```\n\n========================   \n\nMircorservice Repo: RulesEngine \n\nAppHost:\n\n```csharp\n\nvar cosmosDb = builder.AddAzureCosmosDB(\"rulesData\")\n                  .WithExternalHttpEndpoints()\n                  .ConfigureInfrastructure(infr =\u003e\n                  {\n                      var account = infr.GetProvisionableResources().OfType\u003cCosmosDBAccount\u003e().First();\n                      account.Capabilities.Add(new CosmosDBAccountCapability { Name = \"EnableServerless\" });\n                  })\n                  .AddDatabase(\"rules\");\n\nvar rulesEngine = builder.AddNpmApp(\"rules-engine\", \"../RulesEngine\")\n                        .PublishAsDockerFile();\n\nvar apiService = builder.AddProject\u003cProjects.RulesApi\u003e(\"apiservice\")\n                        .WithReference(rulesEngine)\n                        .WithReference(cosmosDb);\n\n```\n\n===========================\nProduct Repo: e.g SaasProduct1\n\n```csharp\n// File Service\nvar storageResource = builder.AddAzureStorage(\"storageAccount\")\n                             .RunAsEmulator(opt =\u003e opt.WithBlobPort(10000).WithLifetime(ContainerLifetime.Persistent))\n                             .AddBlobs(\"files\");\n\nvar fileService = builder.AddContainer(\"file-service\",\"fileserviceapi/apiservice\",\"azd-deploy-124215\")\n                        .WithReference(storageResource);\n\n// Rules Engine\nvar cosmosDb = builder.AddAzureCosmosDB(\"rulesData\")\n                  .WithExternalHttpEndpoints()\n                  .ConfigureInfrastructure(infr =\u003e\n                  {\n                      var account = infr.GetProvisionableResources().OfType\u003cCosmosDBAccount\u003e().First();\n                      account.Capabilities.Add(new CosmosDBAccountCapability { Name = \"EnableServerless\" });\n                  })\n                  .AddDatabase(\"rules\");\n\nvar rulesEngine = builder.AddContainer(\"rules-engine\",\"rulesengine/rulesengine\",\"azd-deploy-523532\")\n\nvar rulesApi = builder.AddContainer(\"rules-engine\",\"rulesengine/apiservice\",\"azd-deploy-5235243\")\n                        .WithReference(rulesEngine)\n                        .WithReference(cosmosDb);\n\nvar application = builder.AddProject\u003cProjects.ContentApp\u003e(\"frontend\")\n                        .WithReference(rulesApi)\n                        .WithReference(fileService)\n\n```\n\nIn this way - we can build and test all of our microservice in isolation - we then have a product repo that pulls it all together and (would ideally) reference semantically versioned container images from azure container registry  for our microservices\n\n\n",
                                           "updatedAt":  "2025-01-11T10:22:16Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aG0UU",
                                           "createdAt":  "2025-01-11T23:30:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "In the samples I dint see why azd would build any container. The image in this situation is baked into the bicep as a literal.",
                                           "updatedAt":  "2025-01-11T23:30:08Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6aHIFW",
                                           "createdAt":  "2025-01-12T03:14:02Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think I understand what you are asking for, but I think what you want is to be able to control msbuild properties when building projects. Today we have no way of setting build properties for projects.",
                                           "updatedAt":  "2025-01-12T03:14:02Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Allow specifying MSBuild arguments to build project resources for in publish mode",
        "labels":  [
                       "area-app-model",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7330",
        "createdAt":  "2025-01-30T12:15:25Z",
        "number":  7330,
        "author":  "pfo-omicsstudio",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-14T06:06:12Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\nEnvironment:\n- **Aspire Version**: 9.0.0 (tested on 1/30/2025)\n- **.NET Version**: .NET 9.0.102 SDK\n- **Azure Dev CLI (azd)**: 1.11.1\n- **OS**: macOS (Apple Silicon)\n\nWhen using Aspire with **Azurite in development (`RunAsEmulator`)** and **Azure Storage in production (`azd provision`)**, Aspire **incorrectly merges emulator bindings into the production manifest and Bicep templates**.\n\nThis results in an **invalid connection string** containing `bindings.blob.host`, causing Bicep generation to fail with:\n\n`ERROR: generating bicep from manifest: evaluating value for ConnectionStrings__blobs:\nevaluating connection string for blobs: unsupported property referenced in binding expression: bindings.blob.host for azure.bicep.v0`\n\n### **What I Expected**\n- In **development**, Aspire should correctly use Azurite.\n- In **production**, Aspire should generate a valid Azure Storage endpoint.\n- The **production manifest/Bicep should not reference** `bindings.blob.host`.\n\n### **What Actually Happens**\n- The **emulator binding is incorrectly merged into the production manifest**, causing `bindings.blob.host` to be present in production.\n- This results in **Bicep generation failure**, blocking deployment.\n\nI have thoroughly reviewed my setup and compared it with other Aspire projects that use a similar configuration without issues. Despite my efforts, I have been unable to find any relevant documentation or discussions about this specific error. Given the lack of available solutions and my unsuccessful attempts at resolving the issue, I am unsure if this is a misconfiguration on my part or a potential bug. Any guidance or clarification would be greatly appreciated.\n\nBelow is the generated Aspire.NET manifest and Bicep file produced when running `dotnet run --launch-profile manifest`.\n\n[aspire-manifest.json](https://github.com/user-attachments/files/18602166/aspire-manifest.json)\n\n```bicep\n@description(\u0027The location for the resource(s) to be deployed.\u0027)\nparam location string = resourceGroup().location\n\nparam principalId string\n\nparam principalType string\n\nresource storage \u0027Microsoft.Storage/storageAccounts@2024-01-01\u0027 = {\n  name: take(\u0027storage${uniqueString(resourceGroup().id)}\u0027, 24)\n  kind: \u0027StorageV2\u0027\n  location: location\n  sku: {\n    name: \u0027Standard_GRS\u0027\n  }\n  properties: {\n    accessTier: \u0027Hot\u0027\n    allowSharedKeyAccess: false\n    minimumTlsVersion: \u0027TLS1_2\u0027\n    networkAcls: {\n      defaultAction: \u0027Allow\u0027\n    }\n  }\n  tags: {\n    \u0027aspire-resource-name\u0027: \u0027storage\u0027\n  }\n}\n\nresource blobs \u0027Microsoft.Storage/storageAccounts/blobServices@2024-01-01\u0027 = {\n  name: \u0027default\u0027\n  parent: storage\n}\n\nresource storage_StorageBlobDataContributor \u0027Microsoft.Authorization/roleAssignments@2022-04-01\u0027 = {\n  name: guid(storage.id, principalId, subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u0027ba92f5b4-2d11-453d-a403-e96b0029c9fe\u0027))\n  properties: {\n    principalId: principalId\n    roleDefinitionId: subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u0027ba92f5b4-2d11-453d-a403-e96b0029c9fe\u0027)\n    principalType: principalType\n  }\n  scope: storage\n}\n\nresource storage_StorageTableDataContributor \u0027Microsoft.Authorization/roleAssignments@2022-04-01\u0027 = {\n  name: guid(storage.id, principalId, subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u00270a9a7e1f-b9d0-4cc4-a60d-0319b160aaa3\u0027))\n  properties: {\n    principalId: principalId\n    roleDefinitionId: subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u00270a9a7e1f-b9d0-4cc4-a60d-0319b160aaa3\u0027)\n    principalType: principalType\n  }\n  scope: storage\n}\n\nresource storage_StorageQueueDataContributor \u0027Microsoft.Authorization/roleAssignments@2022-04-01\u0027 = {\n  name: guid(storage.id, principalId, subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u0027974c5e8b-45b9-4653-ba55-5f855dd0fb88\u0027))\n  properties: {\n    principalId: principalId\n    roleDefinitionId: subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u0027974c5e8b-45b9-4653-ba55-5f855dd0fb88\u0027)\n    principalType: principalType\n  }\n  scope: storage\n}\n\noutput blobEndpoint string = storage.properties.primaryEndpoints.blob\n\noutput queueEndpoint string = storage.properties.primaryEndpoints.queue\n\noutput tableEndpoint string = storage.properties.primaryEndpoints.table\n```\n\n### Expected Behavior\n\n- In **production**, Aspire should not include any emulator host/port references.\n- The generated manifest/Bicep for production should only contain a valid Azure Blob Storage endpoint or connection string, **not** `bindings.blob.host`.\n\n## **Actual Behavior**\n- Aspire merges the emulator binding into the Bicep for production, causing the `bindings.blob.host` reference and resulting deployment failures.\n\n## **Workarounds Attempted**\n1. **Separate resource names** for dev vs. prod.\n2. **Manual cleanup** of old artifacts and caches.\n\n3. **Explicit environment checks** to ensure CI is not recognized\n\n### Steps To Reproduce\n\nMy setup is extremely simple. I simply did the following:\n1. Create a `.NET Aspire` project with the following code in AppHost:\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar storage = builder\n    .AddAzureStorage(\"storage\")\n    .RunAsEmulator(resourceBuilder =\u003e\n    {\n        resourceBuilder.WithDataVolume(\"omics-studio-storage-data\");\n        resourceBuilder.WithBlobPort(10000);\n        resourceBuilder.WithLifetime(ContainerLifetime.Persistent);\n    })\n    .WithAnnotation(\n        new ContainerImageAnnotation\n        {\n            Registry = \"mcr.microsoft.com\",\n            Image = \"azure-storage/azurite\",\n            Tag = \"latest\",\n        }\n    )\n    .AddBlobs(\"blobs\");\n\nawait builder.Build().RunAsync();\n```\n2. Ran `azd init` and `azd provision`\n\nAnd that gave me the following error:\n`generating bicep from manifest: evaluating value for ConnectionStrings__blobs: evaluating connection string for blobs: unsupported property referenced in binding expression: bindings.blob.host for azure.bicep.v0`\n\n### Exceptions (if any)\n\n`generating bicep from manifest: evaluating value for ConnectionStrings__blobs: evaluating connection string for blobs: unsupported property referenced in binding expression: bindings.blob.host for azure.bicep.v0`\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.102\n Commit:            cb83cd4923\n Workload version:  9.0.100-manifests.43af17c7\n MSBuild version:   17.12.18+ed8c6aec5\n\nRuntime Environment:\n OS Name:     Mac OS X\n OS Version:  15.2\n OS Platform: Darwin\n RID:         osx-arm64\n Base Path:   /usr/local/share/dotnet/sdk/9.0.102/\n\n.NET workloads installed:\nThere are no installed workloads to display.\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.1\n  Architecture: arm64\n  Commit:       c8acea2262\n\n.NET SDKs installed:\n  9.0.102 [/usr/local/share/dotnet/sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 9.0.1 [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 9.0.1 [/usr/local/share/dotnet/shared/Microsoft.NETCore.App]\n\nOther architectures found:\n  None\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrmWIBQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6cbS17",
                                           "createdAt":  "2025-01-30T12:40:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pfo-omicsstudio",
                                           "body":  "A quick update on this. I tried rewriting the following code:\n\n```csharp\nvar storage = builder\n    .AddAzureStorage(\"storage\")\n    .RunAsEmulator(resourceBuilder =\u003e\n    {\n        resourceBuilder.WithDataVolume(\"omics-studio-storage-data\");\n        resourceBuilder.WithBlobPort(10000);\n        resourceBuilder.WithLifetime(ContainerLifetime.Persistent);\n    })\n    .WithAnnotation(\n        new ContainerImageAnnotation\n        {\n            Registry = \"mcr.microsoft.com\",\n            Image = \"azure-storage/azurite\",\n            Tag = \"latest\",\n        }\n    )\n    .AddBlobs(\"blobs\");\n```\n\ninto this:\n```csharp\nvar storage = builder.AddAzureStorage(\"storage\").AddBlobs(\"blobs\");\n```\n\nWith this change, azd provision now works perfectly fine. However, this also means that the emulator is no longer running when developing locally, which is obviously not an actual solution.\n\nAm I missing something here, or does this behavior seem unintuitive? Shouldn’t Aspire be smart enough to exclude the emulator configuration in production? What exactly is happening here?",
                                           "updatedAt":  "2025-01-30T12:40:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cc7cR",
                                           "createdAt":  "2025-01-30T15:34:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEEoOLw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pfo-omicsstudio",
                                                                               "createdAt":  "2025-01-30T16:10:53Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Instead of manually adding annotations, the right approach is to use `RunAsEmulator`.\n\nhttps://learn.microsoft.com/en-us/dotnet/aspire/storage/azure-storage-blobs-integration?tabs=dotnet-cli#add-azure-storage-emulator-resource\n\nIn that callback, you can change the image using WithImage* methods.",
                                           "updatedAt":  "2025-01-30T15:34:57Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cc8Qy",
                                           "createdAt":  "2025-01-30T15:35:38Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEEoOKw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HEART",
                                                                               "user":  "pfo-omicsstudio",
                                                                               "createdAt":  "2025-01-30T16:10:51Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "```C#\nvar storage = builder\n    .AddAzureStorage(\"storage\")\n    .RunAsEmulator(resourceBuilder =\u003e\n    {\n        resourceBuilder.WithDataVolume(\"omics-studio-storage-data\");\n        resourceBuilder.WithBlobPort(10000);\n        resourceBuilder.WithLifetime(ContainerLifetime.Persistent);\n        resourceBuilder.WithImageTag(\"latest\");\n    })\n    .AddBlobs(\"blobs\");\n```",
                                           "updatedAt":  "2025-01-30T15:35:38Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6cdVNN",
                                           "createdAt":  "2025-01-30T16:13:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "pfo-omicsstudio",
                                           "body":  "Thank you so much @davidfowl! That worked and was exactly what I needed, and I apologize for any confusion.\nReally appreciate the help, it means a lot 🙏\n\nDo you think Aspire should include a failsafe to prevent this issue? The error message wasn’t very intuitive, and I struggled to find any relevant information online. It seems likely that others might run into the same problem in the future.",
                                           "updatedAt":  "2025-01-30T16:13:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6uZYgF",
                                           "createdAt":  "2025-05-31T22:38:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@vhvb1989 We can look at improving that error message but I\u0027m not sure I\u0027ve see lots of people hitting this.",
                                           "updatedAt":  "2025-05-31T22:38:28Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Aspire incorrectly merges Azurite emulator bindings into production manifest, causing Bicep failure",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7685",
        "createdAt":  "2025-02-19T16:13:25Z",
        "number":  7685,
        "author":  "Juulsn",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T18:14:31Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen using the Qdrant Integration and the .PublishAsAzureContainerApp() extension method is used (on any resource - must not be the Qdrant resource itself) one can\u0027t connect to the Qdrant resource from an api service for example. \nAny method called on the QdrantClient results in a `Grpc.Core.RpcException: Status(StatusCode=\"Unknown\", Detail=\"\")` error\n\n### Expected Behavior\n\nWhen using the .PublishAsAzureContainerApp() in the AppHost project, the Qdrant integration should not break.\n\n### Steps To Reproduce\n\n- Add Qdrant Integration to default Aspire Template\n- Add Qdrant reference to webfrontend\n- Call for example `.ExistsCollection(\"my-collection\")` on `QdrantClient` when clicking on a button\n- Deploy to azure (azd up)\n- Click button and look at the log, you should see the following error: `Grpc.Core.RpcException: Status(StatusCode=\"Unknown\", Detail=\"\")`\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\nTested with various aspire versions: from latest stable to preview - same result all the time.\n\nSDK 9.0.200 - macOS (arm)",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxXyX_w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6uZX9U",
                                           "createdAt":  "2025-05-31T22:34:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you provide a repro?",
                                           "updatedAt":  "2025-05-31T22:34:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wDi-3",
                                           "createdAt":  "2025-06-08T08:09:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@Juulsn did you ever get around to reproducing this?",
                                           "updatedAt":  "2025-06-08T08:09:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wD4PY",
                                           "createdAt":  "2025-06-08T09:21:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Juulsn",
                                           "body":  "Not yet ☹️ ",
                                           "updatedAt":  "2025-06-08T09:21:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7FfJf_",
                                           "createdAt":  "2025-09-19T18:14:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Juulsn",
                                           "body":  "@davidfowl Had time to look into this again. Still exists.\n\nhttps://github.com/Juulsn/Aspire-QdrantTest\n\nDeploy to azure via `azd up` and watch it fail, when pressing the \"Test Qdrant Exists\" button.\n(Should work locally)",
                                           "updatedAt":  "2025-09-19T18:14:31Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Aspire.Hosting.Azure.AppContainers breaks Qdrant Integration (ACA)",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/7829",
        "createdAt":  "2025-02-28T14:33:21Z",
        "number":  7829,
        "author":  "dansiegel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T09:36:22Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWhile it\u0027s great that there is a path to validating Custom Domains, there are still cases where this is really just not feasible. For instance any sort of SaaS Application which may provision a new domain/subdomain for tenants using the application. \n\nAs an example, we store the tenant data in a database that is created as part of our Aspire deployment. This would create a chicken/egg issue since Aspire needs to deploy in order for us to have the database to connect to and check which tenants should be mapped to.\n\nThis would create issues for deployment in trying to map/validate that we have an accurate list of which tenants should or should not be active.\n\n### Describe the solution you\u0027d like\n\n```cs\nmyResource.PublishAsAzureContainerApp((azure, container) =\u003e\n{\n    container.DisableCustomDomainValidation()\n});\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOqdaKPQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6gYncH",
                                           "createdAt":  "2025-02-28T14:39:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "What would this method do?",
                                           "updatedAt":  "2025-02-28T14:39:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6geohR",
                                           "createdAt":  "2025-03-01T19:49:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "KSemenenko",
                                           "body":  "@dansiegel how do you make custom domains works? I can’t find any real examples of it. Only one with unclear parameters",
                                           "updatedAt":  "2025-03-01T19:49:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6g6HTt",
                                           "createdAt":  "2025-03-05T02:26:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dansiegel",
                                           "body":  "\u003e What would this method do?\n\nThe goal would be to prevent any changes to custom domains on publish. I realize this might seem counter to the idea of infrastructure as code however with regards to custom domains this can create more complexities than it\u0027s really worth, particularly if you have a SaaS application as an example where you have a database that is part of that infrastructure which is where you would need to query to determine which which custom domains would be appropriate to preserve.",
                                           "updatedAt":  "2025-03-05T02:26:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6px1zZ",
                                           "createdAt":  "2025-05-03T04:05:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dluc",
                                           "body":  "Any update on this topic? \n\nOn each deployment, ACAs\u0027 **Custom Domains are deleted**, breaking production apps, and requiring manual steps to put the custom domains back (DNS + Cert)",
                                           "updatedAt":  "2025-05-03T04:05:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6px2Kb",
                                           "createdAt":  "2025-05-03T04:09:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEQqJUw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "KSemenenko",
                                                                               "createdAt":  "2025-05-03T09:07:09Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This isn\u0027t limited to custom domains but any change made outside of the model will get erased it\u0027s basically drift at that point. The experience is bad though and we dont even warn.\n\n@mitchdenny @IEvangelist we should document the end to end with custom domains.\n\n@dansiegel @dluc you are supposed call:\n\nhttps://learn.microsoft.com/en-us/dotnet/api/aspire.hosting.containerappextensions.configurecustomdomain\n\nAn example:\nhttps://github.com/dotnet/aspire/blob/8239e2da513be7510675c6aaea63c651587b0416/playground/AzureContainerApps/AzureContainerApps.AppHost/Program.cs#L57\n\nYou call this once you\u0027ve manually configured your custom domain (on the second deploy).",
                                           "updatedAt":  "2025-05-03T04:09:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6p1il9",
                                           "createdAt":  "2025-05-04T19:44:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dansiegel",
                                           "body":  "here\u0027s the problem with this... 🐔 🥚 \nI need the database that is part of the same infrastructure as code in order to determine which domains should/should not exist... and of course the database needs to have been migrated so that we can query it...",
                                           "updatedAt":  "2025-05-04T19:44:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6p1mh1",
                                           "createdAt":  "2025-05-04T20:19:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You don’t, the domains are values passed into the deployment (not part of the iac). As long as the values are right by the time to actually perform the deployment, then you’re fine.",
                                           "updatedAt":  "2025-05-04T20:19:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6p1oo9",
                                           "createdAt":  "2025-05-04T20:44:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dansiegel",
                                           "body":  "\u003e You don’t, the domains are values passed into the deployment (not part of the iac). As long as the values are right by the time to actually perform the deployment, then you’re fine.\n\nBut it\u0027ll likely have to wait until I\u0027m back home in about a week with access to my Windows machine. Never did get things working on my Mac.",
                                           "updatedAt":  "2025-05-04T20:44:49Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Disable Custom Domain validation on deployment",
        "labels":  [
                       "area-deployment",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8306",
        "createdAt":  "2025-03-26T01:59:39Z",
        "number":  8306,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-16T17:39:33Z",
        "body":  "... for example, we want an option to control whether we produce an OCI compliant image or not. This would be something that the publisher controls since it understands the target environment. Usage would be.\n\n```csharp\nvar containerRuntime = services.GetRequiredKeyedService\u003cIContainerRuntime\u003e(runtimeName);\nvar imageName = containerRuntime.BuildImageAsync(resource, (options) =\u003e {\n  options.OciCompliant = true;\n});\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add options argument to `IContainerRuntime` to allow tweaks to the way the image is generated.",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8748",
        "createdAt":  "2025-04-12T16:46:56Z",
        "number":  8748,
        "author":  "VolkerGa",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODJW8lg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "lvde0",
                                            "createdAt":  "2025-07-31T14:55:45Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-17T14:29:16Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI\u0027m excited to try the new docker-compose publisher, knowing that it is still a preview. This is exactly what I am looking for to use in our current project!\n\nI am trying to publish using the aspire.cli withe the docker-compose publisher. This works fine locally (not specifying the `ContainerRegistry` property in the project file) but fails as soon as I want to publish to GitHub.\nUsually I set the property `ContainerRepository` in my project file to something like \"company/packages/product\".\nHowever, aspire overwrites this property with the resource name which is \"product\" in my case.\n\nRunning aspire with the --debug switch shows that dotnet publish is being called with `/p:ContainerRepository=product`\n\n`ResourceContainerImageBuilder.BuildProjectContainerImageAsync()` always adds that property to the dotnet call. Would it make sense to allow overriding this behavior?\n\n### Expected Behavior\n\nI would expect Aspire to use the Property `ContainerRepository` as defined in the project file. This is how `dotnet publish` generates the image name.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\nThere is no exception being displayed. The publishing step seems to run forever in this case.\n\n### .NET Version info\n\n .Net SDK 9.0.203\n\n### Anything else?\n\nAspire 9.2\naspire.cli 9.2.0-preview.1.25209.2",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvPtMUw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6m1FAL",
                                           "createdAt":  "2025-04-12T18:06:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes the plan is to support this we just didn’t complete it in the time 9.2 time frame. You should be able to docker push after the normal container build takes place as a workaround. Then you can update the image registry via the env variables",
                                           "updatedAt":  "2025-04-12T18:06:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6m1F4O",
                                           "createdAt":  "2025-04-12T18:16:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "VolkerGa",
                                           "body":  "Thank you for the quick response! I will use the proposed workaround for the meantime.",
                                           "updatedAt":  "2025-04-12T18:16:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6nTCnQ",
                                           "createdAt":  "2025-04-15T16:35:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "I will send a PR.",
                                           "updatedAt":  "2025-04-15T16:35:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc67LTDe",
                                           "createdAt":  "2025-07-31T14:56:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lvde0",
                                           "body":  "@Alirexaa What happened to that PR? I think that feature would be really important to have.",
                                           "updatedAt":  "2025-07-31T14:56:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc68-0xT",
                                           "createdAt":  "2025-08-09T10:37:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEelmjg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "lvde0",
                                                                               "createdAt":  "2025-08-18T06:52:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "Alirexaa",
                                           "body":  "\u003e [@Alirexaa](https://github.com/Alirexaa) What happened to that PR? I think that feature would be really important to have.\n\nThere is an issue in the SDK that causes the image to be pushed to the registry after the build.\nhttps://github.com/dotnet/sdk-container-builds/issues/509\n\nThis issue prevents adding proper tests because it needs a registry to push the image whenever we run the test.\nAnd in some cases, we don\u0027t want to push the image to the registry immediately after the build.\n",
                                           "updatedAt":  "2025-08-09T10:37:53Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Publishing Docker image for project resource to GitHub fails due to ContainerRepository",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8842",
        "createdAt":  "2025-04-17T08:55:02Z",
        "number":  8842,
        "author":  "Alirexaa",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODIvZSQ==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "lvde0",
                                            "createdAt":  "2025-07-28T10:33:18Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-07-28T12:15:47Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nCurrently, there is no way to configure `registry`, `tags`, `labels`, and other options that the SDK provides for building a container image; only `ContainerRepository` is used to build the image.\n\nhttps://github.com/dotnet/aspire/blob/b1165fd1aa0fab879299074aa8636791cf52f8e3/src/Aspire.Hosting/Publishing/ResourceContainerImageBuilder.cs#L89-L101\n\n### Describe the solution you\u0027d like\n\nAdd an ability to configure the container image using the properties that the SDK provides, such as `ContainerBaseImage`  , `ContainerRegistry` , `ContainerImageTag(s)`, and other options mentioned in the docs https://learn.microsoft.com/en-us/dotnet/core/containers/publish-configuration.\n\nConsider adding an annotation to the Project resource and leveraging it in `IResourceContainerImageBuilder.BuildImageAsync`.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOumGjNQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6ybk2C",
                                           "createdAt":  "2025-06-21T13:09:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "jgrosic",
                                           "body":  "It seems that [BuildContainerImageFromDockerfileAsync](https://github.com/dotnet/aspire/blob/2780a7bc369c88e06ce79cf5b72ae8fc4c938ed8/src/Aspire.Hosting/Publishing/ResourceContainerImageBuilder.cs#L80-L91) ignores the image tag annotation that is already present in ContainerImageAnnotations.\n\n",
                                           "updatedAt":  "2025-06-21T21:56:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66XC-Z",
                                           "createdAt":  "2025-07-28T10:34:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "lvde0",
                                           "body":  "Yes, this would be quite important to have, but it doesn\u0027t seem to be on the agenda for 9.4.",
                                           "updatedAt":  "2025-07-28T10:35:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66YaM1",
                                           "createdAt":  "2025-07-28T12:15:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEfYMqw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Misiu",
                                                                               "createdAt":  "2025-07-28T12:22:39Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "lvde0",
                                                                               "createdAt":  "2025-07-31T14:57:11Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "jgrosic",
                                                                               "createdAt":  "2025-08-23T14:25:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  3
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "9.4 is done. We\u0027ll figure this out in 9.5",
                                           "updatedAt":  "2025-07-28T12:15:47Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Add ability to configure container image when publishing by docker compose publisher",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/8939",
        "createdAt":  "2025-04-23T22:54:07Z",
        "number":  8939,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODBoGIA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "dluc",
                                            "createdAt":  "2025-04-23T23:18:45Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-21T15:58:04Z",
        "body":  "When using container volumes in an ACA app, we are generating an Azure Storage account for storing those volumes. \n\nHowever, the way the access from ACA to this storage account happens is via access keys:\n\nhttps://github.com/dotnet/aspire/blob/8fd92afd7f3d9168c96f52f147a7b301b78ad349/src/Aspire.Hosting.Azure.AppContainers/AzureContainerAppExtensions.cs#L202-L215\n\nThis means that an Azure Storage account is created that allows shared key access, which may trigger security rules in environments that don\u0027t want to allow Azure Storage accounts with access keys.\n\nWe should be using managed identities here instead, to allow communication between the ACA container and the Storage account.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOv2Z9Bg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6uZW7q",
                                           "createdAt":  "2025-05-31T22:28:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We need this to exposed this on the azure resource https://github.com/Azure/azure-sdk-for-net/issues/50359",
                                           "updatedAt":  "2025-05-31T22:28:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_Q6JV",
                                           "createdAt":  "2025-08-21T03:36:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@eerhardt did we get an updated API for this yet?",
                                           "updatedAt":  "2025-08-21T03:36:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_Zn0G",
                                           "createdAt":  "2025-08-21T15:46:08Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEfJMUw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-21T15:57:56Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e [@eerhardt](https://github.com/eerhardt) did we get an updated API for this yet?\n\nNo, not that I can see. I think this is beyond Azure.Provisioning, I don\u0027t see how ACA supports it at all. All the docs only use accountKeys.",
                                           "updatedAt":  "2025-08-21T15:46:08Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "ACA Container volumes use shared access keys",
        "labels":  [
                       "azure",
                       "external",
                       "security 🔐",
                       "area-deployment",
                       "azure-container-apps",
                       "Azure.Provisioning"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9019",
        "createdAt":  "2025-04-29T15:03:41Z",
        "number":  9019,
        "author":  "RamType0",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-22T03:02:10Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWe often met weird error while generating bicep manifest with Aspire. (e.g. `unsupported resource type: project.v1`)\nBut we could not debug it.\n\n### Describe the solution you\u0027d like\n\nAdd feature to debug publish mode,\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuM_IDw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6pQoma",
                                           "createdAt":  "2025-04-29T17:43:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I assume you mean azd right?\n\n@vhvb1989 ?",
                                           "updatedAt":  "2025-04-29T17:43:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pQr95",
                                           "createdAt":  "2025-04-29T17:49:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "Ideally, I want unified framework for any kind of publish(e.g, Azure, AWS)\nBut it is OK even if it is only for Azure.",
                                           "updatedAt":  "2025-04-29T17:49:47Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pQvAO",
                                           "createdAt":  "2025-04-29T17:55:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I\u0027m not sure what you mean. Can you clarify?",
                                           "updatedAt":  "2025-04-29T17:55:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pZpFn",
                                           "createdAt":  "2025-04-30T13:54:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "\u003e I\u0027m not sure what you mean. Can you clarify?\n\nWhen we start Aspire AppHost with debugging, it is always RunMode.\nI want to start Aspire AppHost with debugging in PublishMode to investigate issue while publishing.\n",
                                           "updatedAt":  "2025-04-30T13:54:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6paYMS",
                                           "createdAt":  "2025-04-30T14:54:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "How are you running the app host?",
                                           "updatedAt":  "2025-04-30T14:54:04Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6paim6",
                                           "createdAt":  "2025-04-30T15:07:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "I am running it with Debugger on VisualStudio.",
                                           "updatedAt":  "2025-04-30T15:07:23Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pbAF_",
                                           "createdAt":  "2025-04-30T15:41:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "How are you publishing the application?",
                                           "updatedAt":  "2025-04-30T15:41:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6pbBze",
                                           "createdAt":  "2025-04-30T15:43:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "I am publishing it to Azure from VisualStudio.",
                                           "updatedAt":  "2025-04-30T15:43:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6ql_M7",
                                           "createdAt":  "2025-05-08T07:40:49Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOERSQeQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "RamType0",
                                                                               "createdAt":  "2025-05-08T07:49:04Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Using the visual studio publish flow?\n\ncc @bradygaster ",
                                           "updatedAt":  "2025-05-08T07:40:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qmDuW",
                                           "createdAt":  "2025-05-08T07:49:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "\u003e Using the visual studio publish flow?\n\nYes.\n",
                                           "updatedAt":  "2025-05-08T07:49:13Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qmKcZ",
                                           "createdAt":  "2025-05-08T07:59:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Got it!",
                                           "updatedAt":  "2025-05-08T07:59:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61lvGP",
                                           "createdAt":  "2025-07-07T21:26:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bradygaster",
                                           "body":  "Do you not see the azd publish output in the output windows in VS? Is it not at the level you\u0027d like, meaning, you\u0027d like to see azd emit **anything** (which would mean we can help you) or you\u0027d prefer to be able to configure azd to run in debug mode (which case i\u0027d need to ping @spboyer). ",
                                           "updatedAt":  "2025-07-07T21:26:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61pKyC",
                                           "createdAt":  "2025-07-08T05:54:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "\u003e Do you not see the azd publish output in the output windows in VS? Is it not at the level you\u0027d like, meaning, you\u0027d like to see azd emit **anything** (which would mean we can help you) or you\u0027d prefer to be able to configure azd to run in debug mode (which case i\u0027d need to ping [@spboyer](https://github.com/spboyer)).\n\nWhat I want to do is to run publish with debugger attached.",
                                           "updatedAt":  "2025-07-08T05:54:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc64ts5t",
                                           "createdAt":  "2025-07-21T21:10:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bradygaster",
                                           "body":  "No, you can\u0027t run publish with the debugger attached. ",
                                           "updatedAt":  "2025-07-21T21:10:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc64ttx2",
                                           "createdAt":  "2025-07-21T21:11:11Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bradygaster",
                                           "body":  "Or, are you looking for ACA remote debugging? if so, we also don\u0027t have that [yet]. ",
                                           "updatedAt":  "2025-07-21T21:11:11Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc64z8gP",
                                           "createdAt":  "2025-07-22T03:01:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "RamType0",
                                           "body":  "\u003e Or, are you looking for ACA remote debugging? if so, we also don\u0027t have that [yet]. \n\nWhat I am looking for is to investigate weird exception while publishing.",
                                           "updatedAt":  "2025-07-22T03:02:10Z"
                                       }
                                   ],
                         "totalCount":  16
                     },
        "title":  "Debug publish mode",
        "labels":  [
                       "area-tooling",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9094",
        "createdAt":  "2025-05-04T02:04:12Z",
        "number":  9094,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODHnL1g==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-05-05T18:26:51Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "antoine-milochau-shift",
                                            "createdAt":  "2025-05-26T08:38:08Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "NapalmCodes",
                                            "createdAt":  "2025-07-18T19:04:45Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-06-16T17:42:56Z",
        "body":  "Today `AddAzureContainerAppEnvironment` always creates a new environment and does not support AsExisting. This would enable modeling an existing container app environment instead of creating a new one.\n\nSome complications with this one:\n- We need to figure out how to resolve the fact that the ACR also needs to be provided. This is because we still need to associate an ACR with the ACA compute environment resource so that we can associate the right registry resource with each container app.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support existing ACA environment resource",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9097",
        "createdAt":  "2025-05-04T08:49:41Z",
        "number":  9097,
        "author":  "afscrome",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T21:51:14Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWorking with the Kubernetes publisher, I hit a number of issues that left me errors that were difficult to action (see #9051 for full context).\n\nTwo of the errors I got:\n- `Bind mounts are not supported by the Kubernetes publisher`\n- `Unsupported value type: Int32`\n\n### Expected Behavior\n\nThe above errors could could instead be something like:\n- `Kuberentes Publisher does not support the {Path} bind mount on {ResourceName}`\n- `Failed to process \u0027{EnvironmentVariable}\u0027 environment variable on {ResourceName}.\n\nIt would also be nice if the Kubernetes publisher could show me all the errors at once so I can fix them in one go, rather than having to play a game of whack-a-mole to fix one issue, then re-run the publisher to see what fails next.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n```\nException Info: System.AggregateException: One or more errors occurred. (Bind mounts are not supported by the Kubernetes publisher)\n ---\u003e System.InvalidOperationException: Bind mounts are not supported by the Kubernetes publisher\n   at Aspire.Hosting.Kubernetes.KubernetesResource.ProcessVolumes() in /_/src/Aspire.Hosting.Kubernetes/KubernetesResource.cs:line 210\n   at Aspire.Hosting.Kubernetes.KubernetesResource.ProcessResourceAsync(KubernetesEnvironmentContext context, DistributedApplicationExecutionContext executionContext, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesResource.cs:line 150\n   at Aspire.Hosting.Kubernetes.KubernetesEnvironmentContext.CreateKubernetesResourceAsync(IResource resource, DistributedApplicationExecutionContext executionContext, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesEnvironmentContext.cs:line 27\n   at Aspire.Hosting.Kubernetes.KubernetesInfrastructure.BeforeStartAsync(DistributedApplicationModel appModel, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesInfrastructure.cs:line 56\n   at Aspire.Hosting.DistributedApplication.ExecuteBeforeStartHooksAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:line 462\n   at Aspire.Hosting.DistributedApplication.RunAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:line 412\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait()\n   at Aspire.Hosting.DistributedApplication.Run() in /_/src/Aspire.Hosting/DistributedApplication.cs:line 443\n   at Program.\u003cMain\u003e$(String[] args) in REDACTED.AppHost\\Program.cs:line 37\n```\n\n\n\n```\nException Info: System.AggregateException: One or more errors occurred. (Unsupported value type: Int32)\n ---\u003e System.NotSupportedException: Unsupported value type: Int32\n   at Aspire.Hosting.Kubernetes.KubernetesServiceResourceExtensions.ProcessValueAsync(KubernetesResource resource, KubernetesEnvironmentContext context, DistributedApplicationExecutionContext executionContext, Object value) in /_/src/Aspire.Hosting.Kubernetes/KubernetesServiceResourceExtensions.cs:line 92\n   at Aspire.Hosting.Kubernetes.KubernetesResource.ProcessEnvironmentAsync(KubernetesEnvironmentContext environmentContext, DistributedApplicationExecutionContext executionContext, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesResource.cs:line 263\n   at Aspire.Hosting.Kubernetes.KubernetesResource.ProcessResourceAsync(KubernetesEnvironmentContext context, DistributedApplicationExecutionContext executionContext, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesResource.cs:line 152\n   at Aspire.Hosting.Kubernetes.KubernetesEnvironmentContext.CreateKubernetesResourceAsync(IResource resource, DistributedApplicationExecutionContext executionContext, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesEnvironmentContext.cs:line 27\n   at Aspire.Hosting.Kubernetes.KubernetesInfrastructure.BeforeStartAsync(DistributedApplicationModel appModel, CancellationToken cancellationToken) in /_/src/Aspire.Hosting.Kubernetes/KubernetesInfrastructure.cs:line 56\n   at Aspire.Hosting.DistributedApplication.ExecuteBeforeStartHooksAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:line 462\n   at Aspire.Hosting.DistributedApplication.RunAsync(CancellationToken cancellationToken) in /_/src/Aspire.Hosting/DistributedApplication.cs:line 412\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait()\n   at Aspire.Hosting.DistributedApplication.Run() in /_/src/Aspire.Hosting/DistributedApplication.cs:line 443\n   at Program.\u003cMain\u003e$(String[] args) in REDACTED\\Program.cs:line 66\n```\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Improve error reporting from Kubernetes Publisher",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9116",
        "createdAt":  "2025-05-06T05:28:39Z",
        "number":  9116,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDWhYA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "ShilpiRachna1",
                                            "createdAt":  "2025-05-06T09:00:11Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-06-06T06:06:25Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-09-03T19:53:23Z",
        "body":  "- [ ] Allow a AzureKeyVault resource to be provided to be the secret store the App Service. \n- [ ] Fix the docs in the package",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "App Service support",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "azure-app-service"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9194",
        "createdAt":  "2025-05-09T06:56:28Z",
        "number":  9194,
        "author":  "Christanoid",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODIg-sg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "lvde0",
                                            "createdAt":  "2025-07-25T13:16:33Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-16T08:33:26Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI was trying to setup a Database migration service using EF migrations when I noticed, that my migration service starts too early and fails because Postgres is not ready yet. When launching my aspire app out of Visual Studio it works flawlessly, however once I try to fire up the docker-compose.yaml generated by aspire publish and the new DockerComposePublisher using Podman as my docker environment It no longer does.\n\nThe reason why I consider this a timing error is because if I add an await Task.Delay(TimeSpan.FromSeconds(10)) into my migration service that waits a bit before starting the migrations they execute flawlessly. \n\n\n### Expected Behavior\n\nIdentical WaitFor behavior between Aspire publish and Visual Studio launch\n\n### Steps To Reproduce\n\nThe relevant part of the AppHost code I am using looks like this:\n```csharp\nvar postgres = builder.AddPostgres(\"postgres\")\n    .WithLifetime(ContainerLifetime.Session);\n\nvar machineDb = postgres.AddDatabase(\"machineStateDb\");\n\nvar migrationService = builder.AddProject\u003cProjects.DatabaseMigrationService\u003e(\"migration\")\n    .WithReference(machineDb)\n    .WaitFor(machineDb);\n\nbuilder.AddDockerComposePublisher(); \nbuilder.Build().Run();\n```\n\nThen run aspire publish and select the docker-compose publisher and launch the compose using \"podman compose up\"\n\nAny Client to the database that tries to connect to it right on startup should work.\n\n### Exceptions (if any)\n\n```\npostgres-1     | The files belonging to this database system will be owned by user \"postgres\".\npostgres-1     | This user must also own the server process.\npostgres-1     |\npostgres-1     | The database cluster will be initialized with locale \"en_US.utf8\".\npostgres-1     | The default database encoding has accordingly been set to \"UTF8\".\npostgres-1     | The default text search configuration will be set to \"english\".\npostgres-1     |\npostgres-1     | Data page checksums are disabled.\npostgres-1     |\npostgres-1     | fixing permissions on existing directory /var/lib/postgresql/data ... ok\npostgres-1     | creating subdirectories ... ok\npostgres-1     | selecting dynamic shared memory implementation ... posix\npostgres-1     | selecting default \"max_connections\" ... 100\npostgres-1     | selecting default \"shared_buffers\" ... 128MB\npostgres-1     | selecting default time zone ... Etc/UTC\npostgres-1     | creating configuration files ... ok\npostgres-1     | running bootstrap script ... ok\npostgres-1     | performing post-bootstrap initialization ... ok\npostgres-1     | syncing data to disk ... ok\npostgres-1     |\npostgres-1     | Success. You can now start the database server using:\npostgres-1     |\npostgres-1     |     pg_ctl -D /var/lib/postgresql/data -l logfile start\npostgres-1     |\npostgres-1     | waiting for server to start....2025-05-09 06:52:27.743 UTC [43] LOG:  starting PostgreSQL 17.2 (Debian 17.2-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit\npostgres-1     | 2025-05-09 06:52:27.745 UTC [43] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\npostgres-1     | 2025-05-09 06:52:27.749 UTC [46] LOG:  database system was shut down at 2025-05-09 06:52:27 UTC\npostgres-1     | 2025-05-09 06:52:27.752 UTC [43] LOG:  database system is ready to accept connections\npostgres-1     |  done\npostgres-1     | server started\npostgres-1     | CREATE DATABASE\npostgres-1     |\npostgres-1     |\nmigration-1    | info: Microsoft.Hosting.Lifetime[0]\npostgres-1     | /usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*\nmigration-1    |       Application started. Press Ctrl+C to shut down.\npostgres-1     |\nmigration-1    | info: Microsoft.Hosting.Lifetime[0]\npostgres-1     | 2025-05-09 06:52:27.912 UTC [43] LOG:  received fast shutdown request\nmigration-1    |       Hosting environment: Production\npostgres-1     | waiting for server to shut down....2025-05-09 06:52:27.913 UTC [43] LOG:  aborting any active transactions\nmigration-1    | info: Microsoft.Hosting.Lifetime[0]\npostgres-1     | 2025-05-09 06:52:27.914 UTC [43] LOG:  background worker \"logical replication launcher\" (PID 49) exited with exit code 1\nmigration-1    |       Content root path: /app\npostgres-1     | 2025-05-09 06:52:27.914 UTC [44] LOG:  shutting down\nmigration-1    | fail: Microsoft.EntityFrameworkCore.Database.Connection[20004]\npostgres-1     | 2025-05-09 06:52:27.916 UTC [44] LOG:  checkpoint starting: shutdown immediate\nmigration-1    |       An error occurred using the connection to database \u0027machineStateDb\u0027 on server \u0027tcp://postgres:5432\u0027.\npostgres-1     | 2025-05-09 06:52:27.961 UTC [44] LOG:  checkpoint complete: wrote 921 buffers (5.6%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.009 s, sync=0.033 s, total=0.047 s; sync files=301, longest=0.002 s, average=0.001 s; distance=4238 kB, estimate=4238 kB; lsn=0/1908970, redo lsn=0/1908970\nmigration-1    | fail: Microsoft.Extensions.Hosting.Internal.Host[9]\npostgres-1     | 2025-05-09 06:52:27.965 UTC [43] LOG:  database system is shut down\nmigration-1    |       BackgroundService failed\nmigration-1    |       System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\nmigration-1    |        ---\u003e Npgsql.NpgsqlException (0x80004005): Failed to connect to 10.89.1.16:5432\nmigration-1    |        ---\u003e System.Net.Sockets.SocketException (111): Connection refused\nmigration-1    |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\nmigration-1    |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\nmigration-1    |          at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\npostgres-1     |  done\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\npostgres-1     | server stopped\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\npostgres-1     |\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.\u003cOpen\u003eg__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\npostgres-1     | PostgreSQL init process complete; ready for start up.\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\npostgres-1     |\nmigration-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\npostgres-1     | 2025-05-09 06:52:28.027 UTC [1] LOG:  starting PostgreSQL 17.2 (Debian 17.2-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit\nmigration-1    |          at Npgsql.PoolingDataSource.\u003cGet\u003eg__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.NpgsqlConnection.\u003cOpen\u003eg__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\npostgres-1     | 2025-05-09 06:52:28.054 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\npostgres-1     | 2025-05-09 06:52:28.054 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\npostgres-1     | 2025-05-09 06:52:28.056 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\npostgres-1     | 2025-05-09 06:52:28.059 UTC [59] LOG:  database system was shut down at 2025-05-09 06:52:27 UTC\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\npostgres-1     | 2025-05-09 06:52:28.063 UTC [1] LOG:  database system is ready to accept connections\nmigration-1    |          at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\nmigration-1    |          at DatabaseMigrationService.ApiDbInitializer.\u003c\u003ec__DisplayClass7_0.\u003c\u003cRunMigrationAsync\u003eb__0\u003ed.MoveNext() in C:\\Repos\\Datron.Jaguar.AspireDashboard\\Model\\DatabaseMigrationService\\DbInitializer.cs:line 68\nmigration-1    |       --- End of stack trace from previous location ---\nmigration-1    |          at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\nmigration-1    |       --- End of stack trace from previous location ---\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\nmigration-1    |          --- End of inner exception stack trace ---\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\nmigration-1    |          at DatabaseMigrationService.ApiDbInitializer.RunMigrationAsync(WeatherContext dbContext, CancellationToken cancellationToken) in C:\\Repos\\Datron.Jaguar.AspireDashboard\\Model\\DatabaseMigrationService\\DbInitializer.cs:line 62\nmigration-1    |          at DatabaseMigrationService.ApiDbInitializer.ExecuteAsync(CancellationToken cancellationToken) in C:\\Repos\\Datron.Jaguar.AspireDashboard\\Model\\DatabaseMigrationService\\DbInitializer.cs:line 32\nmigration-1    |          at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)\nmigration-1    | crit: Microsoft.Extensions.Hosting.Internal.Host[10]\nmigration-1    |       The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.\nmigration-1    |       System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.\nmigration-1    |        ---\u003e Npgsql.NpgsqlException (0x80004005): Failed to connect to 10.89.1.16:5432\nmigration-1    |        ---\u003e System.Net.Sockets.SocketException (111): Connection refused\nmigration-1    |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\nmigration-1    |          at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\nmigration-1    |          at System.Net.Sockets.Socket.\u003cConnectAsync\u003eg__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.\u003cOpen\u003eg__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.PoolingDataSource.\u003cGet\u003eg__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.NpgsqlConnection.\u003cOpen\u003eg__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\nmigration-1    |          at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\nmigration-1    |          at Microsoft.EntityFrameworkCore.Migrations.HistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlHistoryRepository.GetAppliedMigrationsAsync(CancellationToken cancellationToken)\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Migrations.Internal.NpgsqlMigrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\nmigration-1    |          at DatabaseMigrationService.ApiDbInitializer.\u003c\u003ec__DisplayClass7_0.\u003c\u003cRunMigrationAsync\u003eb__0\u003ed.MoveNext() in C:\\Repos\\Datron.Jaguar.AspireDashboard\\Model\\DatabaseMigrationService\\DbInitializer.cs:line 68\nmigration-1    |       --- End of stack trace from previous location ---\nmigration-1    |          at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.\u003c\u003ec.\u003c\u003cExecuteAsync\u003eb__3_0\u003ed.MoveNext()\nmigration-1    |       --- End of stack trace from previous location ---\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\nmigration-1    |          --- End of inner exception stack trace ---\nmigration-1    |          at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\nmigration-1    |          at DatabaseMigrationService.ApiDbInitializer.RunMigrationAsync(WeatherContext dbContext, CancellationToken cancellationToken) in C:\\Repos\\Datron.Jaguar.AspireDashboard\\Model\\DatabaseMigrationService\\DbInitializer.cs:line 62\nmigration-1    |          at DatabaseMigrationService.ApiDbInitializer.ExecuteAsync(CancellationToken cancellationToken) in C:\\Repos\\Datron.Jaguar.AspireDashboard\\Model\\DatabaseMigrationService\\DbInitializer.cs:line 32\nmigration-1    |          at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)\nmigration-1    | info: Microsoft.Hosting.Lifetime[0]\nmigration-1    |       Application is shutting down...\n```\n\n### .NET Version info\n\n    \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.2.1\" /\u003e\n    \u003cPackageReference Include=\"Aspire.Hosting.Docker\" Version=\"9.2.1-preview.1.25222.1\" /\u003e\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOq9bVZQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6qyjW4",
                                           "createdAt":  "2025-05-09T07:03:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yes, we don\u0027t have a way to describe docker compose health checks as yet, so they are excluded for now (even though they are included in the aspire model).",
                                           "updatedAt":  "2025-05-09T07:03:55Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qylaU",
                                           "createdAt":  "2025-05-09T07:06:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "afscrome",
                                           "body":  "I wonder if we should include some kind of warnings when publishing detects unsupported features - whilst there is a path to enabling health checks with docker compose, `WaitFor` is unlikely to ever be supported by Kubernetes.",
                                           "updatedAt":  "2025-05-09T07:06:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6qymoP",
                                           "createdAt":  "2025-05-09T07:08:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I\u0027m not sure it should warn, I think it just needs to be documented. ",
                                           "updatedAt":  "2025-05-09T07:08:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r1MDn",
                                           "createdAt":  "2025-05-15T07:30:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Misiu",
                                           "body":  "This will be done using `depends_on` and `healthcheck`? Ref: https://docs.docker.com/compose/how-tos/startup-order/#control-startup\nLooking forward to this feature!",
                                           "updatedAt":  "2025-05-15T07:30:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6r1tVl",
                                           "createdAt":  "2025-05-15T08:19:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESNXwg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Misiu",
                                                                               "createdAt":  "2025-05-15T08:21:12Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Our heath checks run in the orchestrator not inside of the container. When we translate WaitFor, we use depends_on, but we need a way to describe the default docker compose compatible health checks in each container resource (likely with a new annotation).",
                                           "updatedAt":  "2025-05-15T08:19:17Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  ".WaitFor() not working for databases with Docker Compose Publisher",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9226",
        "createdAt":  "2025-05-10T06:40:51Z",
        "number":  9226,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-21T04:46:50Z",
        "body":  "See https://github.com/dotnet/aspire/pull/9224. We need to do a similar fix to the Kubernetes resource.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Fix port mapping for bait and switch resources in Kubernetes",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9266",
        "createdAt":  "2025-05-12T22:03:17Z",
        "number":  9266,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-03T19:53:23Z",
        "body":  "The current implementation of Aspire lacks a mechanism to ensure proper ordering of resources during deployment. This can cause challenges when there are interdependencies between resources during deployment. For example, a deployment resource might need to run after the Azure environment resource since it needs to deploy the Bicep resources generated by the Azure environment.\n\nWe need to introduce a new annotation `PublishDependencyAnnotation` or maybe we can reuse `ResourceRelationshipAnnotation` to implement the relationship.\n\nWe need to update `PublishingContext.WriteModelAsync` to understand these dependencies and publish in the right order.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOutcKuQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc661wq5",
                                           "createdAt":  "2025-07-30T02:18:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Moving this to 9.5. We not only need to sort out a nice story for ordering of `PublishingCallbackAnnotations`, we also need to sort out the ordering for `DeployingCallbackAnnotation`s and the relationship of the two between each other.",
                                           "updatedAt":  "2025-07-30T02:18:04Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Support publish and deploy ordering",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9281",
        "createdAt":  "2025-05-13T12:50:16Z",
        "number":  9281,
        "author":  "rolfik-mycronic",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-11T03:09:47Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWe have Aspire 9.2.1 app with multiple ASP.NET services targeting multiple runtimes:\n`\u003cRuntimeIdentifiers\u003elinux-musl-x64;win-x64\u003c/RuntimeIdentifiers\u003e`\n\nWhen trying to publish it to docker compose with\n`aspire publish -p docker-compose -d`\nit fails with:\n```\ndbug: Aspire.Cli.DotNetCliRunner[0]\n      dotnet(82948) stdout:       C:\\Program Files\\dotnet\\sdk\\9.0.201\\Containers\\build\\Microsoft.NET.Build.Containers.targets(52,5): error : Invalid string[] TargetRuntimeIdentifiers. Either all should be \u0027linux-musl\u0027 or none. [service.csproj]\n```\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.201\n Commit:            071aaccdc2\n Workload version:  9.0.200-manifests.5c4e24dc\n MSBuild version:   17.13.13+1c2026462\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.19045\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.201\\\n\n.NET workloads installed:\n [maccatalyst]\n   Installation Source: VS 17.13.35919.96\n   Manifest Version:    18.2.9180/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.2.9180\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: VS 17.13.35919.96\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: VS 17.13.35919.96\n   Manifest Version:    18.2.9180/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.2.9180\\WorkloadManifest.json\n   Install Type:              Msi\n\n [android]\n   Installation Source: VS 17.13.35919.96\n   Manifest Version:    35.0.50/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.50\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.13.35919.96\n   Manifest Version:    9.0.14/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.14\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.3\n  Architecture: x64\n  Commit:       831d23e561\n\n.NET SDKs installed:\n  2.2.207 [C:\\Program Files\\dotnet\\sdk]\n  3.1.426 [C:\\Program Files\\dotnet\\sdk]\n  6.0.321 [C:\\Program Files\\dotnet\\sdk]\n  8.0.115 [C:\\Program Files\\dotnet\\sdk]\n  9.0.201 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.All 2.1.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\n  Microsoft.AspNetCore.All 2.2.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.All]\n  Microsoft.AspNetCore.App 2.1.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 2.2.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.26 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.14 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 2.1.30 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 2.2.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.26 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.14 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 3.1.32 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.26 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.14 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.15 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.3 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvSJ-Wg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6rcnqo",
                                           "createdAt":  "2025-05-13T12:57:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "rolfik-mycronic",
                                           "body":  "Publishing a service with\n`dotnet publish service.csproj /t:PublishContainer --os linux`\nworks fine.\nSo we need to specify the OS somewhere.",
                                           "updatedAt":  "2025-05-13T12:57:14Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6rdwMM",
                                           "createdAt":  "2025-05-13T14:14:28Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Related to https://github.com/dotnet/aspire/issues/8842",
                                           "updatedAt":  "2025-05-13T14:14:28Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6rmgis",
                                           "createdAt":  "2025-05-14T07:17:42Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESMV2w==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "rolfik-mycronic",
                                                                               "createdAt":  "2025-05-15T05:50:36Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "afscrome",
                                           "body":  "What if you set `\u003cContainerRuntimeIdentifiers\u003elinux-musl-x64\u003c/ContainerRuntimeIdentifiers\u003e` to your csproj?\n\nhttps://github.com/dotnet/sdk-container-builds/blob/main/docs/ContainerCustomization.md#containerruntimeidentifiers",
                                           "updatedAt":  "2025-05-14T07:17:42Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6rsIzt",
                                           "createdAt":  "2025-05-14T14:31:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "rolfik-mycronic",
                                           "body":  "I have changed runtime identifiers to just single linux-musl-x64 and aspire publish works when I enable dockered support in Docker Desktop.\nI thought I need win-x64 runtime identifier to run the app host on Windows, but it is needed only for publish so I can have only linux-musl-x64, because that is a platform we deploy to.",
                                           "updatedAt":  "2025-05-15T05:50:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69In5a",
                                           "createdAt":  "2025-08-11T03:09:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "baronfel",
                                           "body":  "Multi-arch Container publish through the .NET SDK checks what RIDs you specify against that of the base image you\u0027re targeting (and we help you with this targeted by default, but you can override that).  When we do this check, we check the platforms and architectures of the base image against the RIDs you\u0027ve requested and error if there is a mismatch. This generally works ok, but there are two major wrinkles:\n\n* none of the .NET-produced multi-arch base images support Windows anymore - you have to explicitly pick the Windows variants manually via MSBuild logic or similar. This happened a couple years back and is out of the SDK\u0027s control.\n* Docker images don\u0027t have any reliable metadata to determine if they are _musl_ based or _glibc_ based. By convention in .NET, a RID like `linux-x64` implicitly means _glibc_, whereas a RID like `linux-musl-x64` means _musl_ libc.  The matching convention in Docker-land is to use an tag with `-alpine` in it. We do this for you for the .NET base images, but again only if all of your RIDs are _musl_ based.",
                                           "updatedAt":  "2025-08-11T03:09:47Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Publishing to docker compose fails for a project with multiple RuntimeIdentifiers",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9299",
        "createdAt":  "2025-05-14T01:18:44Z",
        "number":  9299,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-24T21:08:30Z",
        "body":  "Currently, all `PublishingCallbacks` emit their assets to the output path. Unless the publisher emits to a subdirectory itself, this can make for confusing outputs. For example, Azure and Docker Compose publishers in one:\n\n\u003cimg width=\"356\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/9bc35cc9-cd13-4e0d-a8b7-d7cc6818168f\" /\u003e\n\nWe should consider separating each output into a directory keyed by the environment name or something...",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Publishers should emit assets to a separate directory",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9324",
        "createdAt":  "2025-05-15T07:13:56Z",
        "number":  9324,
        "author":  "Misiu",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-17T14:27:20Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI\u0027m creating a new project using the default template from VS2022, I\u0027ve updated to Aspire 9.2.1, and added `AddDockerComposePublisher`.\n\nGenerated `docker-compose.yaml`:\n```\nservices:\n  cache:\n    image: \"docker.io/library/redis:7.4\"\n    command:\n      - \"-c\"\n      - \"redis-server --requirepass $$REDIS_PASSWORD\"\n    entrypoint:\n      - \"/bin/sh\"\n    environment:\n      REDIS_PASSWORD: \"${CACHE_PASSWORD}\"\n    ports:\n      - \"8000:6379\"\n    networks:\n      - \"aspire\"\n  apiservice:\n    image: \"${APISERVICE_IMAGE}\"\n    environment:\n      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"true\"\n      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"true\"\n      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"in_memory\"\n      ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"true\"\n      HTTP_PORTS: \"8001\"\n    ports:\n      - \"8002:8001\"\n      - \"8004:8003\"\n    networks:\n      - \"aspire\"\n  webfrontend:\n    image: \"${WEBFRONTEND_IMAGE}\"\n    environment:\n      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"true\"\n      OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"true\"\n      OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"in_memory\"\n      ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"true\"\n      HTTP_PORTS: \"8005\"\n      ConnectionStrings__cache: \"cache:6379,password=${CACHE_PASSWORD}\"\n      services__apiservice__http__0: \"http://apiservice:8001\"\n    ports:\n      - \"8006:8005\"\n      - \"8008:8007\"\n    depends_on:\n      cache:\n        condition: \"service_started\"\n      apiservice:\n        condition: \"service_started\"\n    networks:\n      - \"aspire\"\nnetworks:\n  aspire:\n    driver: \"bridge\"\n```\n\nGenerated `.env`:\n```\n# Parameter cache-password\nCACHE_PASSWORD=\n\n# Container image name for apiservice\nAPISERVICE_IMAGE=apiservice:latest\n\n# Container image name for webfrontend\nWEBFRONTEND_IMAGE=webfrontend:latest\n```\n\nWhen running `docker compose up` we get this output:\n```\nAttaching to apiservice-1, cache-1, webfrontend-1\ncache-1        |\ncache-1        | *** FATAL CONFIG FILE ERROR (Redis 7.4.3) ***\ncache-1        | Reading the configuration file, at line 2\ncache-1        | \u003e\u003e\u003e \u0027requirepass\u0027\ncache-1        | wrong number of arguments\ncache-1 exited with code 1\n```\n\nAfter filling the `CACHE_PASSWORD` in the `.env` file the app started successfully.\n\nThe option is to replace:\n```\nvar cache = builder.AddRedis(\"cache\");\n```\nwith:\n```\nvar redisPass = builder.AddParameter(\"redisPass\", \"WORKS\", true);\nvar cache = builder.AddRedis(\"cache\", password: redisPass);\n```\n\nthen the `.env` file is filled correctly.\n\n### Expected Behavior\n\nWhen publishing a project, the default password for Redis should be provided in .env, or a warning should be displayed when running the command\n\n### Steps To Reproduce\n\n1. Create a new project using .NET Aspire Starter App\n2. Update to Aspire 9.2.1\n3. Add `Aspire.Hosting.Docker` in version 9.2.1-preview.1.25222.1\n4. Add `builder.AddDockerComposePublisher();`\n5. Run `aspire publish`\n6. Run `docker compose up`\n7. Observer error and check generated .env and docker-compose.yaml files\n\nRepo: https://github.com/Misiu/AspireDockerPublisherTest\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.300\n Commit:            15606fe0a8\n Workload version:  9.0.300-manifests.af4147de\n MSBuild version:   17.14.5+edd3bbf37\n\nŚrodowisko uruchomieniowe:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.300\\\n\n### Anything else?\n\n.NET Aspire version: 9.2.1\nIDE: VS2022 7.14.0",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOq9aAQA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6r1oBA",
                                           "createdAt":  "2025-05-15T08:10:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOESNS5g==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "Misiu",
                                                                               "createdAt":  "2025-05-15T08:12:08Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "No, it does not. We didn\u0027t want to put secret values into the .env file on disk in plain text so its\u0027s currently your job to populate the secret. Filling in parameters is a user action as of right now, but when the aspire cli is more mature we will support it\n\n\u003e a warning should be displayed when running the command\n\nAgreed.",
                                           "updatedAt":  "2025-05-15T08:10:31Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Docker compose publisher doesn\u0027t fill Redis password in default aspire template - unable to run via docker compose up",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9410",
        "createdAt":  "2025-05-20T01:17:40Z",
        "number":  9410,
        "author":  "danegsta",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-12T07:28:36Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nIn #8908, we updated the Docker Compose publish path to use the existing `configs` feature to provide an analog to the runtime behavior for `ContainerFileSystemCallbackAnnotation`. However, while compose allows us to set ownership and permission settings for all `configs` references in a service, it only honors those settings when providing the file content inline (as internally it uses `docker cp` like we do at runtime). With existing file references, compose uses volume mounts to inject the files and doesn\u0027t apply permissions (the file is added to the container, but with default ownership/mode settings).\n\nOne potential workaround would be to convert all text based `ContainerFileSystemCallbackAnnotation` to inline by reading the file contents, but this could cause the compose file to grow very large and wouldn\u0027t be a viable option for binary files.\n\n### Expected Behavior\n\n_No response_\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Compose publish doesn\u0027t apply ownership for `ContainerFileSystemCallbackAnnotation` with existing files",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9429",
        "createdAt":  "2025-05-20T20:40:43Z",
        "number":  9429,
        "author":  "cdbrown2018",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T21:51:17Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n_No response_\n\n### Describe the solution you\u0027d like\n\nThe cluster I am deploying to automatically provisions a PV when you define a PVC. Users are not allowed to explicitly create a PV. \n\nI would like the ability to define/request a PVC without the kubernetes publisher creating an accompanying PV.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Ability to create PVC without defining a PV",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9430",
        "createdAt":  "2025-05-20T20:45:35Z",
        "number":  9430,
        "author":  "cdbrown2018",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T21:51:18Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\n_No response_\n\n### Describe the solution you\u0027d like\n\nCurrently, `ContainerResource`s has a method `WithVolume` that translates to a PVC using the Kubernetes publisher. There is no equivalent for `ProjectResource`s.\n\n`ProjectResource`s naturally don\u0027t benefit from `WithVolume` or PVCs when running locally, however the method has utility when publishing manifests. The current alternative as far as I\u0027m aware is to either manually add a PVC after generating the manifests, or to add a volume inside the `PublishAsKubernetesService` method.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrVyEGA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6soLl5",
                                           "createdAt":  "2025-05-21T01:38:22Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mitchdenny",
                                           "body":  "@cdbrown2018 because PVCs are compute platform specific doing it inside the `PublishAsKubernetesService` service is almost certainly the way we would approach this.",
                                           "updatedAt":  "2025-05-21T01:38:22Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6svMvc",
                                           "createdAt":  "2025-05-21T13:52:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "cdbrown2018",
                                           "body":  "\u003e [@cdbrown2018](https://github.com/cdbrown2018) because PVCs are compute platform specific doing it inside the `PublishAsKubernetesService` service is almost certainly the way we would approach this.\n\nThat makes sense. My specific use-case requires a container and a C# project to share a PVC in production. From an end-user standpoint it feels weird defining a PVC differently depending on the resource (`WithVolume` on a container being somewhat implicit, vs `PublishAsKubernetesService` on the C# project, which is much more explicit). \n\nFWIW, my solution for sharing a drive during local development is to use a bind mount on the container, and point the C# project to the same directory on my host.",
                                           "updatedAt":  "2025-05-21T13:52:40Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6tXIQY",
                                           "createdAt":  "2025-05-26T04:53:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is related to https://github.com/dotnet/aspire/issues/4359",
                                           "updatedAt":  "2025-05-26T04:53:30Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Ability to define a PVC or use WithVolume on a ProjectResource",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9431",
        "createdAt":  "2025-05-20T21:02:51Z",
        "number":  9431,
        "author":  "cdbrown2018",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODEEIlw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2025-06-17T08:52:33Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-02T21:51:18Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAspire 9.3 added support for overriding or adding values to Kubernetes manifests by using the `PublishAsKubernetesService` method. For Aspire to be the \"source of truth\" for deployments, it is necessary to define your image and tag when defining your services in `Program.cs`. \n\nIt is possible to overwrite the default image by using `PublishAsKubernetesService` as follows\n\n```csharp\nbuilder.AddProject\u003cMyProject\u003e(\"myproject\")\n    .PublishAsKubernetesService(resource =\u003e \n    {\n        resource.Deployment!.Spec.Template!.Spec.Containers[0].Image = \"my-image:my-tag\";\n    });\n```\n\nThis is acceptable, but negates the need for the Image variable in `values.yaml`. Modifying the image variable would not end up effecting the deploy, as it\u0027s hard-coded in the service\u0027s `deployment.yaml` as a result of the previous `PublishAsKubernetesService` call.\n\n### Describe the solution you\u0027d like\n\n`values.yaml` serves a valuable role as a one-stop place to modify constantly evolving variables such as image tags. The default tag is `myproject:latest`, which is fine for local development, but does not work when your package is in a remote repository.\n\nAn additional parameter in `PublishAsKubernetesService` would be good to overwrite the value in the values.yaml file\n\n```csharp\nPublishAsKubernetesService((resource, values) =\u003e {\n    values.Get(\"myproject\").Get(\"myproject_image\") = \"myimage:mytag\"\n});\n```\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOrU9J3w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6tT0nf",
                                           "createdAt":  "2025-05-25T07:04:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I don\u0027t think you should set environment specific values as part of aspire publish. The reason these values are not hardcoded in the manifest is so that you can provide the \"right\" values for the target environment at deployment time. \n\nThat said, the thing currently missing from the API (which exists in docker compose) is the ability to put new values into the values file.",
                                           "updatedAt":  "2025-05-25T07:04:13Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Ability to override values in the helm values.yaml file.",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9556",
        "createdAt":  "2025-05-29T07:22:33Z",
        "number":  9556,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODLeMLg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "JoschiZ",
                                            "createdAt":  "2025-06-09T10:07:59Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "meysamhadeli",
                                            "createdAt":  "2025-07-30T16:34:26Z"
                                        },
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-07-31T09:47:36Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "Levvy055",
                                            "createdAt":  "2025-08-16T18:52:54Z"
                                        }
                                    ],
                          "totalCount":  4
                      },
        "updatedAt":  "2025-09-16T08:33:33Z",
        "body":  "We want to make sure that these deployment are self contained, so we should be copying them to a sub folder of the output and changing the reference to them in the docker compose file",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Bind mounts should be copied to the output folder for docker compose deployments",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9605",
        "createdAt":  "2025-05-31T05:02:17Z",
        "number":  9605,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-05-31T05:23:17Z",
        "body":  "Much like https://github.com/dotnet/aspire/issues/9596, we should add support for the dashboard in the `KubernetesEnvironmentResource`.\n\n- There should be a method WithDashboard(bool) that allos configuring the dashboard\n- There should be a method `ConfigureDashboard(Action\u003cKubernetesResource\u003e)`\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add dashboard support for KubernetesEnvironmentResource",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9606",
        "createdAt":  "2025-05-31T05:11:00Z",
        "number":  9606,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-03T19:53:40Z",
        "body":  "",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add dashboard support to AzureAppServiceEnvironmentResource",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "azure-app-service"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9613",
        "createdAt":  "2025-06-01T07:15:39Z",
        "number":  9613,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDOrNA==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-06-03T20:30:27Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-01T14:53:12Z",
        "body":  "Today we have support for Azure Container Apps and Kubernetes but not provisioning AKS clusters as part of deployment. The goal would be to add AKS support so that we can provision the Kubernetes cluster, setup workload identity so that managed identity works and then being able to express that reference to the right user assigned id in the k8s deployment so that accessing azure resources works seamlessly.\n\n## Example\n\nBelow is a **single, minimal Bicep file** that wires up:\n\n* An AKS cluster with **OIDC issuer** + **Workload Identity** turned on\n* A **user-assigned managed identity** (UAMI)\n* A **federated-identity credential** that trusts a single Kubernetes service-account (`blob-sa` in the `default` namespace)\n* A **StorageV2 account**\n* A **role assignment** so the UAMI gets **Storage Blob Data Contributor** on that storage account\n\n```bicep\n@description(\u0027Azure region for all resources\u0027)\nparam location string = resourceGroup().location\n\n@description(\u0027Friendly name for the AKS cluster\u0027)\nparam aksName string = \u0027aks-wi-demo\u0027\n\n@description(\u0027Kubernetes namespace that will host the service account\u0027)\nparam k8sNamespace string = \u0027default\u0027\n\n@description(\u0027ServiceAccount name that your pod will use\u0027)\nparam k8sServiceAccount string = \u0027blob-sa\u0027\n\n@description(\u0027Name for the user-assigned managed identity\u0027)\nparam uamiName string = \u0027blob-uami\u0027\n\n@description(\u0027Globally-unique storage account name (3-24 lowercase letters \u0026 numbers)\u0027)\n@minLength(3)\n@maxLength(24)\nparam storageName string = toLower(uniqueString(resourceGroup().id, \u0027storage\u0027))\n\n// -------------------------  MANAGED IDENTITY  -------------------------\nresource uami \u0027Microsoft.ManagedIdentity/userAssignedIdentities@2023-01-31\u0027 = {\n  name: uamiName\n  location: location\n}\n\n// -------------------------  STORAGE ACCOUNT  --------------------------\nresource storage \u0027Microsoft.Storage/storageAccounts@2023-01-01\u0027 = {\n  name: storageName\n  location: location\n  kind: \u0027StorageV2\u0027\n  sku: {\n    name: \u0027Standard_LRS\u0027\n  }\n  properties: {\n    allowBlobPublicAccess: false\n    minimumTlsVersion: \u0027TLS1_2\u0027\n  }\n}\n\n// Grant the UAMI permission to the storage account (roleId = Storage Blob Data Contributor)\nresource blobContributor \u0027Microsoft.Authorization/roleAssignments@2022-04-01\u0027 = {\n  name: guid(storage.id, uami.properties.principalId, \u0027ba92f5b4-2d11-453d-a403-e96b0029c9fe\u0027)\n  scope: storage\n  properties: {\n    roleDefinitionId: subscriptionResourceId(\n      \u0027Microsoft.Authorization/roleDefinitions\u0027,\n      \u0027ba92f5b4-2d11-453d-a403-e96b0029c9fe\u0027   // Storage Blob Data Contributor\n    )\n    principalId: uami.properties.principalId\n  }\n}\n\n// -------------------------  AKS CLUSTER  ------------------------------\nresource aks \u0027Microsoft.ContainerService/managedClusters@2023-05-01\u0027 = {\n  name: aksName\n  location: location\n  identity: {\n    type: \u0027SystemAssigned\u0027\n  }\n  sku: {\n    name: \u0027Basic\u0027\n    tier: \u0027Paid\u0027\n  }\n  properties: {\n    dnsPrefix: \u0027${aksName}-dns\u0027\n    kubernetesVersion: \u0027\u0027\n    agentPoolProfiles: [\n      {\n        name: \u0027system\u0027\n        vmSize: \u0027Standard_DS2_v2\u0027\n        count: 1\n        osType: \u0027Linux\u0027\n        mode: \u0027System\u0027\n      }\n    ]\n\n    // --- Workload Identity \u0026 OIDC issuer ---\n    oidcIssuerProfile: {\n      enabled: true\n    }\n    workloadIdentityProfile: {\n      enabled: true\n    }\n  }\n}\n\n// ------------------  FEDERATED-IDENTITY CREDENTIAL  -------------------\n/*\n   This child resource “binds” the UAMI to one ServiceAccount.\n   The issuer URL comes from the cluster you just created.\n   If the deployment engine complains that the value isn’t available\n   yet, split the template in two steps—first AKS, then this block.\n*/\nresource fic \u0027Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials@2023-01-31\u0027 = {\n  name: \u0027fic-${k8sServiceAccount}\u0027\n  parent: uami\n  dependsOn: [\n    aks   // make sure AKS exists so issuerUrl is populated\n  ]\n  properties: {\n    issuer: aks.properties.oidcIssuerProfile.issuerUrl\n    subject: \u0027system:serviceaccount:${k8sNamespace}:${k8sServiceAccount}\u0027\n    audiences: [\n      // This is the constant expected by Azure’s token-exchange endpoint\n      \u0027api://AzureADTokenExchange\u0027\n    ]\n  }\n}\n\n// -------------------------  OUTPUTS  ----------------------------------\noutput storageEndpoint string = storage.properties.primaryEndpoints.blob\noutput uamiClientId string = uami.properties.clientId\noutput aksOidcIssuer string = aks.properties.oidcIssuerProfile.issuerUrl\n```\n\n### How it hangs together — quick notes\n\n| Block                                                               | Why it matters                                                                                                                                                                                 |\n| ------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **`oidcIssuerProfile.enabled` \u0026 `workloadIdentityProfile.enabled`** | Turns on the OIDC endpoint and Microsoft Entra **Workload ID** feature for the whole cluster. ([Microsoft Learn][1])                                                                           |\n| **Federated-identity credential** (`fic`)                           | Tells Entra ID “if I get a token whose issuer is **this cluster’s OIDC URL** and whose subject is **system\\:serviceaccount\\:default\\:blob-sa**, treat it as the managed identity’s own token.” |\n| **Role assignment**                                                 | Gives that identity *Storage Blob Data Contributor* on the storage account so the exchanged access token is actually authorized.                                                               |\n| **Outputs**                                                         | Handy values you’ll feed into your Helm charts or `kubectl` manifests: `AZURE_CLIENT_ID`, storage account name, and OIDC issuer if you need it elsewhere.                                      |\n\n\u003e **Deploy order tip**\n\u003e AKS only surfaces the `issuerUrl` after the control-plane reaches a *Succeeded* state. In 99 % of cases, referencing it inside the same template works fine. If you hit the rare timing race, deploy the template twice (or split it): first creates AKS, second wires up `fic` and the role binding.\n\nOnce this template is applied, the pod manifest you created earlier will authenticate seamlessly with `DefaultAzureCredential`—no connection strings, no keys, no extra secrets.\n\n[1]: https://learn.microsoft.com/en-us/azure/aks/workload-identity-deploy-cluster?utm_source=chatgpt.com \"Deploy and configure an AKS cluster with workload identity\"\n\n## The Kubernetes side\n\nBelow is a **single-file manifest** you can `kubectl apply -f` after the Bicep deployment finishes.\nReplace the three place-holders with the values that came back from the Bicep outputs (or wire them in with Helm/Kustomize).\n\n```yaml\n# k8s/blob-identity.yaml\n# -------------------------------------------------\n# 1. ServiceAccount bound to the user-assigned managed identity\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: blob-sa\n  namespace: default\n  annotations:\n    # \u003c\u003c\u003c paste the UAMI client-id from the Bicep output uamiClientId \u003e\u003e\u003e\n    azure.workload.identity/client-id: \"\u003cUAMI_CLIENT_ID\u003e\"\n\n---\n# 2. Workload that reads/writes Azure Blob Storage\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: blob-demo\n  namespace: default\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: blob-demo\n  template:\n    metadata:\n      labels:\n        app: blob-demo\n      annotations:\n        # Opt-in to Microsoft Entra Workload ID token injection\n        azure.workload.identity/use: \"true\"\n    spec:\n      # Bind the pod to the ServiceAccount above\n      serviceAccountName: blob-sa\n\n      containers:\n      - name: api\n        # Any image that uses the Azure SDK works; this is just an example\n        image: mcr.microsoft.com/dotnet/samples:aspnetapp\n\n        # ---- Environment the Azure SDK needs ----\n        env:\n        # 2.1 Tell the SDK which managed identity to use\n        - name: AZURE_CLIENT_ID\n          valueFrom:\n            fieldRef:\n              fieldPath: metadata.annotations[\u0027azure.workload.identity/client-id\u0027]\n\n        # 2.2 Storage-account details your code will reference\n        - name: AZURE_STORAGE_ACCOUNT_NAME\n          value: \"\u003cSTORAGE_ACCOUNT_NAME\u003e\"     # ← from Bicep output storageName\n        - name: AZURE_BLOB_CONTAINER\n          value: \"images\"                    # ← any container you wish\n\n        ports:\n        - containerPort: 8080\n```\n\n### What happens at runtime\n\n1. The **admission webhook** sees `azure.workload.identity/use: \"true\"` and:\n\n   * mounts a projected token volume at\n     `/var/run/secrets/tokens/azure-identity-token`\n   * sets two extra env-vars for you:\n     `AZURE_TENANT_ID` and `AZURE_FEDERATED_TOKEN_FILE`\n2. The Azure SDK in the container picks up `AZURE_CLIENT_ID` and the token file via `DefaultAzureCredential`.\n3. Microsoft Entra exchanges that OIDC token for an **access-token on the managed identity**.\n4. Because the identity already has **Storage Blob Data Contributor** on the storage account, all Blob SDK calls succeed—no keys or connection strings required.\n\nThat’s all the wiring you need: one ServiceAccount, one annotation, and the usual env-vars your application already expects.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add support for Azure Kubernetes Service",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9635",
        "createdAt":  "2025-06-02T16:36:03Z",
        "number":  9635,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-03T07:53:00Z",
        "body":  "When a container uses `ContainerRuntimeArgsCallbackAnnotation`, we should evaluate them and support that when publishing docker compose.\n\nHere\u0027s an example of resolving it https://github.com/dotnet/aspire/blob/0d71f4acfb25936e4fd3b94dd8709e4ec7722c0d/src/Aspire.Hosting/ApplicationModel/ResourceExtensions.cs#L391-L400\n\nWe need to figure out if this generically translates into docker compose",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support container runtime args in docker compose",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9651",
        "createdAt":  "2025-06-02T23:07:47Z",
        "number":  9651,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-02T23:07:56Z",
        "body":  "",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Make endpoints work across different compute environments",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9659",
        "createdAt":  "2025-06-03T08:47:56Z",
        "number":  9659,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODGZ37Q==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "ryanspain",
                                            "createdAt":  "2025-07-09T21:07:41Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-03T08:51:11Z",
        "body":  "Azure App Service websites can have multiple containers but only a single public port can be exposed. We want to make sure we error in cases where there are multiple external ports. We also need to handle http and https traffic being exposed on the same target port. We do this today with ACA with this very complex set of rules that we use to process endpoints https://github.com/dotnet/aspire/blob/8aad4f144b5913f1ef2889cc6d5d5b59e86fe9f1/src/Aspire.Hosting.Azure.AppContainers/ContainerAppContext.cs#L182-L379.\n\nWe don\u0027t need to get this complex in AppService, we just need to throw if the scenario isn\u0027t supported.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Process endpoints in AzureAppSerice and do more validation",
        "labels":  [
                       "area-deployment",
                       "azure-app-service"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9667",
        "createdAt":  "2025-06-03T17:28:14Z",
        "number":  9667,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODDWhVg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-06-06T06:05:58Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-05T08:05:41Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nIt is common for an App Service to deploy new versions of the app to a \"staging\" slot before promoting it to the \"production\" slot.\n\n### Describe the solution you\u0027d like\n\nAspire should have support for deploying the application to a specified slot, so the change can be staged/vetted before being available in production.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOr205Yw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6vbTlj",
                                           "createdAt":  "2025-06-05T08:05:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEVpZuQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-06-05T08:17:26Z"
                                                                           },
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2025-06-06T06:06:09Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  2
                                                         },
                                           "author":  "willdean",
                                           "body":  "It might be worth considering this as two features with different priorities - because the title implies something subtly different to the text:\n1. Ability to deploy to a slot - without this, people who are using slots (most serious users, I would think) cannot deploy at all.  \n2. Ability to initiate a swap - this is much less important ",
                                           "updatedAt":  "2025-06-05T08:05:40Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Add App Service Support for \"slot swapping\"",
        "labels":  [
                       "area-deployment",
                       "azure-app-service"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9711",
        "createdAt":  "2025-06-05T20:28:41Z",
        "number":  9711,
        "author":  "dombrovsky",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-26T07:35:08Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n```\nbuilder.AddDockerComposeEnvironment(\"app\");\n\nbuilder.AddProject\u003cProjects.Foo\u003e(\"foo\")\n    .PublishAsDockerFile(c =\u003e c\n        .WithDockerfile(...)\n        .WithImage(\"bar\"));\n```\nThen do `aspire publish -o docker-compose-artifacts `\n\nWhen published, docker image `bar:latests` is built, however `.env` file generated for docker-compose would have `FOO_IMAGE=foo:latest`.\n\n### Expected Behavior\n\nExpected behavior is to have `FOO_IMAGE=bar:latest` in .env file as default value. If `.WithImage()` specifies registry and/or tag, it can be included in .env file too.\n\nThe impact is not a big deal, as .env file can be altered later to fill in real image name.\nHowever it would be nice if it was filled in there so no additional step needed.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\nAspire.Hosting.Docker 9.3.0-preview.1.25265.20\n\nLooks like the desired behavior could be achieved by simple change here:\n```diff\nb/src/Aspire.Hosting.Docker/DockerComposeServiceExtensions.cs\ninternal static string AsContainerImagePlaceholder(this DockerComposeServiceReso\n         return dockerComposeService.Parent.AddEnvironmentVariable(\n              imageEnvName,\n              description: $\"Container image name for {resourceInstance.Name}\",\n-             defaultValue: $\"{resourceInstance.Name}:latest\",\n+             defaultValue: resourceInstance.TryGetContainerImageName(out var imageName) ? imageName : $\"{resourceInstance.Name}:latest\",\n              source: new ContainerImageReference(resourceInstance)\n         );\n     }\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOv-_P0g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6vu65G",
                                           "createdAt":  "2025-06-06T07:09:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think it\u0027s a bit more tricky than this because if you fix the image name it means you\u0027re not building the container at all which also means the container port needs to be fixed since it\u0027s not being provided by the tool.",
                                           "updatedAt":  "2025-06-06T07:10:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6v1YHu",
                                           "createdAt":  "2025-06-06T17:50:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEW0dnQ==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "maddymontaquila",
                                                                               "createdAt":  "2025-06-16T23:21:55Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "dombrovsky",
                                           "body":  "@davidfowl Thanks for the feedback!\n\nJust to clarify the scenario I’m describing: when I run `aspire publish -o docker-compose-artifacts` for a distributed application set up like this:\n```csharp\nbuilder.AddDockerComposeEnvironment(\"app\");\n\nbuilder.AddProject\u003cProjects.Foo\u003e(\"foo\")\n    .PublishAsDockerFile(c =\u003e c\n        .WithDockerfile(...)\n        .WithImage(\"bar\"));\n```\n--  an image named `bar:latest` **is being built** by Aspire.\n\nTo me it looks like `.WithImage(\"bar\")` does not imply \"don’t build the container\" (which I think is the concern you raised). That concern seems relevant when `.WithImage(...)` is used on a `ContainerResource` via `builder.AddContainer(...)`, not when used on a `ProjectResource` that is explicitly being built with `PublishAsDockerFile()`.\n\nApologizes if I didn\u0027t fully understood the concern. I could work on a PR for that, and will appreciate guidance on what other scenarios should be taken into account.",
                                           "updatedAt":  "2025-06-06T17:50:31Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6xh6gJ",
                                           "createdAt":  "2025-06-16T23:22:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "maddymontaquila",
                                           "body":  "@davidfowl cc @prom3theu5 any guidance for @dombrovsky on contributing something for this?!",
                                           "updatedAt":  "2025-06-16T23:22:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_78_S",
                                           "createdAt":  "2025-08-25T12:57:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "damianog",
                                           "body":  "@davidfowl it is also possible to name the image container with custom registry and tags?\n\nSo when I use \"aspire publish\" I can just push the images to my registry\n\n\n```csharp\nbuilder.AddProject\u003cTracking_Aggregator\u003e(\"tracking-aggregator\")\n    .PublishAsDockerFile(configure =\u003e\n    {\n        configure\n            .WithDockerfile(\"..\", \"./Tracking.Aggregator/Dockerfile\")\n            .WithImageRegistry(\"my-registry\")\n            .WithImageTag(\"latest-stage\");\n    });\n```\n\n\u003cimg width=\"504\" height=\"149\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/48da267a-e74c-428f-a8f4-13a0ee8da3f9\" /\u003e\n\nI managed to change the image name but the tag is always ignored\n\n```csharp\nconst string registry = \"my-registry\";\n\nstring tag = \"latest-mytag\";\nif (builder.Environment.IsStaging())\n{\n    tag = \"latest-stage\";\n}\nelse if (builder.Environment.IsDevelopment())\n{\n    tag = \"latest-dev\";\n}\n\nbuilder.AddProject\u003cTracking_Aggregator\u003e(\"tracking-aggregator\")\n    .PublishAsDockerFile(configure =\u003e\n    {\n        configure\n            .WithDockerfile(\"..\", \"./Tracking.Aggregator/Dockerfile\")\n            .WithImage($\"{registry}/tracking-aggregator\")\n            .WithImageTag(tag);\n    });\n```\n\nand the .env files ignore use always the project name\n\n\u003cimg width=\"463\" height=\"59\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7ce5d527-67b6-436c-a648-12d1047013c7\" /\u003e\n\nWhat I want is to publish my solution on a stage environment with staging or develop settings and then to production.\n",
                                           "updatedAt":  "2025-08-26T07:35:08Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "Docker compose publisher doesn\u0027t take into account overridden image name for ProjectResource when generating .env file",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9767",
        "createdAt":  "2025-06-09T14:04:17Z",
        "number":  9767,
        "author":  "Dona278",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-09T14:51:30Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nCurrently with `PublishAsKubernetesService` there is no way to define:\n- probes (which can be inferred by health check and endpoints)\n- resources\n- autoscaling\n- custom resource data (for example KEDA ScaledObject, etc..)\n\n### Describe the solution you\u0027d like\n\nNow we use a custom CLI which parse the aspire manifest enanched with custom writers and custom annotations like `PublishAs` on `ProjectResource`s but It can be awesome if the `KubernetesResource` allowing set them so we can drop the CLI in the bin.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "More customization for PublishAsKubernetesService()",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9821",
        "createdAt":  "2025-06-11T08:26:03Z",
        "number":  9821,
        "author":  "Zylvian",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-03T04:52:53Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nAttempting to publishing an Aspire host that includes an npm-resource results in the following error:\n\n```\nSystem.Collections.Generic.KeyNotFoundException: The given key \u0027Aspire.Hosting.NodeAppResource\u0027 was not present in the dictionary.\n```\n\n### Expected Behavior\n\nI expect the Aspire publish to containerize the NPM application, similarly as to what it does during runtime.\n\n### Steps To Reproduce\n\n1. Add to your AppHost file:\n- `builder.AddDockerComposeEnvironment(\"docker-env\");`\n- `builder.AddNpmApp(...)`\n\n2. Run `aspire publish`\n\n### Exceptions (if any)\n\n```\nfail: Aspire.Hosting.DistributedApplicationRunner[0]\n      Failed to publish the distributed application.\n      System.Collections.Generic.KeyNotFoundException: The given key \u0027Aspire.Hosting.NodeAppResource\u0027 was not present in the dictionary.\n         at System.Collections.Generic.Dictionary`2.get_Item(TKey key)\n         at DockerComposeServiceResourceExtensions.ProcessValue(DockerComposeServiceResource resource, Object value) in /_/src/Aspire.Hosting.Docker/DockerComposeServiceResourceExtensions.cs:line 22\n         at Aspire.Hosting.Docker.DockerComposeServiceResource.AddEnvironmentVariablesAndCommandLineArgs(Service composeService) in /_/src/Aspire.Hosting.Docker/DockerComposeServiceResource.cs:line 167\n         at Aspire.Hosting.Docker.DockerComposeServiceResource.BuildComposeService() in /_/src/Aspire.Hosting.Docker/DockerComposeServiceResource.cs:line 79\n         at Aspire.Hosting.Docker.DockerComposePublishingContext.WriteDockerComposeOutputAsync(DistributedApplicationModel model, DockerComposeEnvironmentResource environment) in \n/_/src/Aspire.Hosting.Docker/DockerComposePublishingContext.cs:line 77\n         at Aspire.Hosting.Docker.DockerComposePublishingContext.WriteModelAsync(DistributedApplicationModel model, DockerComposeEnvironmentResource environment) in \n/_/src/Aspire.Hosting.Docker/DockerComposePublishingContext.cs:line 52\n         at Aspire.Hosting.ApplicationModel.PublishingContext.WriteModelAsync(DistributedApplicationModel model) in /_/src/Aspire.Hosting/Publishing/PublishingContext.cs:line 68\n         at Aspire.Hosting.DistributedApplicationRunner.ExecuteAsync(CancellationToken stoppingToken) in /_/src/Aspire.Hosting/DistributedApplicationRunner.cs:line 46\n\n```\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\nAspire packages:\n\n```\n    \u003cItemGroup\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.AppHost\" Version=\"9.3.1\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.Docker\" Version=\"9.3.1-preview.1.25305.6\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.NodeJs\" Version=\"9.3.1\" /\u003e\n        \u003cPackageReference Include=\"Aspire.Hosting.PostgreSQL\" Version=\"9.3.1\" /\u003e\n    \u003c/ItemGroup\u003e\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwZOrPw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6wiBJV",
                                           "createdAt":  "2025-06-11T08:27:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "Zylvian",
                                           "body":  "This was appearently posted twice, so is a copy of https://github.com/dotnet/aspire/issues/9822",
                                           "updatedAt":  "2025-06-11T08:27:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wiYB6",
                                           "createdAt":  "2025-06-11T08:57:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "To publish npm apps you need to write a docker file and call `PublishAsDockerfile`. There are some samples here \n\nhttps://github.com/dotnet/aspire-samples/tree/main/samples/AspireWithJavaScript\n\nWe\u0027ll improve the error message here though.",
                                           "updatedAt":  "2025-06-11T08:57:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Bk5af",
                                           "createdAt":  "2025-09-03T04:49:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "drbergeron",
                                           "body":  "For any future searches or maybe a path trim fix request:\nGot this same error and the issue ended up being a trailing slash problem in my path \n\nDidn\u0027t work:\n`builder.AddNpmApp(\"qasc\", \"../qacs/\", \"dev\")...`\n\nworked:\n`builder.AddNpmApp(\"qasc\", \"../qacs\", \"dev\")...`",
                                           "updatedAt":  "2025-09-03T04:49:39Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Bk6s_",
                                           "createdAt":  "2025-09-03T04:52:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Not sure that affects publish",
                                           "updatedAt":  "2025-09-03T04:52:53Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "aspire publish not working with .AddNpmApp()",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9824",
        "createdAt":  "2025-06-11T09:05:37Z",
        "number":  9824,
        "author":  "msexxeta",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQtDVQ==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-09-15T19:05:43Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-15T19:06:27Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nI would like to reopen: https://github.com/dotnet/aspire/issues/6671 because this can now be fixed\n\n**(Original below)**\nAdding a Postgresdb using WithDataVolume fails to start when deployed to Azure.\n\nAll the resourses are created and the postgres container is deployed to the container apps spins up but goes into the state of pending because it does not have the permissions to the storage account to create the initdb:\n\nContainer log:\n\n```\nchmod: changing permissions of \u0027/var/lib/postgresql/data\u0027: Operation not permitted\nThe files belonging to this database system will be owned by user \"postgres\".\nThis user must also own the server process.\n \nThe database cluster will be initialized with locale \"en_US.utf8\".\nThe default database encoding has accordingly been set to \"UTF8\".\nThe default text search configuration will be set to \"english\".\n \nData page checksums are disabled.\n \ninitdb: error: could not change permissions of directory \"/var/lib/postgresql/data\": Operation not permitted\nfixing permissions on existing directory /var/lib/postgresql/data ... \n```\n\n\n\n### Expected Behavior\n\nThe container to start and db to be created and persisted.\n\n### Steps To Reproduce\n\nCreate a new Aspire host project, add Postgres db and a default web api project:\n\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar pg = builder.AddPostgres(\"pgtest\")\n    .WithDataVolume()\n    .AddDatabase(\"pg-db\");\n\nbuilder.AddProject\u003cProjects.WebApplication1\u003e(\"webapplication1\");\n\nbuilder.Build().Run();\n```\n\nBuild and run azd up\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\nAs per https://github.com/microsoft/azure-container-apps/issues/520 and https://github.com/microsoft/azure-container-apps/issues/765 `mountOptions` are now GA.\n\nI have managed to make a postgres container work in azure container apps like this:\n\n```\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar postgres = builder.AddPostgres(\"postgres\")\n    .WithDataVolume()\n    .PublishAsAzureContainerApp((infra, app) =\u003e\n    {\n      app.Template.Volumes.First().Value!.MountOptions = \"uid=999,gid=999,nobrl,mfsymlinks,cache=none,dir_mode=0750,file_mode=0750\";\n    });\n\nbuilder.Build().Run();\n```\n\nI\u0027m no expert on this so I don\u0027t know if some of those options can be removed or should be changed, but it works, so `.WithDataVolume()` should add the volume in a way that works on azure container apps.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsKlUHw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6wirAb",
                                           "createdAt":  "2025-06-11T09:19:24Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is what the LLM said:\n\nBelow is a quick primer on the three options that appear in the sample `mountOptions` array:\n\n### `uid=999`\n\n* Sets the **numeric user-ID that “owns” every file and directory** that the client sees on the mounted share.\n* It is purely a client-side view; the files are **not rewritten on the server**.\n* PostgreSQL’s official container images run the database process as an unprivileged account whose UID is `999`, so mapping everything to that UID guarantees the server has read/write access even though the container itself is running as a non-root user. ([[askubuntu.com](https://askubuntu.com/questions/1162100/why-do-uid-on-server-and-client-have-to-match-when-using-cifs)][1])\n\n### `gid=999`\n\n* Works exactly like `uid`, but for the **group-ID** instead of the user-ID.\n* Matching the group inside the container (the default group for the `postgres` user is also `999`) keeps group ownership consistent with the process that’s writing the data. ([[askubuntu.com](https://askubuntu.com/questions/1162100/why-do-uid-on-server-and-client-have-to-match-when-using-cifs)][1])\n\n\u003e **Azure Files note** – the Azure File CSI driver accepts `uid`, `gid`, `file_mode`, and `dir_mode` inside `mountOptions`; they are passed straight to the underlying `mount.cifs` or `mount.nfs` call on the node, just as in the Kubernetes example Microsoft provides in its docs. ([[learn.microsoft.com](https://learn.microsoft.com/en-us/azure/aks/azure-files-csi)][2])\n\n### `hard`\n\n* Applies only to **NFS mounts** (it is ignored for SMB/CIFS).\n* A “hard” mount means that if the NFS server becomes unreachable, any I/O from PostgreSQL **blocks forever and keeps retrying** until the server is back rather than returning an error.\n\n  * Databases prefer this behaviour because a transient I/O error (the alternative with `soft`) can corrupt the WAL or data files.\n  * PostgreSQL documentation explicitly states that `hard` is the one mandatory option when you put PGDATA on NFS. ([[postgresql.org](https://www.postgresql.org/docs/current/creating-cluster.html)][3])\n* Operational downside: if the storage backend really is gone, every blocked I/O thread will hang indefinitely, so you need good monitoring and a plan for fail-over. IBM’s NFS guide summarises the trade-off between `hard` and `soft` nicely. ([[ibm.com](https://www.ibm.com/docs/en/storage-protect/8.1.25?topic=considerations-nfs-hard-soft-mounts)][4])\n\n---\n\n#### Putting it together for Azure Container Apps\n\n* **PostgreSQL + Azure Files (SMB)**\n\n  * `uid=999,gid=999` give the container process the correct ownership.\n  * `hard` is silently ignored on SMB, so it doesn’t hurt to leave it in, but it gives you no benefit there.\n* **PostgreSQL + Azure Files (NFS 4.1)**\n\n  * Keep `uid`/`gid` *and* retain `hard` – that satisfies PostgreSQL’s guidance while still presenting the files as owned by the `postgres` user inside the container.\n\nIf your workload is sensitive to long hangs, you can add `timeo=\u003cn\u003e` and `retrans=\u003cn\u003e` to fine-tune NFS retry behaviour, but for most production PostgreSQL deployments the simple set shown above (plus the usual `rsize`/`wsize` tuning) is a solid starting point.\n\n[1]: https://askubuntu.com/questions/1162100/why-do-uid-on-server-and-client-have-to-match-when-using-cifs \"mount - Why do UID on server and client have to match when using cifs? - Ask Ubuntu\"\n[2]: https://learn.microsoft.com/en-us/azure/aks/azure-files-csi \"Use Container Storage Interface (CSI) driver for Azure Files on Azure Kubernetes Service (AKS) - Azure Kubernetes Service | Microsoft Learn\"\n[3]: https://www.postgresql.org/docs/current/creating-cluster.html \"PostgreSQL: Documentation: 17: 18.2. Creating a Database Cluster\"\n[4]: https://www.ibm.com/docs/en/storage-protect/8.1.25?topic=considerations-nfs-hard-soft-mounts \"NFS hard and soft mounts\"",
                                           "updatedAt":  "2025-06-11T09:19:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wlQoR",
                                           "createdAt":  "2025-06-11T12:47:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "msexxeta",
                                           "body":  "I had to at least add `dir_mode=0750,file_mode=0750` and remove `hard` to make it work, don\u0027t know if `nobrl,mfsymlinks,cache=none` make a difference.",
                                           "updatedAt":  "2025-06-11T12:47:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6wqVQf",
                                           "createdAt":  "2025-06-11T19:10:57Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "I\u0027m curious if `dir_mode=0750,file_mode=0640` would work as a slightly more restrictive permission set?",
                                           "updatedAt":  "2025-06-11T19:10:57Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Postgres does not work with volumes when hosted on ACA",
        "labels":  [
                       "area-deployment",
                       "azure-container-apps"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9852",
        "createdAt":  "2025-06-12T11:30:08Z",
        "number":  9852,
        "author":  "Zylvian",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-27T03:57:45Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nI want to run the `aspire publish` command in a Gitlab pipeline, publishing the generated artifacts to the associated Container Regsitry in the repository.\nRunning `aspire publish` in a pipeline will currently crash, as it can\u0027t find a local registry to push to. \n\n### Describe the solution you\u0027d like\n\nSome way to pass MSBuild arguments to aspire publish would solve this issue:\n\n`aspire publish /p:ContainerRegistry=$CI_REGISTRY /p:ContainerRepository=$CI_PROJECT_PATH /p:ContainerImageTags=$TAGNAME`\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwFLfNA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7AUt80",
                                           "createdAt":  "2025-08-27T03:57:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "\u003e Running aspire publish in a pipeline will currently crash, as it can\u0027t find a local registry to push to.\n\nDocker builds also fail in your current pipeline setup?",
                                           "updatedAt":  "2025-08-27T03:57:45Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Specify container registries for Aspire Publish - CICD",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9857",
        "createdAt":  "2025-06-12T15:40:21Z",
        "number":  9857,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-18T06:11:30Z",
        "body":  "\n### Discussed in https://github.com/dotnet/aspire/discussions/9846\n\n\u003cdiv type=\u0027discussions-op-text\u0027\u003e\n\n\u003csup\u003eOriginally posted by **erikhermansson79** June 11, 2025\u003c/sup\u003e\nHi,\n\nI\u0027m not confident enough to file this as an issue, but this line gave me trouble when I tried to deploy to my cluster:\n\nhttps://github.com/dotnet/aspire/blob/03b49a30ffbde3fa669b5d2715d35ae924406939/src/Aspire.Hosting.Kubernetes/KubernetesResource.cs#L189\n\n`$\"http://+:${defaultPort}\"` produces the value `\"http://+:$8080\"` and I had to remove the $-sign in front of the port to make it work.\n\nAm I doing something wrong or is this a bug?\u003c/div\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsN4VvA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6w3hW8",
                                           "createdAt":  "2025-06-12T15:41:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We should be able to delete this code altogether. The project resource handles injecting the right environment variables.",
                                           "updatedAt":  "2025-06-12T15:41:16Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "ASPNETCORE_URLS has the wrong value when publishing via k8s",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9858",
        "createdAt":  "2025-06-12T15:41:45Z",
        "number":  9858,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODEEI5Q==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "abbottdev",
                                            "createdAt":  "2025-06-17T08:53:22Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-17T09:08:36Z",
        "body":  "\n### Discussed in https://github.com/dotnet/aspire/discussions/9856\n\n\u003cdiv type=\u0027discussions-op-text\u0027\u003e\n\n\u003csup\u003eOriginally posted by **erikhermansson79** June 12, 2025\u003c/sup\u003e\nHi,\r\n\r\nI think the values.yaml file is missing some values.\r\n\r\nI made a simple solution to show my issue. This is my AppHost.cs (Aspire 9.3.1):\r\n\r\n```csharp\r\nvar builder = DistributedApplication.CreateBuilder(args);\r\nbuilder.AddKubernetesEnvironment(\"kubernetes\");\r\n\r\nvar backend = builder.AddProject\u003cProjects.BackEnd\u003e(\"backend\");\r\n\r\nbuilder.AddProject\u003cProjects.FrontEnd\u003e(\"frontend\")\r\n    .WithReference(backend);\r\n\r\nbuilder.Build().Run();\r\n```\r\n\r\nThe ConfigMap for the FrontEnd project looks like this:\r\n\r\n```yaml\r\n---\r\napiVersion: \"v1\"\r\nkind: \"ConfigMap\"\r\nmetadata:\r\n  name: \"frontend-config\"\r\n  labels:\r\n    app: \"aspire\"\r\n    component: \"frontend\"\r\ndata:\r\n  ASPNETCORE_URLS: \"{{ .Values.config.frontend.ASPNETCORE_URLS }}\"\r\n  OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"{{ .Values.config.frontend.OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES }}\"\r\n  OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"{{ .Values.config.frontend.OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES }}\"\r\n  OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"{{ .Values.config.frontend.OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY }}\"\r\n  ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"{{ .Values.config.frontend.ASPNETCORE_FORWARDEDHEADERS_ENABLED }}\"\r\n  HTTP_PORTS: \"{{ .Values.config.frontend.HTTP_PORTS }}\"\r\n  services__backend__http__0: \"{{ .Values.config.frontend.services__backend__http__0 }}\"\r\n  services__backend__https__0: \"{{ .Values.config.frontend.services__backend__https__0 }}\"\r\n```\r\n\r\n`services__backend__http__0` and `services__backend__https__0` are both referring to config, not secrets, so I assumed they would exist in the values.yaml file, but my values.yaml looks like this:\r\n\r\n```yaml\r\nparameters:\r\n  backend:\r\n    port_http: \"8080\"\r\n    port_https: \"8080\"\r\n    backend_image: \"backend:latest\"\r\n  frontend:\r\n    port_http: \"8080\"\r\n    port_https: \"8080\"\r\n    frontend_image: \"frontend:latest\"\r\nsecrets: {}\r\nconfig:\r\n  backend:\r\n    ASPNETCORE_URLS: \"http://+:$8080\"\r\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"true\"\r\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"true\"\r\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"in_memory\"\r\n    ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"true\"\r\n  frontend:\r\n    ASPNETCORE_URLS: \"http://+:$8080\"\r\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"true\"\r\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"true\"\r\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"in_memory\"\r\n    ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"true\"\r\n\r\n```\u003c/div\u003e",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsZfeZw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6xl95n",
                                           "createdAt":  "2025-06-17T08:55:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "abbottdev",
                                           "body":  "+1 on this - I have a simple setup where I\u0027ve added parameters to my AppHost project - these parameters are visible in `values.yaml` but the values that come through are empty strings - despite giving the parameters a default value.",
                                           "updatedAt":  "2025-06-17T09:08:36Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "No reference in values.yaml to referenced project.",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9905",
        "createdAt":  "2025-06-17T03:42:12Z",
        "number":  9905,
        "author":  "dombrovsky",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-17T03:47:39Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nDocker compose publisher fails when ProjectResource is configured to be excluded from manifest (via `ExcludeFromManifest()`).\n\nError: `Failed to publish the distributed application. System.Collections.Generic.KeyNotFoundException: The given key \u0027Aspire.Hosting.ApplicationModel.ProjectResource\u0027 was not present in the dictionary.`\n\n### Expected Behavior\n\nResources which are excluded from manifest should be ignored by Docker Compose publisher.\n\n### Steps To Reproduce\n\n```\nbuilder.AddProject\u003cProjects.Foo\u003e(\"foo\").ExcludeFromManifest();\nbuilder.AddDockerComposeEnvironment(\"compose\");\n```\nExecute `aspire publish -o docker-compose-artifacts` command.\n\n### Exceptions (if any)\n\n```\ninfo: Aspire.Hosting.DistributedApplication[0]\n      \ninfo: Aspire.Hosting.Publishing.Publisher[807050189]\n      Generating Compose output\nfail: Aspire.Hosting.DistributedApplicationRunner[0]\n      Failed to publish the distributed application.\n      System.Collections.Generic.KeyNotFoundException: The given key \u0027Aspire.Hosting.ApplicationModel.ProjectResource\u0027 was not present in the dictionary.\n         at System.Collections.Generic.Dictionary`2.get_Item(TKey key)\n         at DockerComposeServiceResourceExtensions.ProcessValue(DockerComposeServiceResource resource, Object value) in\n/_/src/Aspire.Hosting.Docker/DockerComposeServiceResourceExtensions.cs:line 22\n         at Aspire.Hosting.Docker.DockerComposeServiceResource.AddEnvironmentVariablesAndCommandLineArgs(Service composeService) in\n/_/src/Aspire.Hosting.Docker/DockerComposeServiceResource.cs:line 167\n         at Aspire.Hosting.Docker.DockerComposeServiceResource.BuildComposeService() in /_/src/Aspire.Hosting.Docker/DockerComposeServiceResource.cs:line\n79\n         at Aspire.Hosting.Docker.DockerComposePublishingContext.WriteDockerComposeOutputAsync(DistributedApplicationModel model,\nDockerComposeEnvironmentResource environment) in /_/src/Aspire.Hosting.Docker/DockerComposePublishingContext.cs:line 77\n         at Aspire.Hosting.Docker.DockerComposePublishingContext.WriteModelAsync(DistributedApplicationModel model, DockerComposeEnvironmentResource\nenvironment) in /_/src/Aspire.Hosting.Docker/DockerComposePublishingContext.cs:line 52\n         at Aspire.Hosting.ApplicationModel.PublishingContext.WriteModelAsync(DistributedApplicationModel model) in\n/_/src/Aspire.Hosting/Publishing/PublishingContext.cs:line 68\n         at Aspire.Hosting.DistributedApplicationRunner.ExecuteAsync(CancellationToken stoppingToken) in\n/_/src/Aspire.Hosting/DistributedApplicationRunner.cs:line 46\n```\n\n### .NET Version info\n\n9.0.300\n\n### Anything else?\n\nAspire version: 9.3.1+5bc26c78ff8c7be825d0ae33633a1ae9f1d64a67\nAspire.Hosting.Docker Version 9.3.1-preview.1.25305.6",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsY1UTg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6xjVRO",
                                           "createdAt":  "2025-06-17T03:47:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "If you exclude the project but still have a reference to it\u0027ll fail like this.\n\n",
                                           "updatedAt":  "2025-06-17T03:47:26Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Publishing docker compose fails if ProjectResource is excluded from manifest",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9932",
        "createdAt":  "2025-06-18T10:40:01Z",
        "number":  9932,
        "author":  "snavarropino",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODEZlKw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "kristenwomack",
                                            "createdAt":  "2025-06-20T19:22:15Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-06-20T18:43:43Z",
        "body":  "Hi team,\n\nI\u0027m deploying an API using Azure DevOps pipelines, following the workflow recommended by Aspire and using `azd` for infrastructure and deployment.\n\nI noticed that the container image names follow the pattern, and I understand that I can customize those names changing my service name or modifying azule.yml file generated after I run `azd init`:\n\n`\u003cname-defined-in-azure.yaml\u003e/\u003cservice-name\u003e-\u003cazd-environment\u003e`\n\nExample: tasks/api-tasks-staging\n\nHowever, the image tags generated during deployment seem to follow an opaque format like:\n\n```\nazd-deploy-1750241083  \nazd-deploy-1750235217\n```\n\nI would like to customize these tags so that they include meaningful identifiers such as the commit SHA or build ID, to improve traceability between commits/builds and container images.\n\nIs there currently a way to configure how the tags are generated by azd or the Aspire tooling? If not, could support for this be considered in future releases?\n\nThanks for the great work on Aspire!\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOsl4qZA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6yBDFb",
                                           "createdAt":  "2025-06-19T05:04:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEXbgVg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "kristenwomack",
                                                                               "createdAt":  "2025-06-20T19:22:17Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is controlled by azd.\n\ncc @vhvb1989 ",
                                           "updatedAt":  "2025-06-19T05:04:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6yXipk",
                                           "createdAt":  "2025-06-20T18:43:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEX1_Bg==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "snavarropino",
                                                                               "createdAt":  "2025-06-25T07:20:32Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "https://github.com/Azure/azure-dev/issues/3335",
                                           "updatedAt":  "2025-06-20T18:43:43Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Customizing image names and tags when deploying with azd in Aspire",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/9954",
        "createdAt":  "2025-06-19T13:34:37Z",
        "number":  9954,
        "author":  "snavarropino",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-08T16:47:41Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen integrating Qdrant in Aspire using .WithDataVolume():\n\n```csharp\nvar qdrant = builder\n    .AddQdrant(\"qdrant\")\n    .WithEndpointProxySupport(proxyEnabled)\n    .WithDataVolume();\n```\n\nand deploying via azd  with an Azure DevOps pipeline to Azure Container Apps, everything works fine initially. Aspire automatically creates a Storage Account and maps a file share into the container.\n\nHowever, during subsequent deployments, the new revision sometimes fails to become active. Logs indicate that multiple containers are competing for access to files in the mounted volume.\n\nQuestion:\nIs there a recommended way to avoid this issue?\n\nThanks in advance for any guidance!\n\n### Expected Behavior\n\nNew revision works\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET 9\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwryJAA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc60ulQj",
                                           "createdAt":  "2025-07-03T12:37:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "I forgot to attach the error, is this:\n\n2025-07-03T12:34:56.499752Z ERROR qdrant::startup: Panic occurred in file /qdrant/lib/collection/src/shards/replica_set/mod.rs at line 300: Failed to load local shard \"./storage/collections/skdocuments/0\": Service internal error: RocksDB open error: IO error: No such file or directory: while unlink() file: ./storage/collections/skdocuments/0/segments/01e9682c-caf7-4e9d-ab7f-30d473ae5b46/LOG.old.1751546045376042: No such file or directory \n\nIt happens randomly on deployments resulting in the new revision to fail",
                                           "updatedAt":  "2025-07-23T05:47:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CvIkA",
                                           "createdAt":  "2025-09-08T16:47:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Hi guys, any update on this?",
                                           "updatedAt":  "2025-09-08T16:47:41Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Conflict between revisions using .WithDataVolume() and Qdrant integration in Azure Container Apps",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10039",
        "createdAt":  "2025-06-25T07:39:02Z",
        "number":  10039,
        "author":  "snavarropino",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-06-26T08:30:43Z",
        "body":  "I\u0027m using Aspire to publish my API project to Azure Container Apps, and I need to customize some of the container resources like CPU and memory or scale configuration. I\u0027m doing so with the `.PublishAsAzureContainerApp()` method like this:\n\n```csharp\nvar api = builder\n    .AddProject\u003cProjects.Api\u003e(\"api\")\n    .WithHttpHealthCheck(\"health\")\n    .WithExternalHttpEndpoints()   \n    .WithReference(db)\n    .WaitFor(db)\n    .WithReference(qdrant)\n    .WaitFor(qdrant)\n    .PublishAsAzureContainerApp((module, app) =\u003e\n    {\n        app.Template.Scale.MinReplicas = 1;\n        app.Template.Scale.MaxReplicas = 2;\n    \n        var c = app.Template.Containers.FirstOrDefault()?.Value;\n        if (c != null)\n        {\n            c.Resources.Cpu = 0.25;\n            c.Resources.Memory = \"0.5Gi\";\n        }\n    });\n```\nThe problem I\u0027m seeing is that after this change, some environment variables that are normally injected by Aspire are missing or invalid. For example, my API expects service bindings (like connection strings to Qdrant), but these are either not present or incorrectly set (e.g., defaulting to localhost, which obviously doesn\u0027t work in the Azure Container App).\nFrom what I can tell, just by customizing CPU/Memory or scale, I lose all other auto-generated configuration for the container — as if setting Resources overrides the entire container definition, including environment variables\n\nI’d appreciate any clarification or guidance on the right pattern for customizing resources without breaking the default Aspire service wiring.\n\nThanks for your great work on Aspire!\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOs0Uewg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6zCuaR",
                                           "createdAt":  "2025-06-25T08:21:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Can you compare the bicep before and after your changes? That\u0027s an easy way to validate what you are seeing. If you are using azd, you can run `azd infra synth` to look at the generated bicep.",
                                           "updatedAt":  "2025-06-25T08:21:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zEPVN",
                                           "createdAt":  "2025-06-25T10:20:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "If I run `azd infra gen` without `.PublishAsAzureContainerApp`  only following files are generated:\n\n- api.tmpl.yaml\n- main.bicep\n- main.parameters.json\n- qdrant.tmpl.yaml\n- resources.bicep\n\nHowever, if I include this\n\n```csharp\n.PublishAsAzureContainerApp((module, app) =\u003e\n    {\n        app.Template.Scale.MinReplicas = 1;\n        app.Template.Scale.MaxReplicas = 2;\n    \n        var c = app.Template.Containers.FirstOrDefault()?.Value;\n        if (c != null)\n        {\n            c.Resources.Cpu = 0.25;\n            c.Resources.Memory = \"0.5Gi\";\n        }\n    });\n```\n\nthe created file structure is quite different. Templates are created inside a folder for each service:\n\n- main.bicep\n- main.parameters.json\n- resources.bicep\n- api/\n  - api.tmpl.bicepparam\n  - api.module.bicep\n\n- qdrant/\n  - qdrant.tmpl.bicepparam\n  - qdrant.module.bicep\n\nIt seems api bicep module now have proper environment variables pointing to secrets:\n\n```\nSecrets:\n{\n  name: \u0027connectionstrings--qdrant\u0027\n  value: \u0027Endpoint=${\u0027http://qdrant.internal.${outputs_azure_container_apps_environment_default_domain}\u0027};Key=${qdrant_key_value}\u0027\n}\n{\n  name: \u0027connectionstrings--qdrant-http\u0027\n  value: \u0027Endpoint=http://qdrant:6333;Key=${qdrant_key_value}\u0027\n}\n\nVariables:\n\n{\n  name: \u0027ConnectionStrings__qdrant\u0027\n  secretRef: \u0027connectionstrings--qdrant\u0027\n}\n{\n  name: \u0027ConnectionStrings__qdrant_http\u0027\n  secretRef: \u0027connectionstrings--qdrant-http\u0027\n}\n```\n\nHowever, trying again I notice that azd deploy fails, it seems the template is not valid (it was last time I tried). Some days ago there was a problem with environment variables and right know with the generated bicep itself\n\n![Image](https://github.com/user-attachments/assets/34dc440f-b57c-4d19-8b9b-acd7553f1ad6)\n\nThe bicep template is not ok, decimal separator is not ok in cpu or memory (the use different separator):\n\n```\ntemplate: {\n  containers: [\n    {\n      image: api_containerimage\n      name: \u0027api\u0027\n      env: [\n        {\n          name: \u0027OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES\u0027\n          value: \u0027true\u0027\n        }\n        {\n          name: \u0027OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES\u0027\n          value: \u0027true\u0027\n        }\n        {\n          name: \u0027OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY\u0027\n          value: \u0027in_memory\u0027\n        }\n        {\n          name: \u0027ASPNETCORE_FORWARDEDHEADERS_ENABLED\u0027\n          value: \u0027true\u0027\n        }\n        {\n          name: \u0027HTTP_PORTS\u0027\n          value: api_containerport\n        }\n        {\n          name: \u0027Endpoints__ChatCompletion__Endpoint\u0027\n          value: chat_completion_endpoint_value\n        }\n        {\n          name: \u0027Endpoints__ChatCompletion__ApiKey\u0027\n          secretRef: \u0027endpoints--chatcompletion--apikey\u0027\n        }\n        {\n          name: \u0027Endpoints__Embeddings__Endpoint\u0027\n          value: embeddings_endpoint_value\n        }\n        {\n          name: \u0027Endpoints__Embeddings__ApiKey\u0027\n          secretRef: \u0027endpoints--embeddings--apikey\u0027\n        }\n        {\n          name: \u0027ConnectionStrings__db\u0027\n          secretRef: \u0027connectionstrings--db\u0027\n        }\n        {\n          name: \u0027ConnectionStrings__qdrant\u0027\n          secretRef: \u0027connectionstrings--qdrant\u0027\n        }\n        {\n          name: \u0027ConnectionStrings__qdrant_http\u0027\n          secretRef: \u0027connectionstrings--qdrant-http\u0027\n        }\n      ]\n      resources: {\n        cpu: \u00270,25\u0027\n        memory: \u00270.5Gi\u0027\n      }\n    }\n  ]\n  scale: {\n    minReplicas: 1\n    maxReplicas: 2\n  }\n}\n```\n\nI am using Aspire.Hosting.Azure.AppContainers version 9.3.1",
                                           "updatedAt":  "2025-06-25T10:20:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zFhpZ",
                                           "createdAt":  "2025-06-25T12:20:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Ok, after some investigation I can confirm thar bicep is wrong: \n\n```\nresources: {\n        cpu: \u00270,25\u0027\n        memory: \u00270.5Gi\u0027\n      }\n```\n\nshould be \n\n```\nresources: {\n        cpu: \u00270.25\u0027\n        memory: \u00270.5Gi\u0027\n      }\n```\n\naz infra gen generates wrong bicep",
                                           "updatedAt":  "2025-06-25T12:20:07Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zG2Zw",
                                           "createdAt":  "2025-06-25T14:07:45Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Ok, once I know what happened with the container resources, I have a clear view about the problems with environment variables.\n\nI have a sql resource that is published as a connectionstring. This is the problematic point\n\n```csharp\nvar sql = builder\n    .AddSqlServer(\"sql\", port: 51580);\n\nvar db = sql\n    .AddDatabase(\"db\", \"dbname\")\n    .WithResetDataCommand()\n    .WithLifetime(ContainerLifetime.Persistent)\n    .WithDataVolume();\n\nsql.PublishAsConnectionString();\n```\n\nIf I don\u0027t define the container in c#, the secret for de database is well defined inside api.tmpl.yaml\n\n```\nsecrets:\n   - name: connectionstrings--db\n      value: \u0027{{ securedParameter \"sql\" }};Initial Catalog=Goldar\u0027\n```\n\nThe secret value is a parameter I set when I invoke azd provision\n\nHowever if I define the container, the secret for the database, defined inside api/api.module.bicep is not ok, because it ignores the parameter I set when I invoke azd provision\n\n```\nresource api \u0027Microsoft.App/containerApps@2024-03-01\u0027 = {\n  name: \u0027api\u0027\n  location: location\n  properties: {\n    configuration: {\n      secrets: [\n        {\n          name: \u0027connectionstrings--db\u0027\n          value: \u0027Server=sql,51580;User ID=sa;Password=${sql_password_value};TrustServerCertificate=true;Initial Catalog=Goldar\u0027\n        },\n        ...\n   ]\n}\n```\n**I don\u0027t know why but if I define the container in c# the bicep ignores sql.PublishAsConnectionString();**\n",
                                           "updatedAt":  "2025-06-25T14:07:45Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zH0kY",
                                           "createdAt":  "2025-06-25T15:17:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You might be running into this https://github.com/dotnet/aspire/issues/8409. The work around is to do \n\nvar db = builder.ExecutionContext.IsPublishMode ? buidler.AddConnectionString(\"db\") : \n               sql.AddDatabase(\"db\", \"dbname\")\n                    .WithResetDataCommand()\n                    .WithLifetime(ContainerLifetime.Persistent)\n                    .WithDataVolume();",
                                           "updatedAt":  "2025-06-25T15:17:26Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zQO7a",
                                           "createdAt":  "2025-06-26T06:54:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "snavarropino",
                                           "body":  "Yes I think I am facing same problem. Your work around is ok @davidfowl \n\nWhat about the wrong value in bicep for cpu? I am not able to deploy if I don\u0027t manually fix it.  Cpu is being generated with comma while a dot is expected\n\nresources: {\n        **cpu: \u00270,25\u0027**\n        memory: \u00270.5Gi\u0027\n      }\n\nI have check that the bug is present in following versions of Aspire.Hosting.Azure.AppContainers\n\n9.3.0\n9.3.1\n\n```csharp\n.PublishAsAzureContainerApp((module, app) =\u003e\n    {\n        app.Template.Scale.MinReplicas = 1;\n        app.Template.Scale.MaxReplicas = 2;\n    \n        var c = app.Template.Containers.FirstOrDefault()?.Value;\n        if (c != null)\n        {\n            c.Resources.Cpu = 0.25;\n            c.Resources.Memory = \"0.5Gi\";\n        }\n    });\n```\n",
                                           "updatedAt":  "2025-06-26T06:54:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6zRR7C",
                                           "createdAt":  "2025-06-26T08:30:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "See https://github.com/dotnet/aspire/issues/8000#issuecomment-2956372617.",
                                           "updatedAt":  "2025-06-26T08:30:43Z"
                                       }
                                   ],
                         "totalCount":  7
                     },
        "title":  "Customizing container CPU/Memory with .PublishAsAzureContainerApp() causes environment variables to break",
        "labels":  [
                       "area-integrations",
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10212",
        "createdAt":  "2025-07-02T15:50:49Z",
        "number":  10212,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-11T13:49:10Z",
        "body":  "If you deploy from a mac M series it will build arm based images and then try to run on linux-x64",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvT20Jw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc60gtzd",
                                           "createdAt":  "2025-07-02T16:19:18Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "afscrome",
                                           "body":  "Setting `ContainerRuntimeIdentifier` may not be fully sufficient - see dotnet/sdk-container-builds#637 .  I ended up having to explicitly specify `RuntimeIndentifier` to get this to work.",
                                           "updatedAt":  "2025-07-02T16:19:18Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc61-k2E",
                                           "createdAt":  "2025-07-09T15:26:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "If you publish and run on your mac M series and we default to linux-x64, will the container be running on your mac as an x64 process?",
                                           "updatedAt":  "2025-07-09T15:26:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc636Aif",
                                           "createdAt":  "2025-07-17T20:52:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e If you publish and run on your mac M series and we default to linux-x64, will the container be running on your mac as an x64 process?\n\nThe answer to this question is yes.\n\nHowever, there is a question about the portability of the generated assets. From my understanding, it seems like the guidance is to general either do multi-platform images for portability or to always target linux-x64.\n\nIn general, I like the idea the publisher producing a consistent image format regardless of the machine the command happened to be invoked one.\n\nThe one gap that exists currently is we don\u0027t have a way of overriding this default choice on a per-resource basis for non-.NET project so developers will be locked into this opinion for Dockerfile-based resources.",
                                           "updatedAt":  "2025-07-17T20:52:29Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69FbRE",
                                           "createdAt":  "2025-08-10T02:41:03Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEdw_Rw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "EYES",
                                                                               "user":  "captainsafia",
                                                                               "createdAt":  "2025-08-10T17:10:50Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@baronfel thoughts?",
                                           "updatedAt":  "2025-08-10T02:41:03Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69IooQ",
                                           "createdAt":  "2025-08-11T03:13:07Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "baronfel",
                                           "body":  "\u003e However, there is a question about the portability of the generated assets. From my understanding, it seems like the guidance is to general either do multi-platform images for portability or to always target linux-x64.\n\nI think I agree with this. @richlander may have thoughts here as well. Practically speaking this would mean setting `ContainerRuntimeIdentifer` to `linux-x64` (or `linux-musl-x64` if you\u0027re supporting musl-based devs?) for local stuff instead of doing multi-arch builds?\n\n\u003e we don\u0027t have a way of overriding this default choice on a per-resource basis for non-.NET project so developers will be locked into this opinion for Dockerfile-based resources.\n\nOne option would be to encourage Aspire-using devs to adopt the [Docker-supplied platform build args](https://docs.docker.com/reference/dockerfile/#automatic-platform-args-in-the-global-scope) in their Dockerfiles and then you could build with the `--platform` pinned?",
                                           "updatedAt":  "2025-08-11T03:13:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc69PbQn",
                                           "createdAt":  "2025-08-11T13:49:10Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e I think I agree with this. @richlander may have thoughts here as well. Practically speaking this would mean setting ContainerRuntimeIdentifer to linux-x64 (or linux-musl-x64 if you\u0027re supporting musl-based devs?) for local stuff instead of doing multi-arch builds?\n\nCorrect. We\u0027d also set linux-x64 for non-.NET publish scenarios. \"local stuff\" is interesting sincce this API is part of our deployment story and these images can be pushed to container registries to support app deployments.\n\n\u003e One option would be to encourage Aspire-using devs to adopt the [Docker-supplied platform build args](https://docs.docker.com/reference/dockerfile/#automatic-platform-args-in-the-global-scope) in their Dockerfiles and then you could build with the --platform pinned?\n\nI\u0027ll have to look into this and see how it works.",
                                           "updatedAt":  "2025-08-11T13:49:10Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Default ContainerRuntimeIdentifier to linux-x64 in ResourceContainerImageBuilder",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10492",
        "createdAt":  "2025-07-17T07:33:06Z",
        "number":  10492,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODHatLg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "DamianEdwards",
                                            "createdAt":  "2025-07-17T15:10:28Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-16T08:33:51Z",
        "body":  "This issue is a follow-up to PR #10440, which added support for parameter descriptions and custom input rendering. The next step is to implement parameter descriptions in various places throughout the codebase and UI.\n\n**Tasks:**\n-  [ ] - In the app host, support parameter descriptions via the `PublishingPromptInput` type ([src/Aspire.Hosting/Backchannel/BackchannelDataTypes.cs](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting/Backchannel/BackchannelDataTypes.cs)). Ensure this flows all the way to the CLI implementation.\n- [ ] - For Bicep, update logic in `AsProvisioningParameter` ([src/Aspire.Hosting.Azure/AzureProvisioningResourceExtensions.cs](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Azure/AzureProvisioningResourceExtensions.cs)) to set the description on parameters.\n- [ ] - Update Docker Compose parameter translation ([src/Aspire.Hosting.Docker/DockerComposeServiceExtensions.cs](https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Docker/DockerComposeServiceExtensions.cs)) to support and understand parameter descriptions.\n\nReference: https://github.com/dotnet/aspire/pull/10440\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxH4ukw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66m3oa",
                                           "createdAt":  "2025-07-29T05:30:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@eerhardt  Can you take this one?",
                                           "updatedAt":  "2025-07-29T05:30:52Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66uPni",
                                           "createdAt":  "2025-07-29T14:01:21Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e [@eerhardt](https://github.com/eerhardt) Can you take this one?\n\nYep.",
                                           "updatedAt":  "2025-07-29T14:01:21Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Efi6T",
                                           "createdAt":  "2025-09-16T08:33:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "pushing out",
                                           "updatedAt":  "2025-09-16T08:33:51Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Implement parameter descriptions in all relevant locations",
        "labels":  [
                       "area-deployment",
                       "area-cli"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10609",
        "createdAt":  "2025-07-22T19:56:52Z",
        "number":  10609,
        "author":  "danegsta",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-13T18:53:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen adding the dashboard to a Docker Compose publish environment, the dashboard HTTP port isn\u0027t published and therefore can\u0027t be reached from outside the container network:\n\n```\nbuilder.AddDockerComposeEnvironment(\"docker-compose\")\n    .WithDashboard();\n```\n\nresults in\n\n```\ndocker-compose-dashboard:\n    image: \"mcr.microsoft.com/dotnet/nightly/aspire-dashboard:latest\"\n    expose:\n      - \"18888\"\n      - \"18889\"\n    networks:\n      - \"aspire\"\n    restart: \"always\"\n```\n\nThere\u0027s no `ports` entry added for the dashboard HTTP port, so the dashboard isn\u0027t reachable via web browser.\n\n### Expected Behavior\n\nAdding `WithDashboard()` should result in a service entry like this:\n\n```\ndocker-compose-dashboard:\n    image: \"mcr.microsoft.com/dotnet/nightly/aspire-dashboard:latest\"\n    expose:\n      - \"18888\"\n      - \"18889\"\n    ports:\n      - \"18888\"\n    networks:\n      - \"aspire\"\n    restart: \"always\"\n```\n\nThis exposes the dashboard http interface on a random host port.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuVRFDw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc65GXfi",
                                           "createdAt":  "2025-07-23T02:26:13Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "You have to set the host port, but maybe this is too restrictive by default (too secure?) 😄 \n\n```C#\nbuilder.AddDockerComposeEnvironment(\"docker-compose\")\n    .WithDashboard(db =\u003e db.WithHostPort(8085));\n```",
                                           "updatedAt":  "2025-07-23T02:26:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc65G6yj",
                                           "createdAt":  "2025-07-23T04:02:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "At least with services we seem to bind to a random port to make it reachable if a fixed port isn’t set.",
                                           "updatedAt":  "2025-07-23T04:02:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc65HAXH",
                                           "createdAt":  "2025-07-23T04:16:25Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Only if the endpoint is marked external ",
                                           "updatedAt":  "2025-07-23T04:16:25Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc65VEUP",
                                           "createdAt":  "2025-07-23T16:18:54Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "danegsta",
                                           "body":  "Yeah, it just feels a bit odd to have the default be for the dashboard to not be reachable (it\u0027s a quick and easy change in the generated compose yml to expose it, but it does require knowing what port is the HTTP port). It might be worth updating the dashboard HTTP endpoint to 80 or 8080 when running in the container, to make it more obvious which port is which.",
                                           "updatedAt":  "2025-07-23T16:18:54Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "WithDashboard doesn\u0027t publish HTTP port in compose yaml for host access",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10620",
        "createdAt":  "2025-07-23T04:00:04Z",
        "number":  10620,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-23T14:54:16Z",
        "body":  "Currently, running `aspire publish` followed by `aspire deploy` on the same output path doesn\u0027t reuse the previously published assets. There\u0027s no clear workflow for deploying assets that have already been published without rebuilding them.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuU-Fqg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc65HTug",
                                           "createdAt":  "2025-07-23T05:05:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Reuse or re-generate? Or does it only use them if they exist or are out of date?",
                                           "updatedAt":  "2025-07-23T05:05:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc65T4Wq",
                                           "createdAt":  "2025-07-23T14:54:16Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e Reuse or re-generate?\n\nThe current behavior will always regenerate which feels too aggressive. I think we should get towards a place where deploy can re-use.\n\n\u003e Or does it only use them if they exist or are out of date?\n\nI think to start we can have an explicit opt-in `aspire deploy --no-publish` or something that will reuse assets in the generated output path instead of rebuilding. We could also do a more interactive UX where we detect if there are existing assets and prompt the user if they would like to reuse them. The `--no-publish` flag could be the flag to set that value.\n\nWe could evolve that UX to be able to detect if they are out-of-date and skip prompting for reuse if they are and always need to be regenerated.",
                                           "updatedAt":  "2025-07-23T14:54:16Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "`aspire deploy` should support reusing assets from previous `aspire publish` runs",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10693",
        "createdAt":  "2025-07-28T06:15:54Z",
        "number":  10693,
        "author":  "damienbod",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-04T01:08:32Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen I deploy an Aspire solution using Visual Studio and Aspire, the secrets are encoded and the deployed secrets have incorrect values. \n\nExamples of secrets with incorrect deployed values:\n\n- \"Parameters:issuersdjwtkey\": \"-----BEGIN EC PRIVATE KEY-----\\nM\n- \"Parameters:postgrespassword\": \"Ssssfefff(cc\"\n\nThe special chars get encoded or the \\n cannot be deployed correctly.\n\nDeployment target: Azure App containers\n\n### Expected Behavior\n\nSecrets should be deployed correctly.\n\n### Steps To Reproduce\n\nSetup up a default project and deploy secrets with special characters or incorrect values.\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwcroKw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66c__0",
                                           "createdAt":  "2025-07-28T17:01:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @vhvb1989 @bradygaster ",
                                           "updatedAt":  "2025-07-28T17:01:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7Byugr",
                                           "createdAt":  "2025-09-04T01:08:23Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "bradygaster",
                                           "body":  "@vijayrkn / @antoniovs1029 - could you take a look at this? Thanks for the heads up, @davidfowl and sorry for the delay @damienbod ",
                                           "updatedAt":  "2025-09-04T01:08:23Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Default App container deployment encoded secrets",
        "labels":  [
                       "area-tooling",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10694",
        "createdAt":  "2025-07-28T06:18:56Z",
        "number":  10694,
        "author":  "damienbod",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-28T18:37:27Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWhen I deploy a Aspire solution with only containers and no csproj, the project cannot be deployed using the default Visual Studio setup.\n\n### Describe the solution you\u0027d like\n\nDeployment should work without any csproj\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOunjzfA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc66YcQA",
                                           "createdAt":  "2025-07-28T12:18:01Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Are you using AddAzureContainerAppEnvironment in your apphost?",
                                           "updatedAt":  "2025-07-28T12:18:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc66ePN8",
                                           "createdAt":  "2025-07-28T18:37:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "damienbod",
                                           "body":  "No.\n\nhttps://github.com/swiss-ssi-group/swiyu-aspire-aspnetcore/blob/main/Swiyu.Aspire.AppHost/Program.cs\n\nI assume I should be when you ask. I will read up on this.\n\n",
                                           "updatedAt":  "2025-07-28T18:37:27Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Deploy container only solution",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10778",
        "createdAt":  "2025-07-31T10:35:20Z",
        "number":  10778,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-07-31T10:35:20Z",
        "body":  "Currently, environment variable substitution for host ports and bind mounts in Docker Compose deployments is limited. This restricts flexibility and portability when deploying across different environments. Users cannot customize host-bound resources dynamically using placeholders, which is often needed for CI/CD and multi-environment deployments.\n\n**Proposal:**\nIntroduce a new boolean flag on `DockerComposeEnvironmentResource` named `EnableHostBindingPlaceholders`. When set to `true`, this flag enables placeholder substitution for all host-bound fields—including host ports and bind mounts—during deployment. Additional host-bound resource types added in the future (such as devices or extra_hosts) should also support this feature.\n\n**API Change (diff):**\n```diff\n public class DockerComposeEnvironmentResource\n {\n     // Existing properties...\n+    /// \u003csummary\u003e\n+    /// Enables placeholder substitution for all host-bound fields (such as host ports and bind mounts).\n+    /// When true, placeholders in host-bound resource definitions will be substituted at deployment time.\n+    /// \u003c/summary\u003e\n+    public bool EnableHostBindingPlaceholders { get; set; }\n }\n```\n\n**Usage Example in an Aspire App:**\n```csharp\nbuilder.AddDockerComposeEnvironment(\"my-compose.yml\")\n    .WithProperties(props =\u003e\n    {\n        // ... other properties\n        props.EnableHostBindingPlaceholders = true;\n    });\n```\n\nThis change would make it easier to customize Docker Compose deployments for different environments and CI/CD workflows.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add EnableHostBindingPlaceholders flag to DockerComposeEnvironmentResource for host resource substitution",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10780",
        "createdAt":  "2025-07-31T15:01:20Z",
        "number":  10780,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODNZkkg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "istipeti",
                                            "createdAt":  "2025-08-30T01:28:03Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-03T19:51:31Z",
        "body":  "We need to add a `DeployingCallbackAnnotation` to the Docker Compose deployment option to Aspire so that running `aspire deploy docker-compose` (exact CLI surface to be finalized) emits fully-formed `docker-compose.yml` (based on the current publish behavior) and then invokes `docker compose up -d`.\n\nThe generated assets should spin up with parameterized values resolved.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Support `aspire deploy` for DockerComposeEnvironmentResource",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10784",
        "createdAt":  "2025-07-31T18:59:05Z",
        "number":  10784,
        "author":  "JohnGalt1717",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-04T03:53:55Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n```\n        resource.PublishAsDockerComposeService(\n            (_, service) =\u003e\n            {\n                service.Volumes.Clear();\n                service.Volumes.Add(new()\n        {\n            Name = \"data\",\n            Source = \"./data\",\n            Target = \"/data\",\n        });\n            }\n        );\n\n```\n\nResults in \n\n- *o0\n\nunder volumes for the project.\n\n### Expected Behavior\n\nShould result in - ./data:/data\n\n### Steps To Reproduce\n\nAdd a publishing volume to a project in the aspire host and then publish it using the CLI.\n\n### Exceptions (if any)\n\nNone.\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.303\n Commit:            5d97611193\n Workload version:  9.0.300-manifests.88387b28\n MSBuild version:   17.14.13+65391c53b\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOuzmqVA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc67OapU",
                                           "createdAt":  "2025-07-31T19:31:31Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "JohnGalt1717",
                                           "body":  "Note: This appears to happen if you use the same class of the volume (i.e. static readonly Volume Volume = new() {..} and then assign the variable instead of just injecting it, which I find odd.",
                                           "updatedAt":  "2025-07-31T19:31:31Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Aspire.Hosting.Docker - Product Volumes aren\u0027t mapped properly.",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10829",
        "createdAt":  "2025-08-04T17:26:29Z",
        "number":  10829,
        "author":  "kijanawoodard",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-12T20:50:26Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nThis is a little difficult to describe and, as of now, I cannot repro in a minimal project.\n\nWhat happened is I suddenly ran into timeouts connecting to redis from my web project.\nTo get things working again, I added `.WithPassword(null)` to the AddRedis call. Everything was fine again.\n\nI attempted to make a minimal repro with `aspire-starter`. Everything worked.\nIn my main project, I commented out `.WithPassword(null)`. With logging, I can see that the connection string with a password was present.\n\nEverything worked fine!\n\nI was stumped. Then it occurred to me to make a minor update to the web project and deploy.  \nThe connect timeouts reappeared.\n\nAt this point, I tried the same change in the minimal project. No effect. Everything continued to work with the password.\n\nI\u0027m not sure what could be causing the problem.\n\nHere are some differences between the main project and the minimal project:\n\n### Deployment\nMain project is deployed by a github pipeline created with `azd pipeline config`.\nMinimal project is deployed with `azd up`.\n\n### Secrets\nMain project uses key vault for some secrets in the app. I notice in the ACA portal that the redis connection string is listed \"Reference a secret\" just like my other key vault secrets, but the redis connection string and password are not in key vault. should they be? Is this something I should indicate somehow in AppHost.cs? [side note: I haven\u0027t figured out where the ACA secrets are stored/viewable yet].\n\nMinimal project does not use key vault.\n\n\n### Expected Behavior\n\nRedeploying the web project should not break the connection to redis.\n\n### Steps To Reproduce\n\nAs mentioned above, I haven\u0027t been able to make a minimal repro yet that breaks. But I can reliably break the main app. If needed, I\u0027ll keep trying to make the minimal repro more like the main project.\n\nI\u0027m a bit limited on being able to break the main project right now as users are on the system.\n\n### Exceptions (if any)\n\nTimeout connecting to redis. NOAUTH.\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.302\n Commit:            bb2550b9af\n Workload version:  9.0.300-manifests.183aaee6\n MSBuild version:   17.14.13+65391c53b\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.302\\\n\n.NET workloads installed:\n [maccatalyst]\n   Installation Source: VS 17.14.36301.6\n   Manifest Version:    18.5.9207/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.5.9207\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: VS 17.14.36301.6\n   Manifest Version:    18.5.9207/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.5.9207\\WorkloadManifest.json\n   Install Type:              Msi\n\n [android]\n   Installation Source: VS 17.14.36301.6\n   Manifest Version:    35.0.78/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.78\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: VS 17.14.36301.6\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: VS 17.14.36301.6\n   Manifest Version:    9.0.51/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.51\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.7\n  Architecture: x64\n  Commit:       3c298d9f00\n\n.NET SDKs installed:\n  8.0.100-rc.2.23502.2 [C:\\Program Files\\dotnet\\sdk]\n  9.0.205 [C:\\Program Files\\dotnet\\sdk]\n  9.0.302 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.0-rc.2.23480.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.0-rc.2.23479.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.0-rc.2.23479.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.18 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.7 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\nLearn more:\n  https://aka.ms/dotnet/info\n\nDownload .NET:\n  https://aka.ms/dotnet/download\n\n### Anything else?\n\n## Aspire Redis Setup\n\n### AppHost.cs\n\n```\nvar redis = builder.AddRedis(\"redis\")\n    .WithImageTag(\"8.0.3\")\n    .WithRedisInsight(resourceBuilder =\u003e resourceBuilder.WithHostPort(5540).WithDataVolume(\"redis-insight\"))\n    .WithDataVolume(\"redis-data\")\n    .WithPersistence(TimeSpan.FromSeconds(1))\n    .PublishAsAzureContainerApp(configure: (infrastructure, app) =\u003e\n    {\n        app.Template.Scale.MaxReplicas = 1;\n    });\n```\n\n### Program.cs\n\n```\nbuilder.AddRedisClient(connectionName: \"redis\");\n```\n\nNOTE:\nSince I can\u0027t find the ACA secrets in the azure portal and the secrets all come out as REDACTED in the aspire dashboard, it\u0027s very difficult to pin down whether the password changed for one side but not the other or some other anamoly.\n\nTo see the redis connection string, in Program.cs I have the following code:\n\n```\nvar redisConnectionString = builder.Configuration.GetConnectionString(\"redis\");\nif (string.IsNullOrWhiteSpace(redisConnectionString)) throw new InvalidOperationException(\"Redis connection string is missing\");\n\nConsole.WriteLine($\"redisConnectionString: {redisConnectionString}\");\n```",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw-hmXw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc672-0b",
                                           "createdAt":  "2025-08-04T17:28:00Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "Possible related and/or duplicate issue:\n- https://github.com/dotnet/aspire/issues/8897",
                                           "updatedAt":  "2025-08-04T17:28:00Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc673GvE",
                                           "createdAt":  "2025-08-04T17:40:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kijanawoodard",
                                           "body":  "The next time I get a window to break prod for a bit, I have a line of inquiry.\n\nI can see \"redis_password\" in `config.json` infra::parameters for the envrionment.\n\nI have two other things in there that are secrets that are working and they are showing up in key vault.\nThe \"showing up in key vault\" part makes sense to me because I explicitly add them to key vault in AppHost.cs.\n\nThe thing that\u0027s different is the other two are listed in `azure-dev.yml`. The `redis_password` one is not.\nI also notice that the working secrets are named with an `AZUIRE_` prefix that I didn\u0027t give them.\n\nI didn\u0027t notice this prefix at first because, by chance (Murphy\u0027s Law), the other secrets start with `AZURE_AD`. So now in `azure-dev.yml` they are named `AZURE_AZURE_AD....`\n\nI did try to run `azd pipeline config` again, but no new lines were added so I abandoned this idea earlier today. Now I want to try it again.\n",
                                           "updatedAt":  "2025-08-04T17:52:24Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc673gVX",
                                           "createdAt":  "2025-08-04T18:19:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kijanawoodard",
                                           "body":  "Fwiw, I found the ACA secrets under the Container -\u003e Security -\u003e Secrets.",
                                           "updatedAt":  "2025-08-04T18:19:05Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc674xiF",
                                           "createdAt":  "2025-08-04T20:18:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kijanawoodard",
                                           "body":  "Ok! I am now able to repro in the minimal project.\n\nIt looks like it boils down to the redis password not being in the `azure-dev-.yml`.\nhttps://github.com/kijanawoodard/TestRedisPassword/commit/99f609d11e680bb39733ab8db5d58c56bbce337f#L50\n\nThe secrets are present in both the web front end and the redis container apps. [screenshots upon request]\nHowever, the connection isn\u0027t happening for some reason. [still investigating next level cause]\n\nSo...\n\nI\u0027m wondering how to stay out of this trap.\n\nWhen I first noticed that the redis password wasn\u0027t in the yml `env` like the other secrets, I tried to `azd pipeline config`, but the yml file wasn\u0027t updated.\n\nI don\u0027t know why when I change something about the redis container everything is fixed, but when I change the web front end, the connection is broken. That seems like a point of concern. \n\nIt should either always be broken or always work.",
                                           "updatedAt":  "2025-08-04T21:55:44Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc678Eea",
                                           "createdAt":  "2025-08-05T02:47:36Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @vhvb1989 ",
                                           "updatedAt":  "2025-08-05T02:47:36Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-V53k",
                                           "createdAt":  "2025-08-16T05:44:09Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "@kijanawoodard , this issue might be fixed already but you might have to update your gh-action workflow. Can you share it here?  ",
                                           "updatedAt":  "2025-08-16T05:44:09Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-mOty",
                                           "createdAt":  "2025-08-18T16:50:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kijanawoodard",
                                           "body":  "@vhvb1989 do you mean fixed by me? if so, yes.\n\nthe trick was that in the config.json I noticed a infra.parameter for redis_password, that wasn\u0027t in the workflow.\nadding the following fixed it. I haven\u0027t had the problem since.\nenv:\n          AZURE_REDIS_PASSWORD: ${{ secrets.AZURE_REDIS_PASSWORD }}\n\nHOWEVER:\n\nthe real problem is this was a pretty sharp stone to step on. It wasn\u0027t at all clear as the error messages led me down several different (incorrect) path. figuring out the above was purely \"pattern matching in anger\".\n\nI believe the root cause is that I did the `azd pipeline config` before I added redis.\nEverything \"works\" on first deploy, so there\u0027s no indicator you\u0027ve made a mistake and need to update the gh-action workflow.",
                                           "updatedAt":  "2025-08-18T16:50:12Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7D6GZf",
                                           "createdAt":  "2025-09-12T20:50:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kijanawoodard",
                                           "body":  "@vhvb1989 I believe @maddymontaquila ran into this on last week\u0027s Aspire Friday.",
                                           "updatedAt":  "2025-09-12T20:50:26Z"
                                       }
                                   ],
                         "totalCount":  8
                     },
        "title":  "Web Project Loses Redis Auth",
        "labels":  [
                       "azure",
                       "area-deployment",
                       "area-azd"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/10994",
        "createdAt":  "2025-08-17T18:10:38Z",
        "number":  10994,
        "author":  "gibsonsam",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-21T04:45:51Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nThe `aspire publish` produces an invalid helm secret when a project references a database resource. The generated Helm secret embeds the database password secret using the project\u0027s name instead of the DB service’s name.\n\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar k8s = builder.AddKubernetesEnvironment(\"k8s\");\n\nvar db = builder\n    .AddPostgres(\"postgres\")\n    .AddDatabase(\"exampledb\");\n\nbuilder.AddProject\u003cProjects.Example\u003e(\"exampleapp\")\n    .WithReference(db);\n```\n\n`secrets.yaml` refers to an invalid secret `.Values.secrets.exampleapp.postgres_password` (note `exampleapp` not `postgres`):\n```yaml\n...\nstringData:\n  ConnectionStrings__exampledb: \"Host=postgres-service;Port=5432;Username=postgres;Password={{ .Values.secrets.exampleapp.postgres_password }};Database=exampledb\"\n...\n```\n\n`values.yaml` (for reference)\n```yaml\nparameters:\n  example:\n    example_image: \"example:latest\"\nsecrets:\n  postgres:\n    POSTGRES_PASSWORD: \"\"\n...\n```\n\n### Expected Behavior\n\nThe `aspire publish` command produces a valid secret:\n\n```yaml\n...\nstringData:\n  ConnectionStrings__exampledb: \"Host=postgres-service;Port=5432;Username=postgres;Password={{ .Values.secrets.postgres.postgres_password }};Database=exampledb\"\n...\n```\n\n### Steps To Reproduce\n\nSee steps above\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n.NET SDK:\n Version:           9.0.302\n Commit:            bb2550b9af\n Workload version:  9.0.300-manifests.5c1085e6\n MSBuild version:   17.14.13+65391c53b\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.302\\\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOvn12UA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6-aSc6",
                                           "createdAt":  "2025-08-17T18:12:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "gibsonsam",
                                           "body":  "(Version of `Aspire.Cli` is `9.4.1`)",
                                           "updatedAt":  "2025-08-17T18:12:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-fK96",
                                           "createdAt":  "2025-08-18T09:15:20Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "erikhermansson79",
                                           "body":  "I noticed the same behavior when referencing qdrant. It tries to get the api key from the secrets of the service that references qdrant instead of from qdrant itself.\n\nIt might be that each service only picks secrets from its own section in values.yaml.\n\nIt also emits the wrong key in values.yaml:\n\nIn api `secrets.yaml`:\n`ConnectionStrings__qdrant: \"Endpoint=http://qdrant-service:6334;Key={{ .Values.secrets.api.qdrantApiKey }}\"`\n\nIn `values.yaml`:\n```\nsecrets:\n  qdrant:\n    QDRANT__SERVICE__API_KEY: \"\"\n```\n\nIt should be:\n```\nsecrets:\n  qdrant:\n    qdrantApiKey: \"\"\n```",
                                           "updatedAt":  "2025-08-18T09:33:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6-fXZQ",
                                           "createdAt":  "2025-08-18T09:31:26Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "samgibsonmoj",
                                           "body":  "\u003e I noticed the same behavior when referencing qdrant. It tries to get the api key from the secrets of the service that references qdrant instead of from qdrant itself.\n\u003e \n\u003e It might be that each service only picks secrets from its own section in values.yaml.\n\nYep. It appears to be an issue with how it constructs secrets for `IResourceWithConnectionString`",
                                           "updatedAt":  "2025-08-18T09:31:26Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "aspire publish produces invalid helm configuration for database secrets",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11033",
        "createdAt":  "2025-08-20T21:22:30Z",
        "number":  11033,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQw57A==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-09-15T22:53:39Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-17T15:54:02Z",
        "body":  "The ContainerPortReference type in Aspire should implement a GetValueAsync API that can resolve the actual port number from the resource outputs, accounting for cases where container resources can expose any port.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Implement GetValueAsync API on ContainerPortReference for build output port resolution",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11037",
        "createdAt":  "2025-08-20T22:58:23Z",
        "number":  11037,
        "author":  "vhvb1989",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODQpdbg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "alexdrl",
                                            "createdAt":  "2025-08-29T10:24:54Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "amilochau",
                                            "createdAt":  "2025-09-10T07:45:57Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "captainsafia",
                                            "createdAt":  "2025-09-15T16:01:18Z"
                                        }
                                    ],
                          "totalCount":  3
                      },
        "updatedAt":  "2025-09-15T16:01:03Z",
        "body":  "from issue: https://github.com/Azure/azure-dev/issues/3550\n\nPublishing Aspire to a Resource Group instead of to a Subscription is something that people would need to model in the AppHost.  Similar to how people can model the Azure Container Environment, people should be able to target one specific RG to be created or to re-use. \n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxEWZGg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc6_RGXZ",
                                           "createdAt":  "2025-08-21T04:11:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "More details? Deploying to an existing rg?",
                                           "updatedAt":  "2025-08-21T04:11:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc6_R504",
                                           "createdAt":  "2025-08-21T06:14:15Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEfEVaw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-08-21T06:22:06Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "Either to an existing RG or to a new RG which you can define in your apphost.\n\nYou could, for example, define one parameter and use it for selecting a rg. Azd would use that to list rg from your subscription and let users pick one to publish your app.\n\nThis is supported by azd, just need to be modeled in Aspire. Then azd would create a main.bicep scoped to rg deployment ",
                                           "updatedAt":  "2025-08-21T06:14:15Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A961F",
                                           "createdAt":  "2025-08-29T15:34:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "@vhvb1989 Currently azd owns the resource group generation when using azd (main.bicep). Wouldn\u0027t this still be part of azd?\n\nFor aspire deploy/publish, this should be possible to change in the apphost.",
                                           "updatedAt":  "2025-08-29T15:34:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7A_HAV",
                                           "createdAt":  "2025-08-29T17:44:50Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "vhvb1989",
                                           "body":  "@davidfowl , yes, azd is providing a default resource group.  However, what I am trying to avoid is introducing an azd-way to customize the resource group. Instead, whatever you make in the AppHost to customize your resource group should be understandable for Aspire deploy/publish as well as azd. ",
                                           "updatedAt":  "2025-08-29T17:44:50Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EFBri",
                                           "createdAt":  "2025-09-14T16:02:30Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "cc @captainsafia ",
                                           "updatedAt":  "2025-09-14T16:02:30Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7ERZka",
                                           "createdAt":  "2025-09-15T16:00:47Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "We\u0027ve talked about supporting this by modeling the resource group as a distinct resource in the application model that we can emit a Bicep template for.\n\nWhen we do this, we\u0027ll need to rework aspects of our Bicep provisioning since the logic (like `azd`) currently assumes that the creation and customization of resource groups is owned by the deployment logic and not the Aspire app model.",
                                           "updatedAt":  "2025-09-15T16:00:47Z"
                                       }
                                   ],
                         "totalCount":  6
                     },
        "title":  "Support modeling Azure resource groups as Aspire resources",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11061",
        "createdAt":  "2025-08-21T23:21:11Z",
        "number":  11061,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-17T14:29:30Z",
        "body":  "In order to display endpoints associated with deployed services in the CLI, we need to resolve the domain associated with each deployment.\n\nCurrrently, this is hardcoded to respect the output parameter exposed by ACA deployment. We\u0027ll want to evaluate how we do this for Azure App service deployments then generalize the interface for both cases.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Define interface for resolving deployment environment domain",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11086",
        "createdAt":  "2025-08-25T00:11:59Z",
        "number":  11086,
        "author":  "mitchdenny",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODMdpVg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-08-25T06:34:56Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-14T16:03:28Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nAt the moment the `ConfigureCustomDomain(...)` API assumes that you are going to use managed certificates, but one scenario where we could pre-configure certificates and do a one shot deployment is if we upload the certs into an existing keyvault.\n\nThis was mentioned here by @YohanSciubukgia\nhttps://github.com/dotnet/docs-aspire/issues/1864#issuecomment-3213367693\n\n### Describe the solution you\u0027d like\n\nWe are probably missing a few elements here before we can implement this. We may need to add certificate support to our KeyVault integration, or perhaps we just support specifying the keyvault certificate RID.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwAZCog==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7ABkKi",
                                           "createdAt":  "2025-08-25T20:25:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEfjbfA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "YohanSciubukgian",
                                                                               "createdAt":  "2025-08-25T20:28:01Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "Another potential option here is this preview feature:\n\nhttps://learn.microsoft.com/en-us/azure/container-apps/rule-based-routing-custom-domain#route-configuration\n\n\u003e Auto | A certificate is optional. If a managed certificate is already created for this domain, it is added to the route automatically. Otherwise, the domain is initially only available over HTTP. To create a managed certificate for this domain, create a new managed certificate after the route is created. After the certificate is created, it is automatically added to the route.\n",
                                           "updatedAt":  "2025-08-25T20:25:46Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Add support for BYO certificate with `ConfigureCustomDomain(...)`",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11096",
        "createdAt":  "2025-08-25T19:54:28Z",
        "number":  11096,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODMwc_g==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-08-26T21:08:16Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-08-25T19:55:00Z",
        "body":  "This is a meta issue that tracks some of the big feature gaps in our Azure Container Apps support.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[META]: Azure Container Apps support",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11106",
        "createdAt":  "2025-08-26T08:06:53Z",
        "number":  11106,
        "author":  "FullStackChef",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-02T20:46:40Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nCalling AddVolume on a container resource builder causes naming collisions when attempting to publish\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nbuilder.AddAzureContainerAppEnvironment(\"my-ace\");\n\nbuilder.AddContainer(\"druid\", \"apache/druid\", \"34.0.0\")\n       .WithHttpEndpoint(targetPort: 8081)\n       .WithHttpHealthCheck(\"/status\")\n       .WithArgs(\"coordinator\")\n       .WithVolume(\"druid_shared\", \"/opt/shared\")\n       .WithVolume(\"coordinator_var\", \"/opt/druid/var\");\n\nbuilder.Build().Run();\n```\n\nrunning azd infra gen results in the following\n\n```bicep\n\nresource managedStorage_volumes_druid_0 \u0027Microsoft.App/managedEnvironments/storages@2025-01-01\u0027 = {\n  name: take(\u0027managedstoragevolumesdruid${uniqueString(resourceGroup().id)}\u0027, 24)\n  properties: {\n    azureFile: {\n      accountName: my_ace_storageVolume.name\n      accountKey: my_ace_storageVolume.listKeys().keys[0].value\n      accessMode: \u0027ReadWrite\u0027\n      shareName: shares_volumes_druid_0.name\n    }\n  }\n  parent: my_ace\n}\n\nresource managedStorage_volumes_druid_1 \u0027Microsoft.App/managedEnvironments/storages@2025-01-01\u0027 = {\n  name: take(\u0027managedstoragevolumesdruid${uniqueString(resourceGroup().id)}\u0027, 24)\n  properties: {\n    azureFile: {\n      accountName: my_ace_storageVolume.name\n      accountKey: my_ace_storageVolume.listKeys().keys[0].value\n      accessMode: \u0027ReadWrite\u0027\n      shareName: shares_volumes_druid_1.name\n    }\n  }\n  parent: my_ace\n}\n```\n\nNote: calling WithAzdResourceNaming() solves the problem but also generates names that aren\u0027t actually compatible with naming requirements\n\n### Expected Behavior\n\nThe names should be unique\n\n### Steps To Reproduce\n\nbasic repro repo\n[FullStackChef/aspire-bug-reporting](https://github.com/FullStackChef/aspire-bug-reporting)\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwYVfoQ==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7BhQwP",
                                           "createdAt":  "2025-09-02T20:38:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "This is from discord \n\n\u003e Just ran into another problem with trying to do multiple environments.\n\u003e we\u0027re calling builder.AddAzureContainerAppEnvironment with a 12 character name.\n\u003e following the code, we see this line https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Azure.AppContainers/AzureContainerAppExtensions.cs#L175 which adds another 13 characters for \"storageVolume\".\n\u003e in the generated bicep, it tries to suffix the unique name for the deployment, BUT, only the first 24 characters are used.\n\u003e \n\u003e result is we get a duplicate storage account error trying to deploy to a new environment.\n\u003e this seems like something many people will fall into.\n\u003e \n\u003e we plan to open an issue with a fix suggestion.\n\u003e tl;dr, take 13 characters from $\"{appEnvResource.Name}_storageVolume\" and then suffix the unique name.\n\u003e \n\u003e in the meantime, we\u0027re going to try and shrink all our names to try and move forward",
                                           "updatedAt":  "2025-09-02T20:38:58Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BhRGl",
                                           "createdAt":  "2025-09-02T20:39:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think fixing this would require a breaking change @eerhardt ",
                                           "updatedAt":  "2025-09-02T20:39:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BhV-h",
                                           "createdAt":  "2025-09-02T20:46:40Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "\u003e I think fixing this would require a breaking change [@eerhardt](https://github.com/eerhardt)\n\nWe could add a backcompat switch / annotation on the ACA environment to get us back to the current (broken) state.",
                                           "updatedAt":  "2025-09-02T20:46:40Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Multiple WithVolume calls creates naming collision when publising",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11124",
        "createdAt":  "2025-08-27T01:03:52Z",
        "number":  11124,
        "author":  "mahdiyar021",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:56:44Z",
        "body":  "\nDescription:\nWhen using , the CLI currently generates deployment output (e.g., Docker Compose) and builds container images as part of the process.\nHowever, there are scenarios where developers only want to produce the publishable configuration/output file and skip building container images.\nExample use cases:\n• \tCI/CD pipelines where image building is handled in a separate stage.\n• \tLocal development when images are already available in a registry or built previously.\n• \tNeed to inspect or version-control the generated deployment files before triggering builds.\nProposed Solution:\nIntroduce a CLI option to skip the image build phase while still generating the publish output file. For example:\n\n`aspire publish --no-build-images`\n\nor\n\n`dotnet aspire publish --output-only`\n\nor \n\n`\u003cPublishAspireSkipImageBuild\u003etrue\u003c/PublishAspireSkipImageBuild\u003e`\n\nBehavior for the proposed flag:\n• \tGenerate the deployment file(s) (e.g., , ) as usual.\n• \tSkip all container image builds.\n• \tOptionally allow tag or registry overrides in the generated file.\nBenefits:\n• \tFaster iterations when only deployment files are needed.\n• \tClear separation of responsibilities in build pipelines.\n• \tSupports workflows with prebuilt or externally managed images.\nEnvironment:\n• \t.NET Aspire SDK version: [your version]\n• \tOS: [Windows/macOS/Linux]\n• \tCommand: \nAdditional context:\nOther tools like  or  follow this separation of steps, giving users flexibility to build and deploy in different stages\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwVW94g==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7AThKk",
                                           "createdAt":  "2025-08-27T01:08:43Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/8782",
                                           "updatedAt":  "2025-08-27T01:08:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AbeCB",
                                           "createdAt":  "2025-08-27T14:24:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "FYI - @captainsafia ",
                                           "updatedAt":  "2025-08-27T14:24:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AbjJk",
                                           "createdAt":  "2025-08-27T14:30:56Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhNgZA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "THUMBS_UP",
                                                                               "user":  "gabynevada",
                                                                               "createdAt":  "2025-09-07T16:50:03Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "Also not building app host itself will be good too",
                                           "updatedAt":  "2025-08-27T14:30:56Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7AcsLK",
                                           "createdAt":  "2025-08-27T15:47:53Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Yep, we should consider doing this since we\u0027ve had to workaround it in other places. I\u0027m leaning more towards a flag that is passed to the publish/deploy command than a property within the project file.\n\n\u003e Also not building app host itself will be good too\n\nI think an option like this for all the CLI commands would be useful. Thoughts, @mitchdenny?",
                                           "updatedAt":  "2025-08-27T15:47:53Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7BVb3i",
                                           "createdAt":  "2025-09-02T02:51:39Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "publish and deploy already flow arguments through to the apphost from the CLI. That makes it possible to map CLI arguments to specific config values for a specific deploy/publish implementation.\n\nAs for not building the apphost itself, that would need to be opt in, but seems like a fine flag to add for power users.",
                                           "updatedAt":  "2025-09-02T02:51:39Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "📝Add Aspire CLI option to publish output file without building container images",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11140",
        "createdAt":  "2025-08-27T14:06:35Z",
        "number":  11140,
        "author":  "RedEye-Developers",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-08-27T18:33:51Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\n```yaml\nconfig.yaml\n\n---\napiVersion: \"v1\"\nkind: \"ConfigMap\"\nmetadata:\n  name: \"api-gateway-config\"\n  labels:\n    app: \"aspire\"\n    component: \"api-gateway\"\ndata:\n  ASPNETCORE_URLS: \"{{ .Values.config.api_gateway.ASPNETCORE_URLS }}\"\n  OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"{{ .Values.config.api_gateway.OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES }}\"\n  OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"{{ .Values.config.api_gateway.OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES }}\"\n  OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"{{ .Values.config.api_gateway.OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY }}\"\n  ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"{{ .Values.config.api_gateway.ASPNETCORE_FORWARDEDHEADERS_ENABLED }}\"\n  HTTP_PORTS: \"{{ .Values.config.api_gateway.HTTP_PORTS }}\"\n  ReverseProxy__Clusters__Authentication_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__Authentication_Cluster__Destinations__destination1__Address }}\"\n  ReverseProxy__Clusters__Command_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__Command_Cluster__Destinations__destination1__Address }}\"\n  ReverseProxy__Clusters__Engagement_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__Engagement_Cluster__Destinations__destination1__Address }}\"\n  ReverseProxy__Clusters__Feed_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__Feed_Cluster__Destinations__destination1__Address }}\"\n  ReverseProxy__Clusters__Payment_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__Payment_Cluster__Destinations__destination1__Address }}\"\n  ReverseProxy__Clusters__Reels_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__Reels_Cluster__Destinations__destination1__Address }}\"\n  ReverseProxy__Clusters__User_Cluster__Destinations__destination1__Address: \"{{ .Values.config.api_gateway.ReverseProxy__Clusters__User_Cluster__Destinations__destination1__Address }}\"\n  ASPNETCORE_ENVIRONMENT: \"{{ .Values.config.api_gateway.ASPNETCORE_ENVIRONMENT }}\"\n  DOTNET_ENVIRONMENT: \"{{ .Values.config.api_gateway.DOTNET_ENVIRONMENT }}\"\n  REDIS__DEFAULT_CONNECTION: \"{{ .Values.config.api_gateway.REDIS__DEFAULT_CONNECTION }}\"\n```\n\n```yaml\nvalues.yaml\n\n  api_gateway:\n    ASPNETCORE_URLS: \"http://+:$8080\"\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EXCEPTION_LOG_ATTRIBUTES: \"true\"\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_EMIT_EVENT_LOG_ATTRIBUTES: \"true\"\n    OTEL_DOTNET_EXPERIMENTAL_OTLP_RETRY: \"in_memory\"\n    ASPNETCORE_FORWARDEDHEADERS_ENABLED: \"true\"\n    ASPNETCORE_ENVIRONMENT: \"Production\"\n    DOTNET_ENVIRONMENT: \"Production\"\n    REDIS__DEFAULT_CONNECTION: \"secret\"\n```\n\n```cs\naspire program.cs\n\ngateway\n    .WaitFor(authenticationApi)\n    .WaitFor(commandApi)\n    .WaitFor(engagementApi)\n    .WaitFor(feedApi)\n    .WaitFor(paymentApi)\n    .WaitFor(reelsApi)\n    .WaitFor(userApi)\n    .WithEnvironment(\"ReverseProxy__Clusters__Authentication_Cluster__Destinations__destination1__Address\", authenticationApi.GetEndpoint(\"http\"))\n    .WithEnvironment(\"ReverseProxy__Clusters__Command_Cluster__Destinations__destination1__Address\", commandApi.GetEndpoint(\"http\"))\n    .WithEnvironment(\"ReverseProxy__Clusters__Engagement_Cluster__Destinations__destination1__Address\", engagementApi.GetEndpoint(\"http\"))\n    .WithEnvironment(\"ReverseProxy__Clusters__Feed_Cluster__Destinations__destination1__Address\", feedApi.GetEndpoint(\"http\"))\n    .WithEnvironment(\"ReverseProxy__Clusters__Payment_Cluster__Destinations__destination1__Address\", paymentApi.GetEndpoint(\"http\"))\n    .WithEnvironment(\"ReverseProxy__Clusters__Reels_Cluster__Destinations__destination1__Address\", reelsApi.GetEndpoint(\"http\"))\n    .WithEnvironment(\"ReverseProxy__Clusters__User_Cluster__Destinations__destination1__Address\", userApi.GetEndpoint(\"http\"))\n    .BindEnv(config)\n    .FromKeys(EnvKeys.Redis.DefaultConnection)\n    .Apply()\n    .WithUrlForEndpoint(\"http\", x =\u003e\n    {\n        x.DisplayText = \"Swagger\";\n        x.Url = \"/swagger\";\n    });\n```\n\nwhen i take k8s aspire build using `aspire public -o Red-Helm` then WithEnvironment() method values all not binding in values.yaml but in config.yaml WithEnvironment() method key and path was binded properly.\n\n### Expected Behavior\n\naspire cli wand to bind WithEnvironment() value in value.yaml file to.\n\n### Steps To Reproduce\n\n_No response_\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n```\ndotnet --version\n9.0.303\n```\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Aspire Cli K8s Build WithEnvironment() Values all missing in values.yaml",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11183",
        "createdAt":  "2025-08-30T00:54:39Z",
        "number":  11183,
        "author":  "mahdiyar021",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:56:07Z",
        "body":  "Description\nWhen running aspire publish, the build/pack step crashes with two related errors in endpoint handling:\n- Duplicate Default Endpoint Name\nThe first error surfaces if you call WithHttpEndpoint multiple times without explicit names:\nUnhandled exception. Aspire.Hosting.DistributedApplicationException: Endpoint with name \u0027http\u0027 already exists.  \nEndpoint name may not have been explicitly specified and was derived automatically from scheme argument...  \n- Unable to Resolve Port for Endpoint\nEven when you name your endpoint (e.g. \"admin\"), the Kubernetes generator fails during publish:\nSystem.InvalidOperationException: Unable to resolve port  for endpoint http on resource datanex-master\n\n\nBoth errors occur during the aspire publish --project \u003cpath\u003e command and prevent producing the Docker files and Kubernetes manifests.\n\nReproduction Steps\n- Add Aspire to your project:\ndotnet add package Aspire.Hosting\n- In your Program.cs, configure endpoints without unique names:\nvar builder = DistributedApplication.CreateBuilder(args)\n    .AddKubernetesEnvironment(\"k8s\");\n\n// MongoDB resource omitted for brevity...\n\n```\nvar webApp = builder\n  .AddProject\u003cProjects.Datanex_Master\u003e(\"datanex-master\")\n  .WithReference(mongo)\n  .WaitFor(mongo)\n  // First endpoint: defaults to name \"http\"\n  .WithHttpEndpoint(port: 8080)\n  // Second endpoint: also defaults to \"http\" → collision\n  .WithHttpEndpoint(port: 8081)\n  .PublishAsDockerFile(cb =\u003e { /* ... */ });\n```\n\nbuilder.Build().Run();\n- Run publish:\n`aspire publish --project ./Datanex.Master.AppHost/Datanex.Master.AppHost.csproj`\n- Observe the duplicate-name exception.\n- Rename the endpoints to avoid the first error:\n```\n.WithHttpEndpoint(name: \"main\",  port: 8080)\n.WithHttpEndpoint(name: \"admin\", port: 8081)\n```\n- Re-run publish. Now you hit the port-resolution error:\nUnable to resolve port  for endpoint http on resource datanex-master\n\n\n\nExpected Behavior\n- Publish should succeed, generating Dockerfiles and Kubernetes YAML with both ports exposed.\n- If no name is provided, each endpoint should derive a unique identifier (e.g. \"http-8080\", \"http-8081\").\n- Named endpoints should always map their port into the generated Kubernetes Service/Pod spec.\n\nActual Behavior\n- First aspire publish run fails on duplicate default endpoint name.\n- Second run (after naming endpoints) fails on missing port resolution for the \"http\" scheme.\n\nWorkaround\nExplicitly name and port each endpoint, then manually adjust the generated YAML:\n.WithHttpEndpoint(name: \"main-8080\",  port: 8080)\n.WithHttpEndpoint(name: \"admin-8081\", port: 8081)\n\n\nAfter aspire publish, open the Service manifest and add the missing port entries by hand.\n\nSuggested Fix\n- Automatic Unique Naming\nIn ResourceBuilderExtensions.WithEndpoint:\n```\n- var endpointName = string.IsNullOrEmpty(name) ? scheme : name;\n+ var endpointName = string.IsNullOrEmpty(name)\n+     ? $\"{scheme}-{port.GetValueOrDefault()}\"\n+     : name;\n+ // ensure uniqueness\n+ var original = endpointName;\n+ var index = 2;\n+ while (builder.Resource.Endpoints.ContainsKey(endpointName))\n+ {\n+     endpointName = $\"{original}-{index++}\";\n+ }\n\n```\n- Port Propagation to Kubernetes\nIn KubernetesResource.ProcessEndpoints, ensure that each HTTP endpoint’s Port value is captured and written into the Service spec, regardless of whether it came from:\n- WithHttpEndpoint(...)\n- WithExternalHttpEndpoints() via Dockerfile\n- Default Kestrel settings",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Bug: aspire publish kubernetes Fails with Duplicate Endpoint Names and Port Resolution Errors",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11201",
        "createdAt":  "2025-09-01T15:33:17Z",
        "number":  11201,
        "author":  "lvde0",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:49:45Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nDocker compose supports an [interpolation syntax](https://docs.docker.com/compose/how-tos/environment-variables/variable-interpolation/#interpolation-syntax) for dealing with environment variables. Particularly useful is the \"?\" operator that yields an error if the interpolated environment variables is missing. It would be great if this could be support in Aspire somehow.\n\n### Describe the solution you\u0027d like\n\nhttps://github.com/dotnet/aspire/issues/10547  would allow us to model parameters that are required/optional. That could be easily translated into an interpolation operator in compose.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwUv4AA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7BS_gA",
                                           "createdAt":  "2025-09-01T17:30:12Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I think it would be an overload of https://github.com/dotnet/aspire/blob/7ef1702e1d84a52ac221704b17fe3a492360fc7f/src/Aspire.Hosting.Docker/DockerComposeServiceExtensions.cs#L89",
                                           "updatedAt":  "2025-09-01T17:30:12Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Docker compose env interpolation support",
        "labels":  [
                       "area-deployment",
                       "docker-compose"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11209",
        "createdAt":  "2025-09-02T07:19:59Z",
        "number":  11209,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-02T07:19:59Z",
        "body":  "### Summary\n\nAdd an optional deployment pipeline to Aspire built on top of the Docker Compose environment, enabling deployment of Aspire applications to a remote VM via SSH. This pipeline is **targeted at small, non-enterprise deployments and hobbyist use cases**. It should:\n- Built on top of the Docker Compose environment (not just reuse outputs)\n- Build and push container images to registry\n- Prompt for remote host, credentials, and deployment path\n- Transfer compose files and merged environment variables\n- Run `docker compose up -d` on remote host\n- Health check services\n- Provide step-wise progress and error reporting\n\n#### Key Requirements\n- CLI: `aspire deploy` (no additional arguments; works interactively and in CI)\n- Interactive prompting for missing configuration, with support for non-interactive CI mode (via env/config)\n- Registry support for container images\n- Remote environment preparation (directory, Docker/compose, permissions)\n- Step-wise reporting: prerequisites, image push, SSH, environment, transfer, deploy\n- Merged .env management with auto-injected SERVICE_IMAGE tags\n\n### Automatic TLS \u0026 Reverse Proxy (YARP)\n- Integrate automatic TLS provisioning for exposed endpoints, using Let\u0027s Encrypt or self-signed certs\n- Add YARP reverse proxy for ingress, with generated config, to front all HTTP services\n- YARP configuration and TLS certificate management should be automated as part of the pipeline\n- Document how custom ingress rules can be integrated\n\n### Motivation\n- Streamline intermediate deployments to SSH-accessible VMs with Docker, without requiring cloud orchestration\n- Provide secure (TLS) ingress for all HTTP endpoints out-of-the-box\n- Enable Aspire applications to be deployed with a single command for dev/test, hobby, or small-scale production\n- **Intended for small-scale, non-enterprise use; not recommended for production at scale or regulated environments**\n- Improve developer experience for remote deployments, and provide a foundation for additional pipeline types (K8s, cloud, etc.)\n\n### References\n- Prototype: [davidfowl/AspirePipelines](https://github.com/davidfowl/AspirePipelines)\n- YARP: [https://github.com/microsoft/reverse-proxy](https://github.com/microsoft/reverse-proxy)\n\n### Future Enhancements\n- Multi-host/cluster SSH deployments\n- CI/CD workflow scaffolding\n- Advanced ingress (multi-cert, custom domains)\n\n---\n\nLabels: area-deployment, docker-compose, yarp, small-deployment, hobbyist\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Feature: SSH + Docker Compose remote deployment pipeline with automatic TLS and YARP ingress",
        "labels":  [
                       "area-deployment",
                       "docker-compose",
                       "yarp"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11217",
        "createdAt":  "2025-09-02T19:29:03Z",
        "number":  11217,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-20T00:04:25Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Build information\n\nBuild: https://github.com/dotnet/aspire/actions/runs/17408052893\nBuild error leg or test failing: Aspire.Cli.Tests.Commands.DeployCommandTests.DeployCommandIncludesDeployFlagInArguments\nPull Request: [N/A](https://github.com/dotnet/aspire/pull/11175)\n\n\n### Fill in the error message template\n\n\u003c!-- Error message template  --\u003e\n## Error Message\n\nFill the error message using [step by step known issues guidance](https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssueJsonStepByStep.md).\n\n\u003c!-- Use ErrorMessage for String.Contains matches. Use ErrorPattern for regex matches (single line/no backtracking). Set BuildRetry to `true` to retry builds with this error. Set ExcludeConsoleLog to `true` to skip helix logs analysis. --\u003e\n\n```json\n{\n  \"ErrorMessage\": \"\",\n  \"ErrorPattern\": \"\",\n  \"BuildRetry\": false,\n  \"ExcludeConsoleLog\": false\n}\n```\n\n```\nfailed Aspire.Cli.Tests.Commands.DeployCommandTests.DeployCommandIncludesDeployFlagInArguments (10s 012ms)\n    Xunit.Runner.InProc.SystemConsole.TestingPlatform.XunitException: System.TimeoutException : The operation has timed out.\n      at Aspire.Cli.Tests.Commands.DeployCommandTests.DeployCommandIncludesDeployFlagInArguments() in D:\\a\\aspire\\aspire\\tests\\Aspire.Cli.Tests\\Commands\\DeployCommandTests.cs:324\n      --- End of stack trace from previous location ---\n```\n\n\n### Other info\n\n_No response_\r\n\u003c!--Known issue error report start --\u003e\r\n\r\n### Report\r\n#### Summary\r\n|24-Hour Hit Count|7-Day Hit Count|1-Month Count|\r\n|---|---|---|\r\n|0|0|0|\r\n\u003c!--Known issue error report end --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- BEGIN: Github workflow runs test report --\u003e\n\n## Report for PRs and Rolling builds\n\n### Last 10 failures:\n| Run date | Test Name |\n| --------- | ---- |\n| Sep 2 3 PM | [windows] [Aspire.Cli.Tests.Commands.DeployCommandTests.DeployCommandIncludesDeployFlagInArguments](https://github.com/dotnet/aspire/actions/runs/17408052893) |\n\n### Summary of the failures\n\n| Last 24 hrs | Last 7 days | Last 30 days |\n| --- | --- | --- |\n| 0 | 1 | 1 |\n\n\n-- Updated on 9/6/2025 3:13:55 AM UTC\n\n\u003c!-- END: Github workflow runs test report --\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "[Failing test]: Aspire.Cli.Tests.Commands.DeployCommandTests.DeployCommandIncludesDeployFlagInArguments",
        "labels":  [
                       "blocking-clean-ci",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11256",
        "createdAt":  "2025-09-04T07:01:53Z",
        "number":  11256,
        "author":  "davidfowl",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODR_7ow==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "amilochau",
                                            "createdAt":  "2025-09-04T07:19:31Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "AnthonyCarl",
                                            "createdAt":  "2025-09-19T18:52:52Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-09-05T16:06:34Z",
        "body":  "## Problem\n\nWhen using the following code sample:\n\n```C#\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar acr = builder.AddAzureContainerRegistry(\"acr\")\n    .PublishAsExisting(\"myexistingacr\", \"my-existing-resource-group\");\n\nbuilder.AddAzureContainerAppEnvironment(\"env\")\n       .WithAzureContainerRegistry(acr);\n\nvar apiService = builder.AddProject\u003cProjects.ExistingContainerRegistry_ApiService\u003e(\"apiservice\")\n    .WithHttpHealthCheck(\"/health\");\n\nbuilder.Build().Run();\n```\n\nThe generated `env.bicep` includes:\n\n```bicep\nresource acr \u0027Microsoft.ContainerRegistry/registries@2025-04-01\u0027 existing = {\n  name: \u0027myexistingacr\u0027\n  scope: resourceGroup(\u0027my-existing-resource-group\u0027)\n}\n\nresource acr_env_mi_AcrPull \u0027Microsoft.Authorization/roleAssignments@2022-04-01\u0027 = {\n  name: guid(acr.id, env_mi.id, subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u00277f951dda-4ed3-4680-a7ca-43fe172d538d\u0027))\n  properties: {\n    principalId: env_mi.properties.principalId\n    roleDefinitionId: subscriptionResourceId(\u0027Microsoft.Authorization/roleDefinitions\u0027, \u00277f951dda-4ed3-4680-a7ca-43fe172d538d\u0027)\n    principalType: \u0027ServicePrincipal\u0027\n  }\n  scope: acr\n}\n```\n\nThis results in the following Bicep error:\n\n\u003e A resource\u0027s scope must match the scope of the Bicep file for it to be deployable. You must use modules to deploy resources to a different scope.\n\n**Error details:**\n```\nBCP139: A resource\u0027s scope must match the scope of the Bicep file for it to be deployable. You must use modules to deploy resources to a different scope.\n```\n\n## Cause\nThe error occurs because the generated Bicep attempts to set up a role assignment for an existing resource (`acr`) in a different scope (resource group) than the Bicep deployment target. Bicep does not support creating resources at a different scope directly; modules must be used instead.\n\n## Impact\nThis prevents users from assigning roles to existing Azure Container Registry resources located in a different resource group using the generated Bicep.\n\n## Desired Behavior\nRole assignments to existing resources in different scopes should be supported by generating appropriate Bicep modules or alternative deployment logic.\n\n## Steps to Reproduce\n1. Use an existing Azure Container Registry in a different resource group via `.PublishAsExisting()`\n2. Attempt to deploy the generated `env.bicep`\n3. Observe error BCP139\n\n## Additional Information\n- [Bicep documentation: Deploy to different scopes](https://learn.microsoft.com/en-us/azure/azure-resource-manager/bicep/deploy-to-different-scopes)\n- The error highlights a limitation in how Aspire generates Bicep files for this scenario.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwj7ZCg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7B2QE0",
                                           "createdAt":  "2025-09-04T07:06:17Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/9618",
                                           "updatedAt":  "2025-09-04T07:06:17Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CO9qs",
                                           "createdAt":  "2025-09-05T15:08:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEhFZgw==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "HOORAY",
                                                                               "user":  "davidfowl",
                                                                               "createdAt":  "2025-09-05T16:06:25Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "I think this is another case of \"lack of modeling\" in Aspire. If we modeled the `env_mi` as an `AzureUserAssignedIdentityResource`, we could add the role assignment to the ACR just like any other resource. And the role assignment would automatically be in its own module.",
                                           "updatedAt":  "2025-09-05T15:08:34Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CPtkK",
                                           "createdAt":  "2025-09-05T16:06:34Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Yep.",
                                           "updatedAt":  "2025-09-05T16:06:34Z"
                                       }
                                   ],
                         "totalCount":  3
                     },
        "title":  "Role Assignment for Existing Azure Container Registry Fails Due to Bicep Scope Limitation",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11269",
        "createdAt":  "2025-09-06T17:33:15Z",
        "number":  11269,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODO32zg==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-09-07T03:50:05Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-14T15:48:45Z",
        "body":  "When building deployment pipelines, there\u0027s a frequent requirement to model the following set of behaviors across multiple scenarios:\n\n- Build assets for a compute resource (docker build, npm build, dotnet publish)\n- Manage these assets in local and CI/CD-based pipelines (e.g. avoid building assets in release pipelines)\n- Push these assets to some sort of registry (CDN, container registry, etc.)\n\nOur current deployment process is optimized for resources that get built as Docker images (although we do have feature gaps here).\n\nWe should consider modeling this for non-Docker image based resources as well.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Provide API for deployment resources that product and push build artifacts",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11270",
        "createdAt":  "2025-09-06T17:55:12Z",
        "number":  11270,
        "author":  "kijanawoodard",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:48:31Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWe ran into another problem with trying to do multiple environments.\n\nWe\u0027re calling builder.AddAzureContainerAppEnvironment with a 12 character name.\nfollowing the code, we see this line https://github.com/dotnet/aspire/blob/main/src/Aspire.Hosting.Azure.AppContainers/AzureContainerAppExtensions.cs#L175 which adds another 13 characters for \"storageVolume\".\n\nIn the generated bicep, it tries to suffix the unique name for the deployment, BUT, only the first 24 characters are used. \n\nThe result is we get a duplicate storage account error trying to deploy to a new environment since storage account names need to be globally unique. The unique suffix for the aca environment gets trimmed off.\n\nThis seems like something many people will fall into.\n\n### Expected Behavior\n\nThe unique suffix is applied as with other resources.\n\n### Steps To Reproduce\n\nCall builder.AddAzureContainerAppEnvironment(\"{some-name}\") and deploy to multiple environments.\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\naspire 9.4.2\ndotnet --info                                                                  in pwsh at 12:39:41\n.NET SDK:\n Version:           9.0.304\n Commit:            f12f5f689e\n Workload version:  9.0.300-manifests.407ced12\n MSBuild version:   17.14.16+5d8159c5f\n\nRuntime Environment:\n OS Name:     Windows\n OS Version:  10.0.26100\n OS Platform: Windows\n RID:         win-x64\n Base Path:   C:\\Program Files\\dotnet\\sdk\\9.0.304\\\n\n.NET workloads installed:\n [android]\n   Installation Source: SDK 9.0.300, VS 17.14.36414.22\n   Manifest Version:    35.0.92/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.android\\35.0.92\\WorkloadManifest.json\n   Install Type:              Msi\n\n [aspire]\n   Installation Source: SDK 9.0.300, VS 17.14.36414.22\n   Manifest Version:    8.2.2/8.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\8.0.100\\microsoft.net.sdk.aspire\\8.2.2\\WorkloadManifest.json\n   Install Type:              Msi\n\n [ios]\n   Installation Source: SDK 9.0.300, VS 17.14.36414.22\n   Manifest Version:    18.5.9215/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.ios\\18.5.9215\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maccatalyst]\n   Installation Source: SDK 9.0.300, VS 17.14.36414.22\n   Manifest Version:    18.5.9215/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maccatalyst\\18.5.9215\\WorkloadManifest.json\n   Install Type:              Msi\n\n [maui-windows]\n   Installation Source: SDK 9.0.300, VS 17.14.36414.22\n   Manifest Version:    9.0.82/9.0.100\n   Manifest Path:       C:\\Program Files\\dotnet\\sdk-manifests\\9.0.100\\microsoft.net.sdk.maui\\9.0.82\\WorkloadManifest.json\n   Install Type:              Msi\n\nConfigured to use loose manifests when installing new manifests.\n\nHost:\n  Version:      9.0.8\n  Architecture: x64\n  Commit:       aae90fa090\n\n.NET SDKs installed:\n  8.0.100-rc.2.23502.2 [C:\\Program Files\\dotnet\\sdk]\n  9.0.205 [C:\\Program Files\\dotnet\\sdk]\n  9.0.304 [C:\\Program Files\\dotnet\\sdk]\n\n.NET runtimes installed:\n  Microsoft.AspNetCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.0-rc.2.23480.2 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 8.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.AspNetCore.App 9.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.0-rc.2.23479.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 8.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.NETCore.App 9.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App]\n  Microsoft.WindowsDesktop.App 6.0.36 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 7.0.20 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.0-rc.2.23479.10 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 8.0.19 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.6 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n  Microsoft.WindowsDesktop.App 9.0.8 [C:\\Program Files\\dotnet\\shared\\Microsoft.WindowsDesktop.App]\n\nOther architectures found:\n  x86   [C:\\Program Files (x86)\\dotnet]\n    registered at [HKLM\\SOFTWARE\\dotnet\\Setup\\InstalledVersions\\x86\\InstallLocation]\n\nEnvironment variables:\n  Not set\n\nglobal.json file:\n  Not found\n\n\n### Anything else?\n\nI happen to have  storage volume for another purpose in this solution. Is there a way to offer that storage volume for use by AddAzureContainerAppEnvironment?",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOw7VJgw==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7Cet2r",
                                           "createdAt":  "2025-09-06T17:59:48Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/11106",
                                           "updatedAt":  "2025-09-06T17:59:48Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7DtUmD",
                                           "createdAt":  "2025-09-12T02:36:52Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "kijanawoodard",
                                           "body":  "@MihuBot  yes i think so",
                                           "updatedAt":  "2025-09-12T02:37:06Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Storage Volume naming blocks multiple aca environments",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11271",
        "createdAt":  "2025-09-07T02:36:33Z",
        "number":  11271,
        "author":  "dansiegel",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODPUzfw==",
                          "nodes":  [
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "YohanSciubukgian",
                                            "createdAt":  "2025-09-08T18:50:44Z"
                                        },
                                        {
                                            "content":  "THUMBS_UP",
                                            "user":  "cihanyakar",
                                            "createdAt":  "2025-09-09T12:06:42Z"
                                        }
                                    ],
                          "totalCount":  2
                      },
        "updatedAt":  "2025-09-14T15:48:18Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Describe the bug\n\nWhen you have something like:\n\n```cs\nvar api = builder.AddProject\u003cProjects.MyApiProject\u003e(\"myapiproject\")\n    .PublishAsAzureContainerApp((cae, app) =\u003e\n    {\n        app.ConfigureCustomDomain(customApiDomain, certificateName);\n    });\n\nvar frontend = builder.AddProject\u003cProjects.MyProject\u003e(\"myproject\")\n    .WithReference(api);\n```\n\nThe environment parameters uses:\n\n```bicep\n{\n  name: \u0027services__myapiproject__http__0\u0027\n  value: \u0027http://myapiproject.${myproject_outputs_azure_container_apps_environment_default_domain}\u0027\n}\n{\n  name: \u0027services__myapiproject__https__0\u0027\n  value: \u0027https://myapiproject.${myproject_outputs_azure_container_apps_environment_default_domain}\u0027\n}\n```\n\n### Expected Behavior\n\nThis should instead update the resource to use the custom domain.\n\n```bicep\n{\n  name: \u0027services__myapiproject__http__0\u0027\n  value: \u0027http://mycustomdomain.com\u0027\n}\n{\n  name: \u0027services__myapiproject__https__0\u0027\n  value: \u0027https://mycustomdomain.com\u0027\n}\n```\n\n### Steps To Reproduce\n\n```cs\nvar api = builder.AddProject\u003cProjects.MyApiProject\u003e(\"myapiproject\")\n    .PublishAsAzureContainerApp((cae, app) =\u003e\n    {\n        app.ConfigureCustomDomain(customApiDomain, certificateName);\n    });\n\nvar frontend = builder.AddProject\u003cProjects.MyProject\u003e(\"myproject\")\n    .WithReference(api);\n```\n\n### Exceptions (if any)\n\n_No response_\n\n### .NET Version info\n\n_No response_\n\n### Anything else?\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOwok5zA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7Cg3_v",
                                           "createdAt":  "2025-09-07T02:40:27Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/6271",
                                           "updatedAt":  "2025-09-07T02:40:27Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7CiTnM",
                                           "createdAt":  "2025-09-07T13:22:05Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "dansiegel",
                                           "body":  "\u003e I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n\u003e \n\u003e * [Streamline custom domain support when using PublishAsAzureContainerApp #6271](https://github.com/dotnet/aspire/issues/6271)\n\nthe issue specified I believe was part of the original spec. This issue is related to an unfinished piece of that support.",
                                           "updatedAt":  "2025-09-07T13:22:05Z"
                                       }
                                   ],
                         "totalCount":  2
                     },
        "title":  "Custom Domain should update bicep",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11301",
        "createdAt":  "2025-09-09T22:40:33Z",
        "number":  11301,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-14T15:45:21Z",
        "body":  "When inside a `PublishAsContainerApp` or `PublishAsAzureAppServiceWebsite` callback, the `AspireResource` that is available in the back-pointer is an `AzureProvisioningResource` and not a pointer to the original compute resource in the application model. This makes it difficult to access things like annotations on the compute resource from inside these callbacks. We should consider exposing a back-pointer.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Expose compute pointer to Aspire resource associated with compute resource",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11365",
        "createdAt":  "2025-09-12T08:12:50Z",
        "number":  11365,
        "author":  "mahdiyar021",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-15T18:37:55Z",
        "body":  "Summary\nAspire’s Kubernetes publish currently relies on a centralized values.yaml to inject parameters into Helm templates:\n\n```\nspec:\n  containers:\n    - image: \"{{ .Values.parameters.datanex.datanex_image }}\"\n```\n\n\nThis request proposes eliminating values.yaml and moving all runtime settings—images, ports, env vars, volume mounts—directly into Kubernetes-native manifests (ConfigMaps, Secrets, Service, Deployment) for clearer, self-contained configuration.\n\nMotivation\n- Simplify chart maintenance by removing the indirection layer between values.yaml and templates.\n- Make manifests consumable by both Helm and non-Helm users without extra boilerplate.\n- Improve discoverability: operators can inspect a ConfigMap or Service and immediately see live configuration.\n- Enforce a declarative, Kubernetes-first mindset across all Aspire modules.\n\nProposal\n- Drop the values.yaml file from all Aspire charts.\n- Embed configuration in Kubernetes resources:\n- Use a single ConfigMap (and Secrets) for image names, ports, environment variables, resource limits.\n- Reference those directly in Deployment, Service, and other manifests.\n- Update documentation and examples to reflect the new pattern.\n\nAlternatives Considered\n- Keep values.yaml but generate a ConfigMap hook post-install.\n- Offer an opt-in toggle (useValuesFile: true|false) to support both modes.\n\nImpacts \u0026 Migration\n- Breaking change for existing users relying on values.yaml.\n- Provide a migration guide to translate values.yaml entries into the new ConfigMap-driven model.\n- Update CI pipelines, tests, and documentation accordingly.\n\nAcceptance Criteria\n- [ ] Remove values.yaml from all Aspire chart repos.\n- [ ] All templates exclusively reference ConfigMaps, Secrets, or inline fields.\n- [ ] CI and Helm lint/tests pass with the new manifests.\n- [ ] Documentation and migration guide published.\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxE4SJA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7DwZiL",
                                           "createdAt":  "2025-09-12T08:16:14Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  "Y3Vyc29yOnYyOpHOEh_iNA==",
                                                             "nodes":  [
                                                                           {
                                                                               "content":  "LAUGH",
                                                                               "user":  "mahdiyar021",
                                                                               "createdAt":  "2025-09-12T08:18:14Z"
                                                                           }
                                                                       ],
                                                             "totalCount":  1
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "this is kina niche , but i wanna use KubernetesClient (C# library) for apply manifest file too kubernetes cluster.(ultimate CI/CD pipeline i want)",
                                           "updatedAt":  "2025-09-12T08:17:43Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EE-sr",
                                           "createdAt":  "2025-09-14T15:41:41Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "I don\u0027t think this makes sense as publish does not have all of the values required to create a concrete manifest (e.g. parameters)",
                                           "updatedAt":  "2025-09-14T15:41:41Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EF2KY",
                                           "createdAt":  "2025-09-14T20:22:35Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "\u003e I don\u0027t think this makes sense as publish does not have all of the values required to create a concrete manifest (e.g. parameters)\n\nThat actually leads to my next question:\nHow can we set values like POSTGRES_PASSWORD directly in the YAML file when using Aspire?\nI know I could read external files and inject them manually in code, but having a built-in way to centralize configuration—especially for secrets and environment variables—would be a really useful feature.\n",
                                           "updatedAt":  "2025-09-14T20:22:35Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EF5Si",
                                           "createdAt":  "2025-09-14T20:41:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "I think this would be a powerful addition to Aspire — it would really expand its capabilities and make it even more developer and DevOps friendly.",
                                           "updatedAt":  "2025-09-14T20:42:01Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EThIk",
                                           "createdAt":  "2025-09-15T18:37:55Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "mahdiyar021",
                                           "body":  "tell me if there is no implementation",
                                           "updatedAt":  "2025-09-15T18:37:55Z"
                                       }
                                   ],
                         "totalCount":  5
                     },
        "title":  "Feature Request: Remove values.yaml in Aspire Kubernetes Publish and Inline Configuration in ConfigMaps and Services.",
        "labels":  [
                       "area-deployment",
                       "kubernetes"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11408",
        "createdAt":  "2025-09-15T17:43:58Z",
        "number":  11408,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-15T23:00:29Z",
        "body":  "When `aspire deploy` runs and needs to publish a .NET project via a container, it fails if Docker Desktop isn\u0027t running.\n\n\u003cimg width=\"734\" height=\"200\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c0ab538c-b9d1-4df3-8ed8-bd082396195d\" /\u003e\n\nHowever, when I `azd up` the same app, it doesn\u0027t require Docker Desktop to be running.\n\nLooking into azd\u0027s code, it looks like they tell the `dotnet publish` command to push to the server:\n\nhttps://github.com/Azure/azure-dev/blob/1213533c4673df47eaeaaf5133751eb62eba0518/cli/azd/pkg/tools/dotnet/dotnet.go#L182-L190\n\n```\n\trunArgs = runArgs.AppendParams(\n\t\t\"-r\", \"linux-x64\",\n\t\t\"-c\", configuration,\n\t\t\"/t:PublishContainer\",\n\t\tfmt.Sprintf(\"-p:ContainerRepository=%s\", imageParts[0]),\n\t\tfmt.Sprintf(\"-p:ContainerImageTag=%s\", imageParts[1]),\n\t\tfmt.Sprintf(\"-p:ContainerRegistry=%s\", server),\n\t\t\"--getProperty:GeneratedContainerConfiguration\",\n\t)\n```\n\nHowever, in `aspire deploy` we are doing it in 2 steps (step 1 and 3 below):\n\nhttps://github.com/dotnet/aspire/blob/d82f17385e51b6aebb5170e2ddb023c74e52f987/src/Aspire.Hosting.Azure/AzureDeployingContext.cs#L152-L183\n\nWe should see if we can remove this requirement for Docker Desktop to be running during `aspire deploy`.\n\ncc @captainsafia @vhvb1989 ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxFpovg==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7ETpa-",
                                           "createdAt":  "2025-09-15T18:48:37Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "Today we\u0027re doing the image push with docker outside of msbuild.",
                                           "updatedAt":  "2025-09-15T18:48:37Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EUjS6",
                                           "createdAt":  "2025-09-15T20:01:46Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "\u003e Today we\u0027re doing the image push with docker outside of msbuild.\n\nCorrect.\n\nI have mixed thoughts about taking advantage of the push functionality in `dotnet publish` to do this. I like the idea of modeling tag/push as distinct steps, instead of overloading the \"build image\" step with functionality that also does the remote push.",
                                           "updatedAt":  "2025-09-15T20:01:46Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EWlox",
                                           "createdAt":  "2025-09-15T22:58:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "eerhardt",
                                           "body":  "cc @baronfel if he has opinions on whether we should use `dotnet publish`\u0027s capability of pushing to the remote registry or not.\n\nIn general, it isn\u0027t horrible that I need Docker Desktop running to do `aspire deploy`, but it is a paper cut.",
                                           "updatedAt":  "2025-09-15T22:58:33Z"
                                       },
                                       {
                                           "id":  "IC_kwDOKYQzfc7EWmi-",
                                           "createdAt":  "2025-09-15T23:00:29Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "baronfel",
                                           "body":  "I mean, _of course_ I\u0027m going to say you should use our stuff. \n\nHaving said that, what you could do is probe for docker first fallback to the SDK if it\u0027s not around and you\u0027re publishing .NET projects.",
                                           "updatedAt":  "2025-09-15T23:00:29Z"
                                       }
                                   ],
                         "totalCount":  4
                     },
        "title":  "aspire deploy requires docker to be running, but azd up doesn\u0027t",
        "labels":  [
                       "azure",
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11443",
        "createdAt":  "2025-09-16T21:41:01Z",
        "number":  11443,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-16T21:41:01Z",
        "body":  "# Add `WithBuildSecret` overload that accepts a file path\n\n## Background and Motivation\n\nCurrently, `WithBuildSecret` only supports passing build secrets via `IResourceBuilder\u003cParameterResource\u003e`, which requires secrets to be stored in configuration or user secrets. However, there are legitimate scenarios where developers have existing secret files on disk that they need to pass to Docker builds without converting them to Aspire parameters first.\n\nThe `WithBuildSecret(FileInfo)` overload was previously removed in version 8.2.0, but there are valid use cases for reading secrets directly from files during container builds, similar to how Docker and Podman natively support `--secret id=name,src=filepath` syntax.\n\n## Use Cases\n\n1. **CI/CD Integration**: Build agents may write secrets to temporary files that need to be consumed by container builds\n2. **Local Development**: Developers may have API keys, certificates, or tokens stored in specific files outside the standard configuration system  \n3. **Legacy Integration**: Existing build processes that already use file-based secrets\n4. **Security Tools**: Secret management tools that output secrets to files\n\n## Proposed API\n\nAdd a new `WithBuildSecret` overload to `ContainerResourceBuilderExtensions`:\n\n```csharp\n/// \u003csummary\u003e\n/// Adds a build secret to the container build process using a file path.\n/// \u003c/summary\u003e\n/// \u003ctypeparam name=\"T\"\u003eThe type of container resource.\u003c/typeparam\u003e\n/// \u003cparam name=\"builder\"\u003eThe resource builder for the container resource.\u003c/param\u003e\n/// \u003cparam name=\"name\"\u003eThe name of the secret build argument.\u003c/param\u003e\n/// \u003cparam name=\"filePath\"\u003eThe path to the file containing the secret value.\u003c/param\u003e\n/// \u003creturns\u003eThe \u003csee cref=\"IResourceBuilder{T}\"/\u003e.\u003c/returns\u003e\n/// \u003cexception cref=\"InvalidOperationException\"\u003e\n/// Thrown when \u003csee cref=\"WithBuildSecret\"/\u003e is called before \u003csee cref=\"WithDockerfile\"/\u003e.\n/// \u003c/exception\u003e\n/// \u003cremarks\u003e\n/// \u003cpara\u003e\n/// The \u003csee cref=\"WithBuildSecret\"/\u003e extension method results in a \u003cc\u003e--secret\u003c/c\u003e \n/// argument being passed to the underlying container build command with the format \n/// \u003cc\u003e--secret id={name},src={filePath}\u003c/c\u003e.\n/// \u003c/para\u003e\n/// \u003cpara\u003e\n/// The secret file is read at build time and made available to Dockerfile RUN commands \n/// using \u003cc\u003e--mount=type=secret,id={name}\u003c/c\u003e syntax. The secret is mounted at \n/// \u003cc\u003e/run/secrets/{name}\u003c/c\u003e within the container during build.\n/// \u003c/para\u003e\n/// \u003cpara\u003e\n/// The secret file must exist and be readable at build time. The file path can be \n/// absolute or relative to the build context.\n/// \u003c/para\u003e\n/// \u003c/remarks\u003e\npublic static IResourceBuilder\u003cT\u003e WithBuildSecret\u003cT\u003e(this IResourceBuilder\u003cT\u003e builder, string name, string filePath) \n    where T : ContainerResource\n```\n\n## Example Usage\n\n```csharp\nvar builder = DistributedApplication.CreateBuilder(args);\n\nvar container = builder.AddDockerfile(\"myapp\", \"relative/context/path\")\n    .WithBuildSecret(\"API_KEY\", \"./secrets/api-key.txt\")\n    .WithBuildSecret(\"CERT_FILE\", \"/etc/ssl/private/build-cert.pem\");\n```\n\n**Dockerfile usage:**\n```dockerfile\n# The API key and certificate are available during build\nRUN --mount=type=secret,id=API_KEY \\\n    --mount=type=secret,id=CERT_FILE \\\n    ./build-script.sh\n```\n\n## Implementation Considerations\n\n1. **Path Validation**: The method should validate that the file exists and is readable at build time\n2. **Path Resolution**: Support both absolute and relative paths (relative to build context or AppHost project)\n3. **Security**: Ensure the file path doesn\u0027t expose sensitive information in logs or manifests\n4. **Consistency**: Follow the same patterns as existing `WithBuildSecret` and `WithBuildArg` methods\n5. **Documentation**: Clear guidance on when to use file paths vs parameters\n\n## Alternative Solutions Considered\n\n1. **Convert files to parameters**: Developers can manually read files and create parameters, but this adds boilerplate\n2. **Use environment variables**: Not suitable for multi-line secrets like certificates\n3. **Mount volumes**: More complex and doesn\u0027t integrate with Docker build secrets\n4. **Mutate DockerfileAnnotation**: Brittle and requires mucking with the raw BuildSecrets dictionary\n\n## Related Issues\n\n- The underlying Docker/Podman build secret functionality supports file paths natively\n- This would complement the existing parameter-based `WithBuildSecret` method\n- Aligns with Docker\u0027s `--secret id=name,src=filepath` syntax",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Add `WithBuildSecret` overload that accepts a file path",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11444",
        "createdAt":  "2025-09-16T22:02:57Z",
        "number":  11444,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T05:17:26Z",
        "body":  "Currently, the `aspire deploy` command requires users to re-enter deployment configuration on each deployment and regenerates secrets/passwords, leading to:\n\n1. **Configuration fatigue**: Repeated prompts for subscription, resource group, and location\n2. **Inconsistent secrets**: Generated passwords change between deployments, breaking data persistence\n3. **Developer friction**: Extra steps that slow down iterative development workflows\n\n### Scenario 1: Deployment Configuration Re-prompting\nWhen using `aspire deploy`, users are repeatedly prompted for:\n- Azure Subscription ID\n- Resource Group name  \n- Azure Location/Region\n\nThis information should be cached after the first deployment to the same environment.\n\n### Scenario 2: Generated Value Regeneration\nResources that generate passwords/secrets (like Redis with `WithAccessKeyAuthentication()`) create new values on each deployment:\n\n```csharp\nvar redis = builder.AddAzureRedis(\"cache\")\n                   .WithAccessKeyAuthentication();\n```\n\nThis causes:\n- Loss of cached data in Redis instances\n- Connection string mismatches in dependent services\n- Need to manually set persistent passwords via user secrets\n\n### Scenario 3: ParameterResource Re-prompting\nThe implementation will also reprompt for any `ParameterResource` instances that are referenced in the AppHost, which introduces additional friction:\n\n```csharp\nvar apiKey = builder.AddParameter(\"api-key\", secret: true);\nvar storageAccount = builder.AddParameter(\"storage-account-name\");\n```\n\nUsers must re-enter these parameter values on every deployment, even when the values haven\u0027t changed.\n\n### Implementation Notes\n\nWhen evaluating solutions we should consider that:\n\n- The deployment state should be queryable from the AppHost so that custom deployment implementations can query it.\n- azd has an existing mechanism for managing deployment state. We should consider interoping whether or not we ewant to interop with it.\n- Deployment state should be scoped to a certain environment/scope. We\u0027ll need to figure out how users define the environment/scope that a given deployment is associated with.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxVNXpA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7FU1ek",
                                           "createdAt":  "2025-09-19T05:03:33Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "Some notes from playing around with a prototype that hooks into the `UserSecrets`-based approach that we use for storing state in RunMode. High-level details:\n\n- Secrets are scoped in the config depending on whether publish/run mode is used. The schema used for the keys is as follows. EnvironmentName is the name of the AzureEnvironmentResource in this case which is a stable hash generated from the AppHost.\n  - RunMode: Azure:* (as before)\n  - PublishMode: Aspire:Deployments:{EnvironmentName}:* \n- Changes need to be made to ProvisioningContext, BicepProvisioner, and ParameterProcessor to support saving all the reuired values to user-secrets.\n- AzureDeployingContext is updated to use the same `BicepProvisioner.ConfigureResourceAsync`/`BicepProvisioner.GetOrCreateResource` flow to avoid redeploying resources that haven\u0027t changed.\n\nSome gotchas to consider:\n- The UserSecrets/IConfiguration APIs don\u0027t scale nicely to having to have multiple scoped secret. We definitely need to come up with a nicer deployment state API here.\n- There\u0027s some tension between values that are read into IConfiguration by other parts of Aspire, like Parameters, and scoped values that get saved during deployment. We\u0027ll need to refactor anywhere that state is loaded to go through the DeploymentState APIs.\n\nMost of the state that we are trying to save here exists in app model already and we\u0027re talking about how it gets saved. Maybe the right API here is something that allows us to mark a `Resource` as `IResourceWithDeploymentState` where the interface captures some logic around what values get saved to which kind of store... 🤔 ",
                                           "updatedAt":  "2025-09-19T05:05:55Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "Implement deployment state caching for `aspire deploy`",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11448",
        "createdAt":  "2025-09-17T01:10:14Z",
        "number":  11448,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  "Y3Vyc29yOnYyOpHODRT07w==",
                          "nodes":  [
                                        {
                                            "content":  "EYES",
                                            "user":  "Copilot",
                                            "createdAt":  "2025-09-17T15:27:51Z"
                                        }
                                    ],
                          "totalCount":  1
                      },
        "updatedAt":  "2025-09-17T15:27:48Z",
        "body":  "The `DockerContainerRuntime` and `PodmanContainerRuntime` classes in `src/Aspire.Hosting/Publishing/` contain significant code duplication that should be extracted into shared components to improve maintainability and reduce technical debt.\n\nBoth container runtime implementations follow nearly identical patterns for:\n- Process execution and management\n- Logging and error handling\n- Parameter construction and validation\n- Build option processing\n- Platform and format handling",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Refactor ContainerRuntime implementations to share code",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11487",
        "createdAt":  "2025-09-18T16:33:51Z",
        "number":  11487,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-18T16:38:51Z",
        "body":  "The DistributedApplicationRunner unconditionally completes the publish via the activity reporter even if the publish might have been explicitly completed by a publishing/deployment component.\n\nThe CLI handles duplicate CompletePublish messages fine but we might want to figure out how to avoid firing duplicates on the AppHost side.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxTNj6Q==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7FM2Pp",
                                           "createdAt":  "2025-09-18T16:38:51Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "MihuBot",
                                           "body":  "I\u0027m a bot. Here is a possible related and/or duplicate issue (I may be wrong):\n- https://github.com/dotnet/aspire/issues/10036",
                                           "updatedAt":  "2025-09-18T16:38:51Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "DistributedApplicationRunner unconditionally completes publish",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11499",
        "createdAt":  "2025-09-18T22:46:01Z",
        "number":  11499,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T06:45:04Z",
        "body":  "When I `aspire deploy` on windows, while it is checking the docker health and tagging and pushing the images, I\u0027m getting flashing command windows popping up for the Docker process.\n\nI looked through how we are creating processes, and it doesn\u0027t look different from `dotnet`, but invoking `dotnet` doesn\u0027t appear to make a console window flash. But for some reason the docker one is.\n\ncc @captainsafia ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxVdA3w==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7FV0Df",
                                           "createdAt":  "2025-09-19T06:45:04Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "davidfowl",
                                           "body":  "We should investigate for 9.5.",
                                           "updatedAt":  "2025-09-19T06:45:04Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "When aspire deploy calls docker it is flashing a console window",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11501",
        "createdAt":  "2025-09-18T23:26:48Z",
        "number":  11501,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T05:39:52Z",
        "body":  "The `aspire deploy` command can hang on the Docker health check if the Docker daemon is busy. We should consider adding a timeout to the process call so that we don\u0027t hang indefinitely waiting on the response from Docker.",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "`aspire deploy` can hang on Docker health check if daemon is busy",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11517",
        "createdAt":  "2025-09-19T13:17:03Z",
        "number":  11517,
        "author":  "IEvangelist",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T15:54:35Z",
        "body":  "### Is there an existing issue for this?\n\n- [x] I have searched the existing issues\n\n### Is your feature request related to a problem? Please describe the problem.\n\nWhen I attempt `aspire deploy`, I\u0027m presented with all my subscriptions that are available to me. I\u0027m proposing that instead of returning all my subscriptions, filter to the subscriptions that I have the appropriate deployment roles available. Many times, I\u0027ve tried various subscriptions only to find out later in the process that I don\u0027t have the correct deployment roles for a given subscription. Instead, `aspire deploy` could simply filter that list based on the current user identity making it a MUCH better experience.\n\nSimilarly, we should also be applying a filter to the locations that we display as options for the user to select. Not all locations support all resource types, there should really be a way to filter the locations to the ones that align with the resource model in context.\n\n### Describe the solution you\u0027d like\n\nWhen I call `aspire deploy`, I\u0027d be presented with a list of subscriptions that I could actually use to deploy. When prompted to select a location (or region, whatever it\u0027s called), it would show me only a list of valid locations for the corresponding resource types in my app model.\n\n### Additional context\n\n_No response_",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Aspire CLI - `aspire deploy` filter Azure subs/locs",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11524",
        "createdAt":  "2025-09-19T21:47:50Z",
        "number":  11524,
        "author":  "captainsafia",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T23:32:23Z",
        "body":  "The current PublishingActivityReporter API and steps/tasks UI have a lot of constraints that make the API difficult to use for custom deployment scenarios and difficult to scale as we work towards modeling deployment steps in a pipeline in the object model. The notable constraints are:\n\n- Steps are always sequential and it is not possible to run multiple steps concurrently. This presents a problem when we eventually want to support processing arbitrary steps in a pipeline, some of which might be happening concurrently.\n- The Tasks API that is used in Spectre for the interactive progress components does not scale well to non-interactive UIs (e.g. CI/CD pipelines) making it hard to capture meaningful logs.\n- Limited options exists for being able to show logs from tasks outside of the gray ghost text on tasks.\n\nWe want to refactor the API and UI to optimize for concurrent steps and non-interactive rendering.\n\nOn the API side, we\u0027ll need to remove a lot of the logic that assumes only one step can be in progress at a time and restrict when prompting can happen.\n\nOn the UI side, we want something that allows us to visualize the events that are occuring as a continous, sequential stream while still:\n\n- Showing the parent-child relationships between steps and tasks\n- Allowing multiple steps/tasks to be interleaved amongst each other\n- Make it obvious that deployment is in progress even if there are no active steps\n- UI is not optimized for steps with no tasks beneath them (e.g. the Azure CLI authentication check)\n\nIdeally, we\u0027d build out a single UI that works well in both interactive and non-interactive scenarios. The strawman proposal for the updated UX:\n\n![Image](https://github.com/user-attachments/assets/f84a6e99-9e44-43e6-8d33-7593390ebe53)\n\nFor comparison\u0027s sake, here\u0027s the current UX as of Aspire 9.5:\n\n![Image](https://github.com/user-attachments/assets/d084a346-b657-40c4-a2d3-ed9ebeb5717a)\n\nEDIT: Feedback items that are captured from the new design:\n\n- The new design makes it difficult to see that operations are in progress and not just hanging. We might consider adding a spinner or `...` indicator at the end o the command to indicate that events are in progress. The example above has been updated with a spinner at the bottom to showcase ongoing progress.\n\n\n\n",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  null,
                         "nodes":  [

                                   ],
                         "totalCount":  0
                     },
        "title":  "Refactor PublishingActivityReporter and steps/tasks for more concurrent processing",
        "labels":  [
                       "area-deployment"
                   ]
    },
    {
        "url":  "https://github.com/dotnet/aspire/issues/11528",
        "createdAt":  "2025-09-19T23:28:14Z",
        "number":  11528,
        "author":  "eerhardt",
        "reactions":  {
                          "hasNextPage":  false,
                          "endCursor":  null,
                          "nodes":  [

                                    ],
                          "totalCount":  0
                      },
        "updatedAt":  "2025-09-19T23:42:58Z",
        "body":  "When I deploy an app through `\u003e Aspire: Deploy app host` in the VS Code extension, and the app has parameters, I get a pop up message box\n\n\u003cimg width=\"791\" height=\"205\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6ed0bec8-c13c-42dd-8a4f-8d8e4cee89a4\" /\u003e\n\nI shouldn\u0027t get this box. It is jarring given that I already typed in the Azure Subscription, Region, and Resource Group name at the top. Having an alert box pop up here doesn\u0027t make sense. I should just prompt for more values.\n\nFunny enough, clicking \"No\" brings the message box back up. I can keep clicking \"No\" and the window pops back up.\n\ncc @adamint @captainsafia ",
        "comments":  {
                         "hasNextPage":  false,
                         "endCursor":  "Y3Vyc29yOnYyOpHOxYrEzA==",
                         "nodes":  [
                                       {
                                           "id":  "IC_kwDOKYQzfc7FisTM",
                                           "createdAt":  "2025-09-19T23:42:58Z",
                                           "reactions":  {
                                                             "hasNextPage":  false,
                                                             "endCursor":  null,
                                                             "nodes":  [

                                                                       ],
                                                             "totalCount":  0
                                                         },
                                           "author":  "captainsafia",
                                           "body":  "This happens because we share the ParameterProcessor code with the implementation used by the dashboard which keeps prompting with the \"There are unresolved parameters that need to be set.\" notification until all values are set.\n\nThere\u0027s two ways to resolve this issue:\n\n- Create different implementations for the ParameterProcessor between PublishMode and RunMode like we did for the ProvisioningContext.\n- Revert the change to support notification prompts in the PublishingActivityReporter and auto-accept them (can be spooky if there are legit cases where cancellation needs to be handled).",
                                           "updatedAt":  "2025-09-19T23:42:58Z"
                                       }
                                   ],
                         "totalCount":  1
                     },
        "title":  "[VS Code Extension] Aspire:Deploy with unresolved parameters pops an alert window",
        "labels":  [
                       "area-deployment",
                       "area-extension"
                   ]
    }
]
